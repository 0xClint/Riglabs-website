/*! For license information please see main.4a1bb996.js.LICENSE.txt */
(()=>{var t={66419:(t,e,r)=>{t.exports=r(84666)},41511:(t,e,r)=>{t.exports=r(26355)},54103:(t,e,r)=>{t.exports=r(15906)},77766:(t,e,r)=>{t.exports=r(73478)},72119:(t,e,r)=>{t.exports=r(22668)},10062:(t,e,r)=>{t.exports=r(38119)},20116:(t,e,r)=>{t.exports=r(31030)},94473:(t,e,r)=>{t.exports=r(51017)},78914:(t,e,r)=>{t.exports=r(90337)},78580:(t,e,r)=>{t.exports=r(93045)},81643:(t,e,r)=>{t.exports=r(80036)},69301:(t,e,r)=>{t.exports=r(78064)},2991:(t,e,r)=>{t.exports=r(40021)},54903:(t,e,r)=>{t.exports=r(79577)},32366:(t,e,r)=>{t.exports=r(48829)},3649:(t,e,r)=>{t.exports=r(1910)},47302:(t,e,r)=>{t.exports=r(74219)},92762:(t,e,r)=>{t.exports=r(49460)},29828:(t,e,r)=>{t.exports=r(9950)},25843:(t,e,r)=>{t.exports=r(10314)},89400:(t,e,r)=>{t.exports=r(43851)},59340:(t,e,r)=>{t.exports=r(41371)},39392:(t,e,r)=>{t.exports=r(69718)},97657:(t,e,r)=>{t.exports=r(98081)},98926:(t,e,r)=>{t.exports=r(58405)},54943:(t,e,r)=>{t.exports=r(36317)},20368:(t,e,r)=>{t.exports=r(398)},63978:(t,e,r)=>{t.exports=r(48675)},26295:(t,e,r)=>{t.exports=r(86723)},56474:(t,e,r)=>{t.exports=r(65574)},34074:(t,e,r)=>{t.exports=r(29568)},39649:(t,e,r)=>{t.exports=r(86282)},14310:(t,e,r)=>{t.exports=r(28036)},21611:(t,e,r)=>{t.exports=r(54613)},86902:(t,e,r)=>{t.exports=r(1845)},20455:(t,e,r)=>{t.exports=r(70900)},94198:(t,e,r)=>{t.exports=r(1533)},93476:(t,e,r)=>{t.exports=r(28386)},1068:(t,e,r)=>{t.exports=r(64814)},33032:(t,e,r)=>{t.exports=r(52795)},36384:(t,e,r)=>{t.exports=r(48370)},65420:(t,e,r)=>{t.exports=r(78362)},17388:(t,e,r)=>{t.exports=r(59005)},39969:(t,e,r)=>{t.exports=r(20547)},52424:(t,e,r)=>{t.exports=r(34850)},53592:(t,e,r)=>{t.exports=r(58364)},78363:(t,e,r)=>{t.exports=r(43796)},19996:(t,e,r)=>{t.exports=r(14603)},51445:(t,e,r)=>{t.exports=r(38925)},95683:(t,e,r)=>{t.exports=r(79417)},95238:(t,e,r)=>{t.exports=r(20970)},90:(t,e,r)=>{t.exports=r(12389)},189:(t,e,r)=>{t.exports=r(76661)},44341:(t,e,r)=>{t.exports=r(7333)},58377:(t,e,r)=>{t.exports=r(16139)},24889:(t,e,r)=>{t.exports=r(62565)},79542:(t,e,r)=>{t.exports=r(42948)},69798:(t,e,r)=>{t.exports=r(51539)},13535:(t,e,r)=>{t.exports=r(53570)},83863:(t,e,r)=>{t.exports=r(76530)},51446:(t,e,r)=>{t.exports=r(73560)},23882:(t,e,r)=>{t.exports=r(38378)},34243:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},57726:(t,e,r)=>{var n=r(78363);t.exports=function(t){if(n(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},46868:(t,e,r)=>{var n=r(78363),i=r(34243);t.exports=function(t){if(n(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5824:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},51161:(t,e,r)=>{var n=r(69798);function i(t,e,r,i,o,s,a){try{var u=t[s](a),l=u.value}catch(h){return void r(h)}u.done?e(l):n.resolve(l).then(i,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new n((function(n,o){var s=t.apply(e,r);function a(t){i(s,n,o,a,u,"next",t)}function u(t){i(s,n,o,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},26394:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},74003:(t,e,r)=>{var n=r(13535),i=r(51445),o=r(5613),s=r(8647);function a(e,r,u){return s()?(t.exports=a=n,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=a=function(t,e,r){var n=[null];n.push.apply(n,e);var s=new(i(Function).apply(t,n));return r&&o(s,r.prototype),s},t.exports.__esModule=!0,t.exports.default=t.exports),a.apply(null,arguments)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},69198:(t,e,r)=>{var n=r(44341);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(t,i.key,i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),n(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},87672:(t,e,r)=>{var n=r(44341);t.exports=function(t,e,r){return e in t?n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},31474:(t,e,r)=>{var n=r(83863),i=r(58377),o=r(16649);function s(){return"undefined"!==typeof Reflect&&n?(t.exports=s=n,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=s=function(t,e,r){var n=o(t,e);if(n){var s=i(n,e);return s.get?s.get.call(arguments.length<3?t:r):s.value}},t.exports.__esModule=!0,t.exports.default=t.exports),s.apply(this,arguments)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},66380:(t,e,r)=>{var n=r(79542),i=r(24889);function o(e){return t.exports=o=n?i:function(t){return t.__proto__||i(t)},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},51379:(t,e,r)=>{var n=r(189),i=r(44341),o=r(5613);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=n(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i(t,"prototype",{writable:!1}),e&&o(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},60530:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},3807:(t,e,r)=>{var n=r(95683);t.exports=function(t){var e;return-1!==n(e=Function.toString.call(t)).call(e,"[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},8647:(t,e,r)=>{var n=r(13535);t.exports=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},85400:(t,e,r)=>{var n=r(51446),i=r(19996),o=r(53592);t.exports=function(t){if("undefined"!==typeof n&&null!=i(t)||null!=t["@@iterator"])return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},65056:(t,e,r)=>{var n=r(51446),i=r(19996);t.exports=function(t,e){var r=null==t?null:"undefined"!==typeof n&&i(t)||t["@@iterator"];if(null!=r){var o,s,a=[],u=!0,l=!1;try{for(r=r.call(t);!(u=(o=r.next()).done)&&(a.push(o.value),!e||a.length!==e);u=!0);}catch(h){l=!0,s=h}finally{try{u||null==r.return||r.return()}finally{if(l)throw s}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},79736:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},76670:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},214:(t,e,r)=>{var n=r(23765).default,i=r(5824);t.exports=function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5613:(t,e,r)=>{var n=r(79542);function i(e,r){return t.exports=i=n||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e,r)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},18777:(t,e,r)=>{var n=r(57726),i=r(65056),o=r(79299),s=r(79736);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},16649:(t,e,r)=>{var n=r(66380);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},59036:(t,e,r)=>{var n=r(46868),i=r(85400),o=r(79299),s=r(76670);t.exports=function(t){return n(t)||i(t)||o(t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},23765:(t,e,r)=>{var n=r(51446),i=r(23882);function o(e){return t.exports=o="function"==typeof n&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof n&&t.constructor===n&&t!==n.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},79299:(t,e,r)=>{var n=r(95238),i=r(53592),o=r(34243);t.exports=function(t,e){var r;if(t){if("string"===typeof t)return o(t,e);var s=n(r=Object.prototype.toString.call(t)).call(r,8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?i(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},74803:(t,e,r)=>{var n=r(90),i=r(189),o=r(66380),s=r(5613),a=r(3807),u=r(74003);function l(e){var r="function"===typeof n?new n:void 0;return t.exports=l=function(t){if(null===t||!a(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return u(t,arguments,o(this).constructor)}return e.prototype=i(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,l(e)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},63109:(t,e,r)=>{t.exports=r(68937)},48725:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(88677).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},83431:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(62808).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},63811:t=>{"use strict";t.exports=function(){let{mustBeMetaMask:t=!1,silent:e=!1,timeout:r=3e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(){if("boolean"!==typeof t)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof e)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||t&&!r.isMetaMask){const n=t&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!e&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout((()=>{o()}),r))}))}},37532:function(t){"use strict";!function(e){function r(t){return parseInt(t)===t}function n(t){if(!r(t.length))return!1;for(var e=0;e<t.length;e++)if(!r(t[e])||t[e]<0||t[e]>255)return!1;return!0}function i(t,e){if(t.buffer&&ArrayBuffer.isView(t)&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!n(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(r(t.length)&&n(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function o(t){return new Uint8Array(t)}function s(t,e,r,n,i){null==n&&null==i||(t=t.slice?t.slice(n,i):Array.prototype.slice.call(t,n,i)),e.set(t,r)}var a={toBytes:function(t){var e=[],r=0;for(t=encodeURI(t);r<t.length;){var n=t.charCodeAt(r++);37===n?(e.push(parseInt(t.substr(r,2),16)),r+=2):e.push(n)}return i(e)},fromBytes:function(t){for(var e=[],r=0;r<t.length;){var n=t[r];n<128?(e.push(String.fromCharCode(n)),r++):n>191&&n<224?(e.push(String.fromCharCode((31&n)<<6|63&t[r+1])),r+=2):(e.push(String.fromCharCode((15&n)<<12|(63&t[r+1])<<6|63&t[r+2])),r+=3)}return e.join("")}},u=function(){var t="0123456789abcdef";return{toBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},fromBytes:function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];r.push(t[(240&i)>>4]+t[15&i])}return r.join("")}}}(),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],c=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],b=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],A=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],M=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],_=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function x(t){for(var e=[],r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var S=function(t){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(t,!0)}),this._prepare()};S.prototype._prepare=function(){var t=l[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(t+1),i=this.key.length/4,o=x(this.key);for(e=0;e<i;e++)r=e>>2,this._Ke[r][e%4]=o[e],this._Kd[t-r][e%4]=o[e];for(var s,a=0,u=i;u<n;){if(s=o[i-1],o[0]^=c[s>>16&255]<<24^c[s>>8&255]<<16^c[255&s]<<8^c[s>>24&255]^h[a]<<24,a+=1,8!=i)for(e=1;e<i;e++)o[e]^=o[e-1];else{for(e=1;e<i/2;e++)o[e]^=o[e-1];s=o[i/2-1],o[i/2]^=c[255&s]^c[s>>8&255]<<8^c[s>>16&255]<<16^c[s>>24&255]<<24;for(e=i/2+1;e<i;e++)o[e]^=o[e-1]}for(e=0;e<i&&u<n;)f=u>>2,d=u%4,this._Ke[f][d]=o[e],this._Kd[t-f][d]=o[e++],u++}for(var f=1;f<t;f++)for(var d=0;d<4;d++)s=this._Kd[f][d],this._Kd[f][d]=A[s>>24&255]^M[s>>16&255]^_[s>>8&255]^E[255&s]},S.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,r=[0,0,0,0],n=x(t),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<e;s++){for(i=0;i<4;i++)r[i]=d[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^g[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}var a,u=o(16);for(i=0;i<4;i++)a=this._Ke[e][i],u[4*i]=255&(c[n[i]>>24&255]^a>>24),u[4*i+1]=255&(c[n[(i+1)%4]>>16&255]^a>>16),u[4*i+2]=255&(c[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(c[255&n[(i+3)%4]]^a);return u},S.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,r=[0,0,0,0],n=x(t),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<e;s++){for(i=0;i<4;i++)r[i]=v[n[i]>>24&255]^y[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^b[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}var a,u=o(16);for(i=0;i<4;i++)a=this._Kd[e][i],u[4*i]=255&(f[n[i]>>24&255]^a>>24),u[4*i+1]=255&(f[n[(i+3)%4]>>16&255]^a>>16),u[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(f[255&n[(i+1)%4]]^a);return u};var N=function(t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new S(t)};N.prototype.encrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16)s(t,r,0,n,n+16),s(r=this._aes.encrypt(r),e,n);return e},N.prototype.decrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16)s(t,r,0,n,n+16),s(r=this._aes.decrypt(r),e,n);return e};var T=function(t,e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=o(16);this._lastCipherblock=i(e,!0),this._aes=new S(t)};T.prototype.encrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16){s(t,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,e,n)}return e},T.prototype.decrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16){s(t,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)e[n+a]=r[a]^this._lastCipherblock[a];s(t,this._lastCipherblock,0,n,n+16)}return e};var R=function(t,e,r){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 size)")}else e=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(e,!0),this._aes=new S(t)};R.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,r=i(t,!0),n=0;n<r.length;n+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=e[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},R.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,r=i(t,!0),n=0;n<r.length;n+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=e[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(t,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var C=function(t,e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=o(16);this._lastPrecipher=i(e,!0),this._lastPrecipherIndex=16,this._aes=new S(t)};C.prototype.encrypt=function(t){for(var e=i(t,!0),r=0;r<e.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},C.prototype.decrypt=C.prototype.encrypt;var I=function(t){if(!(this instanceof I))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"===typeof t?(this._counter=o(16),this.setValue(t)):this.setBytes(t)};I.prototype.setValue=function(t){if("number"!==typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");for(var e=15;e>=0;--e)this._counter[e]=t%256,t>>=8},I.prototype.setBytes=function(t){if(16!=(t=i(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},I.prototype.increment=function(){for(var t=15;t>=0;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var P=function(t,e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",e instanceof I||(e=new I(e)),this._counter=e,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new S(t)};P.prototype.encrypt=function(t){for(var e=i(t,!0),r=0;r<e.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[r]^=this._remainingCounter[this._remainingCounterIndex++];return e},P.prototype.decrypt=P.prototype.encrypt;var k={AES:S,Counter:I,ModeOfOperation:{ecb:N,cbc:T,cfb:R,ofb:C,ctr:P},utils:{hex:u,utf8:a},padding:{pkcs7:{pad:function(t){var e=16-(t=i(t,!0)).length%16,r=o(t.length+e);s(t,r);for(var n=t.length;n<r.length;n++)r[n]=e;return r},strip:function(t){if((t=i(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var r=t.length-e,n=0;n<e;n++)if(t[r+n]!==e)throw new Error("PKCS#7 invalid padding byte");var a=o(r);return s(t,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:s}};t.exports=k}()},31881:(t,e,r)=>{t.exports=r(46948)},47570:(t,e,r)=>{"use strict";var n=r(899),i=r(48980),o=r(22508),s=r(43917),a=r(96551),u=r(87652),l=r(48652),h=r(50775),c=r(12487),f=r(37691);t.exports=function(t){return new Promise((function(e,r){var d,p=t.data,m=t.headers,g=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}n.isFormData(p)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+b)}var A=a(t.baseURL,t.url);function M(){if(y){var n="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:t,request:y};i((function(t){e(t),v()}),(function(t){r(t),v()}),o),y=null}}if(y.open(t.method.toUpperCase(),s(A,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=M:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(M)},y.onabort=function(){y&&(r(h("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(h("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||c;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(h(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var _=(t.withCredentials||l(A))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;_&&(m[t.xsrfHeaderName]=_)}"setRequestHeader"in y&&n.forEach(m,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete m[e]:y.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),g&&"json"!==g&&(y.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){y&&(r(!t||t&&t.type?new f("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),p||(p=null),y.send(p)}))}},46948:(t,e,r)=>{"use strict";var n=r(899),i=r(28813),o=r(55141),s=r(36276);var a=function t(e){var r=new o(e),a=i(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return t(s(e,r))},a}(r(6063));a.Axios=o,a.Cancel=r(37691),a.CancelToken=r(13914),a.isCancel=r(17797),a.VERSION=r(2102).version,a.all=function(t){return Promise.all(t)},a.spread=r(62922),a.isAxiosError=r(60534),t.exports=a,t.exports.default=a},37691:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},13914:(t,e,r)=>{"use strict";var n=r(37691);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},17797:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},55141:(t,e,r)=>{"use strict";var n=r(899),i=r(43917),o=r(2564),s=r(11253),a=r(36276),u=r(87828),l=u.validators;function h(t){this.defaults=t,this.interceptors={request:new o,response:new o}}h.prototype.request=function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,h=[];if(this.interceptors.response.forEach((function(t){h.push(t.fulfilled,t.rejected)})),!i){var c=[s,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(h),o=Promise.resolve(e);c.length;)o=o.then(c.shift(),c.shift());return o}for(var f=e;n.length;){var d=n.shift(),p=n.shift();try{f=d(f)}catch(m){p(m);break}}try{o=s(f)}catch(m){return Promise.reject(m)}for(;h.length;)o=o.then(h.shift(),h.shift());return o},h.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){h.prototype[t]=function(e,r,n){return this.request(a(n||{},{method:t,url:e,data:r}))}})),t.exports=h},2564:(t,e,r)=>{"use strict";var n=r(899);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},96551:(t,e,r)=>{"use strict";var n=r(67826),i=r(60572);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},50775:(t,e,r)=>{"use strict";var n=r(6813);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},11253:(t,e,r)=>{"use strict";var n=r(899),i=r(79486),o=r(17797),s=r(6063),a=r(37691);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a("canceled")}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},6813:t=>{"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},36276:(t,e,r)=>{"use strict";var n=r(899);t.exports=function(t,e){e=e||{};var r={};function i(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function o(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function s(t){if(!n.isUndefined(e[t]))return i(void 0,e[t])}function a(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=l[t]||o,i=e(t);n.isUndefined(i)&&e!==u||(r[t]=i)})),r}},48980:(t,e,r)=>{"use strict";var n=r(50775);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},79486:(t,e,r)=>{"use strict";var n=r(899),i=r(6063);t.exports=function(t,e,r){var o=this||i;return n.forEach(r,(function(r){t=r.call(o,t,e)})),t}},6063:(t,e,r)=>{"use strict";var n=r(899),i=r(29428),o=r(6813),s=r(12487),a={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l={transitional:s,adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=r(47570)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,r=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||i&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){l.headers[t]=n.merge(a)})),t.exports=l},12487:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},2102:t=>{t.exports={version:"0.26.1"}},28813:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},43917:(t,e,r)=>{"use strict";var n=r(899);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},60572:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},22508:(t,e,r)=>{"use strict";var n=r(899);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},67826:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},60534:(t,e,r)=>{"use strict";var n=r(899);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},48652:(t,e,r)=>{"use strict";var n=r(899);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},29428:(t,e,r)=>{"use strict";var n=r(899);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},87652:(t,e,r)=>{"use strict";var n=r(899),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}})),s):s}},62922:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},87828:(t,e,r)=>{"use strict";var n=r(2102).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,r){function i(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,s){if(!1===t)throw new Error(i(n," has been removed"+(e?" in "+e:"")));return e&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},t.exports={assertOptions:function(t,e,r){if("object"!==typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],u=void 0===a||s(a,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},899:(t,e,r)=>{"use strict";var n=r(28813),i=Object.prototype.toString;function o(t){return Array.isArray(t)}function s(t){return"undefined"===typeof t}function a(t){return"[object ArrayBuffer]"===i.call(t)}function u(t){return null!==t&&"object"===typeof t}function l(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function h(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:a,isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===i.call(t)},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&a(t.buffer)},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:u,isPlainObject:l,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:h,isStream:function(t){return u(t)&&h(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===i.call(t)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function t(){var e={};function r(r,n){l(e[n])&&l(r)?e[n]=t(e[n],r):l(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,(function(e,i){t[i]=r&&"function"===typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},65109:t=>{"use strict";for(var e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<32;n++){var i=e.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function o(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function s(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=o(e)^n>>5}for(e=o(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=o(e)^31&i}return e}function a(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),i=t.toUpperCase();if(t!==n&&t!==i)return"Mixed-case string "+t;var a=(t=n).lastIndexOf("1");if(-1===a)return"No separator character for "+t;if(0===a)return"Missing prefix for "+t;var u=t.slice(0,a),l=t.slice(a+1);if(l.length<6)return"Data too short";var h=s(u);if("string"===typeof h)return h;for(var c=[],f=0;f<l.length;++f){var d=l.charAt(f),p=r[d];if(void 0===p)return"Unknown character "+d;h=o(h)^p,f+6>=l.length||c.push(p)}return 1!==h?"Invalid checksum for "+t:{prefix:u,words:c}}function u(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}t.exports={decodeUnsafe:function(){var t=a.apply(null,arguments);if("object"===typeof t)return t},decode:function(t){var e=a.apply(null,arguments);if("object"===typeof e)return e;throw new Error(e)},encode:function(t,r,n){if(n=n||90,t.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=s(t=t.toLowerCase());if("string"===typeof i)throw new Error(i);for(var a=t+"1",u=0;u<r.length;++u){var l=r[u];if(l>>5!==0)throw new Error("Non 5-bit word");i=o(i)^l,a+=e.charAt(l)}for(u=0;u<6;++u)i=o(i);for(i^=1,u=0;u<6;++u){a+=e.charAt(i>>5*(5-u)&31)}return a},toWordsUnsafe:function(t){var e=u(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=u(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=u(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=u(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}}},64166:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(46601).Buffer}catch(x){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:h[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n("undefined"!==typeof s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,l=new t(o),h=this.clone();if(u){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),l[a]=s;for(;a<o;a++)l[a]=0}else{for(a=0;a<o-i;a++)l[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),l[o-a-1]=s}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"===typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new _(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(w,y),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,y),i(A,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new b;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},_.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,_),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},25542:function(t,e,r){!function(e,n,i){var o;t.exports=(o=r(58443),r(67492),r(36707),r(10254),r(16018),function(){var t=o,e=t.lib.BlockCipher,r=t.algo,n=[],i=[],s=[],a=[],u=[],l=[],h=[],c=[],f=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,o=0;for(e=0;e<256;e++){var p=o^o<<1^o<<2^o<<3^o<<4;p=p>>>8^255&p^99,n[r]=p,i[p]=r;var m=t[r],g=t[m],v=t[g],y=257*t[p]^16843008*p;s[r]=y<<24|y>>>8,a[r]=y<<16|y>>>16,u[r]=y<<8|y>>>24,l[r]=y,y=16843009*v^65537*g^257*m^16843008*r,h[p]=y<<24|y>>>8,c[p]=y<<16|y>>>16,f[p]=y<<8|y>>>24,d[p]=y,r?(r=m^t[t[t[v^m]]],o^=t[t[o]]):r=o=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,i=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<i;s++)s<r?o[s]=e[s]:(l=o[s-1],s%r?r>6&&s%r==4&&(l=n[l>>>24]<<24|n[l>>>16&255]<<16|n[l>>>8&255]<<8|n[255&l]):(l=n[(l=l<<8|l>>>24)>>>24]<<24|n[l>>>16&255]<<16|n[l>>>8&255]<<8|n[255&l],l^=p[s/r|0]<<24),o[s]=o[s-r]^l);for(var a=this._invKeySchedule=[],u=0;u<i;u++){if(s=i-u,u%4)var l=o[s];else l=o[s-4];a[u]=u<4||s<=4?l:h[n[l>>>24]]^c[n[l>>>16&255]]^f[n[l>>>8&255]]^d[n[255&l]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,u,l,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,h,c,f,d,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,s,a){for(var u=this._nRounds,l=t[e]^r[0],h=t[e+1]^r[1],c=t[e+2]^r[2],f=t[e+3]^r[3],d=4,p=1;p<u;p++){var m=n[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^s[255&f]^r[d++],g=n[h>>>24]^i[c>>>16&255]^o[f>>>8&255]^s[255&l]^r[d++],v=n[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&h]^r[d++],y=n[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&c]^r[d++];l=m,h=g,c=v,f=y}m=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^r[d++],g=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[d++],v=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[d++],y=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^r[d++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=y},keySize:8});t.AES=e._createHelper(m)}(),o.AES)}()},16018:function(t,e,r){!function(e,n,i){var o;t.exports=(o=r(58443),r(10254),void(o.lib.Cipher||function(t){var e=o,r=e.lib,n=r.Base,i=r.WordArray,s=r.BufferedBlockAlgorithm,a=e.enc,u=(a.Utf8,a.Base64),l=e.algo.EvpKDF,h=r.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?w:v}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),c=(r.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),f=r.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=c.CBC=function(){var e=f.extend();function r(e,r,n){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,o=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(o);var u=i.create(s,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},m=(r.BlockCipher=h.extend({cfg:h.cfg.extend({mode:d,padding:p}),reset:function(){var t;h.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),m.create({ciphertext:r,salt:e})}},v=r.SerializableCipher=n.extend({cfg:n.extend({format:g}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),s=i.cfg;return m.create({ciphertext:o,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=i.random(8));var o=l.create({keySize:e+r}).compute(t,n),s=i.create(o.words.slice(e),4*r);return o.sigBytes=4*e,m.create({key:o,iv:s,salt:n})}},w=r.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=v.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,v.decrypt.call(this,t,e,i.key,n)}})}()))}()},58443:function(t,e,r){t.exports=function(){var t=t||function(t,e){var n;if("undefined"!==typeof window&&window.crypto&&(n=window.crypto),"undefined"!==typeof self&&self.crypto&&(n=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!==typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&"undefined"!==typeof r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(42480)}catch(g){}var i=function(){if(n){if("function"===typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},a=s.lib={},u=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new l.init(e,t)}}),h=s.enc={},c=h.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},f=h.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,h=t.min(4*u,o);if(u){for(var c=0;c<u;c+=s)this._doProcessBlock(i,c);r=i.splice(0,u),n.sigBytes-=h}return new l.init(r,h)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new m.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math);return t}()},67492:function(t,e,r){!function(e,n){var i;t.exports=(i=r(58443),function(){var t=i,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},11634:function(t,e,r){!function(e,n){var i;t.exports=(i=r(58443),i.enc.Utf8)}()},10254:function(t,e,r){!function(e,n,i){var o;t.exports=(o=r(58443),r(83181),r(88088),function(){var t=o,e=t.lib,r=e.Base,n=e.WordArray,i=t.algo,s=i.MD5,a=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,i=this.cfg,o=i.hasher.create(),s=n.create(),a=s.words,u=i.keySize,l=i.iterations;a.length<u;){r&&o.update(r),r=o.update(t).finalize(e),o.reset();for(var h=1;h<l;h++)r=o.finalize(r),o.reset();s.concat(r)}return s.sigBytes=4*u,s}});t.EvpKDF=function(t,e,r){return a.create(r).compute(t,e)}}(),o.EvpKDF)}()},88088:function(t,e,r){!function(e,n){var i;t.exports=(i=r(58443),void function(){var t=i,e=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,u=s.words,l=0;l<n;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})}())}()},36707:function(t,e,r){!function(e,n){var i;t.exports=(i=r(58443),function(t){var e=i,r=e.lib,n=r.WordArray,o=r.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],m=t[e+4],g=t[e+5],v=t[e+6],y=t[e+7],w=t[e+8],b=t[e+9],A=t[e+10],M=t[e+11],_=t[e+12],E=t[e+13],x=t[e+14],S=t[e+15],N=o[0],T=o[1],R=o[2],C=o[3];N=l(N,T,R,C,s,7,a[0]),C=l(C,N,T,R,u,12,a[1]),R=l(R,C,N,T,d,17,a[2]),T=l(T,R,C,N,p,22,a[3]),N=l(N,T,R,C,m,7,a[4]),C=l(C,N,T,R,g,12,a[5]),R=l(R,C,N,T,v,17,a[6]),T=l(T,R,C,N,y,22,a[7]),N=l(N,T,R,C,w,7,a[8]),C=l(C,N,T,R,b,12,a[9]),R=l(R,C,N,T,A,17,a[10]),T=l(T,R,C,N,M,22,a[11]),N=l(N,T,R,C,_,7,a[12]),C=l(C,N,T,R,E,12,a[13]),R=l(R,C,N,T,x,17,a[14]),N=h(N,T=l(T,R,C,N,S,22,a[15]),R,C,u,5,a[16]),C=h(C,N,T,R,v,9,a[17]),R=h(R,C,N,T,M,14,a[18]),T=h(T,R,C,N,s,20,a[19]),N=h(N,T,R,C,g,5,a[20]),C=h(C,N,T,R,A,9,a[21]),R=h(R,C,N,T,S,14,a[22]),T=h(T,R,C,N,m,20,a[23]),N=h(N,T,R,C,b,5,a[24]),C=h(C,N,T,R,x,9,a[25]),R=h(R,C,N,T,p,14,a[26]),T=h(T,R,C,N,w,20,a[27]),N=h(N,T,R,C,E,5,a[28]),C=h(C,N,T,R,d,9,a[29]),R=h(R,C,N,T,y,14,a[30]),N=c(N,T=h(T,R,C,N,_,20,a[31]),R,C,g,4,a[32]),C=c(C,N,T,R,w,11,a[33]),R=c(R,C,N,T,M,16,a[34]),T=c(T,R,C,N,x,23,a[35]),N=c(N,T,R,C,u,4,a[36]),C=c(C,N,T,R,m,11,a[37]),R=c(R,C,N,T,y,16,a[38]),T=c(T,R,C,N,A,23,a[39]),N=c(N,T,R,C,E,4,a[40]),C=c(C,N,T,R,s,11,a[41]),R=c(R,C,N,T,p,16,a[42]),T=c(T,R,C,N,v,23,a[43]),N=c(N,T,R,C,b,4,a[44]),C=c(C,N,T,R,_,11,a[45]),R=c(R,C,N,T,S,16,a[46]),N=f(N,T=c(T,R,C,N,d,23,a[47]),R,C,s,6,a[48]),C=f(C,N,T,R,y,10,a[49]),R=f(R,C,N,T,x,15,a[50]),T=f(T,R,C,N,g,21,a[51]),N=f(N,T,R,C,_,6,a[52]),C=f(C,N,T,R,p,10,a[53]),R=f(R,C,N,T,A,15,a[54]),T=f(T,R,C,N,u,21,a[55]),N=f(N,T,R,C,w,6,a[56]),C=f(C,N,T,R,S,10,a[57]),R=f(R,C,N,T,v,15,a[58]),T=f(T,R,C,N,E,21,a[59]),N=f(N,T,R,C,m,6,a[60]),C=f(C,N,T,R,M,10,a[61]),R=f(R,C,N,T,d,15,a[62]),T=f(T,R,C,N,b,21,a[63]),o[0]=o[0]+N|0,o[1]=o[1]+T|0,o[2]=o[2]+R|0,o[3]=o[3]+C|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,l=0;l<4;l++){var h=u[l];u[l]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+i+s;return(a<<o|a>>>32-o)+e}function c(t,e,r,n,i,o,s){var a=t+(e^r^n)+i+s;return(a<<o|a>>>32-o)+e}function f(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+i+s;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),i.MD5)}()},83181:function(t,e,r){!function(e,n){var i;t.exports=(i=r(58443),function(){var t=i,e=t.lib,r=e.WordArray,n=e.Hasher,o=t.algo,s=[],a=o.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],l=0;l<80;l++){if(l<16)s[l]=0|t[e+l];else{var h=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=h<<1|h>>>31}var c=(n<<5|n>>>27)+u+s[l];c+=l<20?1518500249+(i&o|~i&a):l<40?1859775393+(i^o^a):l<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=n,n=c}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(a),t.HmacSHA1=n._createHmacHelper(a)}(),i.SHA1)}()},98961:t=>{function e(t,e,r){var n,i,o,s,a;function u(){var l=Date.now()-s;l<e&&l>=0?n=setTimeout(u,e-l):(n=null,r||(a=t.apply(o,i),o=i=null))}null==e&&(e=100);var l=function(){o=this,i=arguments,s=Date.now();var l=r&&!n;return n||(n=setTimeout(u,e)),l&&(a=t.apply(o,i),o=i=null),a};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(a=t.apply(o,i),o=i=null,clearTimeout(n),n=null)},l}e.debounce=e,t.exports=e},68041:t=>{"use strict";var e,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!==t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"===typeof t.on&&m(t,"error",e,r)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,r,n){var i,o,s,l;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"===typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(t))>0&&s.length>i&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=s.length,l=h,console&&console.warn&&console.warn(l)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e,r,n){if("function"===typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!==typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(void 0===u)return!1;if("function"===typeof u)n(u,this,e);else{var l=u.length,h=p(u,l);for(r=0;r<l;++r)n(h[r],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},37553:(t,e,r)=>{var n=e;n.utils=r(67657),n.common=r(43345),n.sha=r(90395),n.ripemd=r(85751),n.hmac=r(79161),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},43345:(t,e,r)=>{"use strict";var n=r(67657),i=r(65701);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},79161:(t,e,r)=>{"use strict";var n=r(67657),i=r(65701);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},85751:(t,e,r)=>{"use strict";var n=r(67657),i=r(43345),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,l=i.BlockHash;function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(h,l),e.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],h=this.h[4],y=r,w=n,b=i,A=l,M=h,_=0;_<80;_++){var E=s(o(u(r,c(_,n,i,l),t[p[_]+e],f(_)),g[_]),h);r=h,h=l,l=o(i,10),i=n,n=E,E=s(o(u(y,c(79-_,w,b,A),t[m[_]+e],d(_)),v[_]),M),y=M,M=A,A=o(b,10),b=w,w=E}E=a(this.h[1],i,A),this.h[1]=a(this.h[2],l,M),this.h[2]=a(this.h[3],h,y),this.h[3]=a(this.h[4],r,w),this.h[4]=a(this.h[0],n,b),this.h[0]=E},h.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},90395:(t,e,r)=>{"use strict";e.sha1=r(21405),e.sha224=r(97452),e.sha256=r(51611),e.sha384=r(40996),e.sha512=r(166)},21405:(t,e,r)=>{"use strict";var n=r(67657),i=r(43345),o=r(53089),s=n.rotl32,a=n.sum32,u=n.sum32_5,l=o.ft_1,h=i.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,h),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],h=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=u(s(i,5),l(p,o,h,f),d,r[n],c[p]);d=f,f=h,h=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],h),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},97452:(t,e,r)=>{"use strict";var n=r(67657),i=r(51611);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},51611:(t,e,r)=>{"use strict";var n=r(67657),i=r(43345),o=r(53089),s=r(65701),a=n.sum32,u=n.sum32_4,l=n.sum32_5,h=o.ch32,c=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,m=o.g1_256,g=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],w=this.h[5],b=this.h[6],A=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var M=l(A,d(y),h(y,w,b),this.k[n],r[n]),_=a(f(i),c(i,o,g));A=b,b=w,w=y,y=a(v,M),v=g,g=o,o=i,i=a(M,_)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],b),this.h[7]=a(this.h[7],A)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},40996:(t,e,r)=>{"use strict";var n=r(67657),i=r(166);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},166:(t,e,r)=>{"use strict";var n=r(67657),i=r(43345),o=r(65701),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,l=n.shr64_lo,h=n.sum64,c=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,v=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function b(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function A(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function M(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function _(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function E(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function x(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function S(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function N(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function R(t,e){var r=a(t,e,1)^a(t,e,8)^l(t,e,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,19)^a(e,t,29)^l(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(w,v),t.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=C(r[n-4],r[n-3]),o=I(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=T(r[n-30],r[n-29]),l=R(r[n-30],r[n-29]),h=r[n-32],c=r[n-31];r[n]=d(i,o,s,a,u,l,h,c),r[n+1]=p(i,o,s,a,u,l,h,c)}},w.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],w=this.h[10],T=this.h[11],R=this.h[12],C=this.h[13],I=this.h[14],P=this.h[15];o(this.k.length===r.length);for(var k=0;k<r.length;k+=2){var O=I,U=P,L=S(v,y),B=N(v,y),D=b(v,y,w,T,R),F=A(v,y,w,T,R,C),G=this.k[k],z=this.k[k+1],j=r[k],H=r[k+1],W=m(O,U,L,B,D,F,G,z,j,H),V=g(O,U,L,B,D,F,G,z,j,H);O=E(n,i),U=x(n,i),L=M(n,i,s,a,u),B=_(n,i,s,a,u,l);var q=c(O,U,L,B),K=f(O,U,L,B);I=R,P=C,R=w,C=T,w=v,T=y,v=c(d,p,W,V),y=f(p,p,W,V),d=u,p=l,u=s,l=a,s=n,a=i,n=c(W,V,q,K),i=f(W,V,q,K)}h(this.h,0,n,i),h(this.h,2,s,a),h(this.h,4,u,l),h(this.h,6,d,p),h(this.h,8,v,y),h(this.h,10,w,T),h(this.h,12,R,C),h(this.h,14,I,P)},w.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},53089:(t,e,r)=>{"use strict";var n=r(67657).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},67657:(t,e,r)=>{"use strict";var n=r(65701),i=r(80273);function o(t,e){return 55296===(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"===typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=s(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var o=r-e;n(o%4===0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var l;l="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=l>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,l=e;return u+=(l=l+n>>>0)<e?1:0,u+=(l=l+o>>>0)<o?1:0,t+r+i+s+(u+=(l=l+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,l){var h=0,c=e;return h+=(c=c+n>>>0)<e?1:0,h+=(c=c+o>>>0)<o?1:0,h+=(c=c+a>>>0)<a?1:0,t+r+i+s+u+(h+=(c=c+l>>>0)<l?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,l){return e+n+o+a+l>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},80273:t=>{"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},37676:(t,e,r)=>{var n;!function(){"use strict";var i="input is invalid type",o="object"===typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var u=!s.JS_SHA3_NO_COMMON_JS&&t.exports,l=r.amdO,h=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,c="0123456789abcdef".split(""),f=[4,1024,262144,67108864],d=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!h||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var w=function(t,e,r){return function(n){return new O(t,e,t).update(n)[r]()}},b=function(t,e,r){return function(n,i){return new O(t,e,i).update(n)[r]()}},A=function(t,e,r){return function(e,n,i,o){return S["cshake"+t].update(e,n,i,o)[r]()}},M=function(t,e,r){return function(e,n,i,o){return S["kmac"+t].update(e,n,i,o)[r]()}},_=function(t,e,r,n){for(var i=0;i<v.length;++i){var o=v[i];t[o]=e(r,n,o)}return t},E=function(t,e){var r=w(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},_(r,w,t,e)},x=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:E},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:E},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(t,e){var r=b(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},_(r,b,t,e)}},{name:"cshake",padding:f,bits:g,createMethod:function(t,e){var r=y[t],n=A(t,0,"hex");return n.create=function(n,i,o){return i||o?new O(t,e,n).bytepad([i,o],r):S["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},_(n,A,t,e)}},{name:"kmac",padding:f,bits:g,createMethod:function(t,e){var r=y[t],n=M(t,0,"hex");return n.create=function(n,i,o){return new U(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},_(n,M,t,e)}}],S={},N=[],T=0;T<x.length;++T)for(var R=x[T],C=R.bits,I=0;I<C.length;++I){var P=R.name+"_"+C[I];if(N.push(P),S[P]=R.createMethod(C[I],R.padding),"sha3"!==R.name){var k=R.name+C[I];N.push(k),S[k]=S[P]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function U(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(i);if(null===t)throw new Error(i);if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw new Error(i);e=!0}for(var n,o,s=this.blocks,a=this.byteCount,u=t.length,l=this.blockCount,c=0,f=this.s;c<u;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<l+1;++n)s[n]=0;if(e)for(n=this.start;c<u&&n<a;++c)s[n>>2]|=t[c]<<d[3&n++];else for(n=this.start;c<u&&n<a;++c)(o=t.charCodeAt(c))<128?s[n>>2]|=o<<d[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<d[3&n++],s[n>>2]|=(128|63&o)<<d[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<d[3&n++],s[n>>2]|=(128|o>>6&63)<<d[3&n++],s[n>>2]|=(128|63&o)<<d[3&n++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++c)),s[n>>2]|=(240|o>>18)<<d[3&n++],s[n>>2]|=(128|o>>12&63)<<d[3&n++],s[n>>2]|=(128|o>>6&63)<<d[3&n++],s[n>>2]|=(128|63&o)<<d[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[l],n=0;n<l;++n)f[n]^=s[n];L(f),this.reset=!0}else this.start=n}return this},O.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},O.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(i);if(null===t)throw new Error(i);if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw new Error(i);e=!0}var n=0,o=t.length;if(e)n=o;else for(var s=0;s<t.length;++s){var a=t.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(t),n},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];L(n)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],a+=c[t>>4&15]+c[15&t]+c[t>>12&15]+c[t>>8&15]+c[t>>20&15]+c[t>>16&15]+c[t>>28&15]+c[t>>24&15];s%e===0&&(L(r),o=0)}return i&&(t=r[o],a+=c[t>>4&15]+c[15&t],i>1&&(a+=c[t>>12&15]+c[t>>8&15]),i>2&&(a+=c[t>>20&15]+c[t>>16&15])),a},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e===0&&L(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r===0&&L(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},U.prototype=new O,U.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var L=function(t){var e,r,n,i,o,s,a,u,l,h,c,f,d,m,g,v,y,w,b,A,M,_,E,x,S,N,T,R,C,I,P,k,O,U,L,B,D,F,G,z,j,H,W,V,q,K,J,X,Y,Q,Z,$,tt,et,rt,nt,it,ot,st,at,ut,lt,ht;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|l>>>31),r=o^(l<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(h<<1|c>>>31),r=a^(c<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(f<<1|d>>>31),r=l^(d<<1|f>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=c^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],K=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,R=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,W=t[41]<<18|t[40]>>>14,U=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,X=t[22]<<10|t[23]>>>22,Y=t[23]<<10|t[22]>>>22,I=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,lt=t[42]<<2|t[43]>>>30,ht=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,B=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Q=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,k=t[45]<<29|t[44]>>>3,O=t[44]<<29|t[45]>>>3,x=t[6]<<28|t[7]>>>4,S=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,F=t[26]<<25|t[27]>>>7,G=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,M=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,q=t[9]<<27|t[8]>>>5,N=t[18]<<20|t[19]>>>12,T=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,j=t[39]<<8|t[38]>>>24,_=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=m^~v&w,t[1]=g^~y&b,t[10]=x^~N&R,t[11]=S^~T&C,t[20]=U^~B&F,t[21]=L^~D&G,t[30]=V^~K&X,t[31]=q^~J&Y,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~w&A,t[3]=y^~b&M,t[12]=N^~R&I,t[13]=T^~C&P,t[22]=B^~F&z,t[23]=D^~G&j,t[32]=K^~X&Q,t[33]=J^~Y&Z,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=w^~A&_,t[5]=b^~M&E,t[14]=R^~I&k,t[15]=C^~P&O,t[24]=F^~z&H,t[25]=G^~j&W,t[34]=X^~Q&$,t[35]=Y^~Z&tt,t[44]=ot^~at&lt,t[45]=st^~ut&ht,t[6]=A^~_&m,t[7]=M^~E&g,t[16]=I^~k&x,t[17]=P^~O&S,t[26]=z^~H&U,t[27]=j^~W&L,t[36]=Q^~$&V,t[37]=Z^~tt&q,t[46]=at^~lt&et,t[47]=ut^~ht&rt,t[8]=_^~m&v,t[9]=E^~g&y,t[18]=k^~x&N,t[19]=O^~S&T,t[28]=H^~U&B,t[29]=W^~L&D,t[38]=$^~V&K,t[39]=tt^~q&J,t[48]=lt^~et&nt,t[49]=ht^~rt&it,t[0]^=p[n],t[1]^=p[n+1]};if(u)t.exports=S;else{for(T=0;T<N.length;++T)s[N[T]]=S[N[T]];l&&(void 0===(n=function(){return S}.call(e,r,e,t))||(t.exports=n))}}()},65701:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},694:(t,e,r)=>{t.exports=r(60792)},51734:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.track=function(t,e){if(0===(t=(t=(t=t||"").replace(/^\s*/,"")).replace(/\s*$/,"")).length)throw new TypeError("A name for the custom event must be provided");for(var r in e)if("string"!==typeof r||"string"!==typeof e[r])throw new TypeError('track() dimensions expects keys and values of type "string".');return o.default.getAnalyticsController().track(t,e)};var o=i(r(2463));var s={track:function(t,e){var r="events/".concat(t);return o.default.getRESTController().request("POST",r,{dimensions:e})}};o.default.setAnalyticsController(s)},27143:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(90160)),s=r(90042).v4,a=!1,u={isLinked:function(t){var e=this._getAuthProvider();return t._isLinked(e.getAuthType())},logIn:function(t){var e=this._getAuthProvider();return o.default.logInWith(e.getAuthType(),e.getAuthData(),t)},link:function(t,e){var r=this._getAuthProvider();return t.linkWith(r.getAuthType(),r.getAuthData(),e)},_getAuthProvider:function(){var t={restoreAuthentication:function(){return!0},getAuthType:function(){return"anonymous"},getAuthData:function(){return{authData:{id:s()}}}};return a||(o.default._registerAuthenticationProvider(t),a=!0),t}};e.default=u},21582:(t,e,r)=>{"use strict";r(63978)(e,"__esModule",{value:!0}),e.default=void 0;var n={ETH_MAINNET:"0x1",ETH_ROPSTEN:"0x3",ETH_GOERLI:"0x5",ETH_KOVAN:"0x2a",ETH_RINKEBY:"0x4",ETH_LOCALDEVCHAIN:"0x539",POLYGON_MAINNET:"0x89",POLYGON_MUMBAI:"0x13881",BSC_MAINNET:"0x38",BSC_TESTNET:"0x61",AVAX_MAINNET:"0xa86a",AVAX_TESTNET:"0xa869",FANTOM_MAINNET:"0xfa",CRONOS_MAINNET:"0x19",CRONOS_TESTNET:"0x152"};e.default=n},44791:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.getJobStatus=function(t){return new f.default("_JobStatus").get(t,{useMasterKey:!0})},e.getJobsData=function(){return u.default.getCloudController().getJobsData({useMasterKey:!0})},e.run=function(t,e,r){if(r=r||{},"string"!==typeof t||0===t.length)throw new TypeError("Cloud function name must be a string.");var n={};r.useMasterKey&&(n.useMasterKey=r.useMasterKey);r.sessionToken&&(n.sessionToken=r.sessionToken);r.context&&"object"===(0,a.default)(r.context)&&(n.context=r.context);return u.default.getCloudController().run(t,e,n)},e.startJob=function(t,e){if("string"!==typeof t||0===t.length)throw new TypeError("Cloud job name must be a string.");return u.default.getCloudController().startJob(t,e,{useMasterKey:!0})};var o=i(r(86902)),s=i(r(93476)),a=i(r(23765)),u=i(r(2463)),l=i(r(68051)),h=i(r(27206)),c=i(r(85227)),f=i(r(76789));i(r(98590));var d={run:function(t,e,r){var n=u.default.getRESTController(),i=(0,h.default)(e,!0);return n.request("POST","functions/".concat(t),i,r).then((function(t){if("object"===(0,a.default)(t)&&(0,o.default)(t).length>0&&!t.hasOwnProperty("result"))throw new c.default(c.default.INVALID_JSON,"The server returned an invalid response.");var e=(0,l.default)(t);return e&&e.hasOwnProperty("result")?s.default.resolve(e.result):s.default.resolve(void 0)}))},getJobsData:function(t){return u.default.getRESTController().request("GET","cloud_code/jobs/data",null,t)},startJob:function(t,e,r){var n=u.default.getRESTController(),i=(0,h.default)(e,!0);return n.request("POST","jobs/".concat(t),i,r)}};u.default.setCloudController(d)},2463:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(78914)),o=n(r(77766)),s={IS_NODE:"undefined"!==typeof process&&!!process.versions&&!!process.versions.node&&!process.versions.electron,REQUEST_ATTEMPT_LIMIT:5,REQUEST_BATCH_SIZE:20,REQUEST_HEADERS:{},SERVER_URL:"https://api.parse.com/1",SERVER_AUTH_TYPE:null,SERVER_AUTH_TOKEN:null,LIVEQUERY_SERVER_URL:null,ENCRYPTED_KEY:null,VERSION:"js".concat("1.12.0"),APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1,ENCRYPTED_USER:!1,IDEMPOTENCY:!1};function a(t,e,r){(0,i.default)(e).call(e,(function(e){var n;if("function"!==typeof r[e])throw new Error((0,o.default)(n="".concat(t," must implement ")).call(n,e,"()"))}))}t.exports={get:function(t){if(s.hasOwnProperty(t))return s[t];throw new Error("Configuration key not found: ".concat(t))},set:function(t,e){s[t]=e},setAnalyticsController:function(t){a("AnalyticsController",["track"],t),s.AnalyticsController=t},getAnalyticsController:function(){return s.AnalyticsController},setCloudController:function(t){a("CloudController",["run","getJobsData","startJob"],t),s.CloudController=t},getCloudController:function(){return s.CloudController},setConfigController:function(t){a("ConfigController",["current","get","save"],t),s.ConfigController=t},getConfigController:function(){return s.ConfigController},setCryptoController:function(t){a("CryptoController",["encrypt","decrypt"],t),s.CryptoController=t},getCryptoController:function(){return s.CryptoController},setFileController:function(t){a("FileController",["saveFile","saveBase64"],t),s.FileController=t},getFileController:function(){return s.FileController},setInstallationController:function(t){a("InstallationController",["currentInstallationId"],t),s.InstallationController=t},getInstallationController:function(){return s.InstallationController},setObjectController:function(t){a("ObjectController",["save","fetch","destroy"],t),s.ObjectController=t},getObjectController:function(){return s.ObjectController},setObjectStateController:function(t){a("ObjectStateController",["getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState"],t),s.ObjectStateController=t},getObjectStateController:function(){return s.ObjectStateController},setPushController:function(t){a("PushController",["send"],t),s.PushController=t},getPushController:function(){return s.PushController},setQueryController:function(t){a("QueryController",["find","aggregate"],t),s.QueryController=t},getQueryController:function(){return s.QueryController},setRESTController:function(t){a("RESTController",["request","ajax"],t),s.RESTController=t},getRESTController:function(){return s.RESTController},setSchemaController:function(t){a("SchemaController",["get","create","update","delete","send","purge"],t),s.SchemaController=t},getSchemaController:function(){return s.SchemaController},setSessionController:function(t){a("SessionController",["getSession"],t),s.SessionController=t},getSessionController:function(){return s.SessionController},setStorageController:function(t){t.async?a("An async StorageController",["getItemAsync","setItemAsync","removeItemAsync","getAllKeysAsync"],t):a("A synchronous StorageController",["getItem","setItem","removeItem","getAllKeys"],t),s.StorageController=t},setLocalDatastoreController:function(t){a("LocalDatastoreController",["pinWithName","fromPinWithName","unPinWithName","getAllContents","clear"],t),s.LocalDatastoreController=t},getLocalDatastoreController:function(){return s.LocalDatastoreController},setLocalDatastore:function(t){s.LocalDatastore=t},getLocalDatastore:function(){return s.LocalDatastore},getStorageController:function(){return s.StorageController},setAsyncStorage:function(t){s.AsyncStorage=t},getAsyncStorage:function(){return s.AsyncStorage},setWebSocketController:function(t){s.WebSocketController=t},getWebSocketController:function(){return s.WebSocketController},setUserController:function(t){a("UserController",["setCurrentUser","currentUser","currentUserAsync","signUp","logIn","become","logOut","me","requestPasswordReset","upgradeToRevocableSession","requestEmailVerification","verifyPassword","linkWith"],t),s.UserController=t},getUserController:function(){return s.UserController},setLiveQueryController:function(t){a("LiveQueryController",["setDefaultLiveQueryClient","getDefaultLiveQueryClient","_clearCachedDefaultClient"],t),s.LiveQueryController=t},getLiveQueryController:function(){return s.LiveQueryController},setHooksController:function(t){a("HooksController",["create","get","update","remove"],t),s.HooksController=t},getHooksController:function(){return s.HooksController}}},31334:(t,e,r)=>{"use strict";var n,i,o=r(60530)(r(59340));n=r(25542),i=r(11634);var s={encrypt:function(t,e){return n.encrypt((0,o.default)(t),e).toString()},decrypt:function(t,e){return n.decrypt(t,e).toString(i)}};t.exports=s},9745:(t,e,r)=>{"use strict";t.exports=r(68041).EventEmitter},35216:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o,s,a=i(r(90160)),u=!1,l={authenticate:function(t){var e=this;"undefined"===typeof FB&&t.error(this,"Facebook SDK not found."),FB.login((function(r){r.authResponse?t.success&&t.success(e,{id:r.authResponse.userID,access_token:r.authResponse.accessToken,expiration_date:new Date(1e3*r.authResponse.expiresIn+(new Date).getTime()).toJSON()}):t.error&&t.error(e,r)}),{scope:o})},restoreAuthentication:function(t){if(t){var e={};if(s)for(var r in s)e[r]=s[r];e.status=!1;var n=FB.getAuthResponse();n&&n.userID!==t.id&&FB.logout(),FB.init(e)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}},h={init:function(t){if("undefined"===typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(s={},t)for(var e in t)s[e]=t[e];s.status&&"undefined"!==typeof console&&(console.warn||console.log||function(){}).call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.');s.status=!1,FB.init(s),a.default._registerAuthenticationProvider(l),u=!0},isLinked:function(t){return t._isLinked("facebook")},logIn:function(t,e){if(!t||"string"===typeof t){if(!u)throw new Error("You must initialize FacebookUtils before calling logIn.");return o=t,a.default.logInWith("facebook",e)}return a.default.logInWith("facebook",{authData:t},e)},link:function(t,e,r){if(!e||"string"===typeof e){if(!u)throw new Error("You must initialize FacebookUtils before calling link.");return o=e,t.linkWith("facebook",r)}return t.linkWith("facebook",{authData:e},r)},unlink:function(t,e){if(!u)throw new Error("You must initialize FacebookUtils before calling unlink.");return t._unlinkFrom("facebook",e)},_getAuthProvider:function(){return l}};e.default=h},99525:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(93476)),o=n(r(84837)),s=r(90042).v4,a=null,u={currentInstallationId:function(){if("string"===typeof a)return i.default.resolve(a);var t=o.default.generatePath("installationId");return o.default.getItemAsync(t).then((function(e){return e?(a=e,e):(e=s(),o.default.setItemAsync(t,e).then((function(){return a=e,e})))}))},_clearCache:function(){a=null},_setInstallationIdCache:function(t){a=t}};t.exports=u},89850:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=e.InternalWeb3Events=void 0;var s=o(r(63109)),a=o(r(51161)),u=o(r(26394)),l=o(r(69198)),h=o(r(5824)),c=o(r(51379)),f=o(r(214)),d=o(r(66380)),p=o(r(56474)),m=o(r(54103)),g=o(r(68041)),v=r(5729),y=r(62899),w=r(27636);function b(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,f.default)(this,r)}}var A=(0,p.default)({ACCOUNT_CHANGED:"accountChanged",CHAIN_CHANGED:"chainChanged",PROVIDER_CONNECT:"provider-connect",PROVIDER_DISCONNECT:"provider-disconnect",WEB3_ENABLED:"web3Enabled",WEB3_DEACTIVATED:"web3Deactivated"});e.InternalWeb3Events=A;var M=function(t){(0,c.default)(r,t);var e=b(r);function r(t){var n,i,o,s,a,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,u.default)(this,r),a=e.call(this),!t)throw new Error("Cannot initialize InternalWeb3Provider without a connector");return a.connector=t,a.anyNetwork=l,a.privateKey=c,a.handleAccountChanged=(0,m.default)(n=a.handleAccountChanged).call(n,(0,h.default)(a)),a.handleChainChanged=(0,m.default)(i=a.handleChainChanged).call(i,(0,h.default)(a)),a.handleConnect=(0,m.default)(o=a.handleConnect).call(o,(0,h.default)(a)),a.handleDisconnect=(0,m.default)(s=a.handleDisconnect).call(s,(0,h.default)(a)),a}return(0,l.default)(r,[{key:"activate",value:function(){var t=(0,a.default)(s.default.mark((function t(e){var r,n,i,o,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connector){t.next=2;break}throw new Error("Cannot activate InternalWeb3Provider without a connector");case 2:return this.connector.on&&(this.connector.on(v.ConnectorEvents.ACCOUNT_CHANGED,this.handleAccountChanged),this.connector.on(v.ConnectorEvents.CHAIN_CHANGED,this.handleChainChanged),this.connector.on(v.ConnectorEvents.CONNECT,this.handleConnect),this.connector.on(v.ConnectorEvents.DISCONNECT,this.handleDisconnect)),t.next=5,this.connector.activate(e);case 5:return r=t.sent,n=r.provider,i=r.chainId,o=r.account,this.provider=n,this.chainId=i,this.account=o,a=this.anyNetwork?"any":(0,w.fromHexToDecimal)(i),this.web3=new y.ethers.providers.Web3Provider(n,a),t.abrupt("return",{provider:n,chainId:i,account:o,web3:this.web3});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signer",get:function(){return null!=this.privateKey?new y.ethers.Wallet(this.privateKey,this.web3):this.web3.getSigner(this.account)}},{key:"signerOrProvider",get:function(){try{return this.account?null!=this.privateKey?new y.ethers.Wallet(this.privateKey,this.web3):this.web3.getSigner(this.account):this.web3}catch(t){return this.web3}}},{key:"handleChainChanged",value:function(t){this.chainId=t,this.web3=new y.ethers.providers.Web3Provider(this.provider,(0,w.fromHexToDecimal)(t)),this.emit(A.CHAIN_CHANGED,t)}},{key:"handleAccountChanged",value:function(t){this.account=t,this.emit(A.ACCOUNT_CHANGED,t)}},{key:"handleConnect",value:function(t){this.emit(A.PROVIDER_CONNECT,t)}},{key:"handleDisconnect",value:function(t){this.emit(A.PROVIDER_DISCONNECT,t)}},{key:"deactivate",value:function(){var t=(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.account=null,this.chainId=null,this.web3=null,this.provider=null,this.privateKey=null,!this.connector){t.next=10;break}if(this.connector.removeListener&&(this.connector.removeListener(A.CHAIN_CHANGED,this.handleChainChanged),this.connector.removeListener(A.ACCOUNT_CHANGED,this.handleAccountChanged),this.connector.removeListener(A.PROVIDER_CONNECT,this.handleConnect),this.connector.removeListener(A.PROVIDER_DISCONNECT,this.handleDisconnect)),!this.connector.deactivate){t.next=10;break}return t.next=10,this.connector.deactivate();case 10:this.connector=null;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(g.default);e.default=M},52506:(t,e,r)=>{"use strict";var n=r(1068),i=r(3649),o=r(66419),s=r(65420),a=r(19996),u=r(41511),l=r(63978),h=r(60530);l(e,"__esModule",{value:!0}),e.default=void 0;var c=h(r(81643)),f=h(r(39392)),d=h(r(69301)),p=h(r(59340)),m=h(r(78914)),g=h(r(89400)),v=h(r(33032)),y=h(r(54103)),w=h(r(23765)),b=h(r(26394)),A=h(r(69198)),M=h(r(5824)),_=h(r(51379)),E=h(r(214)),x=h(r(66380)),S=h(r(87672)),N=h(r(2463)),T=h(r(9745)),R=h(r(98590)),C=h(r(67038)),I=r(64719);function P(t,e){var r="undefined"!==typeof s&&a(t)||t["@@iterator"];if(!r){if(u(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return k(t,e);var n=i(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return o(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,x.default)(t);if(e){var o=(0,x.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,E.default)(this,r)}}var U="initialized",L="connecting",B="connected",D="closed",F="reconnecting",G="disconnected",z="connect",j="subscribe",H="unsubscribe",W="connected",V="subscribed",q="unsubscribed",K="error",J="close",X="error",Y="open",Q="open",Z="close",$="error",tt=function(t){(0,_.default)(r,t);var e=O(r);function r(t){var n,i=t.applicationId,o=t.serverURL,s=t.javascriptKey,a=t.masterKey,u=t.sessionToken,l=t.installationId;if((0,b.default)(this,r),n=e.call(this),(0,S.default)((0,M.default)(n),"attempts",void 0),(0,S.default)((0,M.default)(n),"id",void 0),(0,S.default)((0,M.default)(n),"requestId",void 0),(0,S.default)((0,M.default)(n),"applicationId",void 0),(0,S.default)((0,M.default)(n),"serverURL",void 0),(0,S.default)((0,M.default)(n),"javascriptKey",void 0),(0,S.default)((0,M.default)(n),"masterKey",void 0),(0,S.default)((0,M.default)(n),"sessionToken",void 0),(0,S.default)((0,M.default)(n),"installationId",void 0),(0,S.default)((0,M.default)(n),"additionalProperties",void 0),(0,S.default)((0,M.default)(n),"connectPromise",void 0),(0,S.default)((0,M.default)(n),"subscriptions",void 0),(0,S.default)((0,M.default)(n),"socket",void 0),(0,S.default)((0,M.default)(n),"state",void 0),!o||0!==(0,c.default)(o).call(o,"ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");return n.reconnectHandle=null,n.attempts=1,n.id=0,n.requestId=1,n.serverURL=o,n.applicationId=i,n.javascriptKey=s||void 0,n.masterKey=a||void 0,n.sessionToken=u||void 0,n.installationId=l||void 0,n.additionalProperties=!0,n.connectPromise=(0,I.resolvingPromise)(),n.subscriptions=new f.default,n.state=U,n.on("error",(function(){})),n}return(0,A.default)(r,[{key:"shouldOpen",value:function(){return this.state===U||this.state===G}},{key:"subscribe",value:function(t,e){var r=this;if(t){var n=t.className,i=t.toJSON(),o=i.where,s=(0,d.default)(i)?(0,d.default)(i).split(","):void 0,a={op:j,requestId:this.requestId,query:{className:n,where:o,fields:s}};e&&(a.sessionToken=e);var u=new C.default(this.requestId,t,e);return this.subscriptions.set(this.requestId,u),this.requestId+=1,this.connectPromise.then((function(){r.socket.send((0,p.default)(a))})),u}}},{key:"unsubscribe",value:function(t){var e=this;if(t){this.subscriptions.delete(t.id);var r={op:H,requestId:t.id};this.connectPromise.then((function(){e.socket.send((0,p.default)(r))}))}}},{key:"open",value:function(){var t=this,e=N.default.getWebSocketController();e?(this.state!==F&&(this.state=L),this.socket=new e(this.serverURL),this.socket.onopen=function(){t._handleWebSocketOpen()},this.socket.onmessage=function(e){t._handleWebSocketMessage(e)},this.socket.onclose=function(){t._handleWebSocketClose()},this.socket.onerror=function(e){t._handleWebSocketError(e)}):this.emit(X,"Can not find WebSocket implementation")}},{key:"resubscribe",value:function(){var t,e=this;(0,m.default)(t=this.subscriptions).call(t,(function(t,r){var n=t.query,i=n.toJSON(),o=i.where,s=(0,d.default)(i)?(0,d.default)(i).split(","):void 0,a=n.className,u=t.sessionToken,l={op:j,requestId:r,query:{className:a,where:o,fields:s}};u&&(l.sessionToken=u),e.connectPromise.then((function(){e.socket.send((0,p.default)(l))}))}))}},{key:"close",value:function(){var t;if(this.state!==U&&this.state!==G){this.state=G,this.socket.close();var e,r=P((0,g.default)(t=this.subscriptions).call(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;n.subscribed=!1,n.emit(Z)}}catch(i){r.e(i)}finally{r.f()}this._handleReset(),this.emit(J)}}},{key:"_handleReset",value:function(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=(0,I.resolvingPromise)(),this.subscriptions=new f.default}},{key:"_handleWebSocketOpen",value:function(){this.attempts=1;var t={op:z,applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.additionalProperties&&(t.installationId=this.installationId),this.socket.send((0,p.default)(t))}},{key:"_handleWebSocketMessage",value:function(t){var e=t.data;"string"===typeof e&&(e=JSON.parse(e));var r=null;e.requestId&&(r=this.subscriptions.get(e.requestId));var n={clientId:e.clientId,installationId:e.installationId};switch(e.op){case W:this.state===F&&this.resubscribe(),this.emit(Y),this.id=e.clientId,this.connectPromise.resolve(),this.state=B;break;case V:r&&(r.subscribed=!0,r.subscribePromise.resolve(),(0,v.default)((function(){return r.emit(Q,n)}),200));break;case K:e.requestId?r&&(r.subscribePromise.resolve(),(0,v.default)((function(){return r.emit($,e.error)}),200)):this.emit(X,e.error),"Additional properties not allowed"===e.error&&(this.additionalProperties=!1),e.reconnect&&this._handleReconnect();break;case q:break;default:if(!r)break;var i=!1;if(e.original){for(var o in i=!0,delete e.original.__type,e.original)o in e.object||(e.object[o]=void 0);e.original=R.default.fromJSON(e.original,!1)}delete e.object.__type;var s=R.default.fromJSON(e.object,i);e.original?r.emit(e.op,s,e.original,n):r.emit(e.op,s,n);var a=N.default.getLocalDatastore();i&&a.isEnabled&&a._updateObjectIfPinned(s).then((function(){}))}}},{key:"_handleWebSocketClose",value:function(){var t;if(this.state!==G){this.state=D,this.emit(J);var e,r=P((0,g.default)(t=this.subscriptions).call(t));try{for(r.s();!(e=r.n()).done;){e.value.emit(Z)}}catch(n){r.e(n)}finally{r.f()}this._handleReconnect()}}},{key:"_handleWebSocketError",value:function(t){var e;this.emit(X,t);var r,n=P((0,g.default)(e=this.subscriptions).call(e));try{for(n.s();!(r=n.n()).done;){r.value.emit($,t)}}catch(i){n.e(i)}finally{n.f()}this._handleReconnect()}},{key:"_handleReconnect",value:function(){var t,e=this;if(this.state!==G){this.state=F;var r,n=(r=this.attempts,Math.random()*Math.min(30,Math.pow(2,r)-1)*1e3);this.reconnectHandle&&clearTimeout(this.reconnectHandle),this.reconnectHandle=(0,v.default)((0,y.default)(t=function(){e.attempts++,e.connectPromise=(0,I.resolvingPromise)(),e.open()}).call(t,this),n)}}}]),r}(T.default);N.default.setWebSocketController("function"===typeof WebSocket||"object"===("undefined"===typeof WebSocket?"undefined":(0,w.default)(WebSocket))?WebSocket:null);var et=tt;e.default=et},67038:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(26394)),a=o(r(69198)),u=o(r(51379)),l=o(r(214)),h=o(r(66380)),c=o(r(9745)),f=o(r(2463)),d=r(64719);function p(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,h.default)(t);if(e){var o=(0,h.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,l.default)(this,r)}}var m=function(t){(0,u.default)(r,t);var e=p(r);function r(t,n,i){var o;return(0,s.default)(this,r),(o=e.call(this)).id=t,o.query=n,o.sessionToken=i,o.subscribePromise=(0,d.resolvingPromise)(),o.subscribed=!1,o.on("error",(function(){})),o}return(0,a.default)(r,[{key:"unsubscribe",value:function(){var t=this;return f.default.getLiveQueryController().getDefaultLiveQueryClient().then((function(e){e.unsubscribe(t),t.emit("close")}))}}]),r}(c.default);e.default=m},16923:(t,e,r)=>{"use strict";var n=r(3649),i=r(66419),o=r(65420),s=r(19996),a=r(41511),u=r(60530),l=u(r(63109)),h=u(r(93476)),c=u(r(36384)),f=u(r(77766)),d=u(r(20116)),p=u(r(78580)),m=u(r(86902)),g=u(r(29828)),v=u(r(69301)),y=u(r(41511)),w=u(r(2991)),b=u(r(66419)),A=u(r(94473)),M=u(r(59036)),_=u(r(18777)),E=u(r(51161)),x=u(r(2463)),S=u(r(76789)),N=r(63363);function T(t,e){var r="undefined"!==typeof o&&s(t)||t["@@iterator"];if(!r){if(a(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return R(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return R(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C={isEnabled:!1,isSyncing:!1,fromPinWithName:function(t){return x.default.getLocalDatastoreController().fromPinWithName(t)},pinWithName:function(t,e){return x.default.getLocalDatastoreController().pinWithName(t,e)},unPinWithName:function(t){return x.default.getLocalDatastoreController().unPinWithName(t)},_getAllContents:function(){return x.default.getLocalDatastoreController().getAllContents()},_getRawStorage:function(){return x.default.getLocalDatastoreController().getRawStorage()},_clear:function(){return x.default.getLocalDatastoreController().clear()},_handlePinAllWithName:function(t,e){var r=this;return(0,E.default)(l.default.mark((function n(){var i,o,s,a,u,d,p,m,g,v,y,w,b,A,E,x;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=r.getPinName(t),s=[],a=[],u=T(e);try{for(u.s();!(d=u.n()).done;)for(y in p=d.value,m=r._getChildren(p),g=r.getKeyForObject(p),v=p._toFullJSON(void 0,!0),p._localId&&(v._localId=p._localId),m[g]=v,m)a.push(y),s.push(r.pinWithName(y,[m[y]]))}catch(l){u.e(l)}finally{u.f()}return w=r.fromPinWithName(o),n.next=8,h.default.all([w,s]);case 8:return b=n.sent,A=(0,_.default)(b,1),E=A[0],x=(0,M.default)(new c.default((0,f.default)(i=[]).call(i,(0,M.default)(E||[]),a))),n.abrupt("return",r.pinWithName(o,x));case 13:case"end":return n.stop()}}),n)})))()},_handleUnPinAllWithName:function(t,e){var r=this;return(0,E.default)(l.default.mark((function n(){var i,o,s,a,u,y,w,b,A,_,E,x,S,R,C,I,P,k;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r._getAllContents();case 2:i=n.sent,o=r.getPinName(t),s=[],a=[],u=T(e);try{for(u.s();!(y=u.n()).done;)A=y.value,_=r._getChildren(A),E=r.getKeyForObject(A),(w=a).push.apply(w,(0,f.default)(b=[E]).call(b,(0,M.default)((0,m.default)(_))))}catch(O){u.e(O)}finally{u.f()}a=(0,M.default)(new c.default(a)),x=i[o]||[],0===(x=(0,d.default)(x).call(x,(function(t){return!(0,p.default)(a).call(a,t)}))).length?(s.push(r.unPinWithName(o)),delete i[o]):(s.push(r.pinWithName(o,x)),i[o]=x),S=T(a),n.prev=13,S.s();case 15:if((R=S.n()).done){n.next=31;break}C=R.value,I=!1,n.t0=(0,v.default)(l.default).call(l.default,i);case 19:if((n.t1=n.t0()).done){n.next=28;break}if((P=n.t1.value)!==N.DEFAULT_PIN&&!(0,g.default)(P).call(P,N.PIN_PREFIX)){n.next=26;break}if(k=i[P]||[],!(0,p.default)(k).call(k,C)){n.next=26;break}return I=!0,n.abrupt("break",28);case 26:n.next=19;break;case 28:I||s.push(r.unPinWithName(C));case 29:n.next=15;break;case 31:n.next=36;break;case 33:n.prev=33,n.t2=n.catch(13),S.e(n.t2);case 36:return n.prev=36,S.f(),n.finish(36);case 39:return n.abrupt("return",h.default.all(s));case 40:case"end":return n.stop()}}),n,null,[[13,33,36,39]])})))()},_getChildren:function(t){var e={},r=t._toFullJSON(void 0,!0);for(var n in r)r[n]&&r[n].__type&&"Object"===r[n].__type&&this._traverse(r[n],e);return e},_traverse:function(t,e){if(t.objectId){var r=this.getKeyForObject(t);if(!e[r])for(var n in e[r]=t,t){var i=t[n];t[n]||(i=t),i.__type&&"Object"===i.__type&&this._traverse(i,e)}}},_serializeObjectsFromPinName:function(t){var e=this;return(0,E.default)(l.default.mark((function r(){var n,i,o,s,a,u,c,p;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e._getAllContents();case 2:for(s in i=r.sent,o=[],i)(0,g.default)(s).call(s,N.OBJECT_PREFIX)&&o.push(i[s][0]);if(t){r.next=7;break}return r.abrupt("return",o);case 7:if(a=e.getPinName(t),u=i[a],(0,y.default)(u)){r.next=11;break}return r.abrupt("return",[]);case 11:return c=(0,w.default)(u).call(u,(function(t){return e.fromPinWithName(t)})),r.next=14,h.default.all(c);case 14:return p=r.sent,p=(0,f.default)(n=[]).apply(n,(0,M.default)(p)),r.abrupt("return",(0,d.default)(p).call(p,(function(t){return null!=t})));case 17:case"end":return r.stop()}}),r)})))()},_serializeObject:function(t,e){var r=this;return(0,E.default)(l.default.mark((function n(){var i,o,s,a,u,h,c,f,d,p,m;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e){n.next=5;break}return n.next=4,r._getAllContents();case 4:i=n.sent;case 5:if(i[t]&&0!==i[t].length){n.next=7;break}return n.abrupt("return",null);case 7:for(o=i[t][0],s=[],(a={})[u=0]=o,s.push(u);0!==s.length;)for(f in h=s.shift(),c=a[h])(d=c[f]).__type&&"Object"===d.__type&&(p=r.getKeyForObject(d),i[p]&&i[p].length>0&&(m=i[p][0],u++,a[u]=m,c[f]=m,s.push(u)));return n.abrupt("return",o);case 15:case"end":return n.stop()}}),n)})))()},_updateObjectIfPinned:function(t){var e=this;return(0,E.default)(l.default.mark((function r(){var n,i;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isEnabled){r.next=2;break}return r.abrupt("return");case 2:return n=e.getKeyForObject(t),r.next=5,e.fromPinWithName(n);case 5:if((i=r.sent)&&0!==i.length){r.next=8;break}return r.abrupt("return");case 8:return r.abrupt("return",e.pinWithName(n,[t._toFullJSON()]));case 9:case"end":return r.stop()}}),r)})))()},_destroyObjectIfPinned:function(t){var e=this;return(0,E.default)(l.default.mark((function r(){var n,i,o,s,a;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isEnabled){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e._getAllContents();case 4:if(n=r.sent,i=e.getKeyForObject(t),n[i]){r.next=9;break}return r.abrupt("return");case 9:for(s in o=[e.unPinWithName(i)],delete n[i],n)(s===N.DEFAULT_PIN||(0,g.default)(s).call(s,N.PIN_PREFIX))&&(a=n[s]||[],(0,p.default)(a).call(a,i)&&(0===(a=(0,d.default)(a).call(a,(function(t){return t!==i}))).length?(o.push(e.unPinWithName(s)),delete n[s]):(o.push(e.pinWithName(s,a)),n[s]=a)));return r.abrupt("return",h.default.all(o));case 13:case"end":return r.stop()}}),r)})))()},_updateLocalIdForObject:function(t,e){var r=this;return(0,E.default)(l.default.mark((function n(){var i,o,s,a,u,c,m,v,y;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.isEnabled){n.next=2;break}return n.abrupt("return");case 2:return s=(0,f.default)(i=(0,f.default)(o="".concat(N.OBJECT_PREFIX)).call(o,e.className,"_")).call(i,t),a=r.getKeyForObject(e),n.next=6,r.fromPinWithName(s);case 6:if((u=n.sent)&&0!==u.length){n.next=9;break}return n.abrupt("return");case 9:return c=[r.unPinWithName(s),r.pinWithName(a,u)],n.next=12,r._getAllContents();case 12:for(v in m=n.sent)(v===N.DEFAULT_PIN||(0,g.default)(v).call(v,N.PIN_PREFIX))&&(y=m[v]||[],(0,p.default)(y).call(y,s)&&((y=(0,d.default)(y).call(y,(function(t){return t!==s}))).push(a),c.push(r.pinWithName(v,y)),m[v]=y));return n.abrupt("return",h.default.all(c));case 15:case"end":return n.stop()}}),n)})))()},updateFromServer:function(){var t=this;return(0,E.default)(l.default.mark((function e(){var r,n,i,o,s,a,u,d,p,v,y,M,E,x,T,R;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkIfEnabled()&&!t.isSyncing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t._getAllContents();case 4:for(o in n=e.sent,i=[],n)(0,g.default)(o).call(o,N.OBJECT_PREFIX)&&i.push(o);if(0!==i.length){e.next=9;break}return e.abrupt("return");case 9:t.isSyncing=!0,s={},a=0,u=i;case 12:if(!(a<u.length)){e.next=23;break}if(d=u[a],p=d.split("_"),v=(0,_.default)(p,4),y=v[2],M=v[3],5===d.split("_").length&&"User"===d.split("_")[3]&&(y="_User",M=d.split("_")[4]),!(0,g.default)(M).call(M,"local")){e.next=18;break}return e.abrupt("continue",20);case 18:y in s||(s[y]=new c.default),s[y].add(M);case 20:a++,e.next=12;break;case 23:return E=(0,w.default)(r=(0,m.default)(s)).call(r,(function(t){var e=(0,b.default)(s[t]),r=new S.default(t);return r.limit(e.length),1===e.length?r.equalTo("objectId",e[0]):r.containedIn("objectId",e),(0,A.default)(r).call(r)})),e.prev=24,e.next=27,h.default.all(E);case 27:return x=e.sent,T=(0,f.default)([]).apply([],x),R=(0,w.default)(T).call(T,(function(e){var r=t.getKeyForObject(e);return t.pinWithName(r,e._toFullJSON())})),e.next=32,h.default.all(R);case 32:t.isSyncing=!1,e.next=39;break;case 35:e.prev=35,e.t0=e.catch(24),console.error("Error syncing LocalDatastore: ",e.t0),t.isSyncing=!1;case 39:case"end":return e.stop()}}),e,null,[[24,35]])})))()},getKeyForObject:function(t){var e,r,n=t.objectId||t._getId();return(0,f.default)(e=(0,f.default)(r="".concat(N.OBJECT_PREFIX)).call(r,t.className,"_")).call(e,n)},getPinName:function(t){return t&&t!==N.DEFAULT_PIN?N.PIN_PREFIX+t:N.DEFAULT_PIN},checkIfEnabled:function(){return this.isEnabled||console.error("Parse.enableLocalDatastore() must be called first"),this.isEnabled}};t.exports=C,x.default.setLocalDatastoreController(r(29499)),x.default.setLocalDatastore(C)},29499:(t,e,r)=>{"use strict";var n=r(3649),i=r(66419),o=r(65420),s=r(19996),a=r(41511),u=r(60530),l=u(r(59340)),h=u(r(32366)),c=u(r(93476)),f=u(r(2991)),d=u(r(63109)),p=u(r(51161)),m=r(63363),g=u(r(84837));function v(t,e){var r="undefined"!==typeof o&&s(t)||t["@@iterator"];if(!r){if(a(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return y(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w={fromPinWithName:function(t){return(0,p.default)(d.default.mark((function e(){var r,n;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.default.getItemAsync(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return n=JSON.parse(r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()},pinWithName:function(t,e){var r=(0,l.default)(e);return g.default.setItemAsync(t,r)},unPinWithName:function(t){return g.default.removeItemAsync(t)},getAllContents:function(){return(0,p.default)(d.default.mark((function t(){var e;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.default.getAllKeysAsync();case 2:return e=t.sent,t.abrupt("return",(0,h.default)(e).call(e,function(){var t=(0,p.default)(d.default.mark((function t(e,r){var n,i;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(n=t.sent,!(0,m.isLocalDatastoreKey)(r)){t.next=8;break}return t.next=6,g.default.getItemAsync(r);case 6:i=t.sent;try{n[r]=JSON.parse(i)}catch(o){console.error("Error getAllContents: ",o)}case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.default.resolve({})));case 4:case"end":return t.stop()}}),t)})))()},getRawStorage:function(){return(0,p.default)(d.default.mark((function t(){var e;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.default.getAllKeysAsync();case 2:return e=t.sent,t.abrupt("return",(0,h.default)(e).call(e,function(){var t=(0,p.default)(d.default.mark((function t(e,r){var n,i;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return n=t.sent,t.next=5,g.default.getItemAsync(r);case 5:return i=t.sent,n[r]=i,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.default.resolve({})));case 4:case"end":return t.stop()}}),t)})))()},clear:function(){var t=this;return(0,p.default)(d.default.mark((function e(){var r,n,i,o,s,a;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.default.getAllKeysAsync();case 2:r=e.sent,n=[],i=v(r);try{for(i.s();!(o=i.n()).done;)s=o.value,(0,m.isLocalDatastoreKey)(s)&&n.push(s)}catch(u){i.e(u)}finally{i.f()}return a=(0,f.default)(n).call(n,t.unPinWithName),e.abrupt("return",c.default.all(a));case 8:case"end":return e.stop()}}),e)})))()}};t.exports=w},63363:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.PIN_PREFIX=e.OBJECT_PREFIX=e.DEFAULT_PIN=void 0,e.isLocalDatastoreKey=function(t){return!(!t||t!==s&&!(0,o.default)(t).call(t,a)&&!(0,o.default)(t).call(t,u))};var o=i(r(29828)),s="_default";e.DEFAULT_PIN=s;var a="parsePin_";e.PIN_PREFIX=a;var u="Parse_LDS_";e.OBJECT_PREFIX=u},98641:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),s=i(r(86902)),a=i(r(20116)),u=i(r(66419)),l=i(r(3649)),h=i(r(51161)),c=i(r(26394)),f=i(r(69198)),d=i(r(90160)),p=i(r(76789)),m=i(r(98590)),g=i(r(91561)),v=i(r(23799)),y=null,w=function(){function t(){(0,c.default)(this,t)}return(0,f.default)(t,null,[{key:"web3IsInjected",value:function(){return 0!==(0,s.default)(window.injectedWeb3).length}},{key:"enable",value:function(){var t=(0,h.default)(o.default.mark((function t(e){var r,n,i,s=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.length>1&&void 0!==s[1]?s[1]:"polkadot-js",!y){t.next=3;break}return t.abrupt("return",y);case 3:return y=null===(r=window.injectedWeb3)||void 0===r||null===(n=r[i])||void 0===n?void 0:n.enable(e),t.abrupt("return",y);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,h.default)(o.default.mark((function e(r){var n,i,s,a,u,l,h,c,f,p,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable(null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:"Moralis");case 2:return t.web3=e.sent,e.next=5,t.web3.accounts.get();case 5:if(i=e.sent,s=i[0],a=null===s||void 0===s?void 0:s.address){e.next=10;break}throw new Error("Address not found");case 10:return l=[u=a],h=t.getSigningData(),e.next=15,(0,v.default)(h);case 15:return c=e.sent,e.next=18,t.sign(a,c);case 18:return f=e.sent,p={id:u,signature:f,data:c},e.next=22,d.default.logInWith("moralisDot",{authData:p});case 22:if(m=e.sent){e.next=25;break}throw new Error("Could not get user");case 25:return e.next=27,m.setACL(new g.default(m));case 27:return m.addAllUnique("dotAccounts",l),m.set("dotAddress",u),e.next=31,m.save();case 31:return e.abrupt("return",m);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,h.default)(o.default.mark((function e(r,n){var i,s,a,u,l,h,c,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=3,d.default.current();case 3:return s=e.sent,a=r,u=m.default.extend("_DotAddress"),l=new p.default(u),e.next=9,l.get(a).catch((function(){return null}));case 9:if(e.sent){e.next=20;break}return e.next=13,(0,v.default)(i);case 13:return h=e.sent,e.next=16,t.sign(a,h);case 16:return c=e.sent,f={id:a,signature:c,data:h},e.next=20,s.linkWith("moralisDot",{authData:f});case 20:return s.addAllUnique("dotAccounts",[a]),s.set("dotAddress",a),e.next=24,s.save();case 24:return e.abrupt("return",s);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,h.default)(o.default.mark((function t(e){var r,n,i,s,u,l,h,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,i=m.default.extend("_DotAddress"),s=new p.default(i),t.next=5,s.get(n);case 5:return u=t.sent,t.next=8,u.destroy();case 8:return t.next=10,d.default.current();case 10:return l=t.sent,h=null!==(r=l.get("dotAccounts"))&&void 0!==r?r:[],c=(0,a.default)(h).call(h,(function(t){return t!==n})),l.set("dotAccounts",c),l.set("dotAddress",c[0]),t.next=17,l._unlinkFrom("moralisDot");case 17:return t.next=19,l.save();case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var t=(0,h.default)(o.default.mark((function t(e,r){var n,i,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y){t.next=2;break}throw new Error("Must enable MoralisDot");case 2:return t.next=4,y;case 4:if((n=t.sent).signer){t.next=7;break}throw new Error("No signer found");case 7:return t.next=9,n.signer.signRaw({address:e,data:(a=r,o=b(a),"0x".concat((0,u.default)(o,(function(t){var e;return(0,l.default)(e="0".concat((255&t).toString(16))).call(e,-2)})).join(""))),type:"bytes"});case 9:return i=t.sent,s=i.signature,t.abrupt("return",s);case 12:case"end":return t.stop()}var o,a}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}}]),t}();function b(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}e.default=w},30836:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(20116)),s=i(r(63109)),a=i(r(51161)),u=i(r(26394)),l=i(r(69198)),h=i(r(90160)),c=i(r(76789)),f=i(r(98590)),d=i(r(91561)),p=i(r(23799));function m(){return g.getErdJs()}var g=function(){function t(){(0,u.default)(this,t)}return(0,l.default)(t,null,[{key:"getErdJs",value:function(){if("undefined"!==typeof window&&window.erdjs)return window.erdjs;throw new Error("Please add erdjs scripts")}},{key:"gatewayAddress",value:function(){return"https://gateway.elrond.com"}},{key:"hwProxy",value:function(){var e=(0,a.default)(s.default.mark((function e(){var r,n,i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._proxy){e.next=2;break}return e.abrupt("return",t._proxy);case 2:return r=m(),n=r.ProxyProvider,i=new n(t.gatewayAddress()),t._proxy=i,e.abrupt("return",t._proxy);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"hwProvider",value:function(){return t._hw}},{key:"enable",value:function(){var e=(0,a.default)(s.default.mark((function e(){var r,n,i,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m(),n=r.HWProvider,e.next=3,t.hwProxy();case 3:return i=e.sent,o=new n(i),e.next=7,o.init();case 7:if(e.sent){e.next=10;break}throw new Error("Could not initialise ledger app, make sure Elrond app is open");case 10:return t._hw=o,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,a.default)(s.default.mark((function e(){var r,n,i,o,a,u,l,c,f;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable();case 2:return r=e.sent,e.next=5,r.login();case 5:return n=e.sent,i=n.toLowerCase(),o=[i],a=t.getSigningData(),e.next=11,(0,p.default)(a);case 11:return u=e.sent,e.next=14,t.sign(u);case 14:return l=e.sent,c={id:i,signature:l,data:u},e.next=18,h.default.logInWith("moralisErd",{authData:c});case 18:if(f=e.sent){e.next=21;break}throw new Error("Could not get user");case 21:return e.next=23,f.setACL(new d.default(f));case 23:return f.addAllUnique("erdAccounts",o),f.set("erdAddress",i),e.next=27,f.save();case 27:return e.abrupt("return",f);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,a.default)(s.default.mark((function e(r,n){var i,o,a,u,l,d,m,g;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=3,h.default.current();case 3:return o=e.sent,a=r.toLowerCase(),u=f.default.extend("_ErdAddress"),l=new c.default(u),e.next=9,l.get(a).catch((function(){return null}));case 9:if(e.sent){e.next=20;break}return e.next=13,(0,p.default)(i);case 13:return d=e.sent,e.next=16,t.sign(d);case 16:return m=e.sent,g={id:a,signature:m,data:d},e.next=20,o.linkWith("moralisErd",{authData:g});case 20:return o.addAllUnique("erdAccounts",[a]),o.set("erdAddress",a),e.next=24,o.save();case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,a.default)(s.default.mark((function t(e){var r,n,i,a,u,l,d,p;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.toLowerCase(),i=f.default.extend("_ErdAddress"),a=new c.default(i),t.next=5,a.get(n);case 5:return u=t.sent,t.next=8,u.destroy();case 8:return t.next=10,h.default.current();case 10:return l=t.sent,d=null!==(r=l.get("erdAccounts"))&&void 0!==r?r:[],p=(0,o.default)(d).call(d,(function(t){return t!==n})),l.set("erdAccounts",p),l.set("erdAddress",p[0]),t.next=17,l._unlinkFrom("moralisErd");case 17:return t.next=19,l.save();case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var t=(0,a.default)(s.default.mark((function t(e){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}}]),t}(),v=g;e.default=v},59746:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),s=i(r(77766)),a=i(r(20116)),u=(i(r(32366)),i(r(54903)),i(r(81643))),l=i(r(51161)),h=i(r(26394)),c=i(r(69198)),f=i(r(87672)),d=i(r(59036)),p=i(r(23799)),m=i(r(90160)),g=i(r(76789)),v=i(r(98590)),y=i(r(91561)),w=function(t){return btoa(String.fromCharCode.apply(String,(0,d.default)(new Uint8Array(t))))},b=function(){function t(){(0,h.default)(this,t)}return(0,c.default)(t,null,[{key:"authenticate",value:function(){var e=(0,l.default)(o.default.mark((function e(r){var n,i,a,u,l,h,c,f,d,g;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable();case 2:if(a=e.sent){e.next=5;break}throw new Error("Phantom wallet not available");case 5:if(u=a.publicKey.toString()){e.next=8;break}throw new Error("Address not found");case 8:return l=[u],h=(null===r||void 0===r?void 0:r.signingMessage)||t.getSigningData(),e.next=12,(0,p.default)(h);case 12:return c=e.sent,e.next=15,t.sign(c);case 15:return f=e.sent,d={id:u,signature:f,data:c},e.next=19,m.default.logInWith("moralisSol",{authData:d});case 19:return g=e.sent,e.next=22,g.setACL(new y.default(g));case 22:if(g){e.next=24;break}throw new Error("Could not get user");case 24:return g.set("solAccounts",A((0,s.default)(n=[]).call(n,l,null!==(i=g.get("solAccounts"))&&void 0!==i?i:[]))),g.set("solAddress",u),e.next=28,g.save();case 28:return e.abrupt("return",g);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,l.default)(o.default.mark((function e(r,n){var i,a,u,l,h,c,f,d,y,w;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=3,m.default.current();case 3:return l=e.sent,h=r,c=v.default.extend("_SolAddress"),f=new g.default(c),e.next=9,f.get(h).catch((function(){return null}));case 9:if(e.sent){e.next=20;break}return e.next=13,(0,p.default)(u);case 13:return d=e.sent,e.next=16,t.sign(h,d);case 16:return y=e.sent,w={id:h,signature:y,data:d},e.next=20,l.linkWith("moralisSol",{authData:w});case 20:return l.set("SolAccounts",A((0,s.default)(i=[h]).call(i,null!==(a=l.get("SolAccounts"))&&void 0!==a?a:[]))),l.set("solAddress",h),e.next=24,l.save();case 24:return e.abrupt("return",l);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,l.default)(o.default.mark((function t(e){var r,n,i,s,u,l,h,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,i=v.default.extend("_SolAddress"),s=new g.default(i),t.next=5,s.get(n);case 5:return u=t.sent,t.next=8,u.destroy();case 8:return t.next=10,m.default.current();case 10:return l=t.sent,h=null!==(r=l.get("solAccounts"))&&void 0!==r?r:[],c=(0,a.default)(h).call(h,(function(t){return t!==n})),l.set("solAccounts",c),l.set("solAddress",c[0]),t.next=17,l._unlinkFrom("moralisSol");case 17:return t.next=19,l.save();case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var e=(0,l.default)(o.default.mark((function e(r){var n,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable();case 2:return n=e.sent,i=(new TextEncoder).encode(r),e.next=6,n.signMessage(i,"utf8");case 6:return s=e.sent,e.abrupt("return",w(s.signature));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}}]),t}();function A(t){return(0,a.default)(t).call(t,(function(e,r){return(0,u.default)(t).call(t,e)===r}))}(0,f.default)(b,"enable",(0,l.default)(o.default.mark((function t(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window||!("solana"in window)){t.next=17;break}if(!(e=window.solana).isPhantom){t.next=17;break}return t.prev=3,t.next=6,e.connect({onlyIfTrusted:!0});case 6:case 13:t.next=16;break;case 8:if(t.prev=8,t.t0=t.catch(3),"User rejected the request."!==t.t0.message){t.next=15;break}return t.next=13,e.connect();case 15:throw t.t0;case 16:return t.abrupt("return",e);case 17:throw new Error("Phantom wallet not available");case 18:case"end":return t.stop()}}),t,null,[[3,8]])}))));var M=b;e.default=M},40322:(t,e,r)=>{"use strict";var n=r(86902),i=r(14310),o=r(20116),s=r(34074),a=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var f=c(r(63109)),d=c(r(78914)),p=c(r(86902)),m=c(r(20116)),g=c(r(78580)),v=c(r(59340)),y=c(r(51161)),w=c(r(26394)),b=c(r(69198)),A=c(r(87672));function M(t,e){var r=n(t);if(i){var a=i(t);e&&(a=o(a).call(a,(function(e){return s(t,e).enumerable}))),r.push.apply(r,a)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?a(r=M(Object(i),!0)).call(r,(function(e){(0,A.default)(t,e,i[e])})):u?l(t,u(i)):a(n=M(Object(i))).call(n,(function(e){h(t,e,s(i,e))}))}return t}var E=r(31881),x=function(){function t(){(0,w.default)(this,t)}return(0,b.default)(t,null,[{key:"initialize",value:function(t){var e=t.apiKey,r=t.serverUrl,n=t.Moralis,i=void 0===n?null:n,o=t.headers,s=void 0===o?{}:o;if(!r&&!e)throw new Error("SolanaApi.initialize failed: initialize with apiKey or serverUrl");e&&(this.apiKey=e),r&&(this.serverUrl=r),this.Moralis=i,this.headers=s}},{key:"getBody",value:function(t,e){var r=this;if(t&&e&&e.length){var n={};return(0,d.default)(e).call(e,(function(e){var i=e.key,o=e.type,s=e.required;if(void 0===t[i]){if(s)throw new Error("param ".concat(i," is required!"))}else o===r.BodyParamTypes.setBody?n=t[i]:n[i]=t[i];delete t[i]})),n}}},{key:"getParameterizedUrl",value:function(t,e){var r;if(!(0,p.default)(e).length)return t;var n=(0,m.default)(r=t.split("/")).call(r,(function(t){return t&&(0,g.default)(t).call(t,":")}));if(!n.length)return t;var i=t;return(0,d.default)(n).call(n,(function(t){var r=t.substr(1),n=e[r];if(!n)throw new Error("required param ".concat(r," not provided"));i=i.replace(t,n),delete e[r]})),i}},{key:"getApiRateLimitInfo",value:function(t){return{"x-rate-limit-limit":t["x-rate-limit-limit"],"x-rate-limit-remaining-ttl":t["x-rate-limit-remaining-ttl"],"x-rate-limit-used":t["x-rate-limit-used"],"x-rate-limit-remaining-ip-ttl":t["x-rate-limit-remaining-ip-ttl"],"x-rate-limit-ip-used":t["x-rate-limit-ip-used"]}}},{key:"getErrorMessage",value:function(t,e){var r,n;return(null===t||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.toString())||"Solana API error while calling ".concat(e)}},{key:"fetch",value:function(){var t=(0,y.default)(f.default.mark((function t(e){var r,n,i,o,s;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoint,n=e.params,i=_({},n),this.Moralis&&(o=this.Moralis.User,s=o.current(),i.address||s&&(i.address=s.get("solAddress"))),i.network||(i.network="mainnet"),i.responseType||(i.responseType="native"),this.apiKey){t.next=7;break}return t.abrupt("return",this.fetchFromServer(r.name,i));case 7:return t.abrupt("return",this.fetchFromApi(r,i));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromApi",value:function(){var t=(0,y.default)(f.default.mark((function t(e,r){var n,i,o,s,a,u,l,h,c,d,p;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.method,i=void 0===n?"GET":n,o=e.url,s=e.bodyParams,t.prev=1,a=this.getParameterizedUrl(o,r),u=this.getBody(r,s),t.next=6,E(this.baseURL+a,{params:r,method:i,data:u,headers:_({Accept:"application/json","Content-Type":"application/json","x-api-key":this.apiKey},this.headers)});case 6:return l=t.sent,t.abrupt("return",l.data);case 10:throw t.prev=10,t.t0=t.catch(1),h=t.t0.response,c=h.status,d=h.headers,h.data,p=429===c?"This Moralis Server is rate-limited because of the plan restrictions. See the details about the current rate and throttle limits: ".concat((0,v.default)(this.getApiRateLimitInfo(d))):this.getApiErrorMessage(t.t0,o),new Error(p);case 15:case"end":return t.stop()}}),t,this,[[1,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromServer",value:function(){var t=(0,y.default)(f.default.mark((function t(e,r){var n,i,o,s,a;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.serverUrl){t.next=2;break}throw new Error("SolanaAPI not initialized, run Moralis.start() first");case 2:return t.prev=2,n=E.create({baseURL:this.serverUrl}),(i=this.Moralis.User.current())&&(r._SessionToken=i.attributes.sessionToken),r._ApplicationId=this.Moralis.applicationId,t.next=9,n.post("/functions/sol-".concat(e),r,{headers:_({Accept:"application/json","Content-Type":"application/json"},this.headers)});case 9:return o=t.sent,t.abrupt("return",o.data.result);case 13:if(t.prev=13,t.t0=t.catch(2),null===(s=t.t0.response)||void 0===s||null===(a=s.data)||void 0===a||!a.error){t.next=17;break}throw new Error(t.t0.response.data.error);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}()}]),t}();(0,A.default)(x,"baseURL","https://solana-gateway.moralis.io"),(0,A.default)(x,"BodyParamTypes",{setBody:"set body",property:"property"}),(0,A.default)(x,"account",{balance:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",x.fetch({endpoint:{method:"GET",group:"account",name:"balance",url:"/account/:network/:address/balance"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getSPL:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",x.fetch({endpoint:{method:"GET",group:"account",name:"getSPL",url:"/account/:network/:address/tokens"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTs:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",x.fetch({endpoint:{method:"GET",group:"account",name:"getNFTs",url:"/account/:network/:address/nft"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPortfolio:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",x.fetch({endpoint:{method:"GET",group:"account",name:"getPortfolio",url:"/account/:network/:address/portfolio"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,A.default)(x,"nft",{getNFTMetadata:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",x.fetch({endpoint:{method:"GET",group:"nft",name:"getNFTMetadata",url:"/nft/:network/:address/metadata"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,A.default)(x,"token",{getTokenPrice:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",x.fetch({endpoint:{method:"GET",group:"token",name:"getTokenPrice",url:"/token/:network/:address/price"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});var S=x;e.default=S},7379:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),s=i(r(51161)),a={openPrompt:function(){return(0,s.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("Moralis: No prompt supplied");case 1:case"end":return t.stop()}}),t)})))()}};e.default=a},86283:(t,e,r)=>{"use strict";var n=r(23765),i=r(3649),o=r(66419),s=r(65420),a=r(19996),u=r(41511),l=r(52424),h=r(63978),c=r(34074),f=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var d,p,m,g,v,y,w=f(r(20116)),b=f(r(78914)),A=f(r(77766)),M=f(r(59340)),_=f(r(2991)),E=f(r(25843)),x=f(r(94473)),S=f(r(10062)),N=f(r(20455)),T=f(r(54103)),R=f(r(63109)),C=f(r(59036)),I=f(r(23765)),P=f(r(51161)),k=f(r(26394)),O=f(r(69198)),U=f(r(87672)),L=r(62899),B=f(r(68041)),D=f(r(98590)),F=f(r(76789)),G=f(r(90160)),z=f(r(91561)),j=f(r(30836)),H=f(r(98641)),W=f(r(59746)),V=f(r(50640)),q=r(44791),K=f(r(23799)),J=f(r(3388)),X=f(r(93060)),Y=f(r(99409)),Q=(f(r(85227)),function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=et(e);if(r&&r.has(t))return r.get(t);var i={};for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=h&&c?c(t,o):null;s&&(s.get||s.set)?h(i,o,s):i[o]=t[o]}i.default=t,r&&r.set(t,i);return i}(r(89850))),Z=f(r(63811)),$=f(r(56043)),tt=r(7927);function et(t){if("function"!==typeof l)return null;var e=new l,r=new l;return(et=function(t){return t?r:e})(t)}function rt(t,e){var r="undefined"!==typeof s&&a(t)||t["@@iterator"];if(!r){if(u(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return nt(t,e);var n=i(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return o(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=new B.default,ot=function(){function t(){(0,k.default)(this,t)}return(0,O.default)(t,null,[{key:"addListener",value:function(t,e){return it.on(t,e),function(){return it.removeListener(t,e)}}},{key:"on",value:function(t,e){return it.on(t,e),function(){return it.removeListener(t,e)}}},{key:"once",value:function(t,e){return it.once(t,e),function(){return it.removeListener(t,e)}}},{key:"removeListener",value:function(t,e){return it.removeListener(t,e)}},{key:"off",value:function(t,e){return it.off(t,e)}},{key:"removeAllListeners",value:function(t,e){return it.removeAllListeners(t,e)}},{key:"isWeb3Enabled",value:function(){return this.ensureWeb3IsInstalled()}},{key:"handleWeb3AccountChanged",value:function(t){it.emit(Q.InternalWeb3Events.ACCOUNT_CHANGED,t)}},{key:"handleWeb3ChainChanged",value:function(t){var e;this.web3=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.web3,it.emit(Q.InternalWeb3Events.CHAIN_CHANGED,t)}},{key:"handleWeb3Connect",value:function(t){it.emit(Q.InternalWeb3Events.PROVIDER_CONNECT,t)}},{key:"handleWeb3Disconnect",value:function(t){"MetaMask: Disconnected from chain. Attempting to connect."!==(null===t||void 0===t?void 0:t.message)&&(this.cleanup(),it.emit(Q.InternalWeb3Events.PROVIDER_DISCONNECT,t))}},{key:"enableWeb3",value:function(){var e=(0,P.default)(R.default.mark((function e(){var r,n,i,o,s,a,u,l,h,c,f,d=this,p=arguments;return R.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>0&&void 0!==p[0]?p[0]:{},!this.isEnablingWeb3){e.next=3;break}throw new Error("Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ");case 3:return e.prev=3,this.isEnablingWeb3=!0,this.speedyNodeApiKey&&(r.speedyNodeApiKey=this.speedyNodeApiKey,r.provider="network"),i=null!==(n=null===r||void 0===r?void 0:r.connector)&&void 0!==n?n:t.getWeb3Connector(null===r||void 0===r?void 0:r.provider),o=new i(r),s=!0===(null===r||void 0===r?void 0:r.anyNetwork),this.internalWeb3Provider=new Q.default(o,s,r.privateKey),this.internalWeb3Provider.on(Q.InternalWeb3Events.ACCOUNT_CHANGED,(function(t){return d.handleWeb3AccountChanged(t)})),this.internalWeb3Provider.on(Q.InternalWeb3Events.CHAIN_CHANGED,(function(t){return d.handleWeb3ChainChanged(t)})),this.internalWeb3Provider.on(Q.InternalWeb3Events.PROVIDER_CONNECT,(function(t){return d.handleWeb3Connect(t)})),this.internalWeb3Provider.on(Q.InternalWeb3Events.PROVIDER_DISCONNECT,(function(t){return d.handleWeb3Disconnect(t)})),e.prev=14,e.next=17,this.internalWeb3Provider.activate(r);case 17:if(c=e.sent,a=c.provider,u=c.chainId,l=c.account,h=c.web3,a){e.next=24;break}throw new Error("Failed to activate, no provider returned");case 24:e.next=31;break;case 26:return e.prev=26,e.t0=e.catch(14),e.next=30,this.cleanup();case 30:throw e.t0;case 31:return f=h,this.web3=h,it.emit(Q.InternalWeb3Events.WEB3_ENABLED,{chainId:u,account:l,connector:o,provider:a,web3:f}),e.abrupt("return",f);case 37:throw e.prev=37,e.t1=e.catch(3),e.t1;case 40:return e.prev=40,this.isEnablingWeb3=!1,e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[3,37,40,43],[14,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"isDotAuth",value:function(t){switch(null===t||void 0===t?void 0:t.type){case"dot":case"polkadot":case"kusama":return!0;default:return!1}}},{key:"isElrondAuth",value:function(t){switch(null===t||void 0===t?void 0:t.type){case"erd":case"elrond":return!0;default:return!1}}},{key:"isSolAuth",value:function(t){return"sol"===(null===t||void 0===t?void 0:t.type)}},{key:"getWeb3Connector",value:function(t){switch(t){case"walletconnect":case"walletConnect":case"wc":return J.default;case"network":return Y.default;case"magicLink":return $.default;case"web3Auth":return tt.Web3Auth;default:return X.default}}},{key:"deactivateWeb3",value:function(){var t=(0,P.default)(R.default.mark((function t(){return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cleanup());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cleanup",value:function(){var t=(0,P.default)(R.default.mark((function t(){return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isEnablingWeb3){t.next=5;break}return this.isEnablingWeb3=!1,this.internalWeb3Provider=null,this.web3=null,t.abrupt("return");case 5:if(this.web3&&this.internalWeb3Provider&&it.emit(Q.InternalWeb3Events.WEB3_DEACTIVATED,{connector:this.internalWeb3Provider.connector,provider:this.internalWeb3Provider.provider}),!this.internalWeb3Provider){t.next=18;break}return this.internalWeb3Provider.removeListener(Q.InternalWeb3Events.ACCOUNT_CHANGED,this.handleWeb3AccountChanged),this.internalWeb3Provider.removeListener(Q.InternalWeb3Events.CHAIN_CHANGED,this.handleWeb3ChainChanged),this.internalWeb3Provider.removeListener(Q.InternalWeb3Events.PROVIDER_CONNECT,this.handleWeb3Connect),this.internalWeb3Provider.removeListener(Q.InternalWeb3Events.PROVIDER_DISCONNECT,this.handleWeb3Disconnect),t.prev=11,t.next=14,this.internalWeb3Provider.deactivate();case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(11);case 18:this.internalWeb3Provider=null,this.web3=null;case 20:case"end":return t.stop()}}),t,this,[[11,16]])})));return function(){return t.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,P.default)(R.default.mark((function e(r){var n,i,o,s,a,u,l,h,c;return R.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.default.currentAsync();case 2:if(!e.sent){e.next=6;break}return e.next=6,G.default.logOut();case 6:if(!t.isDotAuth(r)){e.next=8;break}return e.abrupt("return",H.default.authenticate(r));case 8:if(!t.isElrondAuth(r)){e.next=10;break}return e.abrupt("return",j.default.authenticate(r));case 10:if(!t.isSolAuth(r)){e.next=12;break}return e.abrupt("return",W.default.authenticate(r));case 12:return e.next=14,this.enableWeb3(r);case 14:if(n=this.getInternalWeb3Provider(),i=n.account,n.web3,o=n.signer,i){e.next=17;break}throw new Error("Cannot authenticate, no account returned from provider");case 17:return s=(null===r||void 0===r?void 0:r.signingMessage)||t.getSigningData(),e.next=20,(0,K.default)(s);case 20:if(a=e.sent,u=i.toLowerCase()){e.next=24;break}throw new Error("Address not found");case 24:return e.next=26,o.signMessage(a);case 26:if(l=e.sent){e.next=29;break}throw new Error("Data not signed");case 29:return h={id:u,signature:l,data:a},e.next=32,G.default.logInWith("moralisEth",{authData:h});case 32:if(c=e.sent){e.next=35;break}throw new Error("Could not get user");case 35:return e.next=37,c.setACL(new z.default(c));case 37:return c.addAllUnique("accounts",[u]),c.set("ethAddress",u),e.next=41,c.save(null,r);case 41:return e.abrupt("return",c);case 42:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,P.default)(R.default.mark((function e(r,n){var i,o,s,a,u,l,h,c,f,d;return R.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getInternalWeb3Provider(),o=i.signer,s=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=4,G.default.currentAsync();case 4:return a=e.sent,u=r.toLowerCase(),l=D.default.extend("_EthAddress"),h=new F.default(l),e.next=10,h.get(u).catch((function(){return null}));case 10:if(e.sent){e.next=23;break}return e.next=14,(0,K.default)(s);case 14:return c=e.sent,e.next=17,o.signMessage(c);case 17:if(f=e.sent){e.next=20;break}throw new Error("Data not signed");case 20:return d={id:u,signature:f,data:c},e.next=23,a.linkWith("moralisEth",{authData:d});case 23:return a.addAllUnique("accounts",[u]),a.set("ethAddress",u),e.next=27,a.save(null,n);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,P.default)(R.default.mark((function t(e){var r,n,i,o,s,a,u,l;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.toLowerCase(),i=D.default.extend("_EthAddress"),o=new F.default(i),t.next=5,o.get(n);case 5:return s=t.sent,t.next=8,s.destroy();case 8:return t.next=10,G.default.currentAsync();case 10:return a=t.sent,u=null!==(r=a.get("accounts"))&&void 0!==r?r:[],l=(0,w.default)(u).call(u,(function(t){return t!==n})),a.set("accounts",l),a.set("ethAddress",l[0]),t.next=17,a._unlinkFrom("moralisEth");case 17:return t.next=19,a.save();case 19:return t.abrupt("return",a);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"initPlugins",value:function(){var t=(0,P.default)(R.default.mark((function t(e){var r,n,i=this;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,(0,q.run)("getPluginSpecs");case 4:t.t0=t.sent;case 5:if(r=t.t0,this.Plugins||(this.Plugins={}),r){t.next=9;break}return t.abrupt("return");case 9:n=this.Plugins,(0,b.default)(r).call(r,(function(t){var e;n[t.name]={},(0,b.default)(e=t.functions).call(e,(function(e){n[t.name][e]=function(){var r=(0,P.default)(R.default.mark((function r(n,o){var s,a,u,l;return R.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o||(o={}),r.next=3,(0,q.run)((0,A.default)(s="".concat(t.name,"_")).call(s,e),n);case 3:if((a=r.sent).data.success){r.next=7;break}throw u=(0,M.default)(a.data.data,null,2),new Error("Something went wrong\n".concat(u));case 7:if(!0===o.disableTriggers){r.next=13;break}return r.next=10,i.handleTriggers(a.data.result.triggers,a.data.result.data);case 10:if(!(l=r.sent)){r.next=13;break}return r.abrupt("return",l);case 13:return r.abrupt("return",a.data.result);case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}))})),this.Plugins=n;case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleTriggers",value:function(){var t=(0,P.default)(R.default.mark((function t(e,r){var n,i,o,s=this;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:n=R.default.mark((function t(n){var i,o,a,u,l,h,c,f,d,p,m,g,v,y,w,b,M,_,E,x,S,N,T,C,I,P,k,O,U,B,D,F,G,z,j,H,W,V,K,J,X,Y;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e[n].name,t.next="openUrl"===t.t0?3:"web3Transaction"===t.t0?5:"web3Sign"===t.t0?18:"callPluginEndpoint"===t.t0?33:"web3SignV4"===t.t0?55:80;break;case 3:return e[n].newTab?window.open(e[n].url):window.open(e[n].url,"_self"),t.abrupt("break",81);case 5:return t.next=7,s.getInternalWeb3Provider().signer.sendTransaction({from:null===(i=e[n])||void 0===i||null===(o=i.data)||void 0===o?void 0:o.from,to:null===(a=e[n])||void 0===a||null===(u=a.data)||void 0===u?void 0:u.to,value:L.ethers.BigNumber.from(null!==(l=null===(h=e[n])||void 0===h||null===(c=h.data)||void 0===c?void 0:c.value)&&void 0!==l?l:0),data:null===(f=e[n])||void 0===f||null===(d=f.data)||void 0===d?void 0:d.data});case 7:if(U=t.sent,!0!==(null===(p=e[n])||void 0===p?void 0:p.shouldAwait)){t.next=12;break}return t.next=11,U.wait();case 11:U=t.sent;case 12:if(!0===(null===(m=e[n])||void 0===m?void 0:m.saveResponse)&&s.memoryCard.save(U),!0!==(null===(g=e[n])||void 0===g?void 0:g.shouldReturnPayload)){t.next=15;break}return t.abrupt("return",{v:{payload:r,response:U}});case 15:if(!0!==(null===(v=e[n])||void 0===v?void 0:v.shouldReturnResponse)){t.next=17;break}return t.abrupt("return",{v:U});case 17:return t.abrupt("break",81);case 18:if(e[n].message){t.next=20;break}throw new Error("web3Sign trigger does not have a message to sign");case 20:if(e[n].signer){t.next=22;break}throw new Error("web3Sign trigger signer address missing or invalid");case 22:return delete(O=JSON.parse(e[n].message)).types.EIP712Domain,t.next=26,s.getInternalWeb3Provider().signer._signTypedData(O.domain,O.types,O.message);case 26:if(U=t.sent,!0===(null===(y=e[n])||void 0===y?void 0:y.saveResponse)&&s.memoryCard.save(U),!0!==(null===(w=e[n])||void 0===w?void 0:w.shouldReturnPayload)){t.next=30;break}return t.abrupt("return",{v:{payload:r,response:U}});case 30:if(!0!==(null===(b=e[n])||void 0===b?void 0:b.shouldReturnResponse)){t.next=32;break}return t.abrupt("return",{v:U});case 32:return t.abrupt("break",81);case 33:if(e[n].pluginName){t.next=35;break}throw new Error("callPluginEndpoint trigger does not have an plugin name to call");case 35:if(e[n].endpoint){t.next=37;break}throw new Error("callPluginEndpoint trigger does not have an endpoint to call");case 37:if(!0!==(null===(M=e[n])||void 0===M?void 0:M.shouldAwait)){t.next=42;break}return!0===e[n].useSavedResponse&&(e[n].params[e[n].savedResponseAs]=s.memoryCard.get(e[n].savedResponseAt)),t.next=41,(0,q.run)((0,A.default)(B="".concat(e[n].pluginName,"_")).call(B,e[n].endpoint),e[n].params);case 41:U=t.sent;case 42:if(!1===(null===(_=e[n])||void 0===_?void 0:_.shouldAwait)&&(!0===e[n].useSavedResponse&&(e[n].params[e[n].savedResponseAs]=s.memoryCard.get(e[n].savedResponseAt)),U=(0,q.run)((0,A.default)(D="".concat(e[n].pluginName,"_")).call(D,e[n].endpoint),e[n].params)),!0!==e[n].runResponseTrigger){t.next=47;break}return t.next=46,s.handleTriggers(U.data.result.triggers,U.data.result.data);case 46:U=t.sent;case 47:if(!0===(null===(E=e[n])||void 0===E?void 0:E.saveResponse)&&s.memoryCard.save(U),!1!==(null===(x=e[n])||void 0===x?void 0:x.runResponseTrigger)){t.next=50;break}return t.abrupt("return","continue");case 50:if(!0!==(null===(S=e[n])||void 0===S?void 0:S.shouldReturnPayload)){t.next=52;break}return t.abrupt("return",{v:{payload:"payload",response:U}});case 52:if(!0!==(null===(N=e[n])||void 0===N?void 0:N.shouldReturnResponse)){t.next=54;break}return t.abrupt("return",{v:U});case 54:return t.abrupt("break",81);case 55:if(e[n].parameters){t.next=57;break}throw new Error("web3SignV4 trigger does not have `parameters` to sign");case 57:if(e[n].from){t.next=59;break}throw new Error("web3SignV4 trigger does not have a `from` address");case 59:if(!0!==(null===(T=e[n])||void 0===T?void 0:T.shouldAwait)){t.next=74;break}return t.prev=60,G=JSON.parse(e[n].parameters[1]),z=G.domain,j=G.types,H=G.message,j.EIP712Domain&&delete j.EIP712Domain,t.next=65,s.getInternalWeb3Provider().signer._signTypedData(z,j,H);case 65:W=t.sent,V={result:W},!0===(null===(F=e[n])||void 0===F?void 0:F.saveResponse)&&s.memoryCard.save(V),U=V,t.next=74;break;case 71:throw t.prev=71,t.t1=t.catch(60),new Error(t.t1.message||t.t1);case 74:if(!1===(null===(C=e[n])||void 0===C?void 0:C.shouldAwait)&&(K=JSON.parse(e[n].parameters[1]),J=K.domain,X=K.types,Y=K.message,X.EIP712Domain&&delete X.EIP712Domain,s.getInternalWeb3Provider().signer._signTypedData(J,X,Y).then((function(t){var r,i={result:t};!0===(null===(r=e[n])||void 0===r?void 0:r.saveResponse)&&s.memoryCard.save(i),U=i})).catch((function(t){throw new Error(t.message||t)}))),!0!==(null===(I=e[n])||void 0===I?void 0:I.shouldReturnPayload)){t.next=77;break}return t.abrupt("return",{v:{payload:r,response:U}});case 77:if(!0!==(null===(P=e[n])||void 0===P?void 0:P.shouldReturnResponse)){t.next=79;break}return t.abrupt("return",{v:U});case 79:return t.abrupt("break",81);case 80:throw new Error('Unknown trigger: "'.concat(null===(k=e[n])||void 0===k?void 0:k.name,'"'));case 81:case"end":return t.stop()}}),t,null,[[60,71]])})),i=0;case 4:if(!(i<e.length)){t.next=14;break}return t.delegateYield(n(i),"t0",6);case 6:if("continue"!==(o=t.t0)){t.next=9;break}return t.abrupt("continue",11);case 9:if("object"!==(0,I.default)(o)){t.next=11;break}return t.abrupt("return",o.v);case 11:i++,t.next=4;break;case 14:this.memoryCard.deleteSaved();case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAllERC20",value:function(){var t=(0,P.default)(R.default.mark((function t(){var e,r,n,i,o=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=o.length>0&&void 0!==o[0]?o[0]:{}).chain,n=e.address,t.next=3,(0,q.run)("getAllERC20",{chain:r,address:n});case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getERC20",value:function(){var t=(0,P.default)(R.default.mark((function t(){var e,r,n,i,o,s,a=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=a.length>0&&void 0!==a[0]?a[0]:{}).chain,n=e.address,i=e.symbol,o=e.tokenAddress,s=(0,q.run)("getERC20",{chain:r,address:n,symbol:i,tokenAddress:o}),t.abrupt("return",s);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getNFTs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n;return(0,q.run)("getNFTs_old",{chain:r,address:i})}},{key:"getNFTsCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n;return(0,q.run)("getNFTsCount_old",{chain:r,address:i})}},{key:"getTransactions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n,o=t.order,s=void 0===o?"desc":o;return(0,q.run)("getTransactions",{chain:r,address:i,order:s})}},{key:"getTransactionsCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n;return(0,q.run)("getTransactionsCount",{chain:r,address:i})}},{key:"transfer",value:function(){var t=(0,P.default)(R.default.mark((function t(){var e,r,n,i,o,s,a,u,l,h,c,f,d,p,m,g,v,y,w,b,A,M=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(e=M.length>0&&void 0!==M[0]?M[0]:{}).type,n=void 0===r?"native":r,i=e.receiver,o=void 0===i?"":i,s=e.contractAddress,a=void 0===s?"":s,u=e.contract_address,l=e.amount,h=void 0===l?"":l,c=e.tokenId,f=void 0===c?"":c,d=e.token_id,p=e.system,m={receiver:o,contractAddress:a=a||u,amount:h,tokenId:f=f||d,system:void 0===p?"evm":p},V.default.isSupportedType(n),V.default.validateInput(n,m),g=this.getInternalWeb3Provider(),g.web3,v=g.account,y=g.signer,v){t.next=9;break}throw new Error("Sender address not found");case 9:f&&V.default.isUint256(f),"native"!==n&&(b=new L.ethers.Contract(a,V.default.abi[n],y)),t.t0=n,t.next="native"===t.t0?14:"erc20"===t.t0?16:"erc721"===t.t0?18:"erc1155"===t.t0?20:22;break;case 14:return w=y.sendTransaction({to:o,value:L.ethers.BigNumber.from(h)}),t.abrupt("break",23);case 16:return w=b.transfer(o,h,{from:v}),t.abrupt("break",23);case 18:return w=b.safeTransferFrom(v,o,"".concat(f),{from:v}),t.abrupt("break",23);case 20:return w=b.safeTransferFrom(v,o,"".concat(f),h,"0x",{from:v}),t.abrupt("break",23);case 22:throw new Error('Unknown transfer type: "'.concat(n,'"'));case 23:return t.next=25,w;case 25:return A=t.sent,t.abrupt("return",A);case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"executeFunction",value:function(){var t=(0,P.default)(R.default.mark((function t(){var e,r,n,i,o,s,a,u,l,h,c,f,d,p,m,g,v,y,b,M,T,I,P,k,O,U,B,D,F,G,z,j,H,W,V,q,K=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(i=K.length>0&&void 0!==K[0]?K[0]:{}).contractAddress,s=i.abi,a=i.functionName,u=i.msgValue,l=i.params,h=void 0===l?{}:l,c=i.overrides,void 0===c?{}:c,f={},d=this.getInternalWeb3Provider(),p=d.account,d.web3,d.provider,m=d.signerOrProvider,!(g=a.match(/^(.+)\((.*)\)$/))){t.next=16;break}if(M=g[1],T=(0,w.default)(y=(0,_.default)(b=g[2].split(",")).call(b,(function(t){return(0,E.default)(t).call(t)}))).call(y,(function(t){return!!t})),0!==(I=(0,w.default)(s).call(s,(function(t){return t.name===M}))).length){t.next=10;break}throw new Error("Function does not exist in abi");case 10:if(v=(0,x.default)(I).call(I,(function(t){var e,r;return(null!==(e=null===t||void 0===t?void 0:t.inputs.length)&&void 0!==e?e:0)===T.length&&(0,S.default)(r=t.inputs).call(r,(function(t,e){return t.type===T[e]}))})),v){t.next=14;break}throw P=(0,_.default)(I).call(I,(function(t){var e,r;return(0,A.default)(e="".concat(t.name,"(")).call(e,(0,_.default)(r=t.inputs).call(r,(function(t){return t.type})).join(","),")")})),new Error("Function with the provided topic does not exist in abi. Possible funcationNames: ".concat(P.join(" ,")));case 14:t.next=23;break;case 16:if(0!==(k=(0,w.default)(s).call(s,(function(t){return t.name===a}))).length){t.next=19;break}throw new Error("Function does not exist in abi");case 19:if(!(k.length>1)){t.next=22;break}throw O=(0,_.default)(k).call(k,(function(t){var e,r;return(0,A.default)(e="".concat(t.name,"(")).call(e,(0,_.default)(r=t.inputs).call(r,(function(t){return t.type})).join(","),")")})),new Error("Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: ".concat(O.join(" ,")));case 22:v=k[0];case 23:if(U=null===(e=v)||void 0===e?void 0:e.stateMutability,"view"===U||"pure"===U){t.next=31;break}if(h.from){t.next=31;break}if(B=p){t.next=30;break}throw new Error("From address is required");case 30:f.from=B;case 31:D=[],F=rt(v.inputs);try{for(F.s();!(G=F.n()).done;)z=G.value,(j=h[z.name])||"number"===typeof j||"boolean"===typeof j||""===z.name||D.push("".concat(z.name," is required"))}catch(R){F.e(R)}finally{F.f()}if(!(D.length>0)){t.next=36;break}throw D;case 36:if(H=(0,_.default)(r=v.inputs).call(r,(function(t){return h[t.name]})),W=new L.ethers.Contract(o,s,m),V=W[a]){t.next=41;break}throw new Error('Cannot find function "'.concat(a,'" on the contract'));case 41:return t.next=43,V.apply(void 0,(0,A.default)(n=(0,C.default)((0,N.default)(H))).call(n,[u?{value:L.ethers.BigNumber.from("".concat(u))}:{}]));case 43:return q=t.sent,t.abrupt("return",q);case 45:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}},{key:"ensureWeb3IsInstalled",value:function(){return!(!this.internalWeb3Provider||!this.internalWeb3Provider.web3)}},{key:"getInternalWeb3Provider",value:function(){if(!this.ensureWeb3IsInstalled())throw new Error("Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()");return this.internalWeb3Provider}},{key:"getInternalWeb3",value:function(){return this.getInternalWeb3Provider().web3}},{key:"provider",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.provider)&&void 0!==t?t:null}},{key:"connector",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.connector)&&void 0!==t?t:null}},{key:"connectorType",get:function(){var t,e;return null!==(t=null===(e=this.connector)||void 0===e?void 0:e.type)&&void 0!==t?t:null}},{key:"network",get:function(){var t,e;return null!==(t=null===(e=this.connector)||void 0===e?void 0:e.network)&&void 0!==t?t:null}},{key:"account",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.account)&&void 0!==t?t:null}},{key:"chainId",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.chainId)&&void 0!==t?t:null}},{key:"getChainId",value:function(){return this.chainId}},{key:"web3Library",get:function(){return L.ethers}},{key:"_forwardToConnector",value:function(t,e){var r,n=this.getInternalWeb3Provider().connector;if(!Boolean(n[t]))throw new Error((0,A.default)(r="Cannot call ".concat(t,', as it does not exist on connector type "')).call(r,n.type,'"'));return n[t].apply(n,(0,C.default)(e))}},{key:"switchNetwork",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._forwardToConnector("switchNetwork",e)}},{key:"addNetwork",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._forwardToConnector("addNetwork",e)}},{key:"isMetaMaskInstalled",value:function(){var t=(0,P.default)(R.default.mark((function t(){return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Z.default)();case 2:if(!t.sent){t.next=6;break}t.t0=!0,t.next=7;break;case 6:t.t0=!1;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}();(0,U.default)(ot,"speedyNodeApiKey",void 0),(0,U.default)(ot,"web3",null),(0,U.default)(ot,"internalWeb3Provider",null),(0,U.default)(ot,"Plugins",{}),(0,U.default)(ot,"isEnablingWeb3",!1),(0,U.default)(ot,"memoryCard",{save:function(t){this.saved=t},get:function(t){if(!this.saved)throw new Error("Nothing saved to memory card");if(0===t.length)return this.getSaved();for(var e=this.saved,r=0;r<t.length;r++)e=e[t[r]];return e},getSaved:function(){return this.saved},deleteSaved:function(){this.saved=void 0}}),ot.onConnect=(0,T.default)(d=ot.on).call(d,ot,Q.InternalWeb3Events.PROVIDER_CONNECT),ot.onDisconnect=(0,T.default)(p=ot.on).call(p,ot,Q.InternalWeb3Events.PROVIDER_DISCONNECT),ot.onWeb3Enabled=(0,T.default)(m=ot.on).call(m,ot,Q.InternalWeb3Events.WEB3_ENABLED),ot.onWeb3Deactivated=(0,T.default)(g=ot.on).call(g,ot,Q.InternalWeb3Events.WEB3_DEACTIVATED),ot.onChainChanged=(0,T.default)(v=ot.on).call(v,ot,Q.InternalWeb3Events.CHAIN_CHANGED),ot.onAccountChanged=(0,T.default)(y=ot.on).call(y,ot,Q.InternalWeb3Events.ACCOUNT_CHANGED);var st=ot;e.default=st},25551:(t,e,r)=>{"use strict";var n=r(86902),i=r(14310),o=r(20116),s=r(34074),a=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var f=c(r(63109)),d=c(r(78914)),p=c(r(86902)),m=c(r(20116)),g=c(r(78580)),v=c(r(59340)),y=c(r(10062)),w=c(r(51161)),b=c(r(26394)),A=c(r(69198)),M=c(r(87672));function _(t,e){var r=n(t);if(i){var a=i(t);e&&(a=o(a).call(a,(function(e){return s(t,e).enumerable}))),r.push.apply(r,a)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?a(r=_(Object(i),!0)).call(r,(function(e){(0,M.default)(t,e,i[e])})):u?l(t,u(i)):a(n=_(Object(i))).call(n,(function(e){h(t,e,s(i,e))}))}return t}var x=r(31881),S=function(){function t(){(0,b.default)(this,t)}return(0,A.default)(t,null,[{key:"initialize",value:function(t){var e=t.apiKey,r=t.serverUrl,n=t.Moralis,i=void 0===n?null:n,o=t.headers,s=void 0===o?{}:o;if(!r&&!e)throw new Error("Web3Api.initialize failed: initialize with apiKey or serverUrl");e&&(this.apiKey=e),r&&(this.serverUrl=r),this.Moralis=i,this.headers=s}},{key:"getBody",value:function(t,e){var r=this;if(t&&e&&e.length){var n={};return(0,d.default)(e).call(e,(function(e){var i=e.key,o=e.type,s=e.required;if(void 0===t[i]){if(s)throw new Error("param ".concat(i," is required!"))}else o===r.BodyParamTypes.setBody?n=t[i]:n[i]=t[i];delete t[i]})),n}}},{key:"getParameterizedUrl",value:function(t,e){var r;if(!(0,p.default)(e).length)return t;var n=(0,m.default)(r=t.split("/")).call(r,(function(t){return t&&(0,g.default)(t).call(t,":")}));if(!n.length)return t;var i=t;return(0,d.default)(n).call(n,(function(t){var r=t.substr(1),n=e[r];if(!n)throw new Error("required param ".concat(r," not provided"));i=i.replace(t,n),delete e[r]})),i}},{key:"getNextOptions",value:function(t,e){var r=E({},e);return t&&t.page_size&&t.total&&void 0!==t.page?(t.cursor?""!==t.cursor&&(r.cursor=t.cursor):t.total>t.page_size*(t.page+1)&&(r.offset=(t.page+1)*(r.limit||500)),r):e}},{key:"getApiRateLimitInfo",value:function(t){return{"x-rate-limit-limit":t["x-rate-limit-limit"],"x-rate-limit-remaining-ttl":t["x-rate-limit-remaining-ttl"],"x-rate-limit-used":t["x-rate-limit-used"],"x-rate-limit-remaining-ip-ttl":t["x-rate-limit-remaining-ip-ttl"],"x-rate-limit-ip-used":t["x-rate-limit-ip-used"]}}},{key:"getApiErrorMessage",value:function(t,e){var r,n;return(null===t||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.toString())||"Web3 API error while calling ".concat(e)}},{key:"fetch",value:function(){var t=(0,w.default)(f.default.mark((function t(e){var r,n,i,o,s,a,u;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoint,n=e.params,i=E({},n),this.Moralis&&(o=this.Moralis,s=o.User,a=o.account,u=s.current(),i.address||(u?i.address=u.get("ethAddress"):a&&(i.address=a))),this.apiKey){t.next=5;break}return t.abrupt("return",this.fetchFromServer(r.name,i));case 5:return t.abrupt("return",this.fetchFromApi(r,i));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromApi",value:function(){var t=(0,w.default)(f.default.mark((function t(e,r){var n,i,o,s,a,u,l,h,c,d,p,m,g,y=this;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.method,i=void 0===n?"GET":n,o=e.url,s=e.bodyParams,t.prev=1,a=this.getParameterizedUrl(o,r),u=this.getBody(r,s),t.next=6,x(this.baseURL+a,{params:r,method:i,data:u,headers:E({Accept:"application/json","Content-Type":"application/json","x-api-key":this.apiKey},this.headers)});case 6:return l=t.sent,h=l.data,c=this.getNextOptions(h,r),this.checkObjEqual(c,r)||(h.next=function(){return y.fetchFromApi(e,c)}),t.abrupt("return",h);case 13:throw t.prev=13,t.t0=t.catch(1),d=t.t0.response,p=d.status,m=d.headers,d.data,g=429===p?"This Moralis Server is rate-limited because of the plan restrictions. See the details about the current rate and throttle limits: ".concat((0,v.default)(this.getApiRateLimitInfo(m))):this.getApiErrorMessage(t.t0,o),new Error(g);case 18:case"end":return t.stop()}}),t,this,[[1,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromServer",value:function(){var t=(0,w.default)(f.default.mark((function t(e,r){var n,i,o,s,a,u,l,h=this;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.serverUrl){t.next=2;break}throw new Error("Web3Api not initialized, run Moralis.start() first");case 2:return t.prev=2,n=x.create({baseURL:this.serverUrl}),r.chain||(r.chain="eth"),(i=this.Moralis.User.current())&&(r._SessionToken=i.attributes.sessionToken),r._ApplicationId=this.Moralis.applicationId,t.next=10,n.post("/functions/".concat(e),r,{headers:E({Accept:"application/json","Content-Type":"application/json"},this.headers)});case 10:return o=t.sent,s=o.data.result,a=this.getNextOptions(s,r),this.checkObjEqual(a,r)||(s.next=function(){return h.fetchFromServer(e,a)}),t.abrupt("return",s);case 17:if(t.prev=17,t.t0=t.catch(2),null===(u=t.t0.response)||void 0===u||null===(l=u.data)||void 0===l||!l.error){t.next=21;break}throw new Error(t.t0.response.data.error);case 21:throw t.t0;case 22:case"end":return t.stop()}}),t,this,[[2,17]])})));return function(){return t.apply(this,arguments)}}()}]),t}();(0,M.default)(S,"baseURL","https://deep-index.moralis.io/api/v2"),(0,M.default)(S,"BodyParamTypes",{setBody:"set body",property:"property"}),(0,M.default)(S,"checkObjEqual",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,y.default)(e).call(e,(function(t){return(0,v.default)(t)===(0,v.default)(e[0])}))})),(0,M.default)(S,"native",{getBlock:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getBlock",url:"/block/:block_number_or_hash"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getDateToBlock:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getDateToBlock",url:"/dateToBlock"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getLogsByAddress:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getLogsByAddress",url:"/:address/logs"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTransfersByBlock:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getNFTTransfersByBlock",url:"/block/:block_number_or_hash/nft/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getInternalTransactions:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getInternalTransactions",url:"/transaction/:transaction_hash/internal-transactions"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTransaction:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getTransaction",url:"/transaction/:transaction_hash"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTransactionVerbose:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"native",name:"getTransactionVerbose",url:"/transaction/:transaction_hash/verbose"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getContractEvents:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"POST",group:"native",name:"getContractEvents",url:"/:address/events",bodyParams:[{key:"data",type:"set body",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),runContractFunction:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"POST",group:"native",name:"runContractFunction",url:"/:address/function",bodyParams:[{key:"abi",type:"property",required:!0},{key:"params",type:"property",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"account",{getTransactions:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getTransactions",url:"/:address"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTransactionsVerbose:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getTransactionsVerbose",url:"/:address/verbose"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNativeBalance:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getNativeBalance",url:"/:address/balance"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNativeBalancesForAddresses:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getNativeBalancesForAddresses",url:"/wallets/balances"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenBalances:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getTokenBalances",url:"/:address/erc20"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenTransfers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getTokenTransfers",url:"/:address/erc20/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTs:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getNFTs",url:"/:address/nft"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTransfers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getNFTTransfers",url:"/:address/nft/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getWalletNFTCollections:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getWalletNFTCollections",url:"/:address/nft/collections"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTsForContract:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getNFTsForContract",url:"/:address/nft/:token_address"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"token",{getTokenMetadata:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenMetadata",url:"/erc20/metadata"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTrades:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getNFTTrades",url:"/nft/:address/trades"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTLowestPrice:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getNFTLowestPrice",url:"/nft/:address/lowestprice"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenMetadataBySymbol:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenMetadataBySymbol",url:"/erc20/metadata/symbols"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenPrice:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenPrice",url:"/erc20/:address/price"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getMultipleTokenPrices:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"POST",group:"token",name:"getMultipleTokenPrices",url:"/erc20/prices",bodyParams:[{key:"tokens",type:"property",required:!0}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenAddressTransfers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenAddressTransfers",url:"/erc20/:address/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenAllowance:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenAllowance",url:"/erc20/:address/allowance"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getErc20Transfers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getErc20Transfers",url:"/erc20/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getErc20Mints:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getErc20Mints",url:"/erc20/mints"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getErc20Burns:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getErc20Burns",url:"/erc20/burns"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getErc20Approvals:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getErc20Approvals",url:"/erc20/approvals"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),searchNFTs:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"searchNFTs",url:"/nft/search"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTransfersFromToBlock:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getNFTTransfersFromToBlock",url:"/nft/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getAllTokenIds:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getAllTokenIds",url:"/nft/:address"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getMultipleNFTs:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"POST",group:"token",name:"getMultipleNFTs",url:"/nft/getMultipleNFTs",bodyParams:[{key:"tokens",type:"property",required:!0},{key:"normalizeMetadata",type:"property",required:!1},{key:"media_items",type:"property",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getContractNFTTransfers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getContractNFTTransfers",url:"/nft/:address/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTOwners:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getNFTOwners",url:"/nft/:address/owners"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTMetadata:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getNFTMetadata",url:"/nft/:address/metadata"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),reSyncMetadata:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"reSyncMetadata",url:"/nft/:address/:token_id/metadata/resync"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenIdMetadata:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenIdMetadata",url:"/nft/:address/:token_id"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenIdOwners:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getTokenIdOwners",url:"/nft/:address/:token_id/owners"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getWalletTokenIdTransfers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"token",name:"getWalletTokenIdTransfers",url:"/nft/:address/:token_id/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"contract",{syncNFTContract:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"PUT",group:"contract",name:"syncNFTContract",url:"/nft/:address/sync"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"resolve",{resolveDomain:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveDomain",url:"/resolve/:domain"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),resolveENSDomain:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveENSDomain",url:"/resolve/ens/:domain"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),resolveAddress:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveAddress",url:"/resolve/:address/reverse"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"defi",{getPairReserves:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"defi",name:"getPairReserves",url:"/:pair_address/reserves"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPairAddress:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"defi",name:"getPairAddress",url:"/:token0_address/:token1_address/pairAddress"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"storage",{uploadFolder:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"POST",group:"storage",name:"uploadFolder",url:"/ipfs/uploadFolder",bodyParams:[{key:"data",type:"set body",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"info",{web3ApiVersion:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"info",name:"web3ApiVersion",url:"/web3/version"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),endpointWeights:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"info",name:"endpointWeights",url:"/info/endpointWeights"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"market_data",{getTopERC20TokensByMarketCap:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"market data",name:"getTopERC20TokensByMarketCap",url:"/market-data/erc20s/top-tokens"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTopERC20TokensByPriceMovers:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"market data",name:"getTopERC20TokensByPriceMovers",url:"/market-data/erc20s/top-movers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTopNFTCollectionsByMarketCap:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"market data",name:"getTopNFTCollectionsByMarketCap",url:"/market-data/nfts/top-collections"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getHottestNFTCollectionsByTradingVolume:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"market data",name:"getHottestNFTCollectionsByTradingVolume",url:"/market-data/nfts/hottest-collections"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,M.default)(S,"utils",{reviewContracts:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"POST",group:"utils",name:"reviewContracts",url:"/contracts-review",bodyParams:[{key:"contracts",type:"property",required:!0}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});var N=S;e.default=N},82450:(t,e,r)=>{"use strict";var n=r(86902),i=r(14310),o=r(20116),s=r(34074),a=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.commitServerChanges=function(t,e,r){for(var n in r){var i=r[n];if(t[n]=i,i&&"object"===(0,f.default)(i)&&!(i instanceof y.default)&&!(i instanceof v.default)&&!(i instanceof w.default)){var o=(0,g.default)(i,!1,!0);e[n]=(0,m.default)(o)}}},e.defaultState=function(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new b.default,existed:!1}},e.estimateAttribute=function(t,e,r,n,i){for(var o=t[i],s=0;s<e.length;s++)e[s][i]&&(e[s][i]instanceof A.RelationOp?n&&(o=e[s][i].applyTo(o,{className:r,id:n},i)):o=e[s][i].applyTo(o));return o},e.estimateAttributes=function(t,e,r,n){var i={};for(var o in t)i[o]=t[o];for(var s=0;s<e.length;s++)for(o in e[s])if(e[s][o]instanceof A.RelationOp)n&&(i[o]=e[s][o].applyTo(i[o],{className:r,id:n},o));else if((0,p.default)(o).call(o,".")){var a=o.split("."),u=a[0],l=a[a.length-1];i[u]=_({},t[u]);for(var h=_({},i),c=0;c<a.length-1;c++)h=h[a[c]];h[l]=e[s][o].applyTo(h[l])}else i[o]=e[s][o].applyTo(i[o]);return i},e.mergeFirstPendingState=function(t){var e=E(t),r=t[0];for(var n in e)if(r[n]&&e[n]){var i=r[n].mergeWith(e[n]);i&&(r[n]=i)}else r[n]=e[n]},e.popPendingState=E,e.pushPendingState=function(t){t.push({})},e.setPendingOp=function(t,e,r){var n=t.length-1;r?t[n][e]=r:delete t[n][e]},e.setServerData=function(t,e){for(var r in e)"undefined"!==typeof e[r]?t[r]=e[r]:delete t[r]};var f=c(r(23765)),d=c(r(87672)),p=c(r(78580)),m=c(r(59340)),g=c(r(27206)),v=c(r(96722)),y=c(r(98590)),w=c(r(73201)),b=c(r(56525)),A=r(4847);function M(t,e){var r=n(t);if(i){var a=i(t);e&&(a=o(a).call(a,(function(e){return s(t,e).enumerable}))),r.push.apply(r,a)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?a(r=M(Object(i),!0)).call(r,(function(e){(0,d.default)(t,e,i[e])})):u?l(t,u(i)):a(n=M(Object(i))).call(n,(function(e){h(t,e,s(i,e))}))}return t}function E(t){var e=t.shift();return t.length||(t[0]={}),e}},39311:(t,e,r)=>{"use strict";var n=r(3649),i=r(66419),o=r(65420),s=r(19996),a=r(41511),u=r(60530),l=u(r(23765)),h=u(r(81643)),c=u(r(41511)),f=u(r(3649)),d=u(r(20116)),p=u(r(2991)),m=u(r(78914)),g=u(r(86902));function v(t,e){var r="undefined"!==typeof o&&s(t)||t["@@iterator"];if(!r){if(a(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return y(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=r(97504).default,b=r(68051).default,A=r(85227).default,M=r(55370).default,_=r(11812).default;function E(t,e){if(e&&e.__type&&("Pointer"===e.__type||"Object"===e.__type)){for(var r in t){var n=t[r];if("string"===typeof n&&n===e.objectId)return!0;if(n.className===e.className&&n.objectId===e.objectId)return!0}return!1}return(0,h.default)(t).call(t,e)>-1}function x(t){return t._toFullJSON?t._toFullJSON():t}function S(t,e,r,n){if(e.className!==t)return!1;var i=e,o=n;for(var s in e.toJSON&&(i=e.toJSON()),n.toJSON&&(o=n.toJSON().where),i.className=t,o)if(!T(t,i,r,s,o[s]))return!1;return!0}function N(t,e,r){if((0,c.default)(t)){for(var n=0;n<t.length;n++)if(r(t[n],e))return!0;return!1}return r(t,e)}function T(t,e,r,n,i){if(null===i)return!1;if((0,h.default)(n).call(n,".")>=0){var o=n.split("."),s=o[0],a=(0,f.default)(o).call(o,1).join(".");return T(t,e[s]||{},r,a,i)}var u,m,g;if("$or"===n){for(u=0;u<i.length;u++)if(S(t,e,r,i[u]))return!0;return!1}if("$and"===n){for(u=0;u<i.length;u++)if(!S(t,e,r,i[u]))return!1;return!0}if("$nor"===n){for(u=0;u<i.length;u++)if(S(t,e,r,i[u]))return!1;return!0}if("$relatedTo"===n)return!1;if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(n))throw new A(A.INVALID_KEY_NAME,"Invalid Key: ".concat(n));if("object"!==(0,l.default)(i))return(0,c.default)(e[n])?(0,h.default)(m=e[n]).call(m,i)>-1:e[n]===i;if(i.__type)return"Pointer"===i.__type?N(e[n],i,(function(t,e){return"undefined"!==typeof t&&e.className===t.className&&e.objectId===t.objectId})):N(b(e[n]),b(i),w);for(var y in i)switch((g=i[y]).__type&&(g=b(g)),("[object Date]"===toString.call(g)||"string"===typeof g&&"Invalid Date"!==new Date(g)&&!isNaN(new Date(g)))&&(e[n]=new Date(e[n].iso?e[n].iso:e[n])),y){case"$lt":if(e[n]>=g)return!1;break;case"$lte":if(e[n]>g)return!1;break;case"$gt":if(e[n]<=g)return!1;break;case"$gte":if(e[n]<g)return!1;break;case"$ne":if(w(e[n],g))return!1;break;case"$in":if(!E(g,e[n]))return!1;break;case"$nin":if(E(g,e[n]))return!1;break;case"$all":for(u=0;u<g.length;u++){var R;if((0,h.default)(R=e[n]).call(R,g[u])<0)return!1}break;case"$exists":var C="undefined"!==typeof e[n],I=i.$exists;if("boolean"!==typeof i.$exists)break;if(!C&&I||C&&!I)return!1;break;case"$regex":if("object"===(0,l.default)(g))return g.test(e[n]);for(var P="",k=-2,O=(0,h.default)(g).call(g,"\\Q");O>-1;)P+=g.substring(k+2,O),(k=(0,h.default)(g).call(g,"\\E",O))>-1&&(P+=g.substring(O+2,k).replace(/\\\\\\\\E/g,"\\E").replace(/\W/g,"\\$&")),O=(0,h.default)(g).call(g,"\\Q",k);P+=g.substring(Math.max(O,k+2));var U=i.$options||"";if(U=U.replace("x","").replace("s",""),!new RegExp(P,U).test(e[n]))return!1;break;case"$nearSphere":return!(!g||!e[n])&&g.radiansTo(e[n])<=(i.$maxDistance||1/0);case"$within":if(!g||!e[n])return!1;var L=g.$box[0],B=g.$box[1];return!(L.latitude>B.latitude||L.longitude>B.longitude)&&(e[n].latitude>L.latitude&&e[n].latitude<B.latitude&&e[n].longitude>L.longitude&&e[n].longitude<B.longitude);case"$options":case"$maxDistance":break;case"$select":for(var D=(0,d.default)(r).call(r,(function(t,e,r){return S(g.query.className,t,r,g.query.where)})),F=0;F<D.length;F+=1){var G=x(D[F]);return w(e[n],G[g.key])}return!1;case"$dontSelect":for(var z=(0,d.default)(r).call(r,(function(t,e,r){return S(g.query.className,t,r,g.query.where)})),j=0;j<z.length;j+=1){var H=x(z[j]);return!w(e[n],H[g.key])}return!1;case"$inQuery":for(var W=(0,d.default)(r).call(r,(function(t,e,r){return S(g.className,t,r,g.where)})),V=0;V<W.length;V+=1){var q=x(W[V]);if(e[n].className===q.className&&e[n].objectId===q.objectId)return!0}return!1;case"$notInQuery":for(var K=(0,d.default)(r).call(r,(function(t,e,r){return S(g.className,t,r,g.where)})),J=0;J<K.length;J+=1){var X=x(K[J]);if(e[n].className===X.className&&e[n].objectId===X.objectId)return!1}return!0;case"$containedBy":var Y,Q=v(e[n]);try{for(Q.s();!(Y=Q.n()).done;){var Z=Y.value;if(!E(g,Z))return!1}}catch(nt){Q.e(nt)}finally{Q.f()}return!0;case"$geoWithin":var $,tt=(0,p.default)($=g.$polygon).call($,(function(t){return[t.latitude,t.longitude]}));return new M(tt).containsPoint(e[n]);case"$geoIntersects":var et=new M(e[n].coordinates),rt=new _(g.$point);return et.containsPoint(rt);default:return!1}return!0}var R={matchesQuery:S,validateQuery:function(t){var e,r=t;t.toJSON&&(r=t.toJSON().where);var n=["$and","$or","$nor","_rperm","_wperm","_perishable_token","_email_verify_token","_email_verify_token_expires_at","_account_lockout_expires_at","_failed_login_count"];(0,m.default)(e=(0,g.default)(r)).call(e,(function(t){if(r&&r[t]&&r[t].$regex&&"string"===typeof r[t].$options&&!r[t].$options.match(/^[imxs]+$/))throw new A(A.INVALID_QUERY,"Bad $options value for query: ".concat(r[t].$options));if((0,h.default)(n).call(n,t)<0&&!t.match(/^[a-zA-Z][a-zA-Z0-9_.]*$/))throw new A(A.INVALID_KEY_NAME,"Invalid key name: ".concat(t))}))}};t.exports=R},60792:(t,e,r)=>{"use strict";var n=r(23765),i=r(1068),o=r(52424),s=r(63978),a=r(34074),u=r(60530),l=u(r(93476)),h=u(r(63109)),c=u(r(51161)),f=u(r(26394)),d=u(r(69198)),p=u(r(51379)),m=u(r(214)),g=u(r(66380)),v=u(r(68051)),y=u(r(27206)),w=u(r(2463)),b=u(r(31334)),A=u(r(99525)),M=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=S(e);if(r&&r.has(t))return r.get(t);var i={};for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=s&&a?a(t,o):null;u&&(u.get||u.set)?s(i,o,u):i[o]=t[o]}i.default=t,r&&r.set(t,i);return i}(r(4847)),_=u(r(61054)),E=u(r(86283)),x=(r(62899),r(54098));function S(t){if("function"!==typeof o)return null;var e=new o,r=new o;return(S=function(t){return t?r:e})(t)}function N(t){var e=function(){if("undefined"===typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,g.default)(t);if(e){var o=(0,g.default)(this).constructor;r=i(n,arguments,o)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=r(12575),R=T.checkForSdkUpdates,C=T.trackEvent,I=T.TrackingEventName,P=T.getSubdomain,k=function(t){(0,p.default)(r,t);var e=N(r);function r(){return(0,f.default)(this,r),e.apply(this,arguments)}return(0,d.default)(r,null,[{key:"start",value:function(){var t=(0,c.default)(h.default.mark((function t(e){var n,i,o,s,a,u,l,c,f,d,p,m;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.appId,i=e.serverUrl,o=e.plugins,s=e.javascriptKey,a=e.masterKey,u=e.moralisSecret,e.disableVersionCheck,i){t.next=4;break}throw new Error("Moralis.start failed: serverUrl is required");case 4:if(n){t.next=6;break}throw new Error("Moralis.start failed: appId is required");case 6:u&&console.warn("Moralis.start warning: Using moralisSecret on the browser enviroment reveals critical information."),t.next=18;break;case 9:if(!u){t.next=18;break}return this.moralisSecret=u,t.next=13,this.getApiKeys(u);case 13:f=t.sent,d=f.web3ApiKey,p=f.speedyNodeApiKey,l=d,this.speedyNodeApiKey=p;case 18:if(this.initialize(n,s,a),this.serverURL=i,m={"x-moralis-platform":"JS SDK","x-moralis-platform-version":"1.12.0","x-moralis-build-target":"browser"},this.Web3API.initialize({serverUrl:i,apiKey:l,Moralis:r,headers:m}),this.SolanaAPI.initialize({serverUrl:i,apiKey:l,Moralis:r,headers:m}),!n||!i){t.next=29;break}return c={subdomain:P(i),sdk_type:"javascript",sdk_version:"1.12.0",sdk_enviroment:"browser",appId:n},t.next=27,this.initPlugins(o);case 27:t.next=30;break;case 29:c={sdk_type:"javascript",sdk_version:"1.12.0",sdk_enviroment:"browser"};case 30:R(),C(I.START_FUNCTION,i?P(i):null,c);case 32:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getApiKeys",value:function(){var t=(0,c.default)(h.default.mark((function t(e){var r,n;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=w.default.getRESTController(),t.next=4,r.ajax("GET","https://admin.moralis.io/api/publics/apiKeys",null,{"moralis-secret":e,Accept:"application/json","Content-Type":"application/json"});case 4:return n=t.sent,t.abrupt("return",n.response.result);case 8:throw t.prev=8,t.t0=t.catch(0),new Error("Could not fetch keys with moralisSecret");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"initialize",value:function(t,e){w.default.get("IS_NODE")&&!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SERVER_RENDERING&&console.log("Moralis: It looks like you're using the browser version of the SDK in a node.js environment. You should require('moralis/node') instead."),r._initialize(t,e)}},{key:"_initialize",value:function(t,e,r){w.default.set("APPLICATION_ID",t),w.default.set("JAVASCRIPT_KEY",e),w.default.set("MASTER_KEY",r),w.default.set("USE_MASTER_KEY",!1)}},{key:"setAsyncStorage",value:function(t){w.default.setAsyncStorage(t)}},{key:"setLocalDatastoreController",value:function(t){w.default.setLocalDatastoreController(t)}},{key:"applicationId",get:function(){return w.default.get("APPLICATION_ID")},set:function(t){w.default.set("APPLICATION_ID",t)}},{key:"javaScriptKey",get:function(){return w.default.get("JAVASCRIPT_KEY")},set:function(t){w.default.set("JAVASCRIPT_KEY",t)}},{key:"masterKey",get:function(){return w.default.get("MASTER_KEY")},set:function(t){w.default.set("MASTER_KEY",t)}},{key:"serverURL",get:function(){return w.default.get("SERVER_URL")},set:function(t){w.default.set("SERVER_URL",t)}},{key:"serverAuthToken",get:function(){return w.default.get("SERVER_AUTH_TOKEN")},set:function(t){w.default.set("SERVER_AUTH_TOKEN",t)}},{key:"serverAuthType",get:function(){return w.default.get("SERVER_AUTH_TYPE")},set:function(t){w.default.set("SERVER_AUTH_TYPE",t)}},{key:"liveQueryServerURL",get:function(){return w.default.get("LIVEQUERY_SERVER_URL")},set:function(t){w.default.set("LIVEQUERY_SERVER_URL",t)}},{key:"encryptedUser",get:function(){return w.default.get("ENCRYPTED_USER")},set:function(t){w.default.set("ENCRYPTED_USER",t)}},{key:"secret",get:function(){return w.default.get("ENCRYPTED_KEY")},set:function(t){w.default.set("ENCRYPTED_KEY",t)}},{key:"idempotency",get:function(){return w.default.get("IDEMPOTENCY")},set:function(t){w.default.set("IDEMPOTENCY",t)}}]),r}(E.default);k.ACL=r(91561).default,k.Analytics=r(51734),k.AnonymousUtils=r(27143).default,k.Cloud=r(44791),k.CLP=r(89212).default,k.CoreManager=r(2463),k.Config=r(39855).default,k.Error=r(85227).default,k.FacebookUtils=r(35216).default,k.File=r(96722).default,k.GeoPoint=r(11812).default,k.Polygon=r(55370).default,k.Installation=r(18786).default,k.LocalDatastore=r(16923),k.Object=r(98590).default,k.Op={Set:M.SetOp,Unset:M.UnsetOp,Increment:M.IncrementOp,Add:M.AddOp,Remove:M.RemoveOp,AddUnique:M.AddUniqueOp,Relation:M.RelationOp},k.Web3API=r(25551).default,k.SolanaAPI=r(40322).default,k.Push=r(26928),k.Query=r(76789).default,k.Relation=r(73201).default,k.Role=r(68466).default,k.Schema=r(8164).default,k.Session=r(26675).default,k.Storage=r(84837),k.User=r(90160).default,k.LiveQuery=r(53597).default,k.LiveQueryClient=r(52506).default,k.Web3=k,k.Units=r(7509),k.Elrond=r(30836).default,k.Erd=k.Elrond,k.Dot=r(98641).default,k.UI=r(7379).default,k.Chains=r(21582).default,k.AbstractWeb3Connector=r(33122).default,(0,x.filterConsole)(),k._request=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return w.default.getRESTController().request.apply(null,e)},k._ajax=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return w.default.getRESTController().ajax.apply(null,e)},k._decode=function(t,e){return(0,v.default)(e)},k._encode=function(t,e,r){return(0,y.default)(t,r)},k._getInstallationId=function(){return w.default.getInstallationController().currentInstallationId()},k.enableLocalDatastore=function(){k.LocalDatastore.isEnabled=!0},k.isLocalDatastoreEnabled=function(){return k.LocalDatastore.isEnabled},k.dumpLocalDatastore=function(){return k.LocalDatastore.isEnabled?k.LocalDatastore._getAllContents():(console.log("Moralis: Moralis.enableLocalDatastore() must be called first"),l.default.resolve({}))},k.enableEncryptedUser=function(){k.encryptedUser=!0},k.isEncryptedUserEnabled=function(){return k.encryptedUser},w.default.setCryptoController(b.default),w.default.setInstallationController(A.default),w.default.setRESTController(_.default),k.Moralis=k,t.exports=k},91561:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(86902)),s=i(r(23765)),a=i(r(26394)),u=i(r(69198)),l=i(r(87672)),h=i(r(68466)),c=i(r(90160)),f="*",d=function(){function t(e){if((0,a.default)(this,t),(0,l.default)(this,"permissionsById",void 0),this.permissionsById={},e&&"object"===(0,s.default)(e))if(e instanceof c.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else for(var r in e){var n=e[r];for(var i in this.permissionsById[r]={},n){var o=n[i];if("read"!==i&&"write"!==i)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!==typeof o)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[r][i]=o}}else if("function"===typeof e)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}return(0,u.default)(t,[{key:"toJSON",value:function(){var t={};for(var e in this.permissionsById)t[e]=this.permissionsById[e];return t}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=(0,o.default)(this.permissionsById),n=(0,o.default)(e.permissionsById);if(r.length!==n.length)return!1;for(var i in this.permissionsById){if(!e.permissionsById[i])return!1;if(this.permissionsById[i].read!==e.permissionsById[i].read)return!1;if(this.permissionsById[i].write!==e.permissionsById[i].write)return!1}return!0}},{key:"_setAccess",value:function(t,e,r){if(e instanceof c.default)e=e.id;else if(e instanceof h.default){var n=e.getName();if(!n)throw new TypeError("Role must have a name");e="role:".concat(n)}if("string"!==typeof e)throw new TypeError("userId must be a string.");if("boolean"!==typeof r)throw new TypeError("allowed must be either true or false.");var i=this.permissionsById[e];if(!i){if(!r)return;i={},this.permissionsById[e]=i}r?this.permissionsById[e][t]=!0:(delete i[t],0===(0,o.default)(i).length&&delete this.permissionsById[e])}},{key:"_getAccess",value:function(t,e){if(e instanceof c.default){if(!(e=e.id))throw new Error("Cannot get access for a ParseUser without an ID")}else if(e instanceof h.default){var r=e.getName();if(!r)throw new TypeError("Role must have a name");e="role:".concat(r)}var n=this.permissionsById[e];return!!n&&!!n[t]}},{key:"setReadAccess",value:function(t,e){this._setAccess("read",t,e)}},{key:"getReadAccess",value:function(t){return this._getAccess("read",t)}},{key:"setWriteAccess",value:function(t,e){this._setAccess("write",t,e)}},{key:"getWriteAccess",value:function(t){return this._getAccess("write",t)}},{key:"setPublicReadAccess",value:function(t){this.setReadAccess(f,t)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(f)}},{key:"setPublicWriteAccess",value:function(t){this.setWriteAccess(f,t)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(f)}},{key:"getRoleReadAccess",value:function(t){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:".concat(t))}},{key:"getRoleWriteAccess",value:function(t){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:".concat(t))}},{key:"setRoleReadAccess",value:function(t,e){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:".concat(t),e)}},{key:"setRoleWriteAccess",value:function(t,e){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:".concat(t),e)}}]),t}();e.default=d},89212:(t,e,r)=>{"use strict";var n=r(3649),i=r(66419),o=r(65420),s=r(19996),a=r(41511),u=r(86902),l=r(14310),h=r(20116),c=r(34074),f=r(78914),d=r(39649),p=r(20368),m=r(63978),g=r(60530);m(e,"__esModule",{value:!0}),e.default=void 0;var v=g(r(18777)),y=g(r(23765)),w=g(r(26394)),b=g(r(69198)),A=g(r(87672)),M=g(r(39392)),_=g(r(78580)),E=g(r(10062)),x=g(r(72119)),S=g(r(3649)),N=g(r(86902)),T=g(r(41511)),R=g(r(68466)),C=g(r(90160));function I(t,e){var r=u(t);if(l){var n=l(t);e&&(n=h(n).call(n,(function(e){return c(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?f(r=I(Object(i),!0)).call(r,(function(e){(0,A.default)(t,e,i[e])})):d?p(t,d(i)):f(n=I(Object(i))).call(n,(function(e){m(t,e,c(i,e))}))}return t}function k(t,e){var r="undefined"!==typeof o&&s(t)||t["@@iterator"];if(!r){if(a(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return O(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return O(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var U="*",L=new M.default;L.set("get",{}),L.set("find",{}),L.set("count",{}),L.set("create",{}),L.set("update",{}),L.set("delete",{}),L.set("addField",{});var B=new M.default;B.set("protectedFields",{});var D=function(){function t(e){var r=this;(0,w.default)(this,t),(0,A.default)(this,"permissionsMap",void 0),this.permissionsMap={};var n,i=k((0,x.default)(L).call(L));try{var o=function(){var t=(0,v.default)(n.value,2),e=t[0],i=t[1];r.permissionsMap[e]=P({},i);var o=e.charAt(0).toUpperCase()+(0,S.default)(e).call(e,1);r["get".concat(o,"RequiresAuthentication")]=function(){return this._getAccess(e,"requiresAuthentication")},r["set".concat(o,"RequiresAuthentication")]=function(t){this._setAccess(e,"requiresAuthentication",t)},r["get".concat(o,"PointerFields")]=function(){return this._getAccess(e,"pointerFields",!1)},r["set".concat(o,"PointerFields")]=function(t){this._setArrayAccess(e,"pointerFields",t)},r["get".concat(o,"Access")]=function(t){return this._getAccess(e,t)},r["set".concat(o,"Access")]=function(t,r){this._setAccess(e,t,r)},r["getPublic".concat(o,"Access")]=function(){return this["get".concat(o,"Access")](U)},r["setPublic".concat(o,"Access")]=function(t){this["set".concat(o,"Access")](U,t)},r["getRole".concat(o,"Access")]=function(t){return this["get".concat(o,"Access")](this._getRoleName(t))},r["setRole".concat(o,"Access")]=function(t,e){this["set".concat(o,"Access")](this._getRoleName(t),e)}};for(i.s();!(n=i.n()).done;)o()}catch(N){i.e(N)}finally{i.f()}var s,a=k((0,x.default)(B).call(B));try{for(a.s();!(s=a.n()).done;){var u=(0,v.default)(s.value,2),l=u[0],h=u[1];this.permissionsMap[l]=P({},h)}}catch(N){a.e(N)}finally{a.f()}if(e&&"object"===(0,y.default)(e))if(e instanceof C.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else if(e instanceof R.default)this.setRoleReadAccess(e,!0),this.setRoleWriteAccess(e,!0);else for(var c in e){var f,d=e[c],p=!!L.get(c),m=!!B.get(c),g=(0,_.default)(f=["readUserFields","writeUserFields"]).call(f,c);if("string"!==typeof c||!(p||m||g))throw new TypeError("Tried to create an CLP with an invalid permission type.");if(g){if((0,E.default)(d).call(d,(function(t){return"string"===typeof t}))){this.permissionsMap[c]=d;continue}throw new TypeError("Tried to create an CLP with an invalid permission value.")}for(var b in d){var M=d[b];if("boolean"!==typeof M&&!m&&"pointerFields"!==b)throw new TypeError("Tried to create an CLP with an invalid permission value.");this.permissionsMap[c][b]=M}}else if("function"===typeof e)throw new TypeError("ParseCLP constructed with a function. Did you forget ()?")}return(0,b.default)(t,[{key:"toJSON",value:function(){return P({},this.permissionsMap)}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=(0,N.default)(this.permissionsMap),n=(0,N.default)(e.permissionsMap);if(r.length!==n.length)return!1;for(var i in this.permissionsMap){if(!e.permissionsMap[i])return!1;var o=(0,N.default)(this.permissionsMap[i]),s=(0,N.default)(e.permissionsMap[i]);if(o.length!==s.length)return!1;for(var a in this.permissionsMap[i]){if(!e.permissionsMap[i][a])return!1;if(this.permissionsMap[i][a]!==e.permissionsMap[i][a])return!1}}return!0}},{key:"_getRoleName",value:function(t){var e=t;if(t instanceof R.default&&(e=t.getName()),"string"!==typeof e)throw new TypeError("role must be a Parse.Role or a String");return"role:".concat(e)}},{key:"_parseEntity",value:function(t){var e=t;if(e instanceof C.default){if(!(e=e.id))throw new Error("Cannot get access for a Parse.User without an id.")}else e instanceof R.default&&(e=this._getRoleName(e));if("string"!==typeof e)throw new TypeError("userId must be a string.");return e}},{key:"_setAccess",value:function(t,e,r){if(e=this._parseEntity(e),"boolean"!==typeof r)throw new TypeError("allowed must be either true or false.");if(!this.permissionsMap[t][e]){if(!r)return;this.permissionsMap[t][e]={}}r?this.permissionsMap[t][e]=!0:delete this.permissionsMap[t][e]}},{key:"_getAccess",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._parseEntity(e);var n=this.permissionsMap[t][e];return r?!!n&&!!this.permissionsMap[t][e]:n}},{key:"_setArrayAccess",value:function(t,e,r){if(e=this._parseEntity(e),this.permissionsMap[t][e]||(this.permissionsMap[t][e]=[]),!r||(0,T.default)(r)&&0===r.length)delete this.permissionsMap[t][e];else{if(!(0,T.default)(r)||!(0,E.default)(r).call(r,(function(t){return"string"===typeof t})))throw new TypeError("fields must be an array of strings or undefined.");this.permissionsMap[t][e]=r}}},{key:"_setGroupPointerPermission",value:function(t,e){if(this.permissionsMap[t]||(this.permissionsMap[t]=[]),!e||(0,T.default)(e)&&0===e.length)delete this.permissionsMap[t];else{if(!(0,T.default)(e)||!(0,E.default)(e).call(e,(function(t){return"string"===typeof t})))throw new TypeError("".concat(t,".pointerFields must be an array of strings or undefined."));this.permissionsMap[t]=e}}},{key:"_getGroupPointerPermissions",value:function(t){return this.permissionsMap[t]}},{key:"setReadUserFields",value:function(t){this._setGroupPointerPermission("readUserFields",t)}},{key:"getReadUserFields",value:function(){return this._getGroupPointerPermissions("readUserFields")}},{key:"setWriteUserFields",value:function(t){this._setGroupPointerPermission("writeUserFields",t)}},{key:"getWriteUserFields",value:function(){return this._getGroupPointerPermissions("writeUserFields")}},{key:"setProtectedFields",value:function(t,e){this._setArrayAccess("protectedFields",t,e)}},{key:"getProtectedFields",value:function(t){return this._getAccess("protectedFields",t,!1)}},{key:"setReadAccess",value:function(t,e){this._setAccess("find",t,e),this._setAccess("get",t,e),this._setAccess("count",t,e)}},{key:"getReadAccess",value:function(t){return this._getAccess("find",t)&&this._getAccess("get",t)&&this._getAccess("count",t)}},{key:"setWriteAccess",value:function(t,e){this._setAccess("create",t,e),this._setAccess("update",t,e),this._setAccess("delete",t,e),this._setAccess("addField",t,e)}},{key:"getWriteAccess",value:function(t){return this._getAccess("create",t)&&this._getAccess("update",t)&&this._getAccess("delete",t)&&this._getAccess("addField",t)}},{key:"setPublicReadAccess",value:function(t){this.setReadAccess(U,t)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(U)}},{key:"setPublicWriteAccess",value:function(t){this.setWriteAccess(U,t)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(U)}},{key:"setPublicProtectedFields",value:function(t){this.setProtectedFields(U,t)}},{key:"getPublicProtectedFields",value:function(){return this.getProtectedFields(U)}},{key:"getRoleReadAccess",value:function(t){return this.getReadAccess(this._getRoleName(t))}},{key:"getRoleWriteAccess",value:function(t){return this.getWriteAccess(this._getRoleName(t))}},{key:"setRoleReadAccess",value:function(t,e){this.setReadAccess(this._getRoleName(t),e)}},{key:"setRoleWriteAccess",value:function(t,e){this.setWriteAccess(this._getRoleName(t),e)}},{key:"getRoleProtectedFields",value:function(t){return this.getProtectedFields(this._getRoleName(t))}},{key:"setRoleProtectedFields",value:function(t,e){this.setProtectedFields(this._getRoleName(t),e)}}]),t}();e.default=D},39855:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(93476)),s=i(r(59340)),a=i(r(23765)),u=i(r(26394)),l=i(r(69198)),h=i(r(87672)),c=i(r(2463)),f=i(r(68051)),d=i(r(27206)),p=i(r(36675)),m=i(r(85227)),g=i(r(84837)),v=function(){function t(){(0,u.default)(this,t),(0,h.default)(this,"attributes",void 0),(0,h.default)(this,"_escapedAttributes",void 0),this.attributes={},this._escapedAttributes={}}return(0,l.default)(t,[{key:"get",value:function(t){return this.attributes[t]}},{key:"escape",value:function(t){var e=this._escapedAttributes[t];if(e)return e;var r=this.attributes[t],n="";return null!=r&&(n=(0,p.default)(r.toString())),this._escapedAttributes[t]=n,n}}],[{key:"current",value:function(){return c.default.getConfigController().current()}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.default.getConfigController().get(t)}},{key:"save",value:function(t,e){var r=c.default.getConfigController();return r.save(t,e).then((function(){return r.get({useMasterKey:!0})}),(function(t){return o.default.reject(t)}))}},{key:"_clearCache",value:function(){y=null}}]),t}(),y=null,w="currentConfig";function b(t){try{var e=JSON.parse(t);if(e&&"object"===(0,a.default)(e))return(0,f.default)(e)}catch(r){return null}}var A={current:function(){if(y)return y;var t=new v,e=g.default.generatePath(w);if(!g.default.async()){var r=g.default.getItem(e);if(r){var n=b(r);n&&(t.attributes=n,y=t)}return t}return g.default.getItemAsync(e).then((function(e){if(e){var r=b(e);r&&(t.attributes=r,y=t)}return t}))},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.default.getRESTController().request("GET","config",{},t).then((function(t){if(!t||!t.params){var e=new m.default(m.default.INVALID_JSON,"Config JSON response invalid.");return o.default.reject(e)}var r=new v;for(var n in r.attributes={},t.params)r.attributes[n]=(0,f.default)(t.params[n]);return y=r,g.default.setItemAsync(g.default.generatePath(w),(0,s.default)(t.params)).then((function(){return r}))}))},save:function(t,e){var r=c.default.getRESTController(),n={};for(var i in t)n[i]=(0,d.default)(t[i]);return r.request("PUT","config",{params:n,masterKeyOnly:e},{useMasterKey:!0}).then((function(t){if(t&&t.result)return o.default.resolve();var e=new m.default(m.default.INTERNAL_SERVER_ERROR,"Error occured updating Config.");return o.default.reject(e)}))}};c.default.setConfigController(A);var M=v;e.default=M},85227:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(63978)),a=o(r(77766)),u=o(r(26394)),l=o(r(69198)),h=o(r(5824)),c=o(r(51379)),f=o(r(214)),d=o(r(66380));function p(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,f.default)(this,r)}}var m=function(t){(0,c.default)(r,t);var e=p(r);function r(t,n){var i;return(0,u.default)(this,r),(i=e.call(this,n)).code=t,(0,s.default)((0,h.default)(i),"message",{enumerable:!0,value:n}),i}return(0,l.default)(r,[{key:"toString",value:function(){var t;return(0,a.default)(t="ParseError: ".concat(this.code," ")).call(t,this.message)}}]),r}((0,o(r(74803)).default)(Error));m.OTHER_CAUSE=-1,m.INTERNAL_SERVER_ERROR=1,m.CONNECTION_FAILED=100,m.OBJECT_NOT_FOUND=101,m.INVALID_QUERY=102,m.INVALID_CLASS_NAME=103,m.MISSING_OBJECT_ID=104,m.INVALID_KEY_NAME=105,m.INVALID_POINTER=106,m.INVALID_JSON=107,m.COMMAND_UNAVAILABLE=108,m.NOT_INITIALIZED=109,m.INCORRECT_TYPE=111,m.INVALID_CHANNEL_NAME=112,m.PUSH_MISCONFIGURED=115,m.OBJECT_TOO_LARGE=116,m.OPERATION_FORBIDDEN=119,m.CACHE_MISS=120,m.INVALID_NESTED_KEY=121,m.INVALID_FILE_NAME=122,m.INVALID_ACL=123,m.TIMEOUT=124,m.INVALID_EMAIL_ADDRESS=125,m.MISSING_CONTENT_TYPE=126,m.MISSING_CONTENT_LENGTH=127,m.INVALID_CONTENT_LENGTH=128,m.FILE_TOO_LARGE=129,m.FILE_SAVE_ERROR=130,m.DUPLICATE_VALUE=137,m.INVALID_ROLE_NAME=139,m.EXCEEDED_QUOTA=140,m.SCRIPT_FAILED=141,m.VALIDATION_ERROR=142,m.INVALID_IMAGE_DATA=143,m.UNSAVED_FILE_ERROR=151,m.INVALID_PUSH_TIME_ERROR=152,m.FILE_DELETE_ERROR=153,m.FILE_DELETE_UNNAMED_ERROR=161,m.REQUEST_LIMIT_EXCEEDED=155,m.DUPLICATE_REQUEST=159,m.INVALID_EVENT_NAME=160,m.USERNAME_MISSING=200,m.PASSWORD_MISSING=201,m.USERNAME_TAKEN=202,m.EMAIL_TAKEN=203,m.EMAIL_MISSING=204,m.EMAIL_NOT_FOUND=205,m.SESSION_MISSING=206,m.MUST_CREATE_USER_THROUGH_SIGNUP=207,m.ACCOUNT_ALREADY_LINKED=208,m.INVALID_SESSION_TOKEN=209,m.MFA_ERROR=210,m.MFA_TOKEN_REQUIRED=211,m.LINKED_ID_MISSING=250,m.INVALID_LINKED_SESSION=251,m.UNSUPPORTED_SERVICE=252,m.INVALID_SCHEMA_OPERATION=255,m.AGGREGATE_ERROR=600,m.FILE_READ_ERROR=601,m.X_DOMAIN_REQUEST=602;var g=m;e.default=g},96722:(t,e,r)=>{"use strict";var n=r(86902),i=r(14310),o=r(20116),s=r(34074),a=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var f=c(r(63109)),d=c(r(41511)),p=c(r(81643)),m=c(r(3649)),g=c(r(78914)),v=c(r(86902)),y=c(r(23765)),w=c(r(51161)),b=c(r(26394)),A=c(r(69198)),M=c(r(87672)),_=c(r(2463)),E=r(42156);function x(t,e){var r=n(t);if(i){var a=i(t);e&&(a=o(a).call(a,(function(e){return s(t,e).enumerable}))),r.push.apply(r,a)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?a(r=x(Object(i),!0)).call(r,(function(e){(0,M.default)(t,e,i[e])})):u?l(t,u(i)):a(n=x(Object(i))).call(n,(function(e){h(t,e,s(i,e))}))}return t}var N=r(85227).default,T=/^data:([a-zA-Z]+\/[-a-zA-Z0-9+.]+)(;charset=[a-zA-Z0-9\-/]*)?;base64,/,R=function(){function t(e,r,n,i,o){(0,b.default)(this,t),(0,M.default)(this,"_name",void 0),(0,M.default)(this,"_url",void 0),(0,M.default)(this,"_hash",void 0),(0,M.default)(this,"_ipfs",void 0),(0,M.default)(this,"_source",void 0),(0,M.default)(this,"_previousSave",void 0),(0,M.default)(this,"_data",void 0),(0,M.default)(this,"_requestTask",void 0),(0,M.default)(this,"_metadata",void 0),(0,M.default)(this,"_tags",void 0);var s=n||"";if(this._name=e,this._metadata=i||{},this._tags=o||{},void 0!==r)if((0,d.default)(r))this._data=t.encodeBase64(r),this._source={format:"base64",base64:this._data,type:s};else if("undefined"!==typeof Blob&&r instanceof Blob)this._source={format:"file",file:r,type:s};else if(r&&"string"===typeof r.uri&&void 0!==r.uri)this._source={format:"uri",uri:r.uri,type:s};else{if(!r||"string"!==typeof r.base64)throw new TypeError("Cannot create a Parse.File with that data.");var a=r.base64,u=(0,p.default)(a).call(a,",");if(-1!==u){var l=T.exec((0,m.default)(a).call(a,0,u+1));this._data=(0,m.default)(a).call(a,u+1),this._source={format:"base64",base64:this._data,type:l[1]}}else this._data=a,this._source={format:"base64",base64:a,type:s}}}return(0,A.default)(t,[{key:"getData",value:function(){var t=(0,w.default)(f.default.mark((function t(){var e,r,n,i=this;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._data){t.next=2;break}return t.abrupt("return",this._data);case 2:if(this._url){t.next=4;break}throw new Error("Cannot retrieve data for unsaved ParseFile.");case 4:return e={requestTask:function(t){return i._requestTask=t}},r=_.default.getFileController(),t.next=8,r.download(this._url,e);case 8:return n=t.sent,this._data=n.base64,t.abrupt("return",this._data);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"name",value:function(){return this._name}},{key:"url",value:function(t){if(t=t||{},this._url)return t.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url}},{key:"ipfs",value:function(){return this._ipfs}},{key:"hash",value:function(){return this._hash}},{key:"metadata",value:function(){return this._metadata}},{key:"tags",value:function(){return this._tags}},{key:"save",value:function(t){var e=this;(t=t||{}).requestTask=function(t){return e._requestTask=t},t.metadata=this._metadata,t.tags=this._tags;var r=_.default.getFileController();if(this._previousSave||("file"===this._source.format?this._previousSave=r.saveFile(this._name,this._source,t).then((function(t){return e._name=t.name,e._url=t.url,e._hash=t.hash,e._ipfs=t.ipfs,e._data=null,e._requestTask=null,e})):"uri"===this._source.format?this._previousSave=r.download(this._source.uri,t).then((function(n){if(!n||!n.base64)return{};var i={format:"base64",base64:n.base64,type:n.contentType};return e._data=n.base64,e._requestTask=null,r.saveBase64(e._name,i,t)})).then((function(t){return e._name=t.name,e._url=t.url,e._hash=t.hash,e._ipfs=t.ipfs,e._requestTask=null,e})):this._previousSave=r.saveBase64(this._name,this._source,t).then((function(t){return e._name=t.name,e._url=t.url,e._hash=t.hash,e._ipfs=t.ipfs,e._requestTask=null,e}))),this._previousSave)return this._previousSave}},{key:"saveIPFS",value:function(t){return this.save(S(S({},t),{},{ipfs:!0}))}},{key:"cancel",value:function(){this._requestTask&&"function"===typeof this._requestTask.abort&&this._requestTask.abort(),this._requestTask=null}},{key:"destroy",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._name)throw new N(N.FILE_DELETE_UNNAMED_ERROR,"Cannot delete an unnamed file.");var r={useMasterKey:!0};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),_.default.getFileController().deleteFile(this._name,r).then((function(){return t._data=null,t._requestTask=null,t}))}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url,ipfs:this._ipfs,hash:this._hash}}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.name()===e.name()&&this.url()===e.url()&&"undefined"!==typeof this.url()}},{key:"setMetadata",value:function(t){var e,r=this;t&&"object"===(0,y.default)(t)&&(0,g.default)(e=(0,v.default)(t)).call(e,(function(e){r.addMetadata(e,t[e])}))}},{key:"addMetadata",value:function(t,e){"string"===typeof t&&(this._metadata[t]=e)}},{key:"setTags",value:function(t){var e,r=this;t&&"object"===(0,y.default)(t)&&(0,g.default)(e=(0,v.default)(t)).call(e,(function(e){r.addTag(e,t[e])}))}},{key:"addTag",value:function(t,e){"string"===typeof t&&(this._tags[t]=e)}}],[{key:"fromJSON",value:function(e){if("File"!==e.__type)throw new TypeError("JSON object does not represent a ParseFile");var r=new t(e.name);return r._url=e.url,r._hash=e.hash,r._ipfs=e.ipfs,r}},{key:"encodeBase64",value:function(t){return(0,E.encodeBase64)(t)}}]),t}();_.default.setFileController(r(95757));var C=R;e.default=C,e.b64Digit=E.b64Digit},95757:(t,e,r)=>{"use strict";var n=r(86902),i=r(14310),o=r(20116),s=r(34074),a=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530),f=c(r(63109)),d=c(r(93476)),p=(c(r(81643)),c(r(87672))),m=c(r(18777)),g=c(r(51161)),v=c(r(2463)),y=r(42156);function w(t,e){var r=n(t);if(i){var a=i(t);e&&(a=o(a).call(a,(function(e){return s(t,e).enumerable}))),r.push.apply(r,a)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?a(r=w(Object(i),!0)).call(r,(function(e){(0,p.default)(t,e,i[e])})):u?l(t,u(i)):a(n=w(Object(i))).call(n,(function(e){h(t,e,s(i,e))}))}return t}var A=null;"undefined"!==typeof XMLHttpRequest&&(A=XMLHttpRequest);var M={saveFile:function(){var t=(0,g.default)(f.default.mark((function t(e,r,n){var i,o,s,a,u,l;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("file"===r.format){t.next=2;break}throw new Error("saveFile can only be used with File-type sources.");case 2:return t.next=4,new d.default((function(t,e){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=function(t){return e(t)},n.readAsDataURL(r.file)}));case 4:return i=t.sent,o=i.split(","),s=(0,m.default)(o,2),a=s[0],u=s[1],l={format:"base64",base64:u||a,type:r.type||(r.file?r.file.type:null)},t.next=10,M.saveBase64(e,l,n);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),saveBase64:function(t,e,r){if("base64"!==e.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var n={base64:e.base64,fileData:{ipfs:r.ipfs,metadata:b({},r.metadata),tags:b({},r.tags)}};delete r.metadata,delete r.tags,e.type&&(n._ContentType=e.type);var i="files/".concat(t);return v.default.getRESTController().request("POST",i,n,r)},download:function(t,e){return A?this.downloadAjax(t,e):d.default.reject("Cannot make a request: No definition of XMLHttpRequest was found.")},downloadAjax:function(t,e){return new d.default((function(r,n){var i=new A;i.open("GET",t,!0),i.responseType="arraybuffer",i.onerror=function(t){n(t)},i.onreadystatechange=function(){if(i.readyState===i.DONE){if(!this.response)return r({});var t=new Uint8Array(this.response);r({base64:(0,y.encodeBase64)(t),contentType:i.getResponseHeader("content-type")})}},e.requestTask(i),i.send()}))},deleteFile:function(t,e){var r={"X-Parse-Application-ID":v.default.get("APPLICATION_ID")};e.useMasterKey&&(r["X-Parse-Master-Key"]=v.default.get("MASTER_KEY"));var n=v.default.get("SERVER_URL");return"/"!==n[n.length-1]&&(n+="/"),n+="files/".concat(t),v.default.getRESTController().ajax("DELETE",n,"",r).catch((function(t){return t&&"SyntaxError: Unexpected end of JSON input"!==t?v.default.getRESTController().handleError(t):d.default.resolve()}))},_setXHR:function(t){A=t},_getXHR:function(){return A}};t.exports=M},42156:t=>{"use strict";function e(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new TypeError("Tried to encode large digit ".concat(t," in base64."))}t.exports={encodeBase64:function(t){var r=[];r.length=Math.ceil(t.length/3);for(var n=0;n<r.length;n++){var i=t[3*n],o=t[3*n+1]||0,s=t[3*n+2]||0,a=3*n+1<t.length,u=3*n+2<t.length;r[n]=[e(i>>2&63),e(i<<4&48|o>>4&15),a?e(o<<2&60|s>>6&3):"=",u?e(63&s):"="].join("")}return r.join("")},b64Digit:e}},11812:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(41511)),s=i(r(23765)),a=i(r(26394)),u=i(r(69198)),l=i(r(87672)),h=function(){function t(e,r){(0,a.default)(this,t),(0,l.default)(this,"_latitude",void 0),(0,l.default)(this,"_longitude",void 0),(0,o.default)(e)?(t._validate(e[0],e[1]),this._latitude=e[0],this._longitude=e[1]):"object"===(0,s.default)(e)?(t._validate(e.latitude,e.longitude),this._latitude=e.latitude,this._longitude=e.longitude):void 0!==e&&void 0!==r?(t._validate(e,r),this._latitude=e,this._longitude=r):(this._latitude=0,this._longitude=0)}return(0,u.default)(t,[{key:"latitude",get:function(){return this._latitude},set:function(e){t._validate(e,this.longitude),this._latitude=e}},{key:"longitude",get:function(){return this._longitude},set:function(e){t._validate(this.latitude,e),this._longitude=e}},{key:"toJSON",value:function(){return t._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(e){return e instanceof t&&this.latitude===e.latitude&&this.longitude===e.longitude}},{key:"radiansTo",value:function(t){var e=Math.PI/180,r=this.latitude*e,n=this.longitude*e,i=t.latitude*e,o=t.longitude*e,s=Math.sin((r-i)/2),a=Math.sin((n-o)/2),u=s*s+Math.cos(r)*Math.cos(i)*a*a;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))}},{key:"kilometersTo",value:function(t){return 6371*this.radiansTo(t)}},{key:"milesTo",value:function(t){return 3958.8*this.radiansTo(t)}}],[{key:"_validate",value:function(t,e){if(isNaN(t)||isNaN(e)||"number"!==typeof t||"number"!==typeof e)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(t<-90)throw new TypeError("GeoPoint latitude out of bounds: ".concat(t," < -90.0."));if(t>90)throw new TypeError("GeoPoint latitude out of bounds: ".concat(t," > 90.0."));if(e<-180)throw new TypeError("GeoPoint longitude out of bounds: ".concat(e," < -180.0."));if(e>180)throw new TypeError("GeoPoint longitude out of bounds: ".concat(e," > 180.0."))}},{key:"current",value:function(){return navigator.geolocation.getCurrentPosition((function(e){return new t(e.coords.latitude,e.coords.longitude)}))}}]),t}();e.default=h},18786:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(23765)),a=o(r(69198)),u=o(r(26394)),l=o(r(51379)),h=o(r(214)),c=o(r(66380)),f=o(r(98590));function d(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,c.default)(t);if(e){var o=(0,c.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,h.default)(this,r)}}var p=function(t){(0,l.default)(r,t);var e=d(r);function r(t){var n;if((0,u.default)(this,r),n=e.call(this,"_Installation"),t&&"object"===(0,s.default)(t)&&!n.set(t||{}))throw new Error("Can't create an invalid Installation");return n}return(0,a.default)(r)}(f.default);e.default=p,f.default.registerSubclass("_Installation",p)},53597:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(93476)),s=i(r(81643)),a=i(r(63109)),u=i(r(18777)),l=i(r(51161)),h=i(r(9745)),c=i(r(52506)),f=i(r(2463));function d(){return f.default.getLiveQueryController().getDefaultLiveQueryClient()}var p=new h.default;p.open=(0,l.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:t.sent.open();case 4:case"end":return t.stop()}}),t)}))),p.close=(0,l.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:t.sent.close();case 4:case"end":return t.stop()}}),t)}))),p.on("error",(function(){}));var m,g=p;e.default=g;var v={setDefaultLiveQueryClient:function(t){m=t},getDefaultLiveQueryClient:function(){return(0,l.default)(a.default.mark((function t(){var e,r,n,i,l,h,d,g,v,y,w,b;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m){t.next=2;break}return t.abrupt("return",m);case 2:return t.next=4,o.default.all([f.default.getUserController().currentUserAsync(),f.default.getInstallationController().currentInstallationId()]);case 4:if(e=t.sent,r=(0,u.default)(e,2),n=r[0],i=r[1],l=n?n.getSessionToken():void 0,!(h=f.default.get("LIVEQUERY_SERVER_URL"))||0===(0,s.default)(h).call(h,"ws")){t.next=12;break}throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");case 12:return h||(d=f.default.get("SERVER_URL"),g=0===(0,s.default)(d).call(d,"https")?"wss://":"ws://",v=d.replace(/^https?:\/\//,""),h=g+v,f.default.set("LIVEQUERY_SERVER_URL",h)),y=f.default.get("APPLICATION_ID"),w=f.default.get("JAVASCRIPT_KEY"),b=f.default.get("MASTER_KEY"),(m=new c.default({applicationId:y,serverURL:h,javascriptKey:w,masterKey:b,sessionToken:l,installationId:i})).on("error",(function(t){p.emit("error",t)})),m.on("open",(function(){p.emit("open")})),m.on("close",(function(){p.emit("close")})),t.abrupt("return",m);case 21:case"end":return t.stop()}}),t)})))()},_clearCachedDefaultClient:function(){m=null}};f.default.setLiveQueryController(v)},98590:(t,e,r)=>{"use strict";var n=r(23765),i=r(86902),o=r(14310),s=r(20116),a=r(34074),u=r(78914),l=r(39649),h=r(20368),c=r(63978),f=r(3649),d=r(66419),p=r(65420),m=r(19996),g=r(41511),v=r(52424),y=r(60530);c(e,"__esModule",{value:!0}),e.default=void 0;var w=y(r(63109)),b=y(r(51161)),A=y(r(23765)),M=y(r(26394)),_=y(r(69198)),E=y(r(87672)),x=y(r(81643)),S=y(r(56474)),N=y(r(86902)),T=y(r(78914)),R=y(r(59340)),C=y(r(78580)),I=y(r(21611)),P=y(r(77766)),k=y(r(41511)),O=y(r(93476)),U=y(r(54943)),L=y(r(63978)),B=y(r(94473)),D=y(r(2991)),F=y(r(2463)),G=y(r(26915)),z=y(r(68051)),j=y(r(27206)),H=y(r(36675)),W=y(r(91561)),V=y(r(73047)),q=y(r(85227)),K=y(r(96722)),J=r(64719),X=r(63363),Y=r(4847),Q=y(r(76789)),Z=y(r(73201)),$=it(r(62605)),tt=y(r(69362)),et=it(r(32045)),rt=y(r(36874));function nt(t){if("function"!==typeof v)return null;var e=new v,r=new v;return(nt=function(t){return t?r:e})(t)}function it(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=nt(e);if(r&&r.has(t))return r.get(t);var i={};for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=c&&a?a(t,o):null;s&&(s.get||s.set)?c(i,o,s):i[o]=t[o]}return i.default=t,r&&r.set(t,i),i}function ot(t,e){var r="undefined"!==typeof p&&m(t)||t["@@iterator"];if(!r){if(g(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return st(t,e);var n=f(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return d(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function at(t,e){var r=i(t);if(o){var n=o(t);e&&(n=s(n).call(n,(function(e){return a(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?u(r=at(Object(i),!0)).call(r,(function(e){(0,E.default)(t,e,i[e])})):l?h(t,l(i)):u(n=at(Object(i))).call(n,(function(e){c(t,e,a(i,e))}))}return t}var lt=r(90042).v4,ht={},ct=0,ft=!F.default.get("IS_NODE");function dt(){var t=F.default.get("SERVER_URL");"/"!==t[t.length-1]&&(t+="/");var e=t.replace(/https?:\/\//,"");return e.substr((0,x.default)(e).call(e,"/"))}ft?F.default.setObjectStateController($):F.default.setObjectStateController(et);var pt=function(){function t(e,r,n){(0,M.default)(this,t),(0,E.default)(this,"id",void 0),(0,E.default)(this,"_localId",void 0),(0,E.default)(this,"_objCount",void 0),(0,E.default)(this,"className",void 0),"function"===typeof this.initialize&&this.initialize.apply(this,arguments);var i=null;if(this._objCount=ct++,"string"===typeof e)this.className=e,r&&"object"===(0,A.default)(r)&&(i=r);else if(e&&"object"===(0,A.default)(e)){for(var o in this.className=e.className,i={},e)"className"!==o&&(i[o]=e[o]);r&&"object"===(0,A.default)(r)&&(n=r)}if(i&&!this.set(i,n))throw new Error("Can't create an invalid Parse Object")}return(0,_.default)(t,[{key:"attributes",get:function(){var t=F.default.getObjectStateController();return(0,S.default)(t.estimateAttributes(this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}},{key:"_getId",value:function(){if("string"===typeof this.id)return this.id;if("string"===typeof this._localId)return this._localId;var t="local".concat(lt());return this._localId=t,t}},{key:"_getStateIdentifier",value:function(){if(ft){var t=this.id;return t||(t=this._getId()),{id:t,className:this.className}}return this}},{key:"_getServerData",value:function(){return F.default.getObjectStateController().getServerData(this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var t=this._getServerData(),e={};for(var r in t)e[r]=void 0;F.default.getObjectStateController().setServerData(this._getStateIdentifier(),e)}},{key:"_getPendingOps",value:function(){return F.default.getObjectStateController().getPendingOps(this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(t){var e=this._getPendingOps(),r=e[e.length-1],n=t||(0,N.default)(r);(0,T.default)(n).call(n,(function(t){delete r[t]}))}},{key:"_getDirtyObjectAttributes",value:function(){var e=this.attributes,r=F.default.getObjectStateController().getObjectCache(this._getStateIdentifier()),n={};for(var i in e){var o=e[i];if(o&&"object"===(0,A.default)(o)&&!(o instanceof t)&&!(o instanceof K.default)&&!(o instanceof Z.default))try{var s=(0,j.default)(o,!1,!0),a=(0,R.default)(s);r[i]!==a&&(n[i]=o)}catch(u){n[i]=o}}return n}},{key:"_toFullJSON",value:function(t,e){var r=this.toJSON(t,e);return r.__type="Object",r.className=this.className,r}},{key:"_getSaveJSON",value:function(){var t=this._getPendingOps(),e=this._getDirtyObjectAttributes(),r={};for(var n in e){for(var i=!1,o=0;o<t.length;o+=1)for(var s in t[o]){if((0,C.default)(s).call(s,"."))if(s.split(".")[0]===n){i=!0;break}}i||(r[n]=new Y.SetOp(e[n]).toJSON())}for(n in t[0])r[n]=t[0][n].toJSON();return r}},{key:"_getSaveParams",value:function(){var t=this.id?"PUT":"POST",e=this._getSaveJSON(),r="classes/".concat(this.className);return this.id?r+="/".concat(this.id):"_User"===this.className&&(r="users"),{method:t,body:e,path:r}}},{key:"_finishFetch",value:function(t){!this.id&&t.objectId&&(this.id=t.objectId);var e=F.default.getObjectStateController();e.initializeState(this._getStateIdentifier());var r={};for(var n in t)"ACL"===n?r[n]=new W.default(t[n]):"objectId"!==n&&(r[n]=(0,z.default)(t[n]),r[n]instanceof Z.default&&r[n]._ensureParentAndKey(this,n));r.createdAt&&"string"===typeof r.createdAt&&(r.createdAt=(0,V.default)(r.createdAt)),r.updatedAt&&"string"===typeof r.updatedAt&&(r.updatedAt=(0,V.default)(r.updatedAt)),!r.updatedAt&&r.createdAt&&(r.updatedAt=r.createdAt),e.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_setExisted",value:function(t){var e=F.default.getObjectStateController().getState(this._getStateIdentifier());e&&(e.existed=t)}},{key:"_migrateId",value:function(t){if(this._localId&&t)if(ft){var e=F.default.getObjectStateController(),r=e.removeState(this._getStateIdentifier());this.id=t,delete this._localId,r&&e.initializeState(this._getStateIdentifier(),r)}else this.id=t,delete this._localId}},{key:"_handleSaveResponse",value:function(t,e){var r={},n=F.default.getObjectStateController(),i=n.popPendingState(this._getStateIdentifier());for(var o in i)i[o]instanceof Y.RelationOp?r[o]=i[o].applyTo(void 0,this,o):o in t||(0,C.default)(o).call(o,".")||(r[o]=i[o].applyTo(void 0));for(o in t)if("createdAt"!==o&&"updatedAt"!==o||"string"!==typeof t[o]){if("ACL"===o)r[o]=new W.default(t[o]);else if("objectId"!==o){var s=(0,z.default)(t[o]);s&&(0,I.default)(s)===Object.prototype?r[o]=ut(ut({},this.attributes[o]),s):r[o]=s,r[o]instanceof Y.UnsetOp&&(r[o]=void 0)}}else r[o]=(0,V.default)(t[o]);r.createdAt&&!r.updatedAt&&(r.updatedAt=r.createdAt),this._migrateId(t.objectId),201!==e&&this._setExisted(!0),n.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_handleSaveError",value:function(){F.default.getObjectStateController().mergeFirstPendingState(this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(t,e){var r,n=this.id?(0,P.default)(r="".concat(this.className,":")).call(r,this.id):this;t=t||[n];var i={},o=this.attributes;for(var s in o)"createdAt"!==s&&"updatedAt"!==s||!o[s].toJSON?i[s]=(0,j.default)(o[s],!1,!1,t,e):i[s]=o[s].toJSON();var a=this._getPendingOps();for(var u in a[0])i[u]=a[0][u].toJSON(e);return this.id&&(i.objectId=this.id),i}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.className===e.className&&this.id===e.id&&"undefined"!==typeof this.id}},{key:"dirty",value:function(t){if(!this.id)return!0;var e=this._getPendingOps(),r=this._getDirtyObjectAttributes();if(t){if(r.hasOwnProperty(t))return!0;for(var n=0;n<e.length;n++)if(e[n].hasOwnProperty(t))return!0;return!1}return 0!==(0,N.default)(e[0]).length||0!==(0,N.default)(r).length}},{key:"dirtyKeys",value:function(){for(var t=this._getPendingOps(),e={},r=0;r<t.length;r++)for(var n in t[r])e[n]=!0;var i=this._getDirtyObjectAttributes();for(var o in i)e[o]=!0;return(0,N.default)(e)}},{key:"isDataAvailable",value:function(){var t=this._getServerData();return!!(0,N.default)(t).length}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"toOfflinePointer",value:function(){if(!this._localId)throw new Error("Cannot create a offline pointer to a saved ParseObject");return{__type:"Object",className:this.className,_localId:this._localId}}},{key:"get",value:function(t){return this.attributes[t]}},{key:"relation",value:function(t){var e=this.get(t);if(e){if(!(e instanceof Z.default))throw new Error("Called relation() on non-relation field ".concat(t));return e._ensureParentAndKey(this,t),e}return new Z.default(this,t)}},{key:"escape",value:function(t){var e=this.attributes[t];if(null==e)return"";if("string"!==typeof e){if("function"!==typeof e.toString)return"";e=e.toString()}return(0,H.default)(e)}},{key:"has",value:function(t){var e=this.attributes;return!!e.hasOwnProperty(t)&&null!=e[t]}},{key:"set",value:function(t,e,r){var n={},i={};if(t&&"object"===(0,A.default)(t))n=t,r=e;else{if("string"!==typeof t)return this;n[t]=e}r=r||{};var o=[];for(var s in"function"===typeof this.constructor.readOnlyAttributes&&(o=(0,P.default)(o).call(o,this.constructor.readOnlyAttributes())),n)if("createdAt"!==s&&"updatedAt"!==s){if((0,x.default)(o).call(o,s)>-1)throw new Error("Cannot modify readonly attribute: ".concat(s));if(r.unset)i[s]=new Y.UnsetOp;else if(n[s]instanceof Y.Op)i[s]=n[s];else if(n[s]&&"object"===(0,A.default)(n[s])&&"string"===typeof n[s].__op)i[s]=(0,Y.opFromJSON)(n[s]);else if("objectId"===s||"id"===s)"string"===typeof n[s]&&(this.id=n[s]);else if("ACL"!==s||"object"!==(0,A.default)(n[s])||n[s]instanceof W.default)if(n[s]instanceof Z.default){var a=new Z.default(this,s);a.targetClassName=n[s].targetClassName,i[s]=new Y.SetOp(a)}else i[s]=new Y.SetOp(n[s]);else i[s]=new Y.SetOp(new W.default(n[s]))}var u=this.attributes,l=this._getServerData();if("string"===typeof t&&(0,C.default)(t).call(t,".")&&!l[t.split(".")[0]])return this;var h={};for(var c in i)i[c]instanceof Y.RelationOp?h[c]=i[c].applyTo(u[c],this,c):i[c]instanceof Y.UnsetOp||(h[c]=i[c].applyTo(u[c]));if(!r.ignoreValidation){var f=this.validate(h);if(f)return"function"===typeof r.error&&r.error(this,f),!1}var d=this._getPendingOps(),p=d.length-1,m=F.default.getObjectStateController();for(var g in i){var v=i[g].mergeWith(d[p][g]);m.setPendingOp(this._getStateIdentifier(),g,v)}return this}},{key:"unset",value:function(t,e){return(e=e||{}).unset=!0,this.set(t,null,e)}},{key:"increment",value:function(t,e){if("undefined"===typeof e&&(e=1),"number"!==typeof e)throw new Error("Cannot increment by a non-numeric amount.");return this.set(t,new Y.IncrementOp(e))}},{key:"decrement",value:function(t,e){if("undefined"===typeof e&&(e=1),"number"!==typeof e)throw new Error("Cannot decrement by a non-numeric amount.");return this.set(t,new Y.IncrementOp(-1*e))}},{key:"add",value:function(t,e){return this.set(t,new Y.AddOp([e]))}},{key:"addAll",value:function(t,e){return this.set(t,new Y.AddOp(e))}},{key:"addUnique",value:function(t,e){return this.set(t,new Y.AddUniqueOp([e]))}},{key:"addAllUnique",value:function(t,e){return this.set(t,new Y.AddUniqueOp(e))}},{key:"remove",value:function(t,e){return this.set(t,new Y.RemoveOp([e]))}},{key:"removeAll",value:function(t,e){return this.set(t,new Y.RemoveOp(e))}},{key:"op",value:function(t){for(var e=this._getPendingOps(),r=e.length;r--;)if(e[r][t])return e[r][t]}},{key:"clone",value:function(){var t=new this.constructor;t.className||(t.className=this.className);var e=this.attributes;if("function"===typeof this.constructor.readOnlyAttributes){var r=this.constructor.readOnlyAttributes()||[],n={};for(var i in e)(0,x.default)(r).call(r,i)<0&&(n[i]=e[i]);e=n}return t.set&&t.set(e),t}},{key:"newInstance",value:function(){var t=new this.constructor;if(t.className||(t.className=this.className),t.id=this.id,ft)return t;var e=F.default.getObjectStateController();return e&&e.duplicateState(this._getStateIdentifier(),t._getStateIdentifier()),t}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var t=F.default.getObjectStateController().getState(this._getStateIdentifier());return!!t&&t.existed}},{key:"exists",value:function(){var t=(0,b.default)(w.default.mark((function t(e){var r;return w.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.id){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,r=new Q.default(this.className),t.next=6,r.get(this.id,e);case 6:return t.abrupt("return",!0);case 9:if(t.prev=9,t.t0=t.catch(2),t.t0.code!==q.default.OBJECT_NOT_FOUND){t.next=13;break}return t.abrupt("return",!1);case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}()},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(t){if(t.hasOwnProperty("ACL")&&!(t.ACL instanceof W.default))return new q.default(q.default.OTHER_CAUSE,"ACL must be a Parse ACL.");for(var e in t)if(!/^[A-Za-z][0-9A-Za-z_.]*$/.test(e))return new q.default(q.default.INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var t=this.get("ACL");return t instanceof W.default?t:null}},{key:"setACL",value:function(t,e){return this.set("ACL",t,e)}},{key:"revert",value:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length){t=[];var i,o=ot(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;if("string"!==typeof s)throw new Error("Parse.Object#revert expects either no, or a list of string, arguments.");t.push(s)}}catch(a){o.e(a)}finally{o.f()}}this._clearPendingOps(t)}},{key:"clear",value:function(){var t=this.attributes,e={},r=["createdAt","updatedAt"];for(var n in"function"===typeof this.constructor.readOnlyAttributes&&(r=(0,P.default)(r).call(r,this.constructor.readOnlyAttributes())),t)(0,x.default)(r).call(r,n)<0&&(e[n]=!0);return this.set(e,{unset:!0})}},{key:"fetch",value:function(t){var e,r={};((t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,A.default)(t.context)&&(r.context=t.context),t.hasOwnProperty("include"))&&(r.include=[],(0,k.default)(t.include)?(0,T.default)(e=t.include).call(e,(function(t){var e;(0,k.default)(t)?r.include=(0,P.default)(e=r.include).call(e,t):r.include.push(t)})):r.include.push(t.include));return F.default.getObjectController().fetch(this,!0,r)}},{key:"fetchWithInclude",value:function(t,e){return(e=e||{}).include=t,this.fetch(e)}},{key:"save",value:function(t,e,r){var n,i,o=this;if("object"===(0,A.default)(t)||"undefined"===typeof t?(n=t,"object"===(0,A.default)(e)&&(i=e)):((n={})[t]=e,i=r),n){var s=this.validate(n);if(s)return O.default.reject(s);this.set(n,i)}var a={};(i=i||{}).hasOwnProperty("useMasterKey")&&(a.useMasterKey=!!i.useMasterKey),i.hasOwnProperty("sessionToken")&&"string"===typeof i.sessionToken&&(a.sessionToken=i.sessionToken),i.hasOwnProperty("installationId")&&"string"===typeof i.installationId&&(a.installationId=i.installationId),i.hasOwnProperty("context")&&"object"===(0,A.default)(i.context)&&(a.context=i.context);var u=F.default.getObjectController(),l=!1!==i.cascadeSave?(0,rt.default)(this):null;return u.save(l,a).then((function(){return u.save(o,a)}))}},{key:"destroy",value:function(t){var e={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(e.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,A.default)(t.context)&&(e.context=t.context),this.id?F.default.getObjectController().destroy(this,e):O.default.resolve()}},{key:"pin",value:function(){return t.pinAllWithName(X.DEFAULT_PIN,[this])}},{key:"unPin",value:function(){return t.unPinAllWithName(X.DEFAULT_PIN,[this])}},{key:"isPinned",value:function(){var t=(0,b.default)(w.default.mark((function t(){var e,r,n;return w.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=F.default.getLocalDatastore()).isEnabled){t.next=3;break}return t.abrupt("return",O.default.reject("Parse.enableLocalDatastore() must be called first"));case 3:return r=e.getKeyForObject(this),t.next=6,e.fromPinWithName(r);case 6:return n=t.sent,t.abrupt("return",n.length>0);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"pinWithName",value:function(e){return t.pinAllWithName(e,[this])}},{key:"unPinWithName",value:function(e){return t.unPinAllWithName(e,[this])}},{key:"fetchFromLocalDatastore",value:function(){var e=(0,b.default)(w.default.mark((function e(){var r,n,i,o;return w.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=F.default.getLocalDatastore()).isEnabled){e.next=3;break}throw new Error("Parse.enableLocalDatastore() must be called first");case 3:return n=r.getKeyForObject(this),e.next=6,r._serializeObject(n);case 6:if(i=e.sent){e.next=9;break}throw new Error("Cannot fetch an unsaved ParseObject");case 9:return o=t.fromJSON(i),this._finishFetch(o.toJSON()),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"_clearAllState",value:function(){F.default.getObjectStateController().clearAllState()}},{key:"fetchAll",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return r.hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(n.sessionToken=r.sessionToken),r.hasOwnProperty("include")&&(n.include=t.handleIncludeOptions(r)),F.default.getObjectController().fetch(e,!0,n)}},{key:"fetchAllWithInclude",value:function(e,r,n){return(n=n||{}).include=r,t.fetchAll(e,n)}},{key:"fetchAllIfNeededWithInclude",value:function(e,r,n){return(n=n||{}).include=r,t.fetchAllIfNeeded(e,n)}},{key:"fetchAllIfNeeded",value:function(e,r){var n={};return(r=r||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(n.sessionToken=r.sessionToken),r.hasOwnProperty("include")&&(n.include=t.handleIncludeOptions(r)),F.default.getObjectController().fetch(e,!1,n)}},{key:"handleIncludeOptions",value:function(t){var e,r=[];(0,k.default)(t.include)?(0,T.default)(e=t.include).call(e,(function(t){(0,k.default)(t)?r=(0,P.default)(r).call(r,t):r.push(t)})):r.push(t.include);return r}},{key:"destroyAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),e.hasOwnProperty("batchSize")&&"number"===typeof e.batchSize&&(r.batchSize=e.batchSize),e.hasOwnProperty("context")&&"object"===(0,A.default)(e.context)&&(r.context=e.context),F.default.getObjectController().destroy(t,r)}},{key:"saveAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),e.hasOwnProperty("batchSize")&&"number"===typeof e.batchSize&&(r.batchSize=e.batchSize),e.hasOwnProperty("context")&&"object"===(0,A.default)(e.context)&&(r.context=e.context),F.default.getObjectController().save(t,r)}},{key:"createWithoutData",value:function(t){var e=new this;return e.id=t,e}},{key:"fromJSON",value:function(e,r){if(!e.className)throw new Error("Cannot create an object without a className");var n=ht[e.className],i=n?new n:new t(e.className),o={};for(var s in e)"className"!==s&&"__type"!==s&&(o[s]=e[s]);if(r){o.objectId&&(i.id=o.objectId);var a=null;"function"===typeof i._preserveFieldsOnFetch&&(a=i._preserveFieldsOnFetch()),i._clearServerData(),a&&i._finishFetch(a)}return i._finishFetch(o),e.objectId&&i._setExisted(!0),i}},{key:"registerSubclass",value:function(t,e){if("string"!==typeof t)throw new TypeError("The first argument must be a valid class name.");if("undefined"===typeof e)throw new TypeError("You must supply a subclass constructor.");if("function"!==typeof e)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");ht[t]=e,e.className||(e.className=t)}},{key:"extend",value:function(e,r,n){if("string"!==typeof e){if(e&&"string"===typeof e.className)return t.extend(e.className,e,r);throw new Error("Parse.Object.extend's first argument should be the className.")}var i=e;"User"===i&&F.default.get("PERFORM_USER_REWRITE")&&(i="_User");var o=t.prototype;this.hasOwnProperty("__super__")&&this.__super__?o=this.prototype:ht[i]&&(o=ht[i].prototype);var s=function(t,e){if(this.className=i,this._objCount=ct++,"function"===typeof this.initialize&&this.initialize.apply(this,arguments),t&&"object"===(0,A.default)(t)&&!this.set(t||{},e))throw new Error("Can't create an invalid Parse Object")};if(s.className=i,s.__super__=o,s.prototype=(0,U.default)(o,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r)for(var a in r)"className"!==a&&(0,L.default)(s.prototype,a,{value:r[a],enumerable:!1,writable:!0,configurable:!0});if(n)for(var u in n)"className"!==u&&(0,L.default)(s,u,{value:n[u],enumerable:!1,writable:!0,configurable:!0});return s.extend=function(e,r,n){return"string"===typeof e?t.extend.call(s,e,r,n):t.extend.call(s,i,e,r)},s.createWithoutData=t.createWithoutData,ht[i]=s,s}},{key:"enableSingleInstance",value:function(){ft=!0,F.default.setObjectStateController($)}},{key:"disableSingleInstance",value:function(){ft=!1,F.default.setObjectStateController(et)}},{key:"pinAll",value:function(e){return F.default.getLocalDatastore().isEnabled?t.pinAllWithName(X.DEFAULT_PIN,e):O.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"pinAllWithName",value:function(t,e){var r=F.default.getLocalDatastore();return r.isEnabled?r._handlePinAllWithName(t,e):O.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAll",value:function(e){return F.default.getLocalDatastore().isEnabled?t.unPinAllWithName(X.DEFAULT_PIN,e):O.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllWithName",value:function(t,e){var r=F.default.getLocalDatastore();return r.isEnabled?r._handleUnPinAllWithName(t,e):O.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjects",value:function(){var t=F.default.getLocalDatastore();return t.isEnabled?t.unPinWithName(X.DEFAULT_PIN):O.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjectsWithName",value:function(t){var e=F.default.getLocalDatastore();return e.isEnabled?e.unPinWithName(X.PIN_PREFIX+t):O.default.reject("Parse.enableLocalDatastore() must be called first")}}]),t}(),mt={fetch:function(t,e,r){var n=F.default.getLocalDatastore();if((0,k.default)(t)){if(t.length<1)return O.default.resolve([]);var i=[],o=[],s=null,a=[],u=null;if((0,T.default)(t).call(t,(function(t){u||(s||(s=t.className),s!==t.className&&(u=new q.default(q.default.INVALID_CLASS_NAME,"All objects should be of the same class")),t.id||(u=new q.default(q.default.MISSING_OBJECT_ID,"All objects must have an ID")),!e&&t.isDataAvailable()||(o.push(t.id),i.push(t)),a.push(t))})),u)return O.default.reject(u);var l=new Q.default(s);return l.containedIn("objectId",o),r&&r.include&&l.include(r.include),l._limit=o.length,(0,B.default)(l).call(l,r).then(function(){var t=(0,b.default)(w.default.mark((function t(r){var o,s,u,l,h,c,f,d,p;return w.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o={},(0,T.default)(r).call(r,(function(t){o[t.id]=t})),s=0;case 3:if(!(s<i.length)){t.next=11;break}if((u=i[s])&&u.id&&o[u.id]){t.next=8;break}if(!e){t.next=8;break}return t.abrupt("return",O.default.reject(new q.default(q.default.OBJECT_NOT_FOUND,"All objects must exist on the server.")));case 8:s++,t.next=3;break;case 11:if(!ft)for(l=0;l<a.length;l++)(h=a[l])&&h.id&&o[h.id]&&(c=h.id,h._finishFetch(o[c].toJSON()),a[l]=o[c]);f=ot(a),t.prev=13,f.s();case 15:if((d=f.n()).done){t.next=21;break}return p=d.value,t.next=19,n._updateObjectIfPinned(p);case 19:t.next=15;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(13),f.e(t.t0);case 26:return t.prev=26,f.f(),t.finish(26);case 29:return t.abrupt("return",O.default.resolve(a));case 30:case"end":return t.stop()}}),t,null,[[13,23,26,29]])})));return function(){return t.apply(this,arguments)}}())}if(t instanceof pt){var h;if(!t.id)return O.default.reject(new q.default(q.default.MISSING_OBJECT_ID,"Object does not have an ID"));var c=F.default.getRESTController(),f={};return r&&r.include&&(f.include=r.include.join()),c.request("GET",(0,P.default)(h="classes/".concat(t.className,"/")).call(h,t._getId()),f,r).then(function(){var e=(0,b.default)(w.default.mark((function e(r){return w.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._clearPendingOps(),t._clearServerData(),t._finishFetch(r),e.next=5,n._updateObjectIfPinned(t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())}return O.default.resolve()},destroy:function(t,e){return(0,b.default)(w.default.mark((function r(){var n,i,o,s,a,u,l;return w.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e&&e.batchSize?e.batchSize:F.default.get("REQUEST_BATCH_SIZE"),i=F.default.getLocalDatastore(),o=F.default.getRESTController(),!(0,k.default)(t)){r.next=13;break}if(!(t.length<1)){r.next=6;break}return r.abrupt("return",O.default.resolve([]));case 6:return s=[[]],(0,T.default)(t).call(t,(function(t){t.id&&(s[s.length-1].push(t),s[s.length-1].length>=n&&s.push([]))})),0===s[s.length-1].length&&s.pop(),a=O.default.resolve(),u=[],(0,T.default)(s).call(s,(function(t){a=a.then((function(){return o.request("POST","batch",{requests:(0,D.default)(t).call(t,(function(t){var e,r;return{method:"DELETE",path:(0,P.default)(e=(0,P.default)(r="".concat(dt(),"classes/")).call(r,t.className,"/")).call(e,t._getId()),body:{}}}))},e).then((function(e){for(var r=0;r<e.length;r++)if(e[r]&&e[r].hasOwnProperty("error")){var n=new q.default(e[r].error.code,e[r].error.error);n.object=t[r],u.push(n)}}))}))})),r.abrupt("return",a.then((0,b.default)(w.default.mark((function e(){var r,n,o,s;return w.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.length){e.next=4;break}return(r=new q.default(q.default.AGGREGATE_ERROR)).errors=u,e.abrupt("return",O.default.reject(r));case 4:n=ot(t),e.prev=5,n.s();case 7:if((o=n.n()).done){e.next=13;break}return s=o.value,e.next=11,i._destroyObjectIfPinned(s);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return e.abrupt("return",O.default.resolve(t));case 22:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})))));case 13:if(!(t instanceof pt)){r.next=15;break}return r.abrupt("return",o.request("DELETE",(0,P.default)(l="classes/".concat(t.className,"/")).call(l,t._getId()),{},e).then((0,b.default)(w.default.mark((function e(){return w.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._destroyObjectIfPinned(t);case 2:return e.abrupt("return",O.default.resolve(t));case 3:case"end":return e.stop()}}),e)})))));case 15:return r.abrupt("return",O.default.resolve(t));case 16:case"end":return r.stop()}}),r)})))()},save:function(t,e){var r=e&&e.batchSize?e.batchSize:F.default.get("REQUEST_BATCH_SIZE"),n=F.default.getLocalDatastore(),i={},o=F.default.getRESTController(),s=F.default.getObjectStateController();if((e=e||{}).returnStatus=e.returnStatus||!0,(0,k.default)(t)){if(t.length<1)return O.default.resolve([]);for(var a=(0,P.default)(t).call(t),u=0;u<t.length;u++)t[u]instanceof pt&&(a=(0,P.default)(a).call(a,(0,rt.default)(t[u],!0)));a=(0,tt.default)(a);var l=[],h=[];return(0,T.default)(a).call(a,(function(t){t instanceof K.default?l.push(t.save(e)):t instanceof pt&&h.push(t)})),O.default.all(l).then((function(){var a=null;return(0,J.continueWhile)((function(){return h.length>0}),(function(){var t=[],n=[];if((0,T.default)(h).call(h,(function(e){t.length<r&&(0,G.default)(e)?t.push(e):n.push(e)})),h=n,t.length<1)return O.default.reject(new q.default(q.default.OTHER_CAUSE,"Tried to save a batch with a cycle."));var u=new J.resolvingPromise,l=[],c=[];return(0,T.default)(t).call(t,(function(t,e){var r=new J.resolvingPromise;l.push(r),s.pushPendingState(t._getStateIdentifier()),c.push(s.enqueueTask(t._getStateIdentifier(),(function(){return r.resolve(),u.then((function(r){if(r[e].hasOwnProperty("success")){var n=r[e].success.objectId,o=r[e]._status;delete r[e]._status,i[n]=t._localId,t._handleSaveResponse(r[e].success,o)}else{if(!a&&r[e].hasOwnProperty("error")){var s=r[e].error;a=new q.default(s.code,s.error),h=[]}t._handleSaveError()}}))})))})),(0,J.when)(l).then((function(){return o.request("POST","batch",{requests:(0,D.default)(t).call(t,(function(t){var e=t._getSaveParams();return e.path=dt()+e.path,e}))},e)})).then(u.resolve,(function(t){u.reject(new q.default(q.default.INCORRECT_TYPE,t.message))})),(0,J.when)(c)})).then((0,b.default)(w.default.mark((function e(){var r,o,s;return w.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",O.default.reject(a));case 2:r=ot(t),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=13;break}return s=o.value,e.next=9,n._updateLocalIdForObject(i[s.id],s);case 9:return e.next=11,n._updateObjectIfPinned(s);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",O.default.resolve(t));case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))))}))}if(t instanceof pt){t._getId();var c=t._localId,f=t;return s.pushPendingState(t._getStateIdentifier()),s.enqueueTask(t._getStateIdentifier(),(function(){var t=f._getSaveParams();return o.request(t.method,t.path,t.body,e).then((function(t){var e=t._status;delete t._status,f._handleSaveResponse(t,e)}),(function(t){return f._handleSaveError(),O.default.reject(t)}))})).then((0,b.default)(w.default.mark((function e(){return w.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._updateLocalIdForObject(c,t);case 2:return e.next=4,n._updateObjectIfPinned(t);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),(function(t){return O.default.reject(t)}))}return O.default.resolve()}};F.default.setObjectController(mt);var gt=pt;e.default=gt},4847:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.UnsetOp=e.SetOp=e.RemoveOp=e.RelationOp=e.Op=e.IncrementOp=e.AddUniqueOp=e.AddOp=void 0,e.opFromJSON=function(t){if(!t||!t.__op)return null;switch(t.__op){case"Delete":return new T;case"Increment":return new R(t.amount);case"Add":return new C((0,b.default)(t.objects));case"AddUnique":return new I((0,b.default)(t.objects));case"Remove":return new P((0,b.default)(t.objects));case"AddRelation":var e=(0,b.default)(t.objects);return(0,d.default)(e)?new k(e,[]):new k([],[]);case"RemoveRelation":var r=(0,b.default)(t.objects);return(0,d.default)(r)?new k([],r):new k([],[]);case"Batch":for(var n=[],i=[],o=0;o<t.ops.length;o++)"AddRelation"===t.ops[o].__op?n=(0,p.default)(n).call(n,(0,b.default)(t.ops[o].objects)):"RemoveRelation"===t.ops[o].__op&&(i=(0,p.default)(i).call(i,(0,b.default)(t.ops[o].objects)));return new k(n,i);default:return null}};var s=o(r(5824)),a=o(r(51379)),u=o(r(214)),l=o(r(66380)),h=o(r(87672)),c=o(r(26394)),f=o(r(69198)),d=o(r(41511)),p=o(r(77766)),m=o(r(78914)),g=o(r(81643)),v=o(r(92762)),y=o(r(2991)),w=o(r(60406)),b=o(r(68051)),A=o(r(27206)),M=o(r(98590)),_=o(r(73201)),E=o(r(69362));function x(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,l.default)(t);if(e){var o=(0,l.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,u.default)(this,r)}}var S=function(){function t(){(0,c.default)(this,t)}return(0,f.default)(t,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){}},{key:"toJSON",value:function(){}}]),t}();e.Op=S;var N=function(t){(0,a.default)(r,t);var e=x(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,s.default)(n),"_value",void 0),n._value=t,n}return(0,f.default)(r,[{key:"applyTo",value:function(){return this._value}},{key:"mergeWith",value:function(){return new r(this._value)}},{key:"toJSON",value:function(t){return(0,A.default)(this._value,!1,!0,void 0,t)}}]),r}(S);e.SetOp=N;var T=function(t){(0,a.default)(r,t);var e=x(r);function r(){return(0,c.default)(this,r),e.apply(this,arguments)}return(0,f.default)(r,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){return new r}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),r}(S);e.UnsetOp=T;var R=function(t){(0,a.default)(r,t);var e=x(r);function r(t){var n;if((0,c.default)(this,r),n=e.call(this),(0,h.default)((0,s.default)(n),"_amount",void 0),"number"!==typeof t)throw new TypeError("Increment Op must be initialized with a numeric amount.");return n._amount=t,n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if("undefined"===typeof t)return this._amount;if("number"!==typeof t)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+t}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof N)return new N(this.applyTo(t._value));if(t instanceof T)return new N(this._amount);if(t instanceof r)return new r(this.applyTo(t._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),r}(S);e.IncrementOp=R;var C=function(t){(0,a.default)(r,t);var e=x(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,s.default)(n),"_value",void 0),n._value=(0,d.default)(t)?t:[t],n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if(null==t)return this._value;if((0,d.default)(t))return(0,p.default)(t).call(t,this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof N)return new N(this.applyTo(t._value));if(t instanceof T)return new N(this._value);if(t instanceof r)return new r(this.applyTo(t._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,A.default)(this._value,!1,!0)}}}]),r}(S);e.AddOp=C;var I=function(t){(0,a.default)(r,t);var e=x(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,s.default)(n),"_value",void 0),n._value=(0,E.default)((0,d.default)(t)?t:[t]),n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if(null==t)return this._value||[];if((0,d.default)(t)){var e,r=[];return(0,m.default)(e=this._value).call(e,(function(e){e instanceof M.default?(0,w.default)(t,e)||r.push(e):(0,g.default)(t).call(t,e)<0&&r.push(e)})),(0,p.default)(t).call(t,r)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof N)return new N(this.applyTo(t._value));if(t instanceof T)return new N(this._value);if(t instanceof r)return new r(this.applyTo(t._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,A.default)(this._value,!1,!0)}}}]),r}(S);e.AddUniqueOp=I;var P=function(t){(0,a.default)(r,t);var e=x(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,s.default)(n),"_value",void 0),n._value=(0,E.default)((0,d.default)(t)?t:[t]),n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if(null==t)return[];if((0,d.default)(t)){for(var e=(0,p.default)(t).call(t,[]),r=0;r<this._value.length;r++){for(var n=(0,g.default)(e).call(e,this._value[r]);n>-1;)(0,v.default)(e).call(e,n,1),n=(0,g.default)(e).call(e,this._value[r]);if(this._value[r]instanceof M.default&&this._value[r].id)for(var i=0;i<e.length;i++)e[i]instanceof M.default&&this._value[r].id===e[i].id&&((0,v.default)(e).call(e,i,1),i--)}return e}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof N)return new N(this.applyTo(t._value));if(t instanceof T)return new T;if(t instanceof r){for(var e,n=(0,p.default)(e=t._value).call(e,[]),i=0;i<this._value.length;i++)this._value[i]instanceof M.default?(0,w.default)(n,this._value[i])||n.push(this._value[i]):(0,g.default)(n).call(n,this._value[i])<0&&n.push(this._value[i]);return new r(n)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,A.default)(this._value,!1,!0)}}}]),r}(S);e.RemoveOp=P;var k=function(t){(0,a.default)(r,t);var e=x(r);function r(t,n){var i;return(0,c.default)(this,r),i=e.call(this),(0,h.default)((0,s.default)(i),"_targetClassName",void 0),(0,h.default)((0,s.default)(i),"relationsToAdd",void 0),(0,h.default)((0,s.default)(i),"relationsToRemove",void 0),i._targetClassName=null,(0,d.default)(t)&&(i.relationsToAdd=(0,E.default)((0,y.default)(t).call(t,i._extractId,(0,s.default)(i)))),(0,d.default)(n)&&(i.relationsToRemove=(0,E.default)((0,y.default)(n).call(n,i._extractId,(0,s.default)(i)))),i}return(0,f.default)(r,[{key:"_extractId",value:function(t){if("string"===typeof t)return t;if(!t.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");var e;if(this._targetClassName||(this._targetClassName=t.className),this._targetClassName!==t.className)throw new Error((0,p.default)(e="Tried to create a Relation with 2 different object types: ".concat(this._targetClassName," and ")).call(e,t.className,"."));return t.id}},{key:"applyTo",value:function(t,e,r){if(!t){var n;if(!e||!r)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");var i=new M.default(e.className);e.id&&0===(0,g.default)(n=e.id).call(n,"local")?i._localId=e.id:e.id&&(i.id=e.id);var o=new _.default(i,r);return o.targetClassName=this._targetClassName,o}if(t instanceof _.default){var s;if(this._targetClassName)if(t.targetClassName){if(this._targetClassName!==t.targetClassName)throw new Error((0,p.default)(s="Related object must be a ".concat(t.targetClassName,", but a ")).call(s,this._targetClassName," was passed in."))}else t.targetClassName=this._targetClassName;return t}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof T)throw new Error("You cannot modify a relation after deleting it.");if(t instanceof N&&t._value instanceof _.default)return this;if(t instanceof r){var e,n,i,o,s,a,u;if(t._targetClassName&&t._targetClassName!==this._targetClassName)throw new Error((0,p.default)(u="Related object must be of class ".concat(t._targetClassName,", but ")).call(u,this._targetClassName||"null"," was passed in."));var l=(0,p.default)(e=t.relationsToAdd).call(e,[]);(0,m.default)(n=this.relationsToRemove).call(n,(function(t){var e=(0,g.default)(l).call(l,t);e>-1&&(0,v.default)(l).call(l,e,1)})),(0,m.default)(i=this.relationsToAdd).call(i,(function(t){(0,g.default)(l).call(l,t)<0&&l.push(t)}));var h=(0,p.default)(o=t.relationsToRemove).call(o,[]);(0,m.default)(s=this.relationsToAdd).call(s,(function(t){var e=(0,g.default)(h).call(h,t);e>-1&&(0,v.default)(h).call(h,e,1)})),(0,m.default)(a=this.relationsToRemove).call(a,(function(t){(0,g.default)(h).call(h,t)<0&&h.push(t)}));var c=new r(l,h);return c._targetClassName=this._targetClassName,c}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var t,e,r=this,n=function(t){return{__type:"Pointer",className:r._targetClassName,objectId:t}},i=null,o=null;this.relationsToAdd.length>0&&(i={__op:"AddRelation",objects:(0,y.default)(t=this.relationsToAdd).call(t,n)});this.relationsToRemove.length>0&&(o={__op:"RemoveRelation",objects:(0,y.default)(e=this.relationsToRemove).call(e,n)});return i&&o?{__op:"Batch",ops:[i,o]}:i||o||{}}}]),r}(S);e.RelationOp=k},55370:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(41511)),s=i(r(26394)),a=i(r(69198)),u=i(r(87672)),l=i(r(11812)),h=function(){function t(e){(0,s.default)(this,t),(0,u.default)(this,"_coordinates",void 0),this._coordinates=t._validate(e)}return(0,a.default)(t,[{key:"coordinates",get:function(){return this._coordinates},set:function(e){this._coordinates=t._validate(e)}},{key:"toJSON",value:function(){return t._validate(this._coordinates),{__type:"Polygon",coordinates:this._coordinates}}},{key:"equals",value:function(e){if(!(e instanceof t)||this.coordinates.length!==e.coordinates.length)return!1;for(var r=!0,n=1;n<this._coordinates.length;n+=1)if(this._coordinates[n][0]!==e.coordinates[n][0]||this._coordinates[n][1]!==e.coordinates[n][1]){r=!1;break}return r}},{key:"containsPoint",value:function(t){for(var e=this._coordinates[0][0],r=this._coordinates[0][0],n=this._coordinates[0][1],i=this._coordinates[0][1],o=1;o<this._coordinates.length;o+=1){var s=this._coordinates[o];e=Math.min(s[0],e),r=Math.max(s[0],r),n=Math.min(s[1],n),i=Math.max(s[1],i)}if(t.latitude<e||t.latitude>r||t.longitude<n||t.longitude>i)return!1;for(var a=!1,u=0,l=this._coordinates.length-1;u<this._coordinates.length;l=u++){var h=this._coordinates[u][0],c=this._coordinates[u][1],f=this._coordinates[l][0],d=this._coordinates[l][1];c>t.longitude!==d>t.longitude&&t.latitude<(f-h)*(t.longitude-c)/(d-c)+h&&(a=!a)}return a}}],[{key:"_validate",value:function(t){if(!(0,o.default)(t))throw new TypeError("Coordinates must be an Array");if(t.length<3)throw new TypeError("Polygon must have at least 3 GeoPoints or Points");for(var e=[],r=0;r<t.length;r+=1){var n=t[r],i=void 0;if(n instanceof l.default)i=n;else{if(!(0,o.default)(n)||2!==n.length)throw new TypeError("Coordinates must be an Array of GeoPoints or Points");i=new l.default(n[0],n[1])}e.push([i.latitude,i.longitude])}return e}}]),t}();e.default=h},76789:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),s=i(r(18777)),a=i(r(59036)),u=i(r(51161)),l=i(r(26394)),h=i(r(69198)),c=i(r(87672)),f=i(r(23765)),d=i(r(78914)),p=i(r(81643)),m=i(r(86902)),g=i(r(3649)),v=i(r(2991)),y=i(r(20116)),w=i(r(69301)),b=i(r(77766)),A=i(r(78580)),M=i(r(47302)),_=i(r(92762)),E=i(r(93476)),x=i(r(94473)),S=i(r(41511)),N=i(r(26295)),T=i(r(2463)),R=i(r(27206)),C=r(64719),I=i(r(85227)),P=i(r(11812)),k=i(r(98590)),O=i(r(39311)),U=r(63363);function L(t){return"\\Q".concat(t.replace("\\E","\\E\\\\E\\Q"),"\\E")}function B(t){var e=null;return(0,d.default)(t).call(t,(function(t){if(e||(e=t.className),e!==t.className)throw new Error("All queries must be for the same class.")})),e}function D(t,e){var r={};((0,d.default)(e).call(e,(function(e){var n=-1!==(0,p.default)(e).call(e,".");if(n||t.hasOwnProperty(e)){if(n){var i=e.split("."),o=t,s=r;(0,d.default)(i).call(i,(function(t,e,r){o&&!o.hasOwnProperty(t)&&(o[t]=void 0),o&&"object"===(0,f.default)(o)&&(o=o[t]),e<r.length-1&&(s[t]||(s[t]={}),s=s[t])}))}}else t[e]=void 0})),(0,m.default)(r).length>0)&&F(T.default.getObjectStateController().getServerData({id:t.objectId,className:t.className}),t,r,!1)}function F(t,e,r,n){if(n)for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);for(var o in r)void 0!==e[o]&&null!==e[o]&&void 0!==t&&null!==t&&F(t[o],e[o],r[o],!0)}function G(t,e,r){var n=r[0],i="-"===(0,g.default)(n).call(n,0,1);if(i&&(n=n.substring(1)),"_created_at"===n&&(n="createdAt"),"_updated_at"===n&&(n="updatedAt"),!/^[A-Za-z][0-9A-Za-z_]*$/.test(n)||"password"===n)throw new I.default(I.default.INVALID_KEY_NAME,"Invalid Key: ".concat(n));var o=t.get(n),s=e.get(n);return o<s?i?1:-1:o>s?i?-1:1:r.length>1?G(t,e,(0,g.default)(r).call(r,1)):0}var z=function(){function t(e){if((0,l.default)(this,t),(0,c.default)(this,"className",void 0),(0,c.default)(this,"_where",void 0),(0,c.default)(this,"_include",void 0),(0,c.default)(this,"_exclude",void 0),(0,c.default)(this,"_select",void 0),(0,c.default)(this,"_limit",void 0),(0,c.default)(this,"_skip",void 0),(0,c.default)(this,"_count",void 0),(0,c.default)(this,"_order",void 0),(0,c.default)(this,"_readPreference",void 0),(0,c.default)(this,"_includeReadPreference",void 0),(0,c.default)(this,"_subqueryReadPreference",void 0),(0,c.default)(this,"_queriesLocalDatastore",void 0),(0,c.default)(this,"_localDatastorePinName",void 0),(0,c.default)(this,"_extraOptions",void 0),(0,c.default)(this,"_hint",void 0),(0,c.default)(this,"_explain",void 0),(0,c.default)(this,"_xhrRequest",void 0),"string"===typeof e)"User"===e&&T.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e;else if(e instanceof k.default)this.className=e.className;else{if("function"!==typeof e)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"===typeof e.className)this.className=e.className;else{var r=new e;this.className=r.className}}this._where={},this._include=[],this._exclude=[],this._count=!1,this._limit=-1,this._skip=0,this._readPreference=null,this._includeReadPreference=null,this._subqueryReadPreference=null,this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this._extraOptions={},this._xhrRequest={task:null,onchange:function(){}}}return(0,h.default)(t,[{key:"_orQuery",value:function(t){var e=(0,v.default)(t).call(t,(function(t){return t.toJSON().where}));return this._where.$or=e,this}},{key:"_andQuery",value:function(t){var e=(0,v.default)(t).call(t,(function(t){return t.toJSON().where}));return this._where.$and=e,this}},{key:"_norQuery",value:function(t){var e=(0,v.default)(t).call(t,(function(t){return t.toJSON().where}));return this._where.$nor=e,this}},{key:"_addCondition",value:function(t,e,r){return this._where[t]&&"string"!==typeof this._where[t]||(this._where[t]={}),this._where[t][e]=(0,R.default)(r,!1,!0),this}},{key:"_regexStartWith",value:function(t){return"^".concat(L(t))}},{key:"_handleOfflineQuery",value:function(){var t=(0,u.default)(o.default.mark((function t(e){var r,n,i,s,a,u,l,h,c,f=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O.default.validateQuery(this),n=T.default.getLocalDatastore(),t.next=4,n._serializeObjectsFromPinName(this._localDatastorePinName);case 4:if(i=t.sent,s=(0,y.default)(r=(0,v.default)(i).call(i,(function(t,e,r){var n=k.default.fromJSON(t,!1);return t._localId&&!t.objectId&&(n._localId=t._localId),O.default.matchesQuery(f.className,n,r,f)?n:null}))).call(r,(function(t){return null!==t})),(0,w.default)(e)&&(a=(0,w.default)(e).split(","),u=["className","objectId","createdAt","updatedAt","ACL"],a=(0,b.default)(a).call(a,u),s=(0,v.default)(s).call(s,(function(t){var e,r=t._toFullJSON();return(0,d.default)(e=(0,m.default)(r)).call(e,(function(t){(0,A.default)(a).call(a,t)||delete r[t]})),k.default.fromJSON(r,!1)}))),e.order&&(l=e.order.split(","),(0,M.default)(s).call(s,(function(t,e){return G(t,e,l)}))),e.count&&(h=s.length),e.skip&&(s=e.skip>=s.length?[]:(0,_.default)(s).call(s,e.skip,s.length)),c=s.length,0!==e.limit&&e.limit<s.length&&(c=e.limit),s=(0,_.default)(s).call(s,0,c),"number"!==typeof h){t.next=15;break}return t.abrupt("return",{results:s,count:h});case 15:return t.abrupt("return",s);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toJSON",value:function(){var t={where:this._where};for(var e in this._include.length&&(t.include=this._include.join(",")),this._exclude.length&&(t.excludeKeys=this._exclude.join(",")),this._select&&(t.keys=this._select.join(",")),this._count&&(t.count=1),this._limit>=0&&(t.limit=this._limit),this._skip>0&&(t.skip=this._skip),this._order&&(t.order=this._order.join(",")),this._readPreference&&(t.readPreference=this._readPreference),this._includeReadPreference&&(t.includeReadPreference=this._includeReadPreference),this._subqueryReadPreference&&(t.subqueryReadPreference=this._subqueryReadPreference),this._hint&&(t.hint=this._hint),this._explain&&(t.explain=!0),this._extraOptions)t[e]=this._extraOptions[e];return t}},{key:"withJSON",value:function(t){for(var e in t.where&&(this._where=t.where),t.include&&(this._include=t.include.split(",")),(0,w.default)(t)&&(this._select=(0,w.default)(t).split(",")),t.excludeKeys&&(this._exclude=t.excludeKeys.split(",")),t.count&&(this._count=1===t.count),t.limit&&(this._limit=t.limit),t.skip&&(this._skip=t.skip),t.order&&(this._order=t.order.split(",")),t.readPreference&&(this._readPreference=t.readPreference),t.includeReadPreference&&(this._includeReadPreference=t.includeReadPreference),t.subqueryReadPreference&&(this._subqueryReadPreference=t.subqueryReadPreference),t.hint&&(this._hint=t.hint),t.explain&&(this._explain=!!t.explain),t){var r;if(t.hasOwnProperty(e))-1===(0,p.default)(r=["where","include","keys","count","limit","skip","order","readPreference","includeReadPreference","subqueryReadPreference","hint","explain"]).call(r,e)&&(this._extraOptions[e]=t[e])}return this}},{key:"get",value:function(t,e){this.equalTo("objectId",t);var r={};return e&&e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e&&e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),e&&e.hasOwnProperty("context")&&"object"===(0,f.default)(e.context)&&(r.context=e.context),this.first(r).then((function(t){if(t)return t;var e=new I.default(I.default.OBJECT_NOT_FOUND,"Object not found.");return E.default.reject(e)}))}},{key:"find",value:function(t){var e=this,r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,f.default)(t.context)&&(r.context=t.context),this._setRequestTask(r);var n=T.default.getQueryController(),i=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(this.toJSON()):(0,x.default)(n).call(n,this.className,this.toJSON(),r).then((function(t){var r;if(e._explain)return t.results;var n=(0,v.default)(r=t.results).call(r,(function(r){var n=t.className||e.className;return r.className||(r.className=n),i&&D(r,i),k.default.fromJSON(r,!i)})),o=t.count;return"number"===typeof o?{results:n,count:o}:n}))}},{key:"findAll",value:function(){var t=(0,u.default)(o.default.mark((function t(e){var r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,this.eachBatch((function(t){var e;r=(0,b.default)(e=[]).call(e,(0,a.default)(r),(0,a.default)(t))}),e);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"count",value:function(t){var e={};(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(e.sessionToken=t.sessionToken),this._setRequestTask(e);var r=T.default.getQueryController(),n=this.toJSON();return n.limit=0,n.count=1,(0,x.default)(r).call(r,this.className,n,e).then((function(t){return t.count}))}},{key:"distinct",value:function(t,e){var r={useMasterKey:!0};(e=e||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),this._setRequestTask(r);var n=T.default.getQueryController(),i={distinct:t,where:this._where,hint:this._hint};return n.aggregate(this.className,i,r).then((function(t){return t.results}))}},{key:"aggregate",value:function(t,e){var r={useMasterKey:!0};(e=e||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),this._setRequestTask(r);var n=T.default.getQueryController();if(!(0,S.default)(t)&&"object"!==(0,f.default)(t))throw new Error("Invalid pipeline must be Array or Object");(0,m.default)(this._where||{}).length&&((0,S.default)(t)||(t=[t]),t.unshift({match:this._where}));var i={pipeline:t,hint:this._hint,explain:this._explain,readPreference:this._readPreference};return n.aggregate(this.className,i,r).then((function(t){return t.results}))}},{key:"first",value:function(t){var e=this,r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,f.default)(t.context)&&(r.context=t.context),this._setRequestTask(r);var n=T.default.getQueryController(),i=this.toJSON();i.limit=1;var o=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(i).then((function(t){if(t[0])return t[0]})):(0,x.default)(n).call(n,this.className,i,r).then((function(t){var r=t.results;if(r[0])return r[0].className||(r[0].className=e.className),o&&D(r[0],o),k.default.fromJSON(r[0],!o)}))}},{key:"eachBatch",value:function(e,r){var n;if(r=r||{},this._order||this._skip||this._limit>=0)return E.default.reject("Cannot iterate on a query with sort, skip, or limit.");var i,a=new t(this.className);(a._limit=r.batchSize||100,a._include=(0,v.default)(n=this._include).call(n,(function(t){return t})),this._select)&&(a._select=(0,v.default)(i=this._select).call(i,(function(t){return t})));for(var l in a._hint=this._hint,a._where={},this._where){var h=this._where[l];if((0,S.default)(h))a._where[l]=(0,v.default)(h).call(h,(function(t){return t}));else if(h&&"object"===(0,f.default)(h)){var c={};for(var d in a._where[l]=c,h)c[d]=h[d]}else a._where[l]=h}a.ascending("objectId");var p={};r.hasOwnProperty("useMasterKey")&&(p.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(p.sessionToken=r.sessionToken),r.hasOwnProperty("context")&&"object"===(0,f.default)(r.context)&&(p.context=r.context);var m=!1,g=[];return(0,C.continueWhile)((function(){return!m}),(0,u.default)(o.default.mark((function t(){var r,n,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.default.all([(0,x.default)(a).call(a,p),E.default.resolve(g.length>0&&e(g))]);case 2:if(r=t.sent,n=(0,s.default)(r,1),!((i=n[0]).length>=a._limit)){t.next=10;break}a.greaterThan("objectId",i[i.length-1].id),g=i,t.next=17;break;case 10:if(!(i.length>0)){t.next=16;break}return t.next=13,E.default.resolve(e(i));case 13:m=!0,t.next=17;break;case 16:m=!0;case 17:case"end":return t.stop()}}),t)}))))}},{key:"each",value:function(t,e){return this.eachBatch((function(e){var r=E.default.resolve();return(0,d.default)(e).call(e,(function(e){r=r.then((function(){return t(e)}))})),r}),e)}},{key:"hint",value:function(t){return"undefined"===typeof t&&delete this._hint,this._hint=t,this}},{key:"explain",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("boolean"!==typeof t)throw new Error("You can only set explain to a boolean value");return this._explain=t,this}},{key:"map",value:function(){var t=(0,u.default)(o.default.mark((function t(e,r){var n,i,s=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],i=0,t.next=4,this.each((function(t){return E.default.resolve(e(t,i,s)).then((function(t){n.push(t),i+=1}))}),r);case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"reduce",value:function(){var t=(0,u.default)(o.default.mark((function t(e,r,n){var i,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r,s=0,t.next=4,this.each((function(t){return 0===s&&void 0===r?(i=t,void(s+=1)):E.default.resolve(e(i,t,s)).then((function(t){i=t,s+=1}))}),n);case 4:if(0!==s||void 0!==r){t.next=6;break}throw new TypeError("Reducing empty query result set with no initial value");case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"filter",value:function(){var t=(0,u.default)(o.default.mark((function t(e,r){var n,i,s=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],i=0,t.next=4,this.each((function(t){return E.default.resolve(e(t,i,s)).then((function(e){e&&n.push(t),i+=1}))}),r);case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"equalTo",value:function(t,e){var r,n=this;return t&&"object"===(0,f.default)(t)?((0,d.default)(r=(0,N.default)(t)).call(r,(function(t){var e=(0,s.default)(t,2),r=e[0],i=e[1];return n.equalTo(r,i)})),this):"undefined"===typeof e?this.doesNotExist(t):(this._where[t]=(0,R.default)(e,!1,!0),this)}},{key:"notEqualTo",value:function(t,e){var r,n=this;return t&&"object"===(0,f.default)(t)?((0,d.default)(r=(0,N.default)(t)).call(r,(function(t){var e=(0,s.default)(t,2),r=e[0],i=e[1];return n.notEqualTo(r,i)})),this):this._addCondition(t,"$ne",e)}},{key:"lessThan",value:function(t,e){return this._addCondition(t,"$lt",e)}},{key:"greaterThan",value:function(t,e){return this._addCondition(t,"$gt",e)}},{key:"lessThanOrEqualTo",value:function(t,e){return this._addCondition(t,"$lte",e)}},{key:"greaterThanOrEqualTo",value:function(t,e){return this._addCondition(t,"$gte",e)}},{key:"containedIn",value:function(t,e){return this._addCondition(t,"$in",e)}},{key:"notContainedIn",value:function(t,e){return this._addCondition(t,"$nin",e)}},{key:"containedBy",value:function(t,e){return this._addCondition(t,"$containedBy",e)}},{key:"containsAll",value:function(t,e){return this._addCondition(t,"$all",e)}},{key:"containsAllStartingWith",value:function(t,e){var r=this;(0,S.default)(e)||(e=[e]);var n=(0,v.default)(e).call(e,(function(t){return{$regex:r._regexStartWith(t)}}));return this.containsAll(t,n)}},{key:"exists",value:function(t){return this._addCondition(t,"$exists",!0)}},{key:"doesNotExist",value:function(t){return this._addCondition(t,"$exists",!1)}},{key:"matches",value:function(t,e,r){return this._addCondition(t,"$regex",e),r||(r=""),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),r.length&&this._addCondition(t,"$options",r),this}},{key:"matchesQuery",value:function(t,e){var r=e.toJSON();return r.className=e.className,this._addCondition(t,"$inQuery",r)}},{key:"doesNotMatchQuery",value:function(t,e){var r=e.toJSON();return r.className=e.className,this._addCondition(t,"$notInQuery",r)}},{key:"matchesKeyInQuery",value:function(t,e,r){var n=r.toJSON();return n.className=r.className,this._addCondition(t,"$select",{key:e,query:n})}},{key:"doesNotMatchKeyInQuery",value:function(t,e,r){var n=r.toJSON();return n.className=r.className,this._addCondition(t,"$dontSelect",{key:e,query:n})}},{key:"contains",value:function(t,e){if("string"!==typeof e)throw new Error("The value being searched for must be a string.");return this._addCondition(t,"$regex",L(e))}},{key:"fullText",value:function(t,e,r){if(r=r||{},!t)throw new Error("A key is required.");if(!e)throw new Error("A search term is required");if("string"!==typeof e)throw new Error("The value being searched for must be a string.");var n={};for(var i in n.$term=e,r)switch(i){case"language":n.$language=r[i];break;case"caseSensitive":n.$caseSensitive=r[i];break;case"diacriticSensitive":n.$diacriticSensitive=r[i];break;default:throw new Error("Unknown option: ".concat(i))}return this._addCondition(t,"$text",{$search:n})}},{key:"sortByTextScore",value:function(){return this.ascending("$score"),this.select(["$score"]),this}},{key:"startsWith",value:function(t,e){if("string"!==typeof e)throw new Error("The value being searched for must be a string.");return this._addCondition(t,"$regex",this._regexStartWith(e))}},{key:"endsWith",value:function(t,e){if("string"!==typeof e)throw new Error("The value being searched for must be a string.");return this._addCondition(t,"$regex","".concat(L(e),"$"))}},{key:"near",value:function(t,e){return e instanceof P.default||(e=new P.default(e)),this._addCondition(t,"$nearSphere",e)}},{key:"withinRadians",value:function(t,e,r,n){return n||void 0===n?(this.near(t,e),this._addCondition(t,"$maxDistance",r)):this._addCondition(t,"$geoWithin",{$centerSphere:[[e.longitude,e.latitude],r]})}},{key:"withinMiles",value:function(t,e,r,n){return this.withinRadians(t,e,r/3958.8,n)}},{key:"withinKilometers",value:function(t,e,r,n){return this.withinRadians(t,e,r/6371,n)}},{key:"withinGeoBox",value:function(t,e,r){return e instanceof P.default||(e=new P.default(e)),r instanceof P.default||(r=new P.default(r)),this._addCondition(t,"$within",{$box:[e,r]}),this}},{key:"withinPolygon",value:function(t,e){return this._addCondition(t,"$geoWithin",{$polygon:e})}},{key:"polygonContains",value:function(t,e){return this._addCondition(t,"$geoIntersects",{$point:e})}},{key:"ascending",value:function(){this._order=[];for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.addAscending.apply(this,e)}},{key:"addAscending",value:function(){var t=this;this._order||(this._order=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,S.default)(e)&&(e=e.join()),t._order=(0,b.default)(r=t._order).call(r,e.replace(/\s/g,"").split(","))})),this}},{key:"descending",value:function(){this._order=[];for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.addDescending.apply(this,e)}},{key:"addDescending",value:function(){var t=this;this._order||(this._order=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r,n;(0,S.default)(e)&&(e=e.join()),t._order=(0,b.default)(r=t._order).call(r,(0,v.default)(n=e.replace(/\s/g,"").split(",")).call(n,(function(t){return"-".concat(t)})))})),this}},{key:"skip",value:function(t){if("number"!==typeof t||t<0)throw new Error("You can only skip by a positive number");return this._skip=t,this}},{key:"limit",value:function(t){if("number"!==typeof t)throw new Error("You can only set the limit to a numeric value");return this._limit=t,this}},{key:"withCount",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("boolean"!==typeof t)throw new Error("You can only set withCount to a boolean value");return this._count=t,this}},{key:"include",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,S.default)(e)?t._include=(0,b.default)(r=t._include).call(r,e):t._include.push(e)})),this}},{key:"includeAll",value:function(){return this.include("*")}},{key:"select",value:function(){var t=this;this._select||(this._select=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,S.default)(e)?t._select=(0,b.default)(r=t._select).call(r,e):t._select.push(e)})),this}},{key:"exclude",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,S.default)(e)?t._exclude=(0,b.default)(r=t._exclude).call(r,e):t._exclude.push(e)})),this}},{key:"readPreference",value:function(t,e,r){return this._readPreference=t,this._includeReadPreference=e,this._subqueryReadPreference=r,this}},{key:"onChange",value:function(t,e){var r=null;return this.subscribe().then((function(n){r=n,n.on("create",(function(e){t(e)})),n.on("update",(function(e){t(e)})),n.on("error",(function(t){e?e(t):console.warn("Moralis: Subscription error",t)}))})).catch((function(t){e?e(t):console.warn("Moralis: Subscription connection error",t)})),function(){r&&r.unsubscribe()}}},{key:"subscribe",value:function(){var t=(0,u.default)(o.default.mark((function t(e){var r,n,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.default.getUserController().currentUserAsync();case 2:return r=t.sent,e||(e=r?r.getSessionToken():void 0),t.next=6,T.default.getLiveQueryController().getDefaultLiveQueryClient();case 6:return(n=t.sent).shouldOpen()&&n.open(),i=n.subscribe(this,e),t.abrupt("return",i.subscribePromise.then((function(){return i})));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fromNetwork",value:function(){return this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this}},{key:"fromLocalDatastore",value:function(){return this.fromPinWithName(null)}},{key:"fromPin",value:function(){return this.fromPinWithName(U.DEFAULT_PIN)}},{key:"fromPinWithName",value:function(t){return T.default.getLocalDatastore().checkIfEnabled()&&(this._queriesLocalDatastore=!0,this._localDatastorePinName=t),this}},{key:"cancel",value:function(){var t=this;return this._xhrRequest.task&&"function"===typeof this._xhrRequest.task.abort?(this._xhrRequest.task._aborted=!0,this._xhrRequest.task.abort(),this._xhrRequest.task=null,this._xhrRequest.onchange=function(){},this):this._xhrRequest.onchange=function(){return t.cancel()}}},{key:"_setRequestTask",value:function(t){var e=this;t.requestTask=function(t){e._xhrRequest.task=t,e._xhrRequest.onchange()}}}],[{key:"fromJSON",value:function(e,r){return new t(e).withJSON(r)}},{key:"or",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=new t(B(r));return i._orQuery(r),i}},{key:"and",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=new t(B(r));return i._andQuery(r),i}},{key:"nor",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=new t(B(r));return i._norQuery(r),i}}]),t}(),j={find:function(t,e,r){return T.default.getRESTController().request("GET","classes/".concat(t),e,r)},aggregate:function(t,e,r){return T.default.getRESTController().request("GET","aggregate/".concat(t),e,r)}};T.default.setQueryController(j);var H=z;e.default=H},73201:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(41511)),s=i(r(26394)),a=i(r(69198)),u=i(r(87672)),l=r(4847),h=(i(r(98590)),i(r(76789))),c=function(){function t(e,r){(0,s.default)(this,t),(0,u.default)(this,"parent",void 0),(0,u.default)(this,"key",void 0),(0,u.default)(this,"targetClassName",void 0),this.parent=e,this.key=r,this.targetClassName=null}return(0,a.default)(t,[{key:"_ensureParentAndKey",value:function(t,e){if(this.key=this.key||e,this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==t.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==t.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else t.id&&(this.parent=t)}else this.parent=t}},{key:"add",value:function(t){(0,o.default)(t)||(t=[t]);var e=new l.RelationOp(t,[]),r=this.parent;if(!r)throw new Error("Cannot add to a Relation without a parent");return 0===t.length||(r.set(this.key,e),this.targetClassName=e._targetClassName),r}},{key:"remove",value:function(t){(0,o.default)(t)||(t=[t]);var e=new l.RelationOp([],t);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");0!==t.length&&(this.parent.set(this.key,e),this.targetClassName=e._targetClassName)}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function(){var t,e=this.parent;if(!e)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?t=new h.default(this.targetClassName):(t=new h.default(e.className),t._extraOptions.redirectClassNameForKey=this.key),t._addCondition("$relatedTo","object",{__type:"Pointer",className:e.className,objectId:e.id}),t._addCondition("$relatedTo","key",this.key),t}}]),t}();e.default=c},68466:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(26394)),a=o(r(69198)),u=o(r(31474)),l=o(r(51379)),h=o(r(214)),c=o(r(66380)),f=o(r(91561)),d=o(r(85227)),p=o(r(98590));function m(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,c.default)(t);if(e){var o=(0,c.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,h.default)(this,r)}}var g=function(t){(0,l.default)(r,t);var e=m(r);function r(t,n){var i;return(0,s.default)(this,r),i=e.call(this,"_Role"),"string"===typeof t&&n instanceof f.default&&(i.setName(t),i.setACL(n)),i}return(0,a.default)(r,[{key:"getName",value:function(){var t=this.get("name");return null==t||"string"===typeof t?t:""}},{key:"setName",value:function(t,e){return this.set("name",t,e)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(t,e){var n=(0,u.default)((0,c.default)(r.prototype),"validate",this).call(this,t,e);if(n)return n;if("name"in t&&t.name!==this.getName()){var i=t.name;if(this.id&&this.id!==t.objectId)return new d.default(d.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!==typeof i)return new d.default(d.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new d.default(d.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),r}(p.default);p.default.registerSubclass("_Role",g);var v=g;e.default=v},8164:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(81643)),s=i(r(26394)),a=i(r(69198)),u=i(r(87672)),l=i(r(2463)),h=i(r(98590)),c=i(r(89212)),f=["String","Number","Boolean","Date","File","GeoPoint","Polygon","Array","Object","Pointer","Relation"],d=function(){function t(e){(0,s.default)(this,t),(0,u.default)(this,"className",void 0),(0,u.default)(this,"_fields",void 0),(0,u.default)(this,"_indexes",void 0),(0,u.default)(this,"_clp",void 0),"string"===typeof e&&("User"===e&&l.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e),this._fields={},this._indexes={}}return(0,a.default)(t,[{key:"get",value:function(){return this.assertClassName(),l.default.getSchemaController().get(this.className).then((function(t){if(!t)throw new Error("Schema not found.");return t}))}},{key:"save",value:function(){this.assertClassName();var t=l.default.getSchemaController(),e={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return t.create(this.className,e)}},{key:"update",value:function(){this.assertClassName();var t=l.default.getSchemaController(),e={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return this._fields={},this._indexes={},t.update(this.className,e)}},{key:"delete",value:function(){return this.assertClassName(),l.default.getSchemaController().delete(this.className)}},{key:"purge",value:function(){return this.assertClassName(),l.default.getSchemaController().purge(this.className)}},{key:"assertClassName",value:function(){if(!this.className)throw new Error("You must set a Class Name before making any request.")}},{key:"setCLP",value:function(t){return t instanceof c.default?this._clp=t.toJSON():this._clp=t,this}},{key:"addField",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e||"String",!t)throw new Error("field name may not be null.");if(-1===(0,o.default)(f).call(f,e))throw new Error("".concat(e," is not a valid type."));var n={type:e};return"boolean"===typeof r.required&&(n.required=r.required),void 0!==r.defaultValue&&(n.defaultValue=r.defaultValue),this._fields[t]=n,this}},{key:"addIndex",value:function(t,e){if(!t)throw new Error("index name may not be null.");if(!e)throw new Error("index may not be null.");return this._indexes[t]=e,this}},{key:"addString",value:function(t,e){return this.addField(t,"String",e)}},{key:"addNumber",value:function(t,e){return this.addField(t,"Number",e)}},{key:"addBoolean",value:function(t,e){return this.addField(t,"Boolean",e)}},{key:"addDate",value:function(t,e){return e&&e.defaultValue&&(e.defaultValue={__type:"Date",iso:new Date(e.defaultValue)}),this.addField(t,"Date",e)}},{key:"addFile",value:function(t,e){return this.addField(t,"File",e)}},{key:"addGeoPoint",value:function(t,e){return this.addField(t,"GeoPoint",e)}},{key:"addPolygon",value:function(t,e){return this.addField(t,"Polygon",e)}},{key:"addArray",value:function(t,e){return this.addField(t,"Array",e)}},{key:"addObject",value:function(t,e){return this.addField(t,"Object",e)}},{key:"addPointer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("field name may not be null.");if(!e)throw new Error("You need to set the targetClass of the Pointer.");var n={type:"Pointer",targetClass:e};return"boolean"===typeof r.required&&(n.required=r.required),void 0!==r.defaultValue&&(n.defaultValue=r.defaultValue,r.defaultValue instanceof h.default&&(n.defaultValue=r.defaultValue.toPointer())),this._fields[t]=n,this}},{key:"addRelation",value:function(t,e){if(!t)throw new Error("field name may not be null.");if(!e)throw new Error("You need to set the targetClass of the Relation.");return this._fields[t]={type:"Relation",targetClass:e},this}},{key:"deleteField",value:function(t){return this._fields[t]={__op:"Delete"},this}},{key:"deleteIndex",value:function(t){return this._indexes[t]={__op:"Delete"},this}}],[{key:"all",value:function(){return l.default.getSchemaController().get("").then((function(t){if(0===t.results.length)throw new Error("Schema not found.");return t.results}))}}]),t}(),p={send:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l.default.getRESTController().request(e,"schemas/".concat(t),r,{useMasterKey:!0})},get:function(t){return this.send(t,"GET")},create:function(t,e){return this.send(t,"POST",e)},update:function(t,e){return this.send(t,"PUT",e)},delete:function(t){return this.send(t,"DELETE")},purge:function(t){return l.default.getRESTController().request("DELETE","purge/".concat(t),{},{useMasterKey:!0})}};l.default.setSchemaController(p);var m=d;e.default=m},26675:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(93476)),a=o(r(23765)),u=o(r(26394)),l=o(r(69198)),h=o(r(51379)),c=o(r(214)),f=o(r(66380)),d=o(r(2463)),p=o(r(92296)),m=o(r(98590)),g=o(r(90160));function v(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,f.default)(t);if(e){var o=(0,f.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,c.default)(this,r)}}var y=function(t){(0,h.default)(r,t);var e=v(r);function r(t){var n;if((0,u.default)(this,r),n=e.call(this,"_Session"),t&&"object"===(0,a.default)(t)&&!n.set(t||{}))throw new Error("Can't create an invalid Session");return n}return(0,l.default)(r,[{key:"getSessionToken",value:function(){var t=this.get("sessionToken");return"string"===typeof t?t:""}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(t){t=t||{};var e=d.default.getSessionController(),r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),g.default.currentAsync().then((function(t){return t?(r.sessionToken=t.getSessionToken(),e.getSession(r)):s.default.reject("There is no current user.")}))}},{key:"isCurrentSessionRevocable",value:function(){var t=g.default.current();return!!t&&(0,p.default)(t.getSessionToken()||"")}}]),r}(m.default);m.default.registerSubclass("_Session",y);var w={getSession:function(t){var e=d.default.getRESTController(),r=new y;return e.request("GET","sessions/me",{},t).then((function(t){return r._finishFetch(t),r._setExisted(!0),r}))}};d.default.setSessionController(w);var b=y;e.default=b},90160:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(63109)),a=o(r(93476)),u=o(r(63978)),l=o(r(59340)),h=o(r(51161)),c=o(r(23765)),f=o(r(26394)),d=o(r(69198)),p=o(r(31474)),m=o(r(51379)),g=o(r(214)),v=o(r(66380)),y=o(r(27143)),w=o(r(2463)),b=o(r(92296)),A=o(r(85227)),M=o(r(98590)),_=o(r(26675)),E=(o(r(86283)),o(r(84837)));function x(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,v.default)(t);if(e){var o=(0,v.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,g.default)(this,r)}}var S="currentUser",N=!w.default.get("IS_NODE"),T=!1,R=null,C={},I=function(t){(0,m.default)(r,t);var e=x(r);function r(t){var n;if((0,f.default)(this,r),n=e.call(this,"_User"),t&&"object"===(0,c.default)(t)&&!n.set(t||{}))throw new Error("Can't create an invalid Parse User");return n}return(0,d.default)(r,[{key:"_upgradeToRevocableSession",value:function(t){var e={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),w.default.getUserController().upgradeToRevocableSession(this,e)}},{key:"linkWith",value:function(t,e){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i.sessionToken=i.sessionToken||this.getSessionToken()||"","string"===typeof t)if(r=t,C[t])t=C[t];else{var o={restoreAuthentication:function(){return!0},getAuthType:function(){return r}};C[o.getAuthType()]=o,t=o}else r=t.getAuthType();if(e&&e.hasOwnProperty("authData")){var s=this.get("authData")||{};if("object"!==(0,c.default)(s))throw new Error("Invalid type: authData field should be an object");return s[r]=e.authData,w.default.getUserController().linkWith(this,s,i)}return new a.default((function(e,r){t.authenticate({success:function(t,o){var s={};s.authData=o,n.linkWith(t,s,i).then((function(){e(n)}),(function(t){r(t)}))},error:function(t,e){r(e)}})}))}},{key:"_linkWith",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.linkWith(t,e,r)}},{key:"_synchronizeAuthData",value:function(t){if(this.isCurrent()&&t){var e;"string"===typeof t?t=C[e=t]:e=t.getAuthType();var r=this.get("authData");if(t&&r&&"object"===(0,c.default)(r))t.restoreAuthentication(r[e])||this._unlinkFrom(t)}}},{key:"_synchronizeAllAuthData",value:function(){var t=this.get("authData");if("object"===(0,c.default)(t))for(var e in t)this._synchronizeAuthData(e)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var t=this.get("authData");if("object"===(0,c.default)(t))for(var e in t)t[e]||delete t[e]}}},{key:"_unlinkFrom",value:function(t,e){var r=this;return this.linkWith(t,{authData:null},e).then((function(){return r._synchronizeAuthData(t),a.default.resolve(r)}))}},{key:"_isLinked",value:function(t){var e;e="string"===typeof t?t:t.getAuthType();var r=this.get("authData")||{};return"object"===(0,c.default)(r)&&!!r[e]}},{key:"_logOutWithAll",value:function(){var t=this.get("authData");if("object"===(0,c.default)(t))for(var e in t)this._logOutWith(e)}},{key:"_logOutWith",value:function(t){this.isCurrent()&&("string"===typeof t&&(t=C[t]),t&&t.deauthenticate&&t.deauthenticate())}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var t=r.current();return!!t&&t.id===this.id}},{key:"getUsername",value:function(){var t=this.get("username");return null==t||"string"===typeof t?t:""}},{key:"setUsername",value:function(t){var e=this.get("authData");e&&"object"===(0,c.default)(e)&&e.hasOwnProperty("anonymous")&&(e.anonymous=null),this.set("username",t)}},{key:"setPassword",value:function(t){this.set("password",t)}},{key:"getEmail",value:function(){var t=this.get("email");return null==t||"string"===typeof t?t:""}},{key:"setEmail",value:function(t){return this.set("email",t)}},{key:"getSessionToken",value:function(){var t=this.get("sessionToken");return null==t||"string"===typeof t?t:""}},{key:"authenticated",value:function(){var t=r.current();return!!this.get("sessionToken")&&!!t&&t.id===this.id}},{key:"signUp",value:function(t,e){var r={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(r.installationId=e.installationId),w.default.getUserController().signUp(this,t,r)}},{key:"logIn",value:function(t){var e={usePost:!0};return(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(e.installationId=t.installationId),t.hasOwnProperty("usePost")&&(e.usePost=t.usePost),w.default.getUserController().logIn(this,e)}},{key:"save",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,v.default)(r.prototype),"save",this).apply(this,n).then((function(){return t.isCurrent()?w.default.getUserController().updateUserOnDisk(t):t}))}},{key:"destroy",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,v.default)(r.prototype),"destroy",this).apply(this,n).then((function(){return t.isCurrent()?w.default.getUserController().removeUserFromDisk():t}))}},{key:"fetch",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,v.default)(r.prototype),"fetch",this).apply(this,n).then((function(){return t.isCurrent()?w.default.getUserController().updateUserOnDisk(t):t}))}},{key:"fetchWithInclude",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,v.default)(r.prototype),"fetchWithInclude",this).apply(this,n).then((function(){return t.isCurrent()?w.default.getUserController().updateUserOnDisk(t):t}))}},{key:"verifyPassword",value:function(t,e){var n=this.getUsername()||"";return r.verifyPassword(n,t,e)}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(t,e){if(t)for(var n in t)"className"!==n&&(0,u.default)(r.prototype,n,{value:t[n],enumerable:!1,writable:!0,configurable:!0});if(e)for(var i in e)"className"!==i&&(0,u.default)(r,i,{value:e[i],enumerable:!1,writable:!0,configurable:!0});return r}},{key:"current",value:function(){return N?w.default.getUserController().currentUser():null}},{key:"currentAsync",value:function(){return N?w.default.getUserController().currentUserAsync():a.default.resolve(null)}},{key:"signUp",value:function(t,e,r,n){return(r=r||{}).username=t,r.password=e,new this(r).signUp({},n)}},{key:"logIn",value:function(t,e,r){if("string"!==typeof t)return a.default.reject(new A.default(A.default.OTHER_CAUSE,"Username must be a string."));if("string"!==typeof e)return a.default.reject(new A.default(A.default.OTHER_CAUSE,"Password must be a string."));var n=new this;return n._finishFetch({username:t,password:e}),n.logIn(r)}},{key:"loginOrSignup",value:function(t,e){var r=this;return this.logIn(t,e).catch((function(n){if(101===n.code){var i=new r;return i.set("username",t),i.set("password",e),i.signUp()}throw n}))}},{key:"become",value:function(t,e){if(!N)throw new Error("It is not memory-safe to become a user in a server environment");var r={sessionToken:t};(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey);var n=w.default.getUserController(),i=new this;return n.become(i,r)}},{key:"me",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=w.default.getUserController(),n={sessionToken:t};e.useMasterKey&&(n.useMasterKey=e.useMasterKey);var i=new this;return r.me(i,n)}},{key:"hydrate",value:function(t){var e=w.default.getUserController(),r=new this;return e.hydrate(r,t)}},{key:"logInWith",value:function(t,e,r){return(new this).linkWith(t,e,r)}},{key:"logOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w.default.getUserController().logOut(t)}},{key:"requestPasswordReset",value:function(t,e){var r={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),w.default.getUserController().requestPasswordReset(t,r)}},{key:"requestEmailVerification",value:function(t,e){var r={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),w.default.getUserController().requestEmailVerification(t,r)}},{key:"verifyPassword",value:function(t,e,r){if("string"!==typeof t)return a.default.reject(new A.default(A.default.OTHER_CAUSE,"Username must be a string."));if("string"!==typeof e)return a.default.reject(new A.default(A.default.OTHER_CAUSE,"Password must be a string."));var n={};return(r=r||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey),w.default.getUserController().verifyPassword(t,e,n)}},{key:"allowCustomUserClass",value:function(t){w.default.set("PERFORM_USER_REWRITE",!t)}},{key:"enableRevocableSession",value:function(t){if(t=t||{},w.default.set("FORCE_REVOCABLE_SESSION",!0),N){var e=r.current();if(e)return e._upgradeToRevocableSession(t)}return a.default.resolve()}},{key:"enableUnsafeCurrentUser",value:function(){N=!0}},{key:"disableUnsafeCurrentUser",value:function(){N=!1}},{key:"_registerAuthenticationProvider",value:function(t){C[t.getAuthType()]=t,r.currentAsync().then((function(e){e&&e._synchronizeAuthData(t.getAuthType())}))}},{key:"_logInWith",value:function(t,e,r){return(new this).linkWith(t,e,r)}},{key:"_clearCache",value:function(){R=null,T=!1}},{key:"_setCurrentUserCache",value:function(t){R=t}}]),r}(M.default);M.default.registerSubclass("_User",I);var P={updateUserOnDisk:function(t){var e=E.default.generatePath(S),r=t.toJSON();delete r.password,r.className="_User";var n=(0,l.default)(r);w.default.get("ENCRYPTED_USER")&&(n=w.default.getCryptoController().encrypt(r,w.default.get("ENCRYPTED_KEY")));return E.default.setItemAsync(e,n).then((function(){return t}))},removeUserFromDisk:function(){var t=E.default.generatePath(S);return T=!0,R=null,E.default.removeItemAsync(t)},setCurrentUser:function(t){var e=this;return(0,h.default)(s.default.mark((function r(){var n;return s.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.currentUserAsync();case 2:if(!(n=r.sent)||t.equals(n)||!y.default.isLinked(n)){r.next=6;break}return r.next=6,n.destroy({sessionToken:n.getSessionToken()});case 6:return R=t,t._cleanupAuthData(),t._synchronizeAllAuthData(),r.abrupt("return",P.updateUserOnDisk(t));case 10:case"end":return r.stop()}}),r)})))()},currentUser:function(){if(R)return R;if(T)return null;if(E.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var t=E.default.generatePath(S),e=E.default.getItem(t);if(T=!0,!e)return R=null,null;w.default.get("ENCRYPTED_USER")&&(e=w.default.getCryptoController().decrypt(e,w.default.get("ENCRYPTED_KEY")));(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);var r=M.default.fromJSON(e);return R=r,r._synchronizeAllAuthData(),r},currentUserAsync:function(){if(R)return a.default.resolve(R);if(T)return a.default.resolve(null);var t=E.default.generatePath(S);return E.default.getItemAsync(t).then((function(t){if(T=!0,!t)return R=null,a.default.resolve(null);w.default.get("ENCRYPTED_USER")&&(t=w.default.getCryptoController().decrypt(t.toString(),w.default.get("ENCRYPTED_KEY")));(t=JSON.parse(t)).className||(t.className="_User"),t._id&&(t.objectId!==t._id&&(t.objectId=t._id),delete t._id),t._sessionToken&&(t.sessionToken=t._sessionToken,delete t._sessionToken);var e=M.default.fromJSON(t);return R=e,e._synchronizeAllAuthData(),a.default.resolve(e)}))},signUp:function(t,e,r){var n=e&&e.username||t.get("username"),i=e&&e.password||t.get("password");return n&&n.length?i&&i.length?t.save(e,r).then((function(){return t._finishFetch({password:void 0}),N?P.setCurrentUser(t):t})):a.default.reject(new A.default(A.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):a.default.reject(new A.default(A.default.OTHER_CAUSE,"Cannot sign up user with an empty username."))},logIn:function(t,e){var r=w.default.getRESTController(),n=w.default.getObjectStateController(),i={username:t.get("username"),password:t.get("password")};return r.request(e.usePost?"POST":"GET","login",i,e).then((function(e){return t._migrateId(e.objectId),t._setExisted(!0),n.setPendingOp(t._getStateIdentifier(),"username",void 0),n.setPendingOp(t._getStateIdentifier(),"password",void 0),e.password=void 0,t._finishFetch(e),N?P.setCurrentUser(t):a.default.resolve(t)}))},become:function(t,e){return w.default.getRESTController().request("GET","users/me",{},e).then((function(e){return t._finishFetch(e),t._setExisted(!0),P.setCurrentUser(t)}))},hydrate:function(t,e){return t._finishFetch(e),t._setExisted(!0),e.sessionToken&&N?P.setCurrentUser(t):a.default.resolve(t)},me:function(t,e){return w.default.getRESTController().request("GET","users/me",{},e).then((function(e){return t._finishFetch(e),t._setExisted(!0),t}))},logOut:function(t){r(60792).cleanup();var e=w.default.getRESTController();return t.sessionToken?e.request("POST","logout",{},t):P.currentUserAsync().then((function(t){var r=E.default.generatePath(S),n=E.default.removeItemAsync(r);if(null!==t){var i=y.default.isLinked(t),o=t.getSessionToken();o&&(0,b.default)(o)&&(n=n.then((function(){if(i)return t.destroy({sessionToken:o})})).then((function(){return e.request("POST","logout",{},{sessionToken:o})}))),t._logOutWithAll(),t._finishFetch({sessionToken:void 0}),t._clearServerData()}return T=!0,R=null,n}))},requestPasswordReset:function(t,e){return w.default.getRESTController().request("POST","requestPasswordReset",{email:t},e)},upgradeToRevocableSession:function(t,e){var r=t.getSessionToken();return r?(e.sessionToken=r,w.default.getRESTController().request("POST","upgradeToRevocableSession",{},e).then((function(e){var r=new _.default;return r._finishFetch(e),t._finishFetch({sessionToken:r.getSessionToken()}),t.isCurrent()?P.setCurrentUser(t):a.default.resolve(t)}))):a.default.reject(new A.default(A.default.SESSION_MISSING,"Cannot upgrade a user with no session token"))},linkWith:function(t,e,r){return t.save({authData:e},r).then((function(){return N?P.setCurrentUser(t):t}))},verifyPassword:function(t,e,r){return w.default.getRESTController().request("GET","verifyPassword",{username:t,password:e},r)},requestEmailVerification:function(t,e){return w.default.getRESTController().request("POST","verificationEmailRequest",{email:t},e)}};w.default.setUserController(P);var k=I;e.default=k},26928:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.send=function(t){t.where&&t.where instanceof a.default&&(t.where=t.where.toJSON().where);t.push_time&&"object"===(0,o.default)(t.push_time)&&(t.push_time=t.push_time.toJSON());t.expiration_time&&"object"===(0,o.default)(t.expiration_time)&&(t.expiration_time=t.expiration_time.toJSON());if(t.expiration_time&&t.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return s.default.getPushController().send(t)};var o=i(r(23765)),s=i(r(2463)),a=i(r(76789));var u={send:function(t){return s.default.getRESTController().request("POST","push",t,{useMasterKey:!0})}};s.default.setPushController(u)},61054:(t,e,r)=>{"use strict";var n=r(86902),i=r(14310),o=r(20116),s=r(34074),a=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530),f=c(r(87672)),d=c(r(23765)),p=c(r(93476)),m=c(r(59340)),g=c(r(78580)),v=c(r(33032)),y=c(r(77766)),w=c(r(2463)),b=c(r(85227)),A=r(64719);function M(t,e){var r=n(t);if(i){var a=i(t);e&&(a=o(a).call(a,(function(e){return s(t,e).enumerable}))),r.push.apply(r,a)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?a(r=M(Object(i),!0)).call(r,(function(e){(0,f.default)(t,e,i[e])})):u?l(t,u(i)):a(n=M(Object(i))).call(n,(function(e){h(t,e,s(i,e))}))}return t}var E=r(90042).v4,x=null;"undefined"!==typeof XMLHttpRequest&&(x=XMLHttpRequest);var S=!1;"undefined"===typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(S=!0);var N={ajax:function(t,e,r,n,i){var o;if(S)return function(t,e,r,n,i){return new p.default((function(n,o){var s=new XDomainRequest;s.onload=function(){var t;try{t=JSON.parse(s.responseText)}catch(e){o(e)}t&&n({response:t})},s.onerror=s.ontimeout=function(){var t={responseText:(0,m.default)({code:b.default.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};o(t)},s.onprogress=function(){i&&"function"===typeof i.progress&&i.progress(s.responseText)},s.open(t,e),s.send(r),i&&"function"===typeof i.requestTask&&i.requestTask(s)}))}(t,e,r,0,i);var s=(0,A.resolvingPromise)(),a=w.default.get("IDEMPOTENCY")&&(0,g.default)(o=["POST","PUT"]).call(o,t),u=a?E():"",l=0;return function o(){if(null==x)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var h,c,f=!1,d=new x;(d.onreadystatechange=function(){if(4===d.readyState&&!f&&!d._aborted)if(f=!0,d.status>=200&&d.status<300){var t;try{var e;if(t=JSON.parse(d.responseText),"function"===typeof d.getResponseHeader)(0,g.default)(e=d.getAllResponseHeaders()||"").call(e,"x-parse-job-status-id: ")&&(t=d.getResponseHeader("x-parse-job-status-id"))}catch(n){s.reject(n.toString())}t&&s.resolve({response:t,status:d.status,xhr:d})}else if(d.status>=500||0===d.status)if(++l<w.default.get("REQUEST_ATTEMPT_LIMIT")){var r=Math.round(125*Math.random()*Math.pow(2,l));(0,v.default)(o,r)}else 0===d.status?s.reject("Unable to connect to the Parse API"):s.reject(d);else s.reject(d)},"string"!==typeof(n=n||{})["Content-Type"]&&(n["Content-Type"]="text/plain"),w.default.get("IS_NODE"))&&(n["User-Agent"]=(0,y.default)(h="Parse/".concat(w.default.get("VERSION")," (NodeJS ")).call(h,process.versions.node,")"));(a&&(n["X-Parse-Request-Id"]=u),w.default.get("SERVER_AUTH_TYPE")&&w.default.get("SERVER_AUTH_TOKEN"))&&(n.Authorization=(0,y.default)(c="".concat(w.default.get("SERVER_AUTH_TYPE")," ")).call(c,w.default.get("SERVER_AUTH_TOKEN")));var p=w.default.get("REQUEST_HEADERS");for(var m in p)n[m]=p[m];function b(t,e){i&&"function"===typeof i.progress&&(e.lengthComputable?i.progress(e.loaded/e.total,e.loaded,e.total,{type:t}):i.progress(null,null,null,{type:t}))}for(var A in d.onprogress=function(t){b("download",t)},d.upload&&(d.upload.onprogress=function(t){b("upload",t)}),d.open(t,e,!0),n)d.setRequestHeader(A,n[A]);d.onabort=function(){s.resolve({response:{results:[]},status:0,xhr:d})},d.send(r),i&&"function"===typeof i.requestTask&&i.requestTask(d)}(),s},request:function(t,e,r,n){n=n||{};var i=w.default.get("SERVER_URL");"/"!==i[i.length-1]&&(i+="/"),i+=e;var o={};if(r&&"object"===(0,d.default)(r))for(var s in r)o[s]=r[s];var a=n.context;void 0!==a&&(o._context=a),"POST"!==t&&(o._method=t,t="POST"),o._ApplicationId=w.default.get("APPLICATION_ID");var u=w.default.get("JAVASCRIPT_KEY");u&&(o._JavaScriptKey=u),o._ClientVersion=w.default.get("VERSION");var l=n.useMasterKey;"undefined"===typeof l&&(l=w.default.get("USE_MASTER_KEY")),l&&w.default.get("MASTER_KEY")&&(delete o._JavaScriptKey,o._MasterKey=w.default.get("MASTER_KEY")),w.default.get("FORCE_REVOCABLE_SESSION")&&(o._RevocableSession="1");var h,c=n.installationId;c&&"string"===typeof c?h=p.default.resolve(c):h=w.default.getInstallationController().currentInstallationId();return h.then((function(t){o._InstallationId=t;var e=w.default.getUserController();return n&&"string"===typeof n.sessionToken?p.default.resolve(n.sessionToken):e?e.currentUserAsync().then((function(t){return t?p.default.resolve(t.getSessionToken()):p.default.resolve(null)})):p.default.resolve(null)})).then((function(e){e&&(o._SessionToken=e);var r=(0,m.default)(o);return N.ajax(t,i,r,{},n).then((function(t){var e=t.response,r=t.status;return n.returnStatus?_(_({},e),{},{_status:r}):e}))})).catch(N.handleError)},handleError:function(t){var e;if(t&&t.responseText)try{var r=JSON.parse(t.responseText);e=new b.default(r.code,r.error)}catch(i){e=new b.default(b.default.INVALID_JSON,"Received an error with invalid JSON from Parse: ".concat(t.responseText))}else{var n=t.message?t.message:t;e=new b.default(b.default.CONNECTION_FAILED,"XMLHttpRequest failed: ".concat((0,m.default)(n)))}return p.default.reject(e)},_setXHR:function(t){x=t},_getXHR:function(){return x}};t.exports=N},62605:(t,e,r)=>{"use strict";var n=r(23765),i=r(52424),o=r(63978),s=r(34074);o(e,"__esModule",{value:!0}),e.clearAllState=function(){l={}},e.commitServerChanges=function(t,e){var r=c(t);a.commitServerChanges(r.serverData,r.objectCache,e)},e.duplicateState=function(t,e){e.id=t.id},e.enqueueTask=function(t,e){return c(t).tasks.enqueue(e)},e.estimateAttribute=function(t,e){var r=f(t),n=d(t);return a.estimateAttribute(r,n,t.className,t.id,e)},e.estimateAttributes=function(t){var e=f(t),r=d(t);return a.estimateAttributes(e,r,t.className,t.id)},e.getObjectCache=function(t){var e=h(t);if(e)return e.objectCache;return{}},e.getPendingOps=d,e.getServerData=f,e.getState=h,e.initializeState=c,e.mergeFirstPendingState=function(t){var e=d(t);a.mergeFirstPendingState(e)},e.popPendingState=function(t){var e=c(t).pendingOps;return a.popPendingState(e)},e.pushPendingState=function(t){var e=c(t).pendingOps;a.pushPendingState(e)},e.removeState=function(t){var e=h(t);if(null===e)return null;return delete l[t.className][t.id],e},e.setPendingOp=function(t,e,r){var n=c(t).pendingOps;a.setPendingOp(n,e,r)},e.setServerData=function(t,e){var r=c(t).serverData;a.setServerData(r,e)};var a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var i={};for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=o&&s?s(t,a):null;l&&(l.get||l.set)?o(i,a,l):i[a]=t[a]}i.default=t,r&&r.set(t,i);return i}(r(82450));function u(t){if("function"!==typeof i)return null;var e=new i,r=new i;return(u=function(t){return t?r:e})(t)}var l={};function h(t){var e=l[t.className];return e&&e[t.id]||null}function c(t,e){var r=h(t);return r||(l[t.className]||(l[t.className]={}),e||(e=a.defaultState()),r=l[t.className][t.id]=e)}function f(t){var e=h(t);return e?e.serverData:{}}function d(t){var e=h(t);return e?e.pendingOps:[{}]}},84837:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(93476)),o=n(r(77766)),s=n(r(2463)),a={async:function(){return!!s.default.getStorageController().async},getItem:function(t){var e=s.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.getItem(t)},getItemAsync:function(t){var e=s.default.getStorageController();return 1===e.async?e.getItemAsync(t):i.default.resolve(e.getItem(t))},setItem:function(t,e){var r=s.default.getStorageController();if(1===r.async)throw new Error("Synchronous storage is not supported by the current storage controller");return r.setItem(t,e)},setItemAsync:function(t,e){var r=s.default.getStorageController();return 1===r.async?r.setItemAsync(t,e):i.default.resolve(r.setItem(t,e))},removeItem:function(t){var e=s.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.removeItem(t)},removeItemAsync:function(t){var e=s.default.getStorageController();return 1===e.async?e.removeItemAsync(t):i.default.resolve(e.removeItem(t))},getAllKeys:function(){var t=s.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.getAllKeys()},getAllKeysAsync:function(){var t=s.default.getStorageController();return 1===t.async?t.getAllKeysAsync():i.default.resolve(t.getAllKeys())},generatePath:function(t){var e;if(!s.default.get("APPLICATION_ID"))throw new Error("You need to call Moralis.start with an applicationId before using Moralis.");if("string"!==typeof t)throw new Error("Tried to get a Storage path that was not a String.");return"/"===t[0]&&(t=t.substr(1)),(0,o.default)(e="Parse/".concat(s.default.get("APPLICATION_ID"),"/")).call(e,t)},_clear:function(){var t=s.default.getStorageController();t.hasOwnProperty("clear")&&t.clear()}};t.exports=a,s.default.setStorageController(r(51351))},51351:t=>{"use strict";var e={async:0,getItem:function(t){return localStorage.getItem(t)},setItem:function(t,e){try{localStorage.setItem(t,e)}catch(r){console.log(r.message)}},removeItem:function(t){localStorage.removeItem(t)},getAllKeys:function(){for(var t=[],e=0;e<localStorage.length;e+=1)t.push(localStorage.key(e));return t},clear:function(){localStorage.clear()}};t.exports=e},56525:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(26394)),o=n(r(69198)),s=n(r(87672)),a=r(64719),u=function(){function t(){(0,i.default)(this,t),(0,s.default)(this,"queue",void 0),this.queue=[]}return(0,o.default)(t,[{key:"enqueue",value:function(t){var e=this,r=new a.resolvingPromise;return this.queue.push({task:t,_completion:r}),1===this.queue.length&&t().then((function(){e._dequeue(),r.resolve()}),(function(t){e._dequeue(),r.reject(t)})),r}},{key:"_dequeue",value:function(){var t=this;if(this.queue.shift(),this.queue.length){var e=this.queue[0];e.task().then((function(){t._dequeue(),e._completion.resolve()}),(function(r){t._dequeue(),e._completion.reject(r)}))}}}]),t}();t.exports=u},50640:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(86902)),o=n(r(81643)),s=n(r(97657)),a=["native","erc20","erc721","erc1155"],u={native:{receiver:"",amount:""},erc20:{contractAddress:"",receiver:"",amount:""},erc721:{contractAddress:"",receiver:"",tokenId:""},erc1155:{contractAddress:"",receiver:"",tokenId:"",amount:""}},l=function(t){return!("undefined"===typeof t||!t)};t.exports={abi:{erc1155:[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[{name:"",type:"bool"}],name:"safeTransferFrom",type:"function",constant:!1,payable:!1},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"transferFrom",type:"function",constant:!1,payable:!1}],erc721:[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"safeTransferFrom",type:"function",constant:!1,payable:!1},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"transferFrom",type:"function",constant:!1,payable:!1}],erc20:[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},validateInput:function(t,e){for(var r=[],n=u[t],o=0,s=(0,i.default)(n);o<s.length;o++){var a=s[o];l(e[a])||r.push("".concat(a," is required"))}if(r.length>0)throw r},isSupportedType:function(t){if(-1===(0,o.default)(a).call(a,t))throw"Unsupported type";return!0},isNotEmpty:l,isUint256:function(t){if(!(0,s.default)(+t)||+t<0)throw new Error("Invalid token Id");return!0}}},32045:(t,e,r)=>{"use strict";var n=r(23765),i=r(52424),o=r(63978),s=r(34074),a=r(60530);o(e,"__esModule",{value:!0}),e.clearAllState=function(){f=new u.default},e.commitServerChanges=function(t,e){var r=p(t);l.commitServerChanges(r.serverData,r.objectCache,e)},e.duplicateState=function(t,e){var r=p(t),n=p(e);for(var i in r.serverData)n.serverData[i]=r.serverData[i];for(var o=0;o<r.pendingOps.length;o++)for(var s in r.pendingOps[o])n.pendingOps[o][s]=r.pendingOps[o][s];for(var a in r.objectCache)n.objectCache[a]=r.objectCache[a];n.existed=r.existed},e.enqueueTask=function(t,e){return p(t).tasks.enqueue(e)},e.estimateAttribute=function(t,e){var r=m(t),n=g(t);return l.estimateAttribute(r,n,t.className,t.id,e)},e.estimateAttributes=function(t){var e=m(t),r=g(t);return l.estimateAttributes(e,r,t.className,t.id)},e.getObjectCache=function(t){var e=d(t);if(e)return e.objectCache;return{}},e.getPendingOps=g,e.getServerData=m,e.getState=d,e.initializeState=p,e.mergeFirstPendingState=function(t){var e=g(t);l.mergeFirstPendingState(e)},e.popPendingState=function(t){var e=p(t).pendingOps;return l.popPendingState(e)},e.pushPendingState=function(t){var e=p(t).pendingOps;l.pushPendingState(e)},e.removeState=function(t){var e=d(t);if(null===e)return null;return f.delete(t),e},e.setPendingOp=function(t,e,r){var n=p(t).pendingOps;l.setPendingOp(n,e,r)},e.setServerData=function(t,e){var r=p(t).serverData;l.setServerData(r,e)};var u=a(r(52424)),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var i={};for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o&&s?s(t,a):null;u&&(u.get||u.set)?o(i,a,u):i[a]=t[a]}i.default=t,r&&r.set(t,i);return i}(r(82450)),h=a(r(56525));function c(t){if("function"!==typeof i)return null;var e=new i,r=new i;return(c=function(t){return t?r:e})(t)}var f=new u.default;function d(t){return f.get(t)||null}function p(t,e){var r=d(t);return r||(e||(e={serverData:{},pendingOps:[{}],objectCache:{},tasks:new h.default,existed:!1}),r=e,f.set(t,r),r)}function m(t){var e=d(t);return e?e.serverData:{}}function g(t){var e=d(t);return e?e.pendingOps:[{}]}},7509:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(26394)),o=n(r(69198)),s=r(62899),a=function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,null,[{key:"ETH",value:function(t){return s.ethers.utils.parseEther("".concat(t)).toString()}},{key:"Token",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return s.ethers.utils.parseUnits("".concat(t),+e).toString()}},{key:"FromWei",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,r=s.ethers.utils.formatUnits(t,e),n=r.split(".");return"0"===n[1]?n[0]:r}}]),t}();t.exports=a},33122:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(63109)),a=o(r(54103)),u=o(r(51161)),l=o(r(26394)),h=o(r(69198)),c=o(r(5824)),f=o(r(51379)),d=o(r(214)),p=o(r(66380)),m=o(r(87672)),g=o(r(68041)),v=o(r(73353)),y=r(5729);function w(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,p.default)(t);if(e){var o=(0,p.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,d.default)(this,r)}}var b=function(t){(0,f.default)(r,t);var e=w(r);function r(){var t,n,i,o,s;return(0,l.default)(this,r),s=e.call(this),(0,m.default)((0,c.default)(s),"type","abstract"),(0,m.default)((0,c.default)(s),"network","evm"),(0,m.default)((0,c.default)(s),"account",null),(0,m.default)((0,c.default)(s),"chainId",null),s.handleAccountsChanged=(0,a.default)(t=s.handleAccountsChanged).call(t,(0,c.default)(s)),s.handleChainChanged=(0,a.default)(n=s.handleChainChanged).call(n,(0,c.default)(s)),s.handleConnect=(0,a.default)(i=s.handleConnect).call(i,(0,c.default)(s)),s.handleDisconnect=(0,a.default)(o=s.handleDisconnect).call(o,(0,c.default)(s)),s}return(0,h.default)(r,[{key:"subscribeToEvents",value:function(t){t&&t.on&&(t.on(y.EthereumEvents.CHAIN_CHANGED,this.handleChainChanged),t.on(y.EthereumEvents.ACCOUNTS_CHANGED,this.handleAccountsChanged),t.on(y.EthereumEvents.CONNECT,this.handleConnect),t.on(y.EthereumEvents.DISCONNECT,this.handleDisconnect))}},{key:"unsubscribeToEvents",value:function(t){t&&t.removeListener&&(t.removeListener(y.EthereumEvents.CHAIN_CHANGED,this.handleChainChanged),t.removeListener(y.EthereumEvents.ACCOUNTS_CHANGED,this.handleAccountsChanged),t.removeListener(y.EthereumEvents.CONNECT,this.handleConnect),t.removeListener(y.EthereumEvents.DISCONNECT,this.handleDisconnect))}},{key:"activate",value:function(){var t=(0,u.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: activate()");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"handleAccountsChanged",value:function(t){var e=t&&t[0]?t[0].toLowerCase():null;this.account=e,this.emit(y.ConnectorEvents.ACCOUNT_CHANGED,e)}},{key:"handleChainChanged",value:function(t){var e=(0,v.default)(t);this.chainId=e,this.emit(y.ConnectorEvents.CHAIN_CHANGED,e)}},{key:"handleConnect",value:function(t){this.emit(y.ConnectorEvents.CONNECT,t)}},{key:"handleDisconnect",value:function(t){this.emit(y.ConnectorEvents.DISCONNECT,t)}},{key:"deactivate",value:function(){var t=(0,u.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.unsubscribeToEvents(this.provider),this.account=null,this.chainId=null;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(g.default);e.default=b},93060:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=e.InjectedEvents=void 0;var s=o(r(63109)),a=o(r(18777)),u=o(r(51161)),l=o(r(5824)),h=o(r(87672)),c=o(r(69198)),f=o(r(26394)),d=o(r(51379)),p=o(r(214)),m=o(r(66380)),g=o(r(74803)),v=o(r(56474)),y=o(r(77766)),w=o(r(93476)),b=o(r(33122)),A=(o(r(68041)),o(r(73353)));function M(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,m.default)(t);if(e){var o=(0,m.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,p.default)(this,r)}}var _=(0,v.default)({ACCOUNTS_CHANGED:"accountsChanged",CHAIN_CHANGED:"chainChanged",CONNECT:"connect",DISCONNECT:"disconnect"});e.InjectedEvents=_;var E=function(t){(0,d.default)(r,t);var e=M(r);function r(){var t;return(0,f.default)(this,r),(t=e.call(this)).message="Non ethereum enabled browser",t}return(0,c.default)(r)}((0,g.default)(Error)),x=function(t){(0,d.default)(r,t);var e=M(r);function r(){var t,n;(0,f.default)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,(0,y.default)(t=[this]).call(t,o)),(0,h.default)((0,l.default)(n),"type","injected"),n}return(0,c.default)(r,[{key:"verifyEthereumBrowser",value:function(){var t;if(null===(t=window)||void 0===t||!t.ethereum)throw new E}},{key:"activate",value:function(){var t=(0,u.default)(s.default.mark((function t(){var e,r,n,i,o,u;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.verifyEthereumBrowser(),t.next=3,w.default.all([window.ethereum.request({method:"eth_requestAccounts"}),window.ethereum.request({method:"eth_chainId"})]);case 3:return e=t.sent,r=(0,a.default)(e,2),n=r[0],i=r[1],o=n[0]?n[0].toLowerCase():null,u=window.ethereum,this.chainId=i,this.account=o,this.provider=u,this.subscribeToEvents(u),t.abrupt("return",{provider:u,chainId:i,account:o});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var t=(0,u.default)(s.default.mark((function t(e){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.verifyEthereumBrowser(),e=(0,A.default)(e),this.chainId!==e){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addNetwork",value:function(){var t=(0,u.default)(s.default.mark((function t(e,r,n,i,o,a){var u;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.verifyEthereumBrowser(),u=(0,A.default)(e),t.next=4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:u,chainName:r,nativeCurrency:{name:n,symbol:i,decimals:18},rpcUrls:[o],blockExplorerUrls:a?[a]:null}]});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(b.default);e.default=x},56043:(t,e,r)=>{"use strict";var n=r(1068),i=r(86902),o=r(14310),s=r(20116),a=r(34074),u=r(78914),l=r(39649),h=r(20368),c=r(63978),f=r(60530);c(e,"__esModule",{value:!0}),e.default=void 0;var d=f(r(63109)),p=f(r(77766)),m=f(r(51161)),g=f(r(26394)),v=f(r(69198)),y=f(r(5824)),w=f(r(51379)),b=f(r(214)),A=f(r(66380)),M=f(r(87672)),_=r(62899);function E(t,e){var r=i(t);if(o){var n=o(t);e&&(n=s(n).call(n,(function(e){return a(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?u(r=E(Object(i),!0)).call(r,(function(e){(0,M.default)(t,e,i[e])})):l?h(t,l(i)):u(n=E(Object(i))).call(n,(function(e){c(t,e,a(i,e))}))}return t}function S(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,A.default)(t);if(e){var o=(0,A.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,b.default)(this,r)}}var N=function(t){(0,w.default)(n,t);var e=S(n);function n(){var t,r;(0,g.default)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,(0,p.default)(t=[this]).call(t,o)),(0,M.default)((0,y.default)(r),"type","MagicLink"),(0,M.default)((0,y.default)(r),"deactivate",(0,m.default)(d.default.mark((function t(){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.unsubscribeToEvents(r.provider),!r.magicUser){t.next=4;break}return t.next=4,r.magicUser.user.logout();case 4:r.account=null,r.chainId=null,r.provider=null;case 7:case"end":return t.stop()}}),t)})))),r}return(0,v.default)(n,[{key:"activate",value:function(){var t=(0,m.default)(d.default.mark((function t(){var e,n,i,o,s,a,u,l,h,c,f,p,m,g,v,y,w,b,A,M,E,S,N,T=arguments;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=T.length>0&&void 0!==T[0]?T[0]:{}).apiKey,i=e.newSession,o=e.email,s=e.showUI,a=e.redirectURI,u=e.network,l=e.locale,h=e.extensions,c=e.testMode,f=e.endpoint,p=null,m=null,o){t.next=5;break}throw new Error('"email" not provided, please provide Email');case 5:if(n){t.next=7;break}throw new Error('"apiKey" not provided, please provide Api Key');case 7:if(u){t.next=9;break}throw new Error('"network" not provided, please provide network');case 9:try{g=null===(v=r(Object(function(){var t=new Error("Cannot find module 'magic-sdk'");throw t.code="MODULE_NOT_FOUND",t}())))||void 0===v?void 0:v.Magic}catch(d){}if(g||(g=null===(y=window)||void 0===y?void 0:y.Magic),g){t.next=13;break}throw new Error('Cannot enable via MagicLink: dependency "magic-sdk" is missing');case 13:if(t.prev=13,p=new g(n,x(x(x(x({network:u},l&&{locale:l}),h&&{extensions:h}),c&&{testMode:c}),f&&{endpoint:f})),!i){t.next=24;break}if(null===(w=p)||void 0===w||!w.user){t.next=24;break}return t.prev=17,t.next=20,null===(b=p)||void 0===b||null===(A=b.user)||void 0===A?void 0:A.logout();case 20:t.next=24;break;case 22:t.prev=22,t.t0=t.catch(17);case 24:return m=new _.ethers.providers.Web3Provider(p.rpcProvider),t.next=27,p.auth.loginWithMagicLink(x(x({email:o},s&&{showUI:s}),a&&{redirectURI:a}));case 27:t.next=32;break;case 29:throw t.prev=29,t.t1=t.catch(13),new Error("Error during enable via MagicLink, please double check network and apikey");case 32:return t.next=34,p.user.isLoggedIn();case 34:if(!t.sent){t.next=50;break}return M=m.getSigner(),t.next=39,m.getNetwork();case 39:return E=t.sent,S=E.chainId,t.next=43,M.getAddress();case 43:return N=t.sent.toLowerCase(),this.account=N,this.provider=m.provider,this.chainId="0x".concat(S.toString(16)),this.magicUser=p,this.subscribeToEvents(this.provider),t.abrupt("return",{provider:this.provider,account:this.account,chainId:this.chainId});case 50:throw new Error("Error during enable via MagicLink, login to magic failed");case 51:case"end":return t.stop()}}),t,this,[[13,29],[17,22]])})));return function(){return t.apply(this,arguments)}}()}]),n}(f(r(33122)).default);e.default=N},65876:(t,e,r)=>{"use strict";r(63978)(e,"__esModule",{value:!0}),e.getMoralisRpcs=void 0;e.getMoralisRpcs=function(t){return{1:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/mainnet"),3:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/ropsten"),4:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/rinkeby"),5:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/goerli"),42:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/kovan"),137:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/polygon/mainnet"),80001:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/polygon/mumbai"),56:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/bsc/mainnet"),97:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/bsc/testnet"),43114:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/avalanche/mainnet"),43113:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/avalanche/testnet"),250:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/fantom/mainnet")}}},99409:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(63109)),a=o(r(59340)),u=o(r(77766)),l=o(r(39969)),h=o(r(86902)),c=o(r(32366)),f=o(r(5824)),d=o(r(51379)),p=o(r(214)),m=o(r(66380)),g=o(r(51161)),v=o(r(69198)),y=o(r(26394)),w=o(r(87672)),b=o(r(2463)),A=r(27636),M=o(r(73353)),_=o(r(33122)),E=r(65876),x=r(62899);function S(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,m.default)(t);if(e){var o=(0,m.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,p.default)(this,r)}}var N=(0,v.default)((function t(e,r){var n=this;(0,y.default)(this,t),(0,w.default)(this,"request",function(){var t=(0,g.default)(s.default.mark((function t(e,r){var i,o,l,h,c,f,d,p;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"!==typeof e&&(r=e.params,e=e.method),i=b.default.getRESTController(),t.prev=2,t.next=5,i.ajax("POST",n.url,(0,a.default)({jsonrpc:"2.0",id:1,method:e,params:r}),{"Content-Type":"application/json"});case 5:if(o=t.sent){t.next=8;break}throw new Error("No response");case 8:if(o.status&&!(o.status>400)){t.next=10;break}throw new Error((0,u.default)(l="Error response [".concat(o.status,"] ")).call(l,o.statusText));case 10:if(!("error"in(h=o.response))){t.next=13;break}throw new Error(null===h||void 0===h||null===(c=h.error)||void 0===c?void 0:c.message,null===h||void 0===h||null===(f=h.error)||void 0===f?void 0:f.code,null===h||void 0===h||null===(d=h.error)||void 0===d?void 0:d.data);case 13:if("result"in h){t.next=15;break}throw new Error("Received unexpected JSON-RPC response");case 15:return t.abrupt("return",h.result);case 18:throw t.prev=18,t.t0=t.catch(2),new Error((0,u.default)(p='Failed to make "'.concat(e,'" request with networkConnector: "')).call(p,t.t0.message,'"'));case 21:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(){return t.apply(this,arguments)}}()),this.chainId=e,this.url=r;var i=new l.default(r);this.host=i.host,this.path=i.pathname})),T=function(t){(0,d.default)(r,t);var e=S(r);function r(){var t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.urls,a=o.defaultChainId,u=o.chainId,l=o.speedyNodeApiKey;if((0,y.default)(this,r),i=e.call(this),(0,w.default)((0,f.default)(i),"type","network"),!s&&l&&(s=(0,E.getMoralisRpcs)(l)),!s&&!l)throw new Error("Cannot connect to rpc: No urls or speedyNodeApiKey provided for NetworkWeb3Connector.");return l&&console.warn("Moralis: Using speedyNodeApiKey on the browser enviroment is not recommended, as it is publicly visible."),i.chainId=(0,M.default)(null!==(t=null!==u&&void 0!==u?u:a)&&void 0!==t?t:Number((0,h.default)(s)[0])),i.providers=(0,c.default)(n=(0,h.default)(s)).call(n,(function(t,e){return t[Number(e)]=new N(Number(e),s[Number(e)]),t}),{}),i}return(0,v.default)(r,[{key:"activate",value:function(){var t=(0,g.default)(s.default.mark((function t(){var e,r,n,i,o,a=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(e=a.length>0&&void 0!==a[0]?a[0]:{}).chainId,n=e.privateKey,i=void 0===n?null:n,r&&(this.chainId=(0,M.default)(r)),o=this.providers[(0,A.fromHexToDecimal)(this.chainId)]){t.next=5;break}throw new Error("No rpc url provided for chainId ".concat(this.chainId));case 5:if(null==i){t.next=9;break}return t.next=8,new x.ethers.Wallet(i).getAddress();case 8:this.account=t.sent;case 9:return t.abrupt("return",{provider:o,chainId:this.chainId,account:this.account});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(_.default);e.default=T},3388:(t,e,r)=>{"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=e.WalletConnectEvent=void 0;var s=o(r(63109)),a=o(r(51161)),u=o(r(26394)),l=o(r(69198)),h=o(r(5824)),c=o(r(51379)),f=o(r(214)),d=o(r(66380)),p=o(r(87672)),m=o(r(56474)),g=o(r(77766)),v=o(r(78914)),y=o(r(86902)),w=o(r(29828)),b=o(r(73353)),A=o(r(33122)),M=r(65876);function _(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,f.default)(this,r)}}var E=(0,m.default)({ACCOUNTS_CHANGED:"accountsChanged",CHAIN_CHANGED:"chainChanged",DISCONNECT:"disconnect"});e.WalletConnectEvent=E;var x=function(t){(0,c.default)(n,t);var e=_(n);function n(){var t,r;(0,u.default)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,(0,g.default)(t=[this]).call(t,o)),(0,p.default)((0,h.default)(r),"type","WalletConnect"),r}return(0,l.default)(n,[{key:"activate",value:function(){var t=(0,a.default)(s.default.mark((function t(){var e,n,i,o,a,u,l,h,c,f,d,p,m,g,v,y,w=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=w.length>0&&void 0!==w[0]?w[0]:{}).projectId,i=e.chainId,o=e.qrModalOptions,a=e.newSession,u=e.rpcMap,n){t.next=3;break}throw new Error("WalletConnect requires projectId");case 3:if(a&&this.cleanup(),this.provider){t.next=14;break}l=u||(0,M.getMoralisRpcs)("WalletConnect"),h={projectId:n,chains:[i?Number(i):1],showQrModal:!0,rpcMap:l,qrModalOptions:o};try{c=null===(f=r(Object(function(){var t=new Error("Cannot find module '@walletconnect/ethereum-provider'");throw t.code="MODULE_NOT_FOUND",t}())))||void 0===f?void 0:f.EthereumProvider}catch(s){}if(c||(c=null===(d=window)||void 0===d||null===(p=d.WalletConnectProvider)||void 0===p?void 0:p.EthereumProvider),c){t.next=11;break}throw new Error('Cannot enable via WalletConnect: dependency "@walletconnect/ethereum-provider" is missing');case 11:return t.next=13,c.init(h);case 13:this.provider=t.sent;case 14:if(this.provider){t.next=16;break}throw new Error("Could not connect via WalletConnect, error in connecting to provider");case 16:return t.next=18,this.provider.enable();case 18:return m=t.sent,g=m[0].toLowerCase(),v=this.provider.chainId,y=(0,b.default)(v),this.account=g,this.chainId=y,this.subscribeToEvents(this.provider),t.abrupt("return",{provider:this.provider,account:g,chainId:y});case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cleanup",value:function(){try{var t;if(window)(0,v.default)(t=(0,y.default)(window.localStorage)).call(t,(function(t){(0,w.default)(t).call(t,"wc@")&&window.localStorage.removeItem(t)}))}catch(e){}}},{key:"deactivate",value:function(){var t=(0,a.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.unsubscribeToEvents(this.provider),!this.provider){t.next=9;break}return t.prev=2,t.next=5,this.provider.close();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:this.account=null,this.chainId=null,this.provider=null;case 12:case"end":return t.stop()}}),t,this,[[2,7]])})));return function(){return t.apply(this,arguments)}}()}]),n}(A.default);e.default=x},7927:(t,e,r)=>{"use strict";var n=r(1068),i=r(86902),o=r(14310),s=r(20116),a=r(34074),u=r(78914),l=r(39649),h=r(20368),c=r(63978),f=r(60530);c(e,"__esModule",{value:!0}),e.Web3Auth=void 0;var d=f(r(63109)),p=f(r(77766)),m=f(r(93476)),g=f(r(51161)),v=f(r(69198)),y=f(r(26394)),w=f(r(5824)),b=f(r(51379)),A=f(r(214)),M=f(r(66380)),_=f(r(87672)),E=r(62899),x=f(r(73353));function S(t,e){var r=i(t);if(o){var n=o(t);e&&(n=s(n).call(n,(function(e){return a(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?u(r=S(Object(i),!0)).call(r,(function(e){(0,_.default)(t,e,i[e])})):l?h(t,l(i)):u(n=S(Object(i))).call(n,(function(e){c(t,e,a(i,e))}))}return t}function T(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,M.default)(t);if(e){var o=(0,M.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,A.default)(this,r)}}var R=function(t){(0,b.default)(n,t);var e=T(n);function n(){var t,i;(0,y.default)(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,(0,p.default)(t=[this]).call(t,s)),(0,_.default)((0,w.default)(i),"type","web3Auth"),(0,_.default)((0,w.default)(i),"connect",(function(t){return new m.default((function(e,r){!function(t){t.loginModal.on("MODAL_VISIBILITY",function(){var t=(0,g.default)(d.default.mark((function t(e){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||r(new Error("Web3Auth: User closed login modal."));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())}(t),t.connect().then(e).catch(r)}))})),(0,_.default)((0,w.default)(i),"activate",(0,g.default)(d.default.mark((function t(){var e,n,o,s,a,u,l,h,c,f,p,g,v,y,w,b,A,M,_,S,T,R,C,I,P,k,O=arguments;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=O.length>0&&void 0!==O[0]?O[0]:{}).chainId,o=void 0===n?"0x1":n,s=e.clientId,a=e.theme,u=e.appLogo,l=e.loginMethodsOrder,h=e.rpcTarget,c=e.displayName,f=e.blockExplorer,p=e.ticker,g=e.tickerName,s){t.next=3;break}throw new Error('"clientId" not provided, please provide clientId');case 3:try{v=null===(y=r(Object(function(){var t=new Error("Cannot find module '@web3auth/web3auth'");throw t.code="MODULE_NOT_FOUND",t}())))||void 0===y?void 0:y.Web3Auth}catch(d){}if(v||(v=null===(w=window)||void 0===w||null===(b=w.Web3auth)||void 0===b?void 0:b.Web3Auth),v){t.next=7;break}throw new Error('"@web3auth/web3auth" not installed, please install');case 7:A=N(N(N(N(N({chainNamespace:"eip155",chainId:(0,x.default)(o)},h&&{rpcTarget:h}),c&&{displayName:c}),f&&{blockExplorer:f}),p&&{ticker:p}),g&&{tickerName:g});try{M=new v({chainConfig:A,uiConfig:{theme:null!==a&&void 0!==a?a:"dark",appLogo:null!==u&&void 0!==u?u:"https://moralis.io/wp-content/uploads/2021/05/moralisWhiteLogo.svg",loginMethodsOrder:l},clientId:s})}catch(U){}if(M){t.next=11;break}throw new Error("Could not connect via Web3Auth, error during initializing Web3Auth");case 11:return t.next=13,M.initModal();case 13:return null,t.next=16,i.connect(M);case 16:if(t.sent){t.next=19;break}throw new Error("Could not connect via Web3Auth, error in connecting to provider");case 19:return t.prev=19,R=null===(_=M)||void 0===_||!_.provider,C=new E.ethers.providers.Web3Provider(null!==(S=M)&&void 0!==S&&S.provider?M.provider:M),I=C.getSigner(),t.next=25,m.default.all([C.getNetwork(),I.getAddress()]);case 25:return P=t.sent,k=P[0].chainId,i.account=P[1].toLocaleLowerCase(),i.chainId="0x".concat(k.toString(16)),i.provider=R?C:null===(T=M)||void 0===T?void 0:T.provider,i.web3Instance=M,i.subscribeToEvents(i.provider),t.abrupt("return",{chainId:i.chainId,account:i.account,provider:i.provider});case 35:throw t.prev=35,t.t0=t.catch(19),new Error("Could not connect via Web3Auth, error while authenticating");case 38:case"end":return t.stop()}}),t,null,[[19,35]])})))),(0,_.default)((0,w.default)(i),"deactivate",(0,g.default)(d.default.mark((function t(){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.unsubscribeToEvents(i.provider),!i.web3Instance){t.next=4;break}return t.next=4,i.web3Instance.logout();case 4:i.account=null,i.chainId=null,i.provider=null;case 7:case"end":return t.stop()}}),t)})))),i}return(0,v.default)(n)}(f(r(33122)).default);e.Web3Auth=R},5729:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.EthereumEvents=e.ConnectorEvents=void 0;var o=i(r(56474)),s=(0,o.default)({CONNECT:"connect",DISCONNECT:"disconnect",CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged"});e.EthereumEvents=s;var a=(0,o.default)({CONNECT:"connect",DISCONNECT:"disconnect",CHAIN_CHANGED:"chainChanged",ACCOUNT_CHANGED:"accountChanged"});e.ConnectorEvents=a},60406:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,o.default)(t).call(t,e)>-1)return!0;for(var r=0;r<t.length;r++)if(t[r]instanceof s.default&&t[r].className===e.className&&t[r]._getId()===e._getId())return!0;return!1};var o=i(r(81643)),s=i(r(98590))},26915:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){if(!(t instanceof u.default))return!0;var e=t.attributes;for(var r in e){if(!h(e[r]))return!1}return!0};var o=i(r(41511)),s=i(r(23765)),a=i(r(96722)),u=i(r(98590)),l=i(r(73201));function h(t){if("object"!==(0,s.default)(t))return!0;if(t instanceof l.default)return!0;if(t instanceof u.default)return!!t.id;if(t instanceof a.default)return!!t.url();if((0,o.default)(t)){for(var e=0;e<t.length;e++)if(!h(t[e]))return!1;return!0}for(var r in t)if(!h(t[r]))return!1;return!0}},23799:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(){return h.apply(this,arguments)};var o=i(r(63109)),s=i(r(77766)),a=i(r(51161)),u=i(r(2463)),l=r(44791);function h(){return(h=(0,a.default)(o.default.mark((function t(e){var r,n,i,a,h,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.run)("getServerTime");case 3:a=t.sent,h=a.dateTime,c=u.default.get("APPLICATION_ID"),r=(0,s.default)(n=(0,s.default)(i="".concat(e,"\n\nId: ")).call(i,c,":")).call(n,h),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r="".concat(e);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}},68051:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function t(e){if(null===e||"object"!==(0,a.default)(e))return e;if((0,o.default)(e)){var r=[];return(0,s.default)(e).call(e,(function(e,n){r[n]=t(e)})),r}if("string"===typeof e.__op)return(0,f.opFromJSON)(e);if("Pointer"===e.__type&&e.className)return c.default.fromJSON(e);if("Object"===e.__type&&e.className)return c.default.fromJSON(e);if("Relation"===e.__type){var n=new d.default(null,null);return n.targetClassName=e.className,n}if("Date"===e.__type)return new Date(e.iso);if("File"===e.__type)return u.default.fromJSON(e);if("GeoPoint"===e.__type)return new l.default({latitude:e.latitude,longitude:e.longitude});if("Polygon"===e.__type)return new h.default(e.coordinates);var i={};for(var p in e)i[p]=t(e[p]);return i};var o=i(r(41511)),s=i(r(78914)),a=i(r(23765)),u=(i(r(91561)),i(r(96722))),l=i(r(11812)),h=i(r(55370)),c=i(r(98590)),f=r(4847),d=i(r(73201))},27206:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t,e,r,n,i){return w(t,!!e,!!r,n||[],i)};var o=i(r(23765)),s=i(r(77766)),a=i(r(81643)),u=i(r(86902)),l=i(r(29828)),h=i(r(41511)),c=i(r(2991)),f=i(r(91561)),d=i(r(96722)),p=i(r(11812)),m=i(r(55370)),g=i(r(98590)),v=r(4847),y=i(r(73201));function w(t,e,r,n,i){if(t instanceof g.default){var b;if(e)throw new Error("Parse Objects not allowed here");var A,M=t.id?(0,s.default)(b="".concat(t.className,":")).call(b,t.id):t;return r||!n||(0,a.default)(n).call(n,M)>-1||t.dirty()||(0,u.default)(t._getServerData()).length<1?i&&(0,l.default)(A=t._getId()).call(A,"local")?t.toOfflinePointer():t.toPointer():(n=(0,s.default)(n).call(n,M),t._toFullJSON(n,i))}if(t instanceof v.Op||t instanceof f.default||t instanceof p.default||t instanceof m.default||t instanceof y.default)return t.toJSON();if(t instanceof d.default){if(!t.url())throw new Error("Tried to encode an unsaved file.");return t.toJSON()}if("[object Date]"===Object.prototype.toString.call(t)){if(isNaN(t))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:t.toJSON()}}if("[object RegExp]"===Object.prototype.toString.call(t)&&"string"===typeof t.source)return t.source;if((0,h.default)(t))return(0,c.default)(t).call(t,(function(t){return w(t,e,r,n,i)}));if(t&&"object"===(0,o.default)(t)){var _={};for(var E in t)_[E]=w(t[E],e,r,n,i);return _}return t}},97504:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function t(e,r){var n=Object.prototype.toString;if("[object Date]"===n.call(e)||"[object Date]"===n.call(r)){return+new Date(e)===+new Date(r)}if((0,a.default)(e)!==(0,a.default)(r))return!1;if(!e||"object"!==(0,a.default)(e))return e===r;if((0,o.default)(e)||(0,o.default)(r)){if(!(0,o.default)(e)||!(0,o.default)(r))return!1;if(e.length!==r.length)return!1;for(var i=e.length;i--;)if(!t(e[i],r[i]))return!1;return!0}if(e instanceof u.default||e instanceof l.default||e instanceof h.default||e instanceof c.default)return e.equals(r);if(r instanceof c.default&&("Object"===e.__type||"Pointer"===e.__type))return e.objectId===r.id&&e.className===r.className;if((0,s.default)(e).length!==(0,s.default)(r).length)return!1;for(var f in e)if(!t(e[f],r[f]))return!1;return!0};var o=i(r(41511)),s=i(r(86902)),a=i(r(23765)),u=i(r(91561)),l=i(r(96722)),h=i(r(11812)),c=i(r(98590))},36675:(t,e,r)=>{"use strict";r(63978)(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(/[&<>/'"]/g,(function(t){return n[t]}))};var n={"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}},54098:(t,e,r)=>{"use strict";var n=r(60530),i=n(r(20116)),o=n(r(78580)),s=["Module not found: Can't resolve '@walletconnect/web3-provider'","Module not found: Can't resolve 'magic-sdk'","Module not found: Can't resolve '@web3auth/web3auth'"];t.exports={filterConsole:function(){var t=console.warn;console.warn=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r?r[0]:null;return a&&"string"===typeof a?(a=a.replace("\u2019","'").replace("\u2018","'").replace("\u2019","'"),(0,i.default)(s).call(s,(function(t){return(0,o.default)(a).call(a,t)})).length>=1?void 0:t.apply(console,r)):t.apply(console,r)}}}},92296:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t).call(t,"r:")>-1};var o=i(r(81643))},73047:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(t);if(!e)return null;var r=(0,o.default)(e[1])||0,n=((0,o.default)(e[2])||1)-1,i=(0,o.default)(e[3])||0,s=(0,o.default)(e[4])||0,a=(0,o.default)(e[5])||0,u=(0,o.default)(e[6])||0,l=(0,o.default)(e[8])||0;return new Date(Date.UTC(r,n,i,s,a,u,l))};var o=i(r(94198))},64719:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.continueWhile=function t(e,r){if(e())return r().then((function(){return t(e,r)}));return o.default.resolve()},e.resolvingPromise=a,e.when=function(t){var e,r=(0,s.default)(t);e=r?t:arguments;var n=e.length,i=!1,u=[],l=r?[u]:u,h=[];if(u.length=e.length,h.length=e.length,0===n)return o.default.resolve(l);for(var c=new a,f=function(){--n<=0&&(i?c.reject(h):c.resolve(l))},d=function(t,e){t&&"function"===typeof t.then?t.then((function(t){u[e]=t,f()}),(function(t){h[e]=t,i=!0,f()})):(u[e]=t,f())},p=0;p<e.length;p++)d(e[p],p);return c};var o=i(r(93476)),s=i(r(41511));function a(){var t,e,r=new o.default((function(r,n){t=r,e=n}));return r.resolve=t,r.reject=e,r}},69362:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return(0,o.default)(t).call(t,(function(t){t instanceof u.default?(0,a.default)(e,t)||e.push(t):(0,s.default)(e).call(e,t)<0&&e.push(t)})),e};var o=i(r(78914)),s=i(r(81643)),a=i(r(60406)),u=i(r(98590))},36874:(t,e,r)=>{"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t,e){var r,n={objects:{},files:[]},i=(0,s.default)(r="".concat(t.className,":")).call(r,t._getId());n.objects[i]=!t.dirty()||t;var a=t.attributes;for(var u in a)"object"===(0,o.default)(a[u])&&d(a[u],n,!1,!!e);var l=[];for(var h in n.objects)h!==i&&!0!==n.objects[h]&&l.push(n.objects[h]);return(0,s.default)(l).call(l,n.files)};var o=i(r(23765)),s=i(r(77766)),a=i(r(81643)),u=i(r(41511)),l=i(r(78914)),h=i(r(96722)),c=i(r(98590)),f=i(r(73201));function d(t,e,r,n){if(t instanceof c.default){var i;if(!t.id&&r)throw new Error("Cannot create a pointer to an unsaved Object.");var p=(0,s.default)(i="".concat(t.className,":")).call(i,t._getId());if(!e.objects[p]){e.objects[p]=!t.dirty()||t;var m=t.attributes;for(var g in m)"object"===(0,o.default)(m[g])&&d(m[g],e,!n,n)}}else{var v;if(t instanceof h.default)!t.url()&&(0,a.default)(v=e.files).call(v,t)<0&&e.files.push(t);else if(!(t instanceof f.default))for(var y in(0,u.default)(t)&&(0,l.default)(t).call(t,(function(t){"object"===(0,o.default)(t)&&d(t,e,r,n)})),t)"object"===(0,o.default)(t[y])&&d(t[y],e,r,n)}}},12575:(t,e,r)=>{"use strict";var n=r(23765),i=r(52424),o=r(32366),s=r(86902),a=r(54943),u=r(17388),l=r(3649),h=r(60530),c=h(r(63109)),f=h(r(51379)),d=h(r(5613)),p=h(r(18777)),m=h(r(51161)),g=h(r(56474)),v=h(r(2991)),y=h(r(26295)),w=h(r(78914)),b=h(r(86902)),A=h(r(98926)),M=h(r(59340)),_=h(r(61054));function E(){E=function(t,e){return new r(t,void 0,e)};var t=RegExp.prototype,e=new i;function r(t,n,i){var o=new RegExp(t,n);return e.set(o,i||e.get(t)),(0,d.default)(o,r.prototype)}function h(t,r){var n,i=e.get(r);return o(n=s(i)).call(n,(function(e,r){return e[r]=t[i[r]],e}),a(null))}return(0,f.default)(r,RegExp),r.prototype.exec=function(e){var r=t.exec.call(this,e);return r&&(r.groups=h(r,this)),r},r.prototype[u]=function(r,i){if("string"==typeof i){var o=e.get(this);return t[u].call(this,r,i.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+o[e]})))}if("function"==typeof i){var s=this;return t[u].call(this,r,(function(){var t=arguments;return"object"!=n(t[t.length-1])&&(t=l([]).call(t)).push(h(t,s)),i.apply(this,t)}))}return t[u].call(this,r,i)},E.apply(this,arguments)}var x=(0,g.default)({START_FUNCTION:"Moralis SDK start"}),S=function(){var t=(0,m.default)(c.default.mark((function t(){var e,r;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.default.ajax("GET","https://".concat("deep-index.moralis.io").concat("/api-docs/v2/swagger.json"));case 2:return e=t.sent,r=e.response,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(t){var e,r={},n={};return(0,v.default)(e=(0,y.default)(t.paths)).call(e,(function(t){var e,i=(0,p.default)(t,2),o=i[0],s=i[1];return(0,w.default)(e=(0,y.default)(s)).call(e,(function(t){var e=(0,p.default)(t,2),i=e[0],s=e[1],a=s.tags;a.length>0&&(r[a[0]]||(r[a[0]]=[]),r[a[0]].push(s.operationId),n[s.operationId]={method:i,pathName:o,data:s})}))})),{pathByTag:r,pathDetails:n}},T=function(){var t=(0,m.default)(c.default.mark((function t(){var e,r,n,i,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return r=t.sent,t.next=5,N(r);case 5:return n=t.sent,i=n.pathDetails,o=[],(0,w.default)(e=(0,b.default)(i)).call(e,(function(t){var e=i[t],r={method:e.method.toUpperCase(),group:e.data.tags[0],name:t,url:e.pathName.split("{").join(":").split("}").join("")};o.push(r)})),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(t,e){for(var r,n,i,o,s=t.split("-"),a=(0,p.default)(s,2),u=a[0],l=a[1],h=(0,v.default)(r=u.split(".")).call(r,(function(t){return Number(t)})),c=e.split("-"),f=(0,p.default)(c,2),d=f[0],m=f[1],g=(0,v.default)(n=d.split(".")).call(n,(function(t){return Number(t)})),y=0;y<3;y++){var w=h[y],b=g[y];if(w>b)return!0;if(w<b)return!1;if(!(0,A.default)(w)&&(0,A.default)(b))return!0;if((0,A.default)(w)&&!(0,A.default)(b))return!1}return l&&m?(null!==(i=l.split(".")[1])&&void 0!==i?i:0)>(null!==(o=m.split(".")[1])&&void 0!==o?o:0):!!m},C=function(){var t=(0,m.default)(c.default.mark((function t(){var e,r,n;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.default.ajax("GET","https://www.unpkg.com/moralis-v1/package.json");case 3:e=t.sent,r=e.response,n=r.version,"1.12.0",R(n,"1.12.0")&&console.warn("Moralis: You are not using the latest version of the 'moralis-v1' SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: ".concat(n)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=(0,m.default)(c.default.mark((function t(e,r,n){var i,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.default.ajax("POST","https://internal-api.moralis.io/api/functions/trackEvent",(0,M.default)({subdomain:r,event:e,options:n}),{Accept:"application/json","Content-Type":"application/json"});case 3:return i=t.sent,o=i.response,t.abrupt("return",o.result);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),P=E(/^https?:\/\/([0-9A-Z_a-z]+\.[0-9A-Z_a-z]+\.[0-9A-Z_a-z]+)(:[0-9]{4})?\/server\/?$/,{subdomain:1});t.exports={fetchSwaggerJson:S,getPathByTag:N,fetchEndpoints:T,checkForSdkUpdates:C,trackEvent:I,TrackingEventName:x,getSubdomain:function(t){var e,r,n=function(t){return P.test(t)}(t);if(!n)return null;var i=P.exec(t);return null!==(e=null===i||void 0===i||null===(r=i.groups)||void 0===r?void 0:r.subdomain)&&void 0!==e?e:null}}},27636:(t,e,r)=>{"use strict";var n=r(60530)(r(94198));t.exports={fromDecimalToHex:function(t){if("number"!==typeof t)throw"The input provided should be a number";return"0x".concat(t.toString(16))},fromHexToDecimal:function(t){if("string"!==typeof t)throw"The input provided should be a string";return(0,n.default)(t,16)}}},73353:(t,e,r)=>{"use strict";r(63978)(e,"__esModule",{value:!0}),e.default=void 0;var n=r(27636);var i=function(t){return"number"===typeof t&&(t=(0,n.fromDecimalToHex)(t)),t};e.default=i},95399:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(57765).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},44768:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(5761).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},97845:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(33485).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},85008:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(9337).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},33602:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(41699).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},61803:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(22750).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},84382:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(48797).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},13283:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(54148).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},32502:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(15355).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},34795:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(18496).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},92482:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(52021).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},83777:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(45433).Buffer}catch(T){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?m+r:f[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,A=w>>>13,M=0|s[4],_=8191&M,E=M>>>13,x=0|s[5],S=8191&x,N=x>>>13,T=0|s[6],R=8191&T,C=T>>>13,I=0|s[7],P=8191&I,k=I>>>13,O=0|s[8],U=8191&O,L=O>>>13,B=0|s[9],D=8191&B,F=B>>>13,G=0|a[0],z=8191&G,j=G>>>13,H=0|a[1],W=8191&H,V=H>>>13,q=0|a[2],K=8191&q,J=q>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(c,z))|0)+((8191&(i=(i=Math.imul(c,j))+Math.imul(f,z)|0))<<13)|0;l=((o=Math.imul(f,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,j))+Math.imul(m,z)|0,o=Math.imul(m,j);var vt=(l+(n=n+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var yt=(l+(n=n+Math.imul(c,K)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,K)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(A,z)|0,o=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,J)|0;var wt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,j))+Math.imul(E,z)|0,o=Math.imul(E,j),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(N,z)|0,o=Math.imul(N,j),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var At=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,j))+Math.imul(C,z)|0,o=Math.imul(C,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,j))+Math.imul(k,z)|0,o=Math.imul(k,j),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var _t=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,j))+Math.imul(L,z)|0,o=Math.imul(L,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Et=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var xt=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,V))+Math.imul(F,W)|0,o=Math.imul(F,V),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var St=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,J))+Math.imul(F,K)|0,o=Math.imul(F,J),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,Q)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Nt=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var Tt=(l+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(A,pt)|0))<<13)|0;l=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var Rt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Ct=(l+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),n=n+Math.imul(U,ct)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Pt=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ct),i=(i=Math.imul(D,ft))+Math.imul(F,ct)|0,o=Math.imul(F,ft);var kt=(l+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Ot=(l+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=At,u[6]=Mt,u[7]=_t,u[8]=Et,u[9]=xt,u[10]=St,u[11]=Nt,u[12]=Tt,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Pt,u[17]=kt,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return v(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var c=u,f=l,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],v=n[h+d+s],y=c*g-f*v;v=c*v+f*g,g=y,r[h+d]=p+g,n[h+d]=m+v,r[h+d+s]=p-g,n[h+d+s]=m-v,d!==a&&(y=u*c-l*f,f=u*f+l*c,c=y)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*c[d];u[d]=a[d]*c[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function A(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function N(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(t,e){t.iushrn(this.n,0,e)},A.prototype.imulK=function(t){return t.imul(this.k)},i(M,A),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,A),i(E,A),i(x,A),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return b[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(v),c=v.redSqr(),d=d.redMul(c),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new N(t)},i(N,S),N.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},N.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},N.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},62899:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BaseContract:()=>er,BigNumber:()=>Pr,Contract:()=>rr,ContractFactory:()=>nr,FixedNumber:()=>Kr,Signer:()=>pn,VoidSigner:()=>mn,Wallet:()=>ua,Wordlist:()=>op,constants:()=>n,errors:()=>M_,ethers:()=>u,getDefaultProvider:()=>kd,logger:()=>ZI,providers:()=>i,utils:()=>a,version:()=>QI,wordlists:()=>lp});var n={};r.r(n),r.d(n,{AddressZero:()=>ca,EtherSymbol:()=>Ya,HashZero:()=>Xa,MaxInt256:()=>Ja,MaxUint256:()=>qa,MinInt256:()=>Ka,NegativeOne:()=>za,One:()=>Ha,Two:()=>Wa,WeiPerEther:()=>Va,Zero:()=>ja});var i={};r.r(i),r.d(i,{AlchemyProvider:()=>Hf,AlchemyWebSocketProvider:()=>jf,BaseProvider:()=>Xc,CloudflareProvider:()=>qf,EtherscanProvider:()=>ed,FallbackProvider:()=>gd,Formatter:()=>Ac,InfuraProvider:()=>Ad,InfuraWebSocketProvider:()=>bd,IpcProvider:()=>vd,JsonRpcBatchProvider:()=>Md,JsonRpcProvider:()=>Cf,JsonRpcSigner:()=>Nf,NodesmithProvider:()=>Ed,PocketProvider:()=>Nd,Provider:()=>Qu,Resolver:()=>qc,StaticJsonRpcProvider:()=>Df,UrlJsonRpcProvider:()=>Ff,Web3Provider:()=>Id,WebSocketProvider:()=>Uf,getDefaultProvider:()=>kd,getNetwork:()=>ol,isCommunityResourcable:()=>Mc,isCommunityResource:()=>_c,showThrottleMessage:()=>xc});var o={};r.r(o),r.d(o,{decode:()=>Cv,encode:()=>Iv});var s={};r.r(s),r.d(s,{decode:()=>nS,encode:()=>tS});var a={};r.r(a),r.d(a,{AbiCoder:()=>ag,ConstructorFragment:()=>Ym,ErrorFragment:()=>$m,EventFragment:()=>qm,FormatTypes:()=>zm,Fragment:()=>Vm,FunctionFragment:()=>Qm,HDNode:()=>wM,Indexed:()=>pg,Interface:()=>vg,LogDescription:()=>cg,Logger:()=>E_,ParamType:()=>Hm,RLP:()=>s,SigningKey:()=>cN,SupportedAlgorithm:()=>j_,TransactionDescription:()=>fg,TransactionTypes:()=>YR,UnicodeNormalizationForm:()=>UN,Utf8ErrorFuncs:()=>DN,Utf8ErrorReason:()=>LN,_TypedDataEncoder:()=>db,_fetchData:()=>JI,_toEscapedUtf8String:()=>jN,accessListify:()=>oC,arrayify:()=>py,base58:()=>Qv,base64:()=>o,checkProperties:()=>Ex,checkResultErrors:()=>Zp,commify:()=>sI,computeAddress:()=>eC,computeHmac:()=>K_,computePublicKey:()=>dN,concat:()=>my,deepCopy:()=>Rx,defaultAbiCoder:()=>ug,defaultPath:()=>yM,defineReadOnly:()=>Ax,dnsEncode:()=>Ew,entropyToMnemonic:()=>MM,fetchJson:()=>XI,formatBytes32String:()=>iT,formatEther:()=>lI,formatUnits:()=>aI,getAccountPath:()=>EM,getAddress:()=>uv,getContractAddress:()=>cv,getCreate2Address:()=>fv,getIcapAddress:()=>hv,getJsonWalletAddress:()=>YM,getStatic:()=>Mx,hashMessage:()=>Sw,hexConcat:()=>_y,hexDataLength:()=>Ay,hexDataSlice:()=>My,hexStripZeros:()=>xy,hexValue:()=>Ey,hexZeroPad:()=>Sy,hexlify:()=>by,id:()=>Nw,isAddress:()=>lv,isBytes:()=>dy,isBytesLike:()=>cy,isHexString:()=>yy,isValidMnemonic:()=>_M,isValidName:()=>Mw,joinSignature:()=>Ty,keccak256:()=>p_,mnemonicToEntropy:()=>AM,mnemonicToSeed:()=>bM,namehash:()=>_w,nameprep:()=>rT,parseBytes32String:()=>oT,parseEther:()=>hI,parseTransaction:()=>fC,parseUnits:()=>uI,poll:()=>YI,randomBytes:()=>ax,recoverAddress:()=>rC,recoverPublicKey:()=>fN,resolveProperties:()=>_x,ripemd160:()=>W_,serializeTransaction:()=>hC,sha256:()=>V_,sha512:()=>q_,shallowCopy:()=>xx,shuffled:()=>ux,solidityKeccak256:()=>FE,solidityPack:()=>DE,soliditySha256:()=>GE,splitSignature:()=>Ny,stripZeros:()=>gy,toUtf8Bytes:()=>GN,toUtf8CodePoints:()=>VN,toUtf8String:()=>WN,verifyMessage:()=>la,verifyTypedData:()=>ha,zeroPad:()=>vy});var u={};r.r(u),r.d(u,{BaseContract:()=>er,BigNumber:()=>Pr,Contract:()=>rr,ContractFactory:()=>nr,FixedNumber:()=>Kr,Signer:()=>pn,VoidSigner:()=>mn,Wallet:()=>ua,Wordlist:()=>op,constants:()=>n,errors:()=>M_,getDefaultProvider:()=>kd,logger:()=>ZI,providers:()=>i,utils:()=>a,version:()=>QI,wordlists:()=>lp});let l=!1,h=!1;const c={debug:1,default:2,info:2,warning:3,error:4,off:5};let f=c.default,d=null;const p=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var m,g;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(m||(m={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(g||(g={}));const v="0123456789abcdef";class y{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==c[r]&&this.throwArgumentError("invalid log level name","logLevel",t),f>c[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(y.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(y.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(y.levels.WARNING,e)}makeError(t,e,r){if(h)return this.makeError("censored error",e,{});e||(e=y.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=v[e[t]>>4],r+=v[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case g.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case g.CALL_EXCEPTION:case g.INSUFFICIENT_FUNDS:case g.MISSING_NEW:case g.NONCE_EXPIRED:case g.REPLACEMENT_UNDERPRICED:case g.TRANSACTION_REPLACED:case g.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,y.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",y.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,y.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,y.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,y.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,y.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",y.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",y.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",y.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return d||(d=new y("logger/5.7.0")),d}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",y.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!t)return;this.globalLogger().throwError("error censorship permanent",y.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}h=!!t,l=!!e}static setLogLevel(t){const e=c[t.toLowerCase()];null!=e?f=e:y.globalLogger().warn("invalid log level - "+t)}static from(t){return new y(t)}}y.errors=g,y.levels=m;const w=new y("bytes/5.7.0");function b(t){return!!t.toHexString}function A(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return A(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function M(t){return N(t)&&!(t.length%2)||E(t)}function _(t){return"number"===typeof t&&t==t&&t%1===0}function E(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!_(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!_(r)||r<0||r>=256)return!1}return!0}function x(t,e){if(e||(e={}),"number"===typeof t){w.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),A(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),b(t)&&(t=t.toHexString()),N(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":w.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return A(new Uint8Array(n))}return E(t)?A(new Uint8Array(t)):w.throwArgumentError("invalid arrayify value","value",t)}function S(t){const e=t.map((t=>x(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),A(n)}function N(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const T="0123456789abcdef";function R(t,e){if(e||(e={}),"number"===typeof t){w.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=T[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),b(t))return t.toHexString();if(N(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":w.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(E(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=T[(240&n)>>4]+T[15&n]}return e}return w.throwArgumentError("invalid hexlify value","value",t)}function C(t,e,r){return"string"!==typeof t?t=R(t):(!N(t)||t.length%2)&&w.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function I(t,e){for("string"!==typeof t?t=R(t):N(t)||w.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&w.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var P=r(85008);var k=r.n(P)().BN;const O=new y("bignumber/5.7.0"),U={},L=9007199254740991;let B=!1;class D{constructor(t,e){t!==U&&O.throwError("cannot call constructor directly; use BigNumber.from",y.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return G(z(this).fromTwos(t))}toTwos(t){return G(z(this).toTwos(t))}abs(){return"-"===this._hex[0]?D.from(this._hex.substring(1)):this}add(t){return G(z(this).add(z(t)))}sub(t){return G(z(this).sub(z(t)))}div(t){return D.from(t).isZero()&&j("division-by-zero","div"),G(z(this).div(z(t)))}mul(t){return G(z(this).mul(z(t)))}mod(t){const e=z(t);return e.isNeg()&&j("division-by-zero","mod"),G(z(this).umod(e))}pow(t){const e=z(t);return e.isNeg()&&j("negative-power","pow"),G(z(this).pow(e))}and(t){const e=z(t);return(this.isNegative()||e.isNeg())&&j("unbound-bitwise-result","and"),G(z(this).and(e))}or(t){const e=z(t);return(this.isNegative()||e.isNeg())&&j("unbound-bitwise-result","or"),G(z(this).or(e))}xor(t){const e=z(t);return(this.isNegative()||e.isNeg())&&j("unbound-bitwise-result","xor"),G(z(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&j("negative-width","mask"),G(z(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&j("negative-width","shl"),G(z(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&j("negative-width","shr"),G(z(this).shrn(t))}eq(t){return z(this).eq(z(t))}lt(t){return z(this).lt(z(t))}lte(t){return z(this).lte(z(t))}gt(t){return z(this).gt(z(t))}gte(t){return z(this).gte(z(t))}isNegative(){return"-"===this._hex[0]}isZero(){return z(this).isZero()}toNumber(){try{return z(this).toNumber()}catch(t){j("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return O.throwError("this platform does not support BigInt",y.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?B||(B=!0,O.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?O.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",y.errors.UNEXPECTED_ARGUMENT,{}):O.throwError("BigNumber.toString does not accept parameters",y.errors.UNEXPECTED_ARGUMENT,{})),z(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof D)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new D(U,F(t)):t.match(/^-?[0-9]+$/)?new D(U,F(new k(t))):O.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&j("underflow","BigNumber.from",t),(t>=L||t<=-L)&&j("overflow","BigNumber.from",t),D.from(String(t));const e=t;if("bigint"===typeof e)return D.from(e.toString());if(E(e))return D.from(R(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return D.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(N(t)||"-"===t[0]&&N(t.substring(1))))return D.from(t)}return O.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function F(t){if("string"!==typeof t)return F(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&O.throwArgumentError("invalid hex","value",t),"0x00"===(t=F(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function G(t){return D.from(F(t))}function z(t){const e=D.from(t).toHexString();return"-"===e[0]?new k("-"+e.substring(3),16):new k(e.substring(2),16)}function j(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),O.throwError(t,y.errors.NUMERIC_FAULT,n)}var H=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const W=new y("properties/5.7.0");function V(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function q(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!==typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function K(t){return H(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function J(t){const e={};for(const r in t)e[r]=t[r];return e}const X={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Y(t){if(void 0===t||null===t||X[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!Y(i))return!1}return!0}return W.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Q(t){if(Y(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Z(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&V(e,r,Z(n))}return e}return W.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Z(t){return Q(t)}class ${constructor(t){for(const e in t)this[e]=Z(t[e])}}const tt="abi/5.7.0",et=new y(tt);class rt{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){et.throwArgumentError(t,this.localName,e)}}class nt{constructor(t){V(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return function(t){let e="0x";return t.forEach((t=>{e+=R(t).substring(2)})),e}(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(S(t._data))}writeBytes(t){let e=x(t);const r=e.length%this.wordSize;return r&&(e=S([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=x(D.from(t));return e.length>this.wordSize&&et.throwError("value out-of-bounds",y.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=S([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class it{constructor(t,e,r,n){V(this,"_data",x(t)),V(this,"wordSize",e||32),V(this,"_coerceFunc",r),V(this,"allowLoose",n),this._offset=0}get data(){return R(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):it.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:et.throwError("data out-of-bounds",y.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new it(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return D.from(this.readBytes(this.wordSize))}}var ot=r(37676),st=r.n(ot);function at(t){return"0x"+st().keccak_256(x(t))}const ut=new y("rlp/5.7.0");function lt(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function ht(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(ht(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=lt(e.length);return r.unshift(247+r.length),r.concat(e)}M(t)||ut.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(x(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=lt(e.length);return r.unshift(183+r.length),r.concat(e)}function ct(t){return R(ht(t))}const ft=new y("address/5.7.0");function dt(t){N(t,20)||ft.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=x(at(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const pt={};for(let tP=0;tP<10;tP++)pt[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)pt[String.fromCharCode(65+tP)]=String(10+tP);const mt=Math.floor((gt=9007199254740991,Math.log10?Math.log10(gt):Math.log(gt)/Math.LN10));var gt;function vt(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>pt[t])).join("");for(;e.length>=mt;){let t=e.substring(0,mt);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function yt(t){let e=null;if("string"!==typeof t&&ft.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=dt(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ft.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==vt(t)&&ft.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new k(r,36).toString(16);e.length<40;)e="0"+e;e=dt("0x"+e)}else ft.throwArgumentError("invalid address","address",t);var r;return e}function wt(t){let e=null;try{e=yt(t.from)}catch(r){ft.throwArgumentError("missing from address","transaction",t)}return yt(C(at(ct([e,function(t){let e=x(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}(x(D.from(t.nonce).toHexString()))])),12))}const bt=new y("strings/5.7.0");var At,Mt;function _t(t,e,r,n,i){if(t===Mt.BAD_PREFIX||t===Mt.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===Mt.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(At||(At={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Mt||(Mt={}));const Et=Object.freeze({error:function(t,e,r,n,i){return bt.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:_t,replace:function(t,e,r,n,i){return t===Mt.OVERLONG?(n.push(i),0):(n.push(65533),_t(t,e,r))}});function xt(t,e){null==e&&(e=Et.error),t=x(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?Mt.UNEXPECTED_CONTINUE:Mt.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(Mt.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e(Mt.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Mt.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(Mt.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(Mt.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function St(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At.current;e!=At.current&&(bt.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return x(r)}function Nt(t,e){return xt(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Tt(t){return at(St(t))}class Rt extends rt{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=yt(e)}catch(r){this._throwError(r.message,e)}return t.writeValue(e)}decode(t){return yt(I(t.readValue().toHexString(),20))}}class Ct extends rt{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const It=new y(tt);function Pt(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||It.throwError("cannot encode object for signature with missing names",y.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&It.throwError("cannot encode object for signature with duplicate names",y.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else It.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&It.throwArgumentError("types/value length mismatch","tuple",r);let i=new nt(t.wordSize),o=new nt(t.wordSize),s=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=o.length;t.encode(o,r);let n=i.writeUpdatableValue();s.push((t=>{n(t+e)}))}else t.encode(i,r)})),s.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function kt(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),s=n.subReader(r.toNumber());try{i=e.decode(s)}catch(o){if(o.code===y.errors.BUFFER_OVERRUN)throw o;i=o,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(o){if(o.code===y.errors.BUFFER_OVERRUN)throw o;i=o,i.baseType=e.name,i.name=e.localName,i.type=e.type}void 0!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let o=0;o<r.length;o++){const t=r[o];t instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class Ot extends rt{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),It.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<e.length;i++)n.push(this.coder);return Pt(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&It.throwError("insufficient data length",y.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let n=0;n<e;n++)r.push(new Ct(this.coder));return t.coerce(this.name,kt(t,r))}}class Ut extends rt{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Lt extends rt{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=x(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Bt extends Lt{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,R(super.decode(t)))}}class Dt extends rt{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=x(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,R(t.readBytes(this.size)))}}class Ft extends rt{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Gt=D.from(-1),zt=D.from(0),jt=D.from(1),Ht=D.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Wt extends rt{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=D.from(e),n=Ht.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(jt).mul(Gt)))&&this._throwError("value out-of-bounds",e)}else(r.lt(zt)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}class Vt extends Lt{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,St(e))}decode(t){return Nt(super.decode(t))}}class qt extends rt{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return Pt(t,this.coders,e)}decode(t){return t.coerce(this.name,kt(t,this.coders))}}const Kt=new y(tt),Jt={};let Xt={calldata:!0,memory:!0,storage:!0},Yt={calldata:!0,memory:!0};function Qt(t,e){if("bytes"===t||"string"===t){if(Xt[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Yt[e])return!0;return(Xt[e]||"payable"===e)&&Kt.throwArgumentError("invalid modifier","name",e),!1}function Zt(t,e){for(let r in e)V(t,r,e[r])}const $t=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),te=new RegExp(/^(.*)\[([0-9]*)\]$/);class ee{constructor(t,e){t!==Jt&&Kt.throwError("use fromString",y.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Zt(this,e);let r=this.type.match(te);Zt(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:ee.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=$t.sighash),$t[t]||Kt.throwArgumentError("invalid format type","format",t),t===$t.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==$t.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===$t.full?", ":",")+")"):e+=this.type,t!==$t.sighash&&(!0===this.indexed&&(e+=" indexed"),t===$t.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"===typeof t?ee.fromString(t,e):ee.fromObject(t)}static fromObject(t){return ee.isParamType(t)?t:new ee(Jt,{name:t.name||null,type:fe(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(ee.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){Kt.throwArgumentError("unexpected character at position ".concat(e),"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let r=t[a];switch(r){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=fe(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||n(a),s.indexed=!0,s.name=""),Qt(s.type,s.name)&&(s.name=""),s.type=fe(s.type);let t=s;s=s.parent,s||n(a),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||n(a),s.indexed=!0,s.name=""),Qt(s.type,s.name)&&(s.name=""),s.type=fe(s.type);let o=i(s.parent);s.parent.components.push(o),delete s.parent,s=o;break;case" ":s.state.allowType&&""!==s.type&&(s.type=fe(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):Qt(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=r,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=r,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=r,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=r,delete s.state.allowArray):s.state.readArray?s.type+=r:n(a)}}return s.parent&&Kt.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):Qt(s.type,s.name)&&(s.name=""),o.type=fe(o.type),o}(t,!!e),ee.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function re(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&Kt.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>ee.fromString(t,e)))}class ne{constructor(t,e){t!==Jt&&Kt.throwError("use a static from method",y.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Zt(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return ne.isFragment(t)?t:"string"===typeof t?ne.fromString(t):ne.fromObject(t)}static fromObject(t){if(ne.isFragment(t))return t;switch(t.type){case"function":return le.fromObject(t);case"event":return ie.fromObject(t);case"constructor":return ue.fromObject(t);case"error":return ce.fromObject(t);case"fallback":case"receive":return null}return Kt.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?ie.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?le.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?ue.fromString(t.trim()):"error"===t.split(" ")[0]?ce.fromString(t.substring(5).trim()):Kt.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class ie extends ne{format(t){if(t||(t=$t.sighash),$t[t]||Kt.throwArgumentError("invalid format type","format",t),t===$t.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==$t.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===$t.full?", ":",")+") ",t!==$t.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"===typeof t?ie.fromString(t):ie.fromObject(t)}static fromObject(t){if(ie.isEventFragment(t))return t;"event"!==t.type&&Kt.throwArgumentError("invalid event object","value",t);const e={name:pe(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(ee.fromObject):[],type:"event"};return new ie(Jt,e)}static fromString(t){let e=t.match(me);e||Kt.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Kt.warn("unknown modifier: "+t)}})),ie.fromObject({name:e[1].trim(),anonymous:r,inputs:re(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function oe(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Kt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Kt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=D.from(r[1]),r[0]):t}function se(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function ae(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Kt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Kt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Kt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Kt.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Kt.throwArgumentError("unable to determine stateMutability","value",t),e}class ue extends ne{format(t){if(t||(t=$t.sighash),$t[t]||Kt.throwArgumentError("invalid format type","format",t),t===$t.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===$t.sighash&&Kt.throwError("cannot format a constructor for sighash",y.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===$t.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"===typeof t?ue.fromString(t):ue.fromObject(t)}static fromObject(t){if(ue.isConstructorFragment(t))return t;"constructor"!==t.type&&Kt.throwArgumentError("invalid constructor object","value",t);let e=ae(t);e.constant&&Kt.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(ee.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?D.from(t.gas):null};return new ue(Jt,r)}static fromString(t){let e={type:"constructor"},r=(t=oe(t,e)).match(me);return r&&"constructor"===r[1].trim()||Kt.throwArgumentError("invalid constructor string","value",t),e.inputs=re(r[2].trim(),!1),se(r[3].trim(),e),ue.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class le extends ue{format(t){if(t||(t=$t.sighash),$t[t]||Kt.throwArgumentError("invalid format type","format",t),t===$t.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==$t.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===$t.full?", ":",")+") ",t!==$t.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"===typeof t?le.fromString(t):le.fromObject(t)}static fromObject(t){if(le.isFunctionFragment(t))return t;"function"!==t.type&&Kt.throwArgumentError("invalid function object","value",t);let e=ae(t);const r={type:t.type,name:pe(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(ee.fromObject):[],outputs:t.outputs?t.outputs.map(ee.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?D.from(t.gas):null};return new le(Jt,r)}static fromString(t){let e={type:"function"},r=(t=oe(t,e)).split(" returns ");r.length>2&&Kt.throwArgumentError("invalid function string","value",t);let n=r[0].match(me);if(n||Kt.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&pe(e.name),e.inputs=re(n[2],!1),se(n[3].trim(),e),r.length>1){let n=r[1].match(me);""==n[1].trim()&&""==n[3].trim()||Kt.throwArgumentError("unexpected tokens","value",t),e.outputs=re(n[2],!1)}else e.outputs=[];return le.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function he(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Kt.throwArgumentError("cannot specify user defined ".concat(e," error"),"fragment",t),t}class ce extends ne{format(t){if(t||(t=$t.sighash),$t[t]||Kt.throwArgumentError("invalid format type","format",t),t===$t.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==$t.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===$t.full?", ":",")+") ",e.trim()}static from(t){return"string"===typeof t?ce.fromString(t):ce.fromObject(t)}static fromObject(t){if(ce.isErrorFragment(t))return t;"error"!==t.type&&Kt.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:pe(t.name),inputs:t.inputs?t.inputs.map(ee.fromObject):[]};return he(new ce(Jt,e))}static fromString(t){let e={type:"error"},r=t.match(me);return r||Kt.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&pe(e.name),e.inputs=re(r[2],!1),he(ce.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function fe(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const de=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function pe(t){return t&&t.match(de)||Kt.throwArgumentError('invalid identifier "'.concat(t,'"'),"value",t),t}const me=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const ge=new y(tt),ve=new RegExp(/^bytes([0-9]*)$/),ye=new RegExp(/^(u?int)([0-9]*)$/);const we=new class{constructor(t){V(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Rt(t.name);case"bool":return new Ut(t.name);case"string":return new Vt(t.name);case"bytes":return new Bt(t.name);case"array":return new Ot(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new qt((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Ft(t.name)}let e=t.type.match(ye);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!==0)&&ge.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Wt(r/8,"int"===e[1],t.name)}if(e=t.type.match(ve),e){let r=parseInt(e[1]);return(0===r||r>32)&&ge.throwArgumentError("invalid bytes length","param",t),new Dt(r,t.name)}return ge.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new it(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new nt(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(ee.from(t))));return new qt(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&ge.throwError("types/values length mismatch",y.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(ee.from(t)))),n=new qt(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(ee.from(t))));return new qt(n,"_").decode(this._getReader(x(e),r))}},be=new y(tt);class Ae extends ${}class Me extends ${}class _e extends ${}class Ee extends ${static isIndexed(t){return!(!t||!t._isIndexed)}}const xe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Se(t,e){const r=new Error("deferred error during ABI decoding triggered accessing ".concat(t));return r.error=e,r}class Ne{constructor(t){let e=[];e="string"===typeof t?JSON.parse(t):t,V(this,"fragments",e.map((t=>ne.from(t))).filter((t=>null!=t))),V(this,"_abiCoder",q(new.target,"getAbiCoder")()),V(this,"functions",{}),V(this,"errors",{}),V(this,"events",{}),V(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void be.warn("duplicate definition - constructor"):void V(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?be.warn("duplicate definition - "+r):e[r]=t})),this.deploy||V(this,"deploy",ue.from({payable:!1,type:"constructor"})),V(this,"_isInterface",!0)}format(t){t||(t=$t.full),t===$t.sighash&&be.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===$t.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return we}static getAddress(t){return yt(t)}static getSighash(t){return C(Tt(t.format()),0,4)}static getEventTopic(t){return Tt(t.format())}getFunction(t){if(N(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];be.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?be.throwArgumentError("no matching function","name",e):r.length>1&&be.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[le.fromString(t).format()];return e||be.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(N(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];be.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?be.throwArgumentError("no matching event","name",e):r.length>1&&be.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[ie.fromString(t).format()];return e||be.throwArgumentError("no matching event","signature",t),e}getError(t){if(N(t)){const e=q(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}be.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?be.throwArgumentError("no matching error","name",e):r.length>1&&be.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[le.fromString(t).format()];return e||be.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"===typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(r){throw e}}return q(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"===typeof t&&(t=this.getEvent(t)),q(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"===typeof t&&(t=this.getError(t));const r=x(e);return R(r.slice(0,4))!==this.getSighash(t)&&be.throwArgumentError("data signature does not match error ".concat(t.name,"."),"data",R(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"===typeof t&&(t=this.getError(t)),R(S([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"===typeof t&&(t=this.getFunction(t));const r=x(e);return R(r.slice(0,4))!==this.getSighash(t)&&be.throwArgumentError("data signature does not match function ".concat(t.name,"."),"data",R(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"===typeof t&&(t=this.getFunction(t)),R(S([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"===typeof t&&(t=this.getFunction(t));let r=x(e),n=null,i="",o=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(u){}break;case 4:{const t=R(r.slice(0,4)),e=xe[t];if(e)o=this._abiCoder.decode(e.inputs,r.slice(4)),s=e.name,a=e.signature,e.reason&&(n=o[0]),"Error"===s?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(o[0])):"Panic"===s&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(o[0]));else try{const e=this.getError(t);o=this._abiCoder.decode(e.inputs,r.slice(4)),s=e.name,a=e.format()}catch(u){}break}}return be.throwError("call revert exception"+i,y.errors.CALL_EXCEPTION,{method:t.format(),data:R(e),errorArgs:o,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(t,e){return"string"===typeof t&&(t=this.getFunction(t)),R(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"===typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&be.throwError("too many arguments for "+t.format(),y.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?Tt(e):"bytes"===t.type?at(R(e)):("bool"===t.type&&"boolean"===typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=D.from(e).toHexString()),"address"===t.type&&this._abiCoder.encode(["address"],[e]),I(R(e),32));for(e.forEach(((e,i)=>{let o=t.inputs[i];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?be.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map((t=>n(o,t)))):r.push(n(o,e)):null!=e&&be.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"===typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&be.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push(Tt(s));else if("bytes"===t.type)r.push(at(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else n.push(t),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"===typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);N(r[0],32)&&r[0].toLowerCase()===e||be.throwError("fragment/topic mismatch",y.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(ee.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(n.push(t),o.push(!1)):(i.push(t),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,S(r)):null,a=this._abiCoder.decode(i,e,!0),u=[],l=0,h=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==s)u[e]=new Ee({_isIndexed:!0,hash:null});else if(o[e])u[e]=new Ee({_isIndexed:!0,hash:s[h++]});else try{u[e]=s[h++]}catch(r){u[e]=r}else try{u[e]=a[l++]}catch(r){u[e]=r}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw Se("property ".concat(JSON.stringify(t.name)),r)}}):u[t.name]=r}}));for(let c=0;c<u.length;c++){const t=u[c];t instanceof Error&&Object.defineProperty(u,c,{enumerable:!0,get:()=>{throw Se("index ".concat(c),t)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new Me({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:D.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Ae({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=R(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new _e({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var Te=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Re=new y("abstract-provider/5.7.0");class Ce{constructor(){Re.checkAbstract(new.target,Ce),V(this,"_isProvider",!0)}getFeeData(){return Te(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield K({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null,i=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,i=D.from("1500000000"),n=t.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var Ie=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Pe=new y("abstract-signer/5.7.0"),ke=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Oe=[y.errors.INSUFFICIENT_FUNDS,y.errors.NONCE_EXPIRED,y.errors.REPLACEMENT_UNDERPRICED];class Ue{constructor(){Pe.checkAbstract(new.target,Ue),V(this,"_isSigner",!0)}getBalance(t){return Ie(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Ie(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Ie(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield K(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Ie(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield K(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Ie(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Ie(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Ie(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Ie(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Ie(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const r in t)-1===ke.indexOf(r)&&Pe.throwArgumentError("invalid transaction key: "+r,"transaction",t);const e=J(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Pe.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Ie(this,void 0,void 0,(function*(){const e=yield K(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Ie(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Pe.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Pe.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Pe.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Pe.throwError("network does not support EIP-1559",y.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Pe.throwError("failed to get consistent fee data",y.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(Oe.indexOf(t.code)>=0)throw t;return Pe.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",y.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Pe.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield K(e)}))}_checkProvider(t){this.provider||Pe.throwError("missing provider",y.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class Le extends Ue{constructor(t,e){super(),V(this,"address",t),V(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{Pe.throwError(t,y.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new Le(this.address,t)}}const Be=new y("transactions/5.7.0");var De;!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(De||(De={}));function Fe(t,e){return{address:yt(t),storageKeys:(e||[]).map(((e,r)=>(32!==function(t){if("string"!==typeof t)t=R(t);else if(!N(t)||t.length%2)return null;return(t.length-2)/2}(e)&&Be.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase())))}}function Ge(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Be.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),Fe(t[0],t[1])):Fe(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Fe(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}var ze=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const je=new y("contracts/5.6.0"),He={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function We(t,e){return ze(this,void 0,void 0,(function*(){const r=yield e;"string"!==typeof r&&je.throwArgumentError("invalid address or ENS name","name",r);try{return yt(r)}catch(i){}t||je.throwError("a provider or signer is needed to resolve ENS names",y.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return null==n&&je.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function Ve(t,e,r){return ze(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>Ve(t,Array.isArray(e)?e[n]:e[r.name],r)))):"address"===r.type?yield We(t,e):"tuple"===r.type?yield Ve(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>Ve(t,e,r.arrayChildren)))):Promise.reject(je.makeError("invalid value for array",y.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function qe(t,e,r){return ze(this,void 0,void 0,(function*(){let n={};r.length===e.inputs.length+1&&"object"===typeof r[r.length-1]&&(n=J(r.pop())),je.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=K({override:We(t.signer,n.from),signer:t.signer.getAddress()}).then((t=>ze(this,void 0,void 0,(function*(){return yt(t.signer)!==t.override&&je.throwError("Contract with a Signer cannot override from",y.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):n.from=t.signer.getAddress():n.from&&(n.from=We(t.provider,n.from));const i=yield K({args:Ve(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:K(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=D.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=D.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=D.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=D.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=D.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=Ge(a.accessList)),null==s.gasLimit&&null!=e.gas){let t=21e3;const r=x(o);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);s.gasLimit=D.from(e.gas).add(t)}if(a.value){const t=D.from(a.value);t.isZero()||e.payable||je.throwError("non-payable method cannot override value",y.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=t}a.customData&&(s.customData=J(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter((t=>null!=n[t]));return u.length&&je.throwError("cannot override ".concat(u.map((t=>JSON.stringify(t))).join(",")),y.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),s}))}function Ke(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let n=Z(r),i=null;try{i=t.interface.parseLog(r)}catch(o){}return i&&(n.args=i.args,n.decode=(e,r)=>t.interface.decodeEventLog(i.eventFragment,e,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>t.provider,n.getBlock=()=>t.provider.getBlock(e.blockHash),n.getTransaction=()=>t.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(e),n})),e)))}function Je(t,e,r){const n=t.signer||t.provider;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ze(this,void 0,void 0,(function*(){let i;if(o.length===e.inputs.length+1&&"object"===typeof o[o.length-1]){const t=J(o.pop());null!=t.blockTag&&(i=yield t.blockTag),delete t.blockTag,o.push(t)}null!=t.deployTransaction&&(yield t._deployed(i));const s=yield qe(t,e,o),a=yield n.call(s,i);try{let n=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(n=n[0]),n}catch(u){throw u.code===y.errors.CALL_EXCEPTION&&(u.address=t.address,u.args=o,u.transaction=s),u}}))}}function Xe(t,e,r){return e.constant?Je(t,e,r):function(t,e){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ze(this,void 0,void 0,(function*(){t.signer||je.throwError("sending a transaction requires a signer",y.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const r=yield qe(t,e,n),i=yield t.signer.sendTransaction(r);return Ke(t,i),i}))}}(t,e)}function Ye(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class Qe{constructor(t,e){V(this,"tag",t),V(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t)||(e=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class Ze extends Qe{constructor(){super("error",null)}}class $e extends Qe{constructor(t,e,r,n){const i={address:t};let o=e.getEventTopic(r);n?(o!==n[0]&&je.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(Ye(i),i),V(this,"address",t),V(this,"interface",e),V(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let o in n){const s=t.slice();s.push(o);try{r(s,n[o])}catch(i){e.push({path:s,error:i})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class tr extends Qe{constructor(t,e){super("*",{address:t}),V(this,"address",t),V(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(e){}}}class er{constructor(t,e,r){var n=this;je.checkNew(new.target,rr),V(this,"interface",q(new.target,"getInterface")(e)),null==r?(V(this,"provider",null),V(this,"signer",null)):Ue.isSigner(r)?(V(this,"provider",r.provider||null),V(this,"signer",r)):Ce.isProvider(r)?(V(this,"provider",r),V(this,"signer",null)):je.throwArgumentError("invalid signer or provider","signerOrProvider",r),V(this,"callStatic",{}),V(this,"estimateGas",{}),V(this,"functions",{}),V(this,"populateTransaction",{}),V(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];V(this.filters,e,(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return{address:n.address,topics:n.interface.encodeFilterTopics(r,e)}})),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?V(this.filters,e,this.filters[r[0]]):je.warn("Duplicate definition of ".concat(e," (").concat(r.join(", "),")"))}))}if(V(this,"_runningEvents",{}),V(this,"_wrappedEmits",{}),null==t&&je.throwArgumentError("invalid contract address or ENS name","addressOrName",t),V(this,"address",t),this.provider)V(this,"resolvedAddress",We(this.provider,t));else try{V(this,"resolvedAddress",Promise.resolve(yt(t)))}catch(s){je.throwError("provider is required to use ENS name as contract address",y.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((t=>{}));const i={},o={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(o[t])je.warn("Duplicate ABI entry for ".concat(JSON.stringify(t)));else{o[t]=!0;{const r=e.name;i["%".concat(r)]||(i["%".concat(r)]=[]),i["%".concat(r)].push(t)}null==this[t]&&V(this,t,Xe(this,e,!0)),null==this.functions[t]&&V(this.functions,t,Xe(this,e,!1)),null==this.callStatic[t]&&V(this.callStatic,t,Je(this,e,!0)),null==this.populateTransaction[t]&&V(this.populateTransaction,t,function(t,e){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return qe(t,e,n)}}(this,e)),null==this.estimateGas[t]&&V(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ze(this,void 0,void 0,(function*(){r||je.throwError("estimate require a provider or signer",y.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield qe(t,e,i);return yield r.estimateGas(n)}))}}(this,e))}})),Object.keys(i).forEach((t=>{const e=i[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&V(this,t,this[r])}catch(n){}null==this.functions[t]&&V(this.functions,t,this.functions[r]),null==this.callStatic[t]&&V(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&V(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&V(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return wt(t)}static getInterface(t){return Ne.isInterface(t)?t:new Ne(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&je.throwError("contract not deployed",y.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||je.throwError("sending a transactions require a signer",y.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=J(t||{});return["from","to"].forEach((function(t){null!=e[t]&&je.throwError("cannot override "+t,y.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"===typeof t&&(t=new Le(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&V(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return Ee.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"===typeof t){if("error"===t)return this._normalizeRunningEvent(new Ze);if("event"===t)return this._normalizeRunningEvent(new Qe("event",null));if("*"===t)return this._normalizeRunningEvent(new tr(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new $e(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!==typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new $e(this.address,this.interface,r,t.topics))}catch(e){}const r={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Qe(Ye(r),r))}return this._normalizeRunningEvent(new tr(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const n=Z(e);return n.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},n.getBlock=()=>this.provider.getBlock(e.blockHash),n.getTransaction=()=>this.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(n),n}_addEventListener(t,e,r){if(this.provider||je.throwError("events require a provider or a signer with a provider",y.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let n=this._wrapEvent(t,r,e);if(null==n.decodeError)try{const e=t.getEmit(n);this.emit(t.filter,...e)}catch(i){n.decodeError=i.error}null!=t.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const n=this._getRunningEvent(t),i=J(n.filter);return"string"===typeof e&&N(e,32)?(null!=r&&je.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=e):(i.fromBlock=null!=e?e:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((t=>t.map((t=>this._wrapEvent(n,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t){if(!this.provider)return!1;const e=this._getRunningEvent(t);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const o=e.run(n)>0;return this._checkRunningEvents(e),o}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}class rr extends er{}class nr{constructor(t,e,r){let n=null;n="string"===typeof e?e:E(e)?R(e):e&&"string"===typeof e.object?e.object:"!","0x"!==n.substring(0,2)&&(n="0x"+n),(!N(n)||n.length%2)&&je.throwArgumentError("invalid bytecode","bytecode",e),r&&!Ue.isSigner(r)&&je.throwArgumentError("invalid signer","signer",r),V(this,"bytecode",n),V(this,"interface",q(new.target,"getInterface")(t)),V(this,"signer",r||null)}getDeployTransaction(){let t={};for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===this.interface.deploy.inputs.length+1&&"object"===typeof r[r.length-1]){t=J(r.pop());for(const e in t)if(!He[e])throw new Error("unknown transaction override "+e)}if(["data","from","to"].forEach((e=>{null!=t[e]&&je.throwError("cannot override "+e,y.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value){D.from(t.value).isZero()||this.interface.deploy.payable||je.throwError("non-payable constructor cannot override value",y.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return je.checkArgumentCount(r.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=R(S([this.bytecode,this.interface.encodeDeploy(r)])),t}deploy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ze(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),je.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield Ve(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(n),o=q(this.constructor,"getContractAddress")(i),s=q(this.constructor,"getContract")(o,this.interface,this.signer);return Ke(s,i),V(s,"deployTransaction",i),s}))}attach(t){return this.constructor.getContract(t,this.interface,this.signer)}connect(t){return new this.constructor(this.interface,this.bytecode,t)}static fromSolidity(t,e){null==t&&je.throwError("missing compiler output",y.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"===typeof t&&(t=JSON.parse(t));const r=t.abi;let n=null;return t.bytecode?n=t.bytecode:t.evm&&t.evm.bytecode&&(n=t.evm.bytecode),new this(r,n,e)}static getInterface(t){return rr.getInterface(t)}static getContractAddress(t){return wt(t)}static getContract(t,e,r){return new rr(t,e,r)}}var ir=r(64166),or=r.n(ir);let sr=!1,ar=!1;const ur={debug:1,default:2,info:2,warning:3,error:4,off:5};let lr=ur.default,hr=null;const cr=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var fr,dr;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(fr||(fr={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(dr||(dr={}));const pr="0123456789abcdef";class mr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==ur[r]&&this.throwArgumentError("invalid log level name","logLevel",t),lr>ur[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(mr.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(mr.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(mr.levels.WARNING,e)}makeError(t,e,r){if(ar)return this.makeError("censored error",e,{});e||(e=mr.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=pr[e[t]>>4],r+=pr[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case dr.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case dr.CALL_EXCEPTION:case dr.INSUFFICIENT_FUNDS:case dr.MISSING_NEW:case dr.NONCE_EXPIRED:case dr.REPLACEMENT_UNDERPRICED:case dr.TRANSACTION_REPLACED:case dr.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,mr.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),cr&&this.throwError("platform missing String.prototype.normalize",mr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:cr})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,mr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,mr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,mr.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,mr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",mr.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",mr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",mr.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return hr||(hr=new mr("logger/5.7.0")),hr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",mr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),sr){if(!t)return;this.globalLogger().throwError("error censorship permanent",mr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ar=!!t,sr=!!e}static setLogLevel(t){const e=ur[t.toLowerCase()];null!=e?lr=e:mr.globalLogger().warn("invalid log level - "+t)}static from(t){return new mr(t)}}mr.errors=dr,mr.levels=fr;const gr=new mr("bytes/5.7.0");function vr(t){return!!t.toHexString}function yr(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return yr(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function wr(t){return"number"===typeof t&&t==t&&t%1===0}function br(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!wr(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!wr(r)||r<0||r>=256)return!1}return!0}function Ar(t,e){if(e||(e={}),"number"===typeof t){gr.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),yr(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vr(t)&&(t=t.toHexString()),Mr(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":gr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return yr(new Uint8Array(n))}return br(t)?yr(new Uint8Array(t)):gr.throwArgumentError("invalid arrayify value","value",t)}function Mr(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const _r="0123456789abcdef";function Er(t,e){if(e||(e={}),"number"===typeof t){gr.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=_r[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vr(t))return t.toHexString();if(Mr(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":gr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(br(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=_r[(240&n)>>4]+_r[15&n]}return e}return gr.throwArgumentError("invalid hexlify value","value",t)}function xr(t,e){for("string"!==typeof t?t=Er(t):Mr(t)||gr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&gr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const Sr="bignumber/5.6.0";var Nr=or().BN;const Tr=new mr(Sr),Rr={},Cr=9007199254740991;let Ir=!1;class Pr{constructor(t,e){Tr.checkNew(new.target,Pr),t!==Rr&&Tr.throwError("cannot call constructor directly; use BigNumber.from",mr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Or(Ur(this).fromTwos(t))}toTwos(t){return Or(Ur(this).toTwos(t))}abs(){return"-"===this._hex[0]?Pr.from(this._hex.substring(1)):this}add(t){return Or(Ur(this).add(Ur(t)))}sub(t){return Or(Ur(this).sub(Ur(t)))}div(t){return Pr.from(t).isZero()&&Lr("division-by-zero","div"),Or(Ur(this).div(Ur(t)))}mul(t){return Or(Ur(this).mul(Ur(t)))}mod(t){const e=Ur(t);return e.isNeg()&&Lr("division-by-zero","mod"),Or(Ur(this).umod(e))}pow(t){const e=Ur(t);return e.isNeg()&&Lr("negative-power","pow"),Or(Ur(this).pow(e))}and(t){const e=Ur(t);return(this.isNegative()||e.isNeg())&&Lr("unbound-bitwise-result","and"),Or(Ur(this).and(e))}or(t){const e=Ur(t);return(this.isNegative()||e.isNeg())&&Lr("unbound-bitwise-result","or"),Or(Ur(this).or(e))}xor(t){const e=Ur(t);return(this.isNegative()||e.isNeg())&&Lr("unbound-bitwise-result","xor"),Or(Ur(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Lr("negative-width","mask"),Or(Ur(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Lr("negative-width","shl"),Or(Ur(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Lr("negative-width","shr"),Or(Ur(this).shrn(t))}eq(t){return Ur(this).eq(Ur(t))}lt(t){return Ur(this).lt(Ur(t))}lte(t){return Ur(this).lte(Ur(t))}gt(t){return Ur(this).gt(Ur(t))}gte(t){return Ur(this).gte(Ur(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Ur(this).isZero()}toNumber(){try{return Ur(this).toNumber()}catch(t){Lr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Tr.throwError("this platform does not support BigInt",mr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Ir||(Ir=!0,Tr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Tr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",mr.errors.UNEXPECTED_ARGUMENT,{}):Tr.throwError("BigNumber.toString does not accept parameters",mr.errors.UNEXPECTED_ARGUMENT,{})),Ur(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Pr)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Pr(Rr,kr(t)):t.match(/^-?[0-9]+$/)?new Pr(Rr,kr(new Nr(t))):Tr.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Lr("underflow","BigNumber.from",t),(t>=Cr||t<=-9007199254740991)&&Lr("overflow","BigNumber.from",t),Pr.from(String(t));const e=t;if("bigint"===typeof e)return Pr.from(e.toString());if(br(e))return Pr.from(Er(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return Pr.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Mr(t)||"-"===t[0]&&Mr(t.substring(1))))return Pr.from(t)}return Tr.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function kr(t){if("string"!==typeof t)return kr(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Tr.throwArgumentError("invalid hex","value",t),"0x00"===(t=kr(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Or(t){return Pr.from(kr(t))}function Ur(t){const e=Pr.from(t).toHexString();return"-"===e[0]?new Nr("-"+e.substring(3),16):new Nr(e.substring(2),16)}function Lr(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Tr.throwError(t,mr.errors.NUMERIC_FAULT,n)}const Br=new mr(Sr),Dr={},Fr=Pr.from(0),Gr=Pr.from(-1);function zr(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),Br.throwError(t,mr.errors.NUMERIC_FAULT,i)}let jr="0";for(;jr.length<256;)jr+=jr;function Hr(t){if("number"!==typeof t)try{t=Pr.from(t).toNumber()}catch(e){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+jr.substring(0,t):Br.throwArgumentError("invalid decimal size","decimals",t)}function Wr(t,e){null==e&&(e=0);const r=Hr(e),n=(t=Pr.from(t)).lt(Fr);n&&(t=t.mul(Gr));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function Vr(t,e){null==e&&(e=0);const r=Hr(e);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||Br.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&Br.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Br.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&zr("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=Pr.from(o),u=Pr.from(s);let l=a.mul(r).add(u);return n&&(l=l.mul(Gr)),l}class qr{constructor(t,e,r,n){t!==Dr&&Br.throwError("cannot use FixedFormat constructor; use FixedFormat.from",mr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Hr(n),Object.freeze(this)}static from(t){if(t instanceof qr)return t;"number"===typeof t&&(t="fixed128x".concat(t));let e=!0,r=128,n=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Br.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&Br.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&Br.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Br.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new qr(Dr,e,r,n)}}class Kr{constructor(t,e,r,n){Br.checkNew(new.target,Kr),t!==Dr&&Br.throwError("cannot use FixedNumber constructor; use FixedNumber.from",mr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Br.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Vr(this._value,this.format.decimals),r=Vr(t._value,t.format.decimals);return Kr.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Vr(this._value,this.format.decimals),r=Vr(t._value,t.format.decimals);return Kr.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Vr(this._value,this.format.decimals),r=Vr(t._value,t.format.decimals);return Kr.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Vr(this._value,this.format.decimals),r=Vr(t._value,t.format.decimals);return Kr.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Kr.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(Jr.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Kr.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(Jr.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&Br.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Kr.from("1"+jr.substring(0,t),this.format),n=Xr.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&Br.throwArgumentError("invalid byte width","width",t);return xr(Pr.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Kr.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(Pr.isBigNumber(t)||"number"===typeof t&&t%1===0||"string"===typeof t&&!!t.match(/^-?[0-9]+$/)||Mr(t)||"bigint"===typeof t||br(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Kr.fromString(Wr(t,e),qr.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=qr.from(e),n=Vr(t,r.decimals);!r.signed&&n.lt(Fr)&&zr("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=xr(i,r.width/8));const o=Wr(n,r.decimals);return new Kr(Dr,i,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=qr.from(e);if(Ar(t).length>r.width/8)throw new Error("overflow");let n=Pr.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=Wr(n,r.decimals);return new Kr(Dr,i,o,r)}static from(t,e){if("string"===typeof t)return Kr.fromString(t,e);if(br(t))return Kr.fromBytes(t,e);try{return Kr.fromValue(t,0,e)}catch(r){if(r.code!==mr.errors.INVALID_ARGUMENT)throw r}return Br.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const Jr=Kr.from(1),Xr=Kr.from("0.5");let Yr=!1,Qr=!1;const Zr={debug:1,default:2,info:2,warning:3,error:4,off:5};let $r=Zr.default,tn=null;const en=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var rn,nn;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(rn||(rn={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(nn||(nn={}));const on="0123456789abcdef";class sn{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Zr[r]&&this.throwArgumentError("invalid log level name","logLevel",t),$r>Zr[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(sn.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(sn.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(sn.levels.WARNING,e)}makeError(t,e,r){if(Qr)return this.makeError("censored error",e,{});e||(e=sn.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=on[e[t]>>4],r+=on[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case nn.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case nn.CALL_EXCEPTION:case nn.INSUFFICIENT_FUNDS:case nn.MISSING_NEW:case nn.NONCE_EXPIRED:case nn.REPLACEMENT_UNDERPRICED:case nn.TRANSACTION_REPLACED:case nn.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,sn.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),en&&this.throwError("platform missing String.prototype.normalize",sn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:en})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,sn.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,sn.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",sn.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",sn.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",sn.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return tn||(tn=new sn("logger/5.7.0")),tn}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Yr){if(!t)return;this.globalLogger().throwError("error censorship permanent",sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Qr=!!t,Yr=!!e}static setLogLevel(t){const e=Zr[t.toLowerCase()];null!=e?$r=e:sn.globalLogger().warn("invalid log level - "+t)}static from(t){return new sn(t)}}sn.errors=nn,sn.levels=rn;var an=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};new sn("properties/5.7.0");function un(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ln(t){return an(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}var hn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const cn=new sn("abstract-signer/5.6.0"),fn=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],dn=[sn.errors.INSUFFICIENT_FUNDS,sn.errors.NONCE_EXPIRED,sn.errors.REPLACEMENT_UNDERPRICED];class pn{constructor(){cn.checkAbstract(new.target,pn),un(this,"_isSigner",!0)}getBalance(t){return hn(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return hn(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return hn(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield ln(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return hn(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield ln(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return hn(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return hn(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return hn(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return hn(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return hn(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const r in t)-1===fn.indexOf(r)&&cn.throwArgumentError("invalid transaction key: "+r,"transaction",t);const e=function(t){const e={};for(const r in t)e[r]=t[r];return e}(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&cn.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return hn(this,void 0,void 0,(function*(){const e=yield ln(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>hn(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&cn.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||cn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):cn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&cn.throwError("network does not support EIP-1559",sn.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):cn.throwError("failed to get consistent fee data",sn.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(dn.indexOf(t.code)>=0)throw t;return cn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",sn.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&cn.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield ln(e)}))}_checkProvider(t){this.provider||cn.throwError("missing provider",sn.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class mn extends pn{constructor(t,e){cn.checkNew(new.target,mn),super(),un(this,"address",t),un(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{cn.throwError(t,sn.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new mn(this.address,t)}}let gn=!1,vn=!1;const yn={debug:1,default:2,info:2,warning:3,error:4,off:5};let wn=yn.default,bn=null;const An=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Mn,_n;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Mn||(Mn={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(_n||(_n={}));const En="0123456789abcdef";class xn{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==yn[r]&&this.throwArgumentError("invalid log level name","logLevel",t),wn>yn[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(xn.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(xn.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(xn.levels.WARNING,e)}makeError(t,e,r){if(vn)return this.makeError("censored error",e,{});e||(e=xn.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=En[e[t]>>4],r+=En[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case _n.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case _n.CALL_EXCEPTION:case _n.INSUFFICIENT_FUNDS:case _n.MISSING_NEW:case _n.NONCE_EXPIRED:case _n.REPLACEMENT_UNDERPRICED:case _n.TRANSACTION_REPLACED:case _n.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,xn.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),An&&this.throwError("platform missing String.prototype.normalize",xn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:An})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,xn.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,xn.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",xn.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",xn.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",xn.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return bn||(bn=new xn("logger/5.7.0")),bn}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gn){if(!t)return;this.globalLogger().throwError("error censorship permanent",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vn=!!t,gn=!!e}static setLogLevel(t){const e=yn[t.toLowerCase()];null!=e?wn=e:xn.globalLogger().warn("invalid log level - "+t)}static from(t){return new xn(t)}}xn.errors=_n,xn.levels=Mn;const Sn=new xn("bytes/5.7.0");function Nn(t){return!!t.toHexString}function Tn(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Tn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Rn(t){return Un(t)&&!(t.length%2)||In(t)}function Cn(t){return"number"===typeof t&&t==t&&t%1===0}function In(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Cn(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Cn(r)||r<0||r>=256)return!1}return!0}function Pn(t,e){if(e||(e={}),"number"===typeof t){Sn.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Tn(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Nn(t)&&(t=t.toHexString()),Un(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Sn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Tn(new Uint8Array(n))}return In(t)?Tn(new Uint8Array(t)):Sn.throwArgumentError("invalid arrayify value","value",t)}function kn(t){const e=t.map((t=>Pn(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Tn(n)}function On(t){let e=Pn(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Un(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Ln="0123456789abcdef";function Bn(t,e){if(e||(e={}),"number"===typeof t){Sn.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Ln[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Nn(t))return t.toHexString();if(Un(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Sn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(In(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Ln[(240&n)>>4]+Ln[15&n]}return e}return Sn.throwArgumentError("invalid hexlify value","value",t)}function Dn(t){if("string"!==typeof t)t=Bn(t);else if(!Un(t)||t.length%2)return null;return(t.length-2)/2}function Fn(t,e,r){return"string"!==typeof t?t=Bn(t):(!Un(t)||t.length%2)&&Sn.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Gn(t){let e="0x";return t.forEach((t=>{e+=Bn(t).substring(2)})),e}function zn(t,e){for("string"!==typeof t?t=Bn(t):Un(t)||Sn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Sn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function jn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Rn(t)){let r=Pn(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Bn(r.slice(0,32)),e.s=Bn(r.slice(32,64))):65===r.length?(e.r=Bn(r.slice(0,32)),e.s=Bn(r.slice(32,64)),e.v=r[64]):Sn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Sn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Bn(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Pn(t)).length>e&&Sn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Tn(r)}(Pn(e._vs),32);e._vs=Bn(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Sn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=Bn(r);null==e.s?e.s=i:e.s!==i&&Sn.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Sn.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Sn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Un(e.r)?e.r=zn(e.r,32):Sn.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Un(e.s)?e.s=zn(e.s,32):Sn.throwArgumentError("signature missing or invalid s","signature",t);const r=Pn(e.s);r[0]>=128&&Sn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Bn(r);e._vs&&(Un(e._vs)||Sn.throwArgumentError("signature invalid _vs","signature",t),e._vs=zn(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Sn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Hn(t){return Bn(kn([(t=jn(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var Wn=r(83777),Vn=r.n(Wn);var qn=Vn().BN;const Kn=new xn("bignumber/5.7.0"),Jn={},Xn=9007199254740991;let Yn=!1;class Qn{constructor(t,e){t!==Jn&&Kn.throwError("cannot call constructor directly; use BigNumber.from",xn.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return $n(ti(this).fromTwos(t))}toTwos(t){return $n(ti(this).toTwos(t))}abs(){return"-"===this._hex[0]?Qn.from(this._hex.substring(1)):this}add(t){return $n(ti(this).add(ti(t)))}sub(t){return $n(ti(this).sub(ti(t)))}div(t){return Qn.from(t).isZero()&&ei("division-by-zero","div"),$n(ti(this).div(ti(t)))}mul(t){return $n(ti(this).mul(ti(t)))}mod(t){const e=ti(t);return e.isNeg()&&ei("division-by-zero","mod"),$n(ti(this).umod(e))}pow(t){const e=ti(t);return e.isNeg()&&ei("negative-power","pow"),$n(ti(this).pow(e))}and(t){const e=ti(t);return(this.isNegative()||e.isNeg())&&ei("unbound-bitwise-result","and"),$n(ti(this).and(e))}or(t){const e=ti(t);return(this.isNegative()||e.isNeg())&&ei("unbound-bitwise-result","or"),$n(ti(this).or(e))}xor(t){const e=ti(t);return(this.isNegative()||e.isNeg())&&ei("unbound-bitwise-result","xor"),$n(ti(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&ei("negative-width","mask"),$n(ti(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&ei("negative-width","shl"),$n(ti(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&ei("negative-width","shr"),$n(ti(this).shrn(t))}eq(t){return ti(this).eq(ti(t))}lt(t){return ti(this).lt(ti(t))}lte(t){return ti(this).lte(ti(t))}gt(t){return ti(this).gt(ti(t))}gte(t){return ti(this).gte(ti(t))}isNegative(){return"-"===this._hex[0]}isZero(){return ti(this).isZero()}toNumber(){try{return ti(this).toNumber()}catch(t){ei("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Kn.throwError("this platform does not support BigInt",xn.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Yn||(Yn=!0,Kn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Kn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",xn.errors.UNEXPECTED_ARGUMENT,{}):Kn.throwError("BigNumber.toString does not accept parameters",xn.errors.UNEXPECTED_ARGUMENT,{})),ti(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Qn)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Qn(Jn,Zn(t)):t.match(/^-?[0-9]+$/)?new Qn(Jn,Zn(new qn(t))):Kn.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&ei("underflow","BigNumber.from",t),(t>=Xn||t<=-9007199254740991)&&ei("overflow","BigNumber.from",t),Qn.from(String(t));const e=t;if("bigint"===typeof e)return Qn.from(e.toString());if(In(e))return Qn.from(Bn(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return Qn.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Un(t)||"-"===t[0]&&Un(t.substring(1))))return Qn.from(t)}return Kn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Zn(t){if("string"!==typeof t)return Zn(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Kn.throwArgumentError("invalid hex","value",t),"0x00"===(t=Zn(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function $n(t){return Qn.from(Zn(t))}function ti(t){const e=Qn.from(t).toHexString();return"-"===e[0]?new qn("-"+e.substring(3),16):new qn(e.substring(2),16)}function ei(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Kn.throwError(t,xn.errors.NUMERIC_FAULT,n)}function ri(t){return"0x"+st().keccak_256(Pn(t))}const ni=new xn("address/5.7.0");function ii(t){Un(t,20)||ni.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Pn(ri(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const oi={};for(let tP=0;tP<10;tP++)oi[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)oi[String.fromCharCode(65+tP)]=String(10+tP);const si=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function ai(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>oi[t])).join("");for(;e.length>=si;){let t=e.substring(0,si);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ui(t){let e=null;if("string"!==typeof t&&ni.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=ii(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ni.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ai(t)&&ni.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new qn(r,36).toString(16);e.length<40;)e="0"+e;e=ii("0x"+e)}else ni.throwArgumentError("invalid address","address",t);var r;return e}var li=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const hi=new xn("properties/5.7.0");function ci(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function fi(t){return li(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function di(t){const e={};for(const r in t)e[r]=t[r];return e}const pi={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function mi(t){if(void 0===t||null===t||pi[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!mi(i))return!1}return!0}return hi.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function gi(t){if(mi(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>vi(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&ci(e,r,vi(n))}return e}return hi.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function vi(t){return gi(t)}class yi{constructor(t){for(const e in t)this[e]=vi(t[e])}}var wi=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const bi=new xn("abstract-provider/5.7.0");class Ai{constructor(){bi.checkAbstract(new.target,Ai),ci(this,"_isProvider",!0)}getFeeData(){return wi(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield fi({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null,i=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,i=Qn.from("1500000000"),n=t.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var Mi=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const _i=new xn("abstract-signer/5.7.0"),Ei=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],xi=[xn.errors.INSUFFICIENT_FUNDS,xn.errors.NONCE_EXPIRED,xn.errors.REPLACEMENT_UNDERPRICED];class Si{constructor(){_i.checkAbstract(new.target,Si),ci(this,"_isSigner",!0)}getBalance(t){return Mi(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Mi(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Mi(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield fi(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Mi(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield fi(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Mi(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Mi(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Mi(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Mi(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Mi(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const r in t)-1===Ei.indexOf(r)&&_i.throwArgumentError("invalid transaction key: "+r,"transaction",t);const e=di(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&_i.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Mi(this,void 0,void 0,(function*(){const e=yield fi(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Mi(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&_i.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||_i.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):_i.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&_i.throwError("network does not support EIP-1559",xn.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):_i.throwError("failed to get consistent fee data",xn.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(xi.indexOf(t.code)>=0)throw t;return _i.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",xn.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&_i.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield fi(e)}))}_checkProvider(t){this.provider||_i.throwError("missing provider",xn.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}const Ni=new xn("strings/5.7.0");var Ti,Ri;function Ci(t,e,r,n,i){if(t===Ri.BAD_PREFIX||t===Ri.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===Ri.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Ti||(Ti={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Ri||(Ri={}));Object.freeze({error:function(t,e,r,n,i){return Ni.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:Ci,replace:function(t,e,r,n,i){return t===Ri.OVERLONG?(n.push(i),0):(n.push(65533),Ci(t,e,r))}});function Ii(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti.current;e!=Ti.current&&(Ni.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return Pn(r)}const Pi="\x19Ethereum Signed Message:\n";function ki(t){return"string"===typeof t&&(t=Ii(t)),ri(kn([Ii(Pi),Ii(String(t.length)),t]))}function Oi(t){return ri(Ii(t))}var Ui=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Li=new xn("hash/5.7.0"),Bi=new Uint8Array(32);Bi.fill(0);const Di=Qn.from(-1),Fi=Qn.from(0),Gi=Qn.from(1),zi=Qn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const ji=zn(Gi.toHexString(),32),Hi=zn(Fi.toHexString(),32),Wi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Vi=["name","version","chainId","verifyingContract","salt"];function qi(t){return function(e){return"string"!==typeof e&&Li.throwArgumentError("invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}const Ki={name:qi("name"),version:qi("version"),chainId:function(t){try{return Qn.from(t).toString()}catch(e){}return Li.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ui(t).toLowerCase()}catch(e){}return Li.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Pn(t);if(32!==e.length)throw new Error("bad length");return Bn(e)}catch(e){}return Li.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Ji(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Li.throwArgumentError("invalid numeric width","type",t);const i=zi.mask(r?n-1:n),o=r?i.add(Gi).mul(Di):Fi;return function(e){const r=Qn.from(e);return(r.lt(o)||r.gt(i))&&Li.throwArgumentError("value out-of-bounds for ".concat(t),"value",e),zn(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&Li.throwArgumentError("invalid bytes width","type",t),function(e){return Pn(e).length!==r&&Li.throwArgumentError("invalid length for ".concat(t),"value",e),function(t){const e=Pn(t),r=e.length%32;return r?Gn([e,Bi.slice(r)]):Bn(e)}(e)}}}switch(t){case"address":return function(t){return zn(ui(t),32)};case"bool":return function(t){return t?ji:Hi};case"bytes":return function(t){return ri(t)};case"string":return function(t){return Oi(t)}}return null}function Xi(t,e){return"".concat(t,"(").concat(e.map((t=>{let{name:e,type:r}=t;return r+" "+e})).join(","),")")}class Yi{constructor(t){ci(this,"types",Object.freeze(vi(t))),ci(this,"_encoderCache",{}),ci(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const o in t){const n={};t[o].forEach((i=>{n[i.name]&&Li.throwArgumentError("duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(o)),"types",t),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&Li.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",t);Ji(s)||(r[s]||Li.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",t),r[s].push(o),e[o][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?Li.throwArgumentError("missing primary type","types",t):i.length>1&&Li.throwArgumentError("ambiguous primary types or unused types: ".concat(i.map((t=>JSON.stringify(t))).join(", ")),"types",t),ci(this,"primaryType",i[0]),function i(o,s){s[o]&&Li.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const e=Object.keys(n[o]);e.sort(),this._types[o]=Xi(o,t[o])+e.map((e=>Xi(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Ji(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&Li.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(ri)),ri(Gn(i))}}const r=this.types[t];if(r){const e=Oi(this._types[t]);return t=>{const n=r.map((e=>{let{name:r,type:n}=e;const i=this.getEncoder(n)(t[r]);return this._types[n]?ri(i):i}));return n.unshift(e),Gn(n)}}return Li.throwArgumentError("unknown type: ".concat(t),"type",t)}encodeType(t){const e=this._types[t];return e||Li.throwArgumentError("unknown type: ".concat(JSON.stringify(t)),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return ri(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Ji(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&Li.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,n)=>{let{name:i,type:o}=n;return t[i]=this._visit(o,e[i],r),t}),{}):Li.throwArgumentError("unknown type: ".concat(t),"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Yi(t)}static getPrimaryType(t){return Yi.from(t).primaryType}static hashStruct(t,e,r){return Yi.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Wi[r];n||Li.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Vi.indexOf(t.name)-Vi.indexOf(e.name))),Yi.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Gn(["0x1901",Yi.hashDomain(t),Yi.from(e).hash(r)])}static hash(t,e,r){return ri(Yi.encode(t,e,r))}static resolveNames(t,e,r,n){return Ui(this,void 0,void 0,(function*(){t=di(t);const i={};t.verifyingContract&&!Un(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=Yi.from(e);o.visit(r,((t,e)=>("address"!==t||Un(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){Yi.hashDomain(t);const n={},i=[];Vi.forEach((e=>{const r=t[e];null!=r&&(n[e]=Ki[e](r),i.push({name:e,type:Wi[e]}))}));const o=Yi.from(e),s=di(e);return s.EIP712Domain?Li.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Bn(Pn(e));if(t.match(/^u?int/))return Qn.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!==typeof e&&Li.throwArgumentError("invalid string","value",e),e}return Li.throwArgumentError("unsupported type","type",t)}))}}}class Qi{constructor(t){ci(this,"alphabet",t),ci(this,"base",t.length),ci(this,"_alphabetMap",{}),ci(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Pn(t);if(0===e.length)return"";let r=[0];for(let i=0;i<e.length;++i){let t=e[i];for(let e=0;e<r.length;++e)t+=r[e]<<8,r[e]=t%this.base,t=t/this.base|0;for(;t>0;)r.push(t%this.base),t=t/this.base|0}let n="";for(let i=0;0===e[i]&&i<e.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(t){if("string"!==typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Pn(new Uint8Array(e.reverse()))}}new Qi("abcdefghijklmnopqrstuvwxyz234567");const Zi=new Qi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var $i,to=r(37553),eo=r.n(to);!function(t){t.sha256="sha256",t.sha512="sha512"}($i||($i={}));const ro=new xn("sha2/5.7.0");function no(t){return"0x"+eo().sha256().update(Pn(t)).digest("hex")}function io(t,e,r){return $i[t]||ro.throwError("unsupported algorithm "+t,xn.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+eo().hmac(eo()[t],Pn(e)).update(Pn(r)).digest("hex")}function oo(t,e,r,n,i){let o;t=Pn(t),e=Pn(e);let s=1;const a=new Uint8Array(n),u=new Uint8Array(e.length+4);let l,h;u.set(e);for(let c=1;c<=s;c++){u[e.length]=c>>24&255,u[e.length+1]=c>>16&255,u[e.length+2]=c>>8&255,u[e.length+3]=255&c;let f=Pn(io(i,t,u));o||(o=f.length,h=new Uint8Array(o),s=Math.ceil(n/o),l=n-(s-1)*o),h.set(f);for(let e=1;e<r;e++){f=Pn(io(i,t,f));for(let t=0;t<o;t++)h[t]^=f[t]}const d=(c-1)*o,p=c===s?l:o;a.set(Pn(h).slice(0,p),d)}return Bn(a)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function so(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var ao=uo;function uo(t,e){if(!t)throw new Error(e||"Assertion failed")}uo.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var lo=so((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),ho=so((function(t,e){var r=e;r.assert=ao,r.toArray=lo.toArray,r.zero2=lo.zero2,r.toHex=lo.toHex,r.encode=lo.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(Vn())(t,"hex","le")}})),co=ho.getNAF,fo=ho.getJSF,po=ho.assert;function mo(t,e){this.type=t,this.p=new(Vn())(e.p,16),this.red=e.prime?Vn().red(e.prime):Vn().mont(this.p),this.zero=new(Vn())(0).toRed(this.red),this.one=new(Vn())(1).toRed(this.red),this.two=new(Vn())(2).toRed(this.red),this.n=e.n&&new(Vn())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var go=mo;function vo(t,e){this.curve=t,this.type=e,this.precomputed=null}mo.prototype.point=function(){throw new Error("Not implemented")},mo.prototype.validate=function(){throw new Error("Not implemented")},mo.prototype._fixedNafMul=function(t,e){po(t.precomputed);var r=t._getDoubles(),n=co(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<a.length;o++)(s=a[o])===c?h=h.mixedAdd(r.points[o]):s===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},mo.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=co(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];po(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},mo.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=fo(r[d],r[p]);for(c=Math.max(v[0].length,c),h[d]=new Array(c),h[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],w=0|v[1][s];h[d][s]=g[3*(y+1)+(w+1)],h[p][s]=0,l[d]=m}}else h[d]=co(r[d],u[d],this._bitLength),h[p]=co(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(o=c;o>=0;o--){for(var M=0;o>=0;){var _=!0;for(s=0;s<n;s++)A[s]=0|h[s][o],0!==A[s]&&(_=!1);if(!_)break;M++,o--}if(o>=0&&M++,b=b.dblp(M),o<0)break;for(s=0;s<n;s++){var E=A[s];0!==E&&(E>0?a=l[s][E-1>>1]:E<0&&(a=l[s][-E-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},mo.BasePoint=vo,vo.prototype.eq=function(){throw new Error("Not implemented")},vo.prototype.validate=function(){return this.curve.validate(this)},mo.prototype.decodePoint=function(t,e){t=ho.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?po(t[t.length-1]%2===0):7===t[0]&&po(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},vo.prototype.encodeCompressed=function(t){return this.encode(t,!0)},vo.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},vo.prototype.encode=function(t,e){return ho.encode(this._encode(e),t)},vo.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},vo.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},vo.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},vo.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},vo.prototype._getBeta=function(){return null},vo.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var yo=so((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),wo=ho.assert;function bo(t){go.call(this,"short",t),this.a=new(Vn())(t.a,16).toRed(this.red),this.b=new(Vn())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}yo(bo,go);var Ao=bo;function Mo(t,e,r,n){go.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Vn())(e,16),this.y=new(Vn())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function _o(t,e,r,n){go.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Vn())(0)):(this.x=new(Vn())(e,16),this.y=new(Vn())(r,16),this.z=new(Vn())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bo.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(Vn())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(Vn())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],wo(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(Vn())(t.a,16),b:new(Vn())(t.b,16)}})):this._getEndoBasis(r)}}},bo.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Vn().mont(t),r=new(Vn())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(Vn())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},bo.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(Vn())(1),p=new(Vn())(0),m=new(Vn())(0),g=new(Vn())(1),v=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=m.sub(y.mul(d));var w=g.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;a=u,f=c,c=u,m=d,d=l,g=p,p=w}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},bo.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},bo.prototype.pointFromX=function(t,e){(t=new(Vn())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},bo.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},bo.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},yo(Mo,go.BasePoint),bo.prototype.point=function(t,e,r){return new Mo(this,t,e,r)},bo.prototype.pointFromJSON=function(t,e){return Mo.fromJSON(this,t,e)},Mo.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Mo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Mo.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Mo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Mo.prototype.isInfinity=function(){return this.inf},Mo.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Mo.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Mo.prototype.getX=function(){return this.x.fromRed()},Mo.prototype.getY=function(){return this.y.fromRed()},Mo.prototype.mul=function(t){return t=new(Vn())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Mo.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Mo.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Mo.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Mo.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Mo.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},yo(_o,go.BasePoint),bo.prototype.jpoint=function(t,e,r){return new _o(this,t,e,r)},_o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},_o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},_o.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},_o.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},_o.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=y,l=v}return this.curve.jpoint(o,l.redMul(i),a)},_o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},_o.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},_o.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},_o.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},_o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,f,d)},_o.prototype.mul=function(t,e){return t=new(Vn())(t,e),this.curve._wnafMul(this,t)},_o.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},_o.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},_o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},_o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Eo=so((function(t,e){var r=e;r.base=go,r.short=Ao,r.mont=null,r.edwards=null})),xo=so((function(t,e){var r,n=e,i=ho.assert;function o(t){"short"===t.type?this.curve=new Eo.short(t):"edwards"===t.type?this.curve=new Eo.edwards(t):this.curve=new Eo.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:eo().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:eo().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:eo().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:eo().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:eo().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:eo().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function So(t){if(!(this instanceof So))return new So(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=lo.toArray(t.entropy,t.entropyEnc||"hex"),r=lo.toArray(t.nonce,t.nonceEnc||"hex"),n=lo.toArray(t.pers,t.persEnc||"hex");ao(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var No=So;So.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},So.prototype._hmac=function(){return new(eo().hmac)(this.hash,this.K)},So.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},So.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=lo.toArray(t,e),r=lo.toArray(r,n),ao(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},So.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=lo.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,lo.encode(o,e)};var To=ho.assert;function Ro(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Co=Ro;Ro.fromPublic=function(t,e,r){return e instanceof Ro?e:new Ro(t,{pub:e,pubEnc:r})},Ro.fromPrivate=function(t,e,r){return e instanceof Ro?e:new Ro(t,{priv:e,privEnc:r})},Ro.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ro.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Ro.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Ro.prototype._importPrivate=function(t,e){this.priv=new(Vn())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Ro.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?To(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||To(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Ro.prototype.derive=function(t){return t.validate()||To(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Ro.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Ro.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Ro.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Io=ho.assert;function Po(t,e){if(t instanceof Po)return t;this._importDER(t,e)||(Io(t.r&&t.s,"Signature without r or s"),this.r=new(Vn())(t.r,16),this.s=new(Vn())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ko=Po;function Oo(){this.place=0}function Uo(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Lo(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Bo(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Po.prototype._importDER=function(t,e){t=ho.toArray(t,e);var r=new Oo;if(48!==t[r.place++])return!1;var n=Uo(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Uo(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Uo(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(Vn())(o),this.s=new(Vn())(a),this.recoveryParam=null,!0},Po.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Lo(e),r=Lo(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Bo(n,e.length),(n=n.concat(e)).push(2),Bo(n,r.length);var i=n.concat(r),o=[48];return Bo(o,i.length),o=o.concat(i),ho.encode(o,t)};var Do=function(){throw new Error("unsupported")},Fo=ho.assert;function Go(t){if(!(this instanceof Go))return new Go(t);"string"===typeof t&&(Fo(Object.prototype.hasOwnProperty.call(xo,t),"Unknown curve "+t),t=xo[t]),t instanceof xo.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var zo=Go;Go.prototype.keyPair=function(t){return new Co(this,t)},Go.prototype.keyFromPrivate=function(t,e){return Co.fromPrivate(this,t,e)},Go.prototype.keyFromPublic=function(t,e){return Co.fromPublic(this,t,e)},Go.prototype.genKeyPair=function(t){t||(t={});for(var e=new No({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Do(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Vn())(2));;){var i=new(Vn())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Go.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Go.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(Vn())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new No({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Vn())(1)),l=0;;l++){var h=n.k?n.k(l):new(Vn())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new ko({r:d,s:p,recoveryParam:m})}}}}}},Go.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(Vn())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new ko(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Go.prototype.recoverPubKey=function(t,e,r,n){Fo((3&r)===r,"The recovery param is more than two bits"),e=new ko(e,n);var i=this.n,o=new(Vn())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=a.mul(h).umod(i);return this.g.mulAdd(c,s,f)},Go.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new ko(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var jo=so((function(t,e){var r=e;r.version="6.5.4",r.utils=ho,r.rand=function(){throw new Error("unsupported")},r.curve=Eo,r.curves=xo,r.ec=zo,r.eddsa=null})).ec;const Ho=new xn("signing-key/5.7.0");let Wo=null;function Vo(){return Wo||(Wo=new jo("secp256k1")),Wo}class qo{constructor(t){ci(this,"curve","secp256k1"),ci(this,"privateKey",Bn(t)),32!==Dn(this.privateKey)&&Ho.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Vo().keyFromPrivate(Pn(this.privateKey));ci(this,"publicKey","0x"+e.getPublic(!1,"hex")),ci(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),ci(this,"_isSigningKey",!0)}_addPoint(t){const e=Vo().keyFromPublic(Pn(this.publicKey)),r=Vo().keyFromPublic(Pn(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Vo().keyFromPrivate(Pn(this.privateKey)),r=Pn(t);32!==r.length&&Ho.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return jn({recoveryParam:n.recoveryParam,r:zn("0x"+n.r.toString(16),32),s:zn("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Vo().keyFromPrivate(Pn(this.privateKey)),r=Vo().keyFromPublic(Pn(Ko(t)));return zn("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Ko(t,e){const r=Pn(t);if(32===r.length){const t=new qo(r);return e?"0x"+Vo().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Bn(r):"0x"+Vo().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Vo().keyFromPublic(r).getPublic(!0,"hex"):Bn(r):Ho.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Jo=new xn("rlp/5.7.0");function Xo(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Yo(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Yo(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Xo(e.length);return r.unshift(247+r.length),r.concat(e)}Rn(t)||Jo.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Pn(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Xo(e.length);return r.unshift(183+r.length),r.concat(e)}function Qo(t){return Bn(Yo(t))}const Zo=new xn("transactions/5.7.0");var $o;!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}($o||($o={}));const ts=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],es={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function rs(t){return ui(Fn(ri(Fn(Ko(t),1)),12))}function ns(t,e){return rs(function(t,e){const r=jn(e),n={r:Pn(r.r),s:Pn(r.s)};return"0x"+Vo().recoverPubKey(Pn(t),n,r.recoveryParam).encode("hex",!1)}(Pn(t),e))}function is(t,e){const r=On(Qn.from(t).toHexString());return r.length>32&&Zo.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function os(t,e){return{address:ui(t),storageKeys:(e||[]).map(((e,r)=>(32!==Dn(e)&&Zo.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase())))}}function ss(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Zo.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),os(t[0],t[1])):os(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return os(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function as(t){return ss(t).map((t=>[t.address,t.storageKeys]))}function us(t,e){if(null!=t.gasPrice){const e=Qn.from(t.gasPrice),r=Qn.from(t.maxFeePerGas||0);e.eq(r)||Zo.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[is(t.chainId||0,"chainId"),is(t.nonce||0,"nonce"),is(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),is(t.maxFeePerGas||0,"maxFeePerGas"),is(t.gasLimit||0,"gasLimit"),null!=t.to?ui(t.to):"0x",is(t.value||0,"value"),t.data||"0x",as(t.accessList||[])];if(e){const t=jn(e);r.push(is(t.recoveryParam,"recoveryParam")),r.push(On(t.r)),r.push(On(t.s))}return Gn(["0x02",Qo(r)])}function ls(t,e){const r=[is(t.chainId||0,"chainId"),is(t.nonce||0,"nonce"),is(t.gasPrice||0,"gasPrice"),is(t.gasLimit||0,"gasLimit"),null!=t.to?ui(t.to):"0x",is(t.value||0,"value"),t.data||"0x",as(t.accessList||[])];if(e){const t=jn(e);r.push(is(t.recoveryParam,"recoveryParam")),r.push(On(t.r)),r.push(On(t.s))}return Gn(["0x01",Qo(r)])}function hs(t,e){var r,n;n=es,(r=t)&&"object"===typeof r||hi.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((t=>{n[t]||hi.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)}));const i=[];ts.forEach((function(e){let r=t[e.name]||[];const n={};e.numeric&&(n.hexPad="left"),r=Pn(Bn(r,n)),e.length&&r.length!==e.length&&r.length>0&&Zo.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r),e.maxLength&&(r=On(r),r.length>e.maxLength&&Zo.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r)),i.push(Bn(r))}));let o=0;if(null!=t.chainId?(o=t.chainId,"number"!==typeof o&&Zo.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Rn(e)&&e.v>28&&(o=Math.floor((e.v-35)/2)),0!==o&&(i.push(Bn(o)),i.push("0x"),i.push("0x")),!e)return Qo(i);const s=jn(e);let a=27+s.recoveryParam;return 0!==o?(i.pop(),i.pop(),i.pop(),a+=2*o+8,s.v>28&&s.v!==a&&Zo.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==a&&Zo.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),i.push(Bn(a)),i.push(On(Pn(s.r))),i.push(On(Pn(s.s))),Qo(i)}function cs(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&Zo.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),hs(t,e);switch(t.type){case 1:return ls(t,e);case 2:return us(t,e)}return Zo.throwError("unsupported transaction type: ".concat(t.type),xn.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}const fs=new xn("wordlists/5.7.0");class ds{constructor(t){fs.checkAbstract(new.target,ds),ci(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return Oi(e.join("\n")+"\n")}static register(t,e){e||(e=t.locale)}}let ps=null;function ms(t){if(null==ps&&(ps="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==ds.check(t)))throw ps=null,new Error("BIP39 Wordlist for en (English) FAILED")}const gs=new class extends ds{constructor(){super("en")}getWord(t){return ms(this),ps[t]}getWordIndex(t){return ms(this),ps.indexOf(t)}};ds.register(gs);const vs={en:gs},ys=new xn("hdnode/5.7.0"),ws=Qn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bs=Ii("Bitcoin seed"),As=2147483648;function Ms(t){return(1<<t)-1<<8-t}function _s(t){return zn(Bn(t),32)}function Es(t){return Zi.encode(kn([t,Fn(no(no(t)),0,4)]))}function xs(t){if(null==t)return vs.en;if("string"===typeof t){const e=vs[t];return null==e&&ys.throwArgumentError("unknown locale","wordlist",t),e}return t}const Ss={},Ns="m/44'/60'/0'/0/0";class Ts{constructor(t,e,r,n,i,o,s,a){if(t!==Ss)throw new Error("HDNode constructor cannot be called directly");if(e){const t=new qo(e);ci(this,"privateKey",t.privateKey),ci(this,"publicKey",t.compressedPublicKey)}else ci(this,"privateKey",null),ci(this,"publicKey",Bn(r));var u;ci(this,"parentFingerprint",n),ci(this,"fingerprint",Fn((u=no(this.publicKey),"0x"+eo().ripemd160().update(Pn(u)).digest("hex")),0,4)),ci(this,"address",rs(this.publicKey)),ci(this,"chainCode",i),ci(this,"index",o),ci(this,"depth",s),null==a?(ci(this,"mnemonic",null),ci(this,"path",null)):"string"===typeof a?(ci(this,"mnemonic",null),ci(this,"path",a)):(ci(this,"mnemonic",a),ci(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Es(kn([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Bn(this.depth),this.parentFingerprint,zn(Bn(this.index),4),this.chainCode,null!=this.privateKey?kn(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Ts(Ss,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let e=this.path;e&&(e+="/"+(2147483647&t));const r=new Uint8Array(37);if(t&As){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Pn(this.privateKey),1),e&&(e+="'")}else r.set(Pn(this.publicKey));for(let h=24;h>=0;h-=8)r[33+(h>>3)]=t>>24-h&255;const n=Pn(io($i.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;if(this.privateKey)s=_s(Qn.from(i).add(this.privateKey).mod(ws));else{a=new qo(Bn(i))._addPoint(this.publicKey)}let u=e;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:e,locale:l.locale||"en"})),new Ts(Ss,s,a,this.fingerprint,_s(o),t,this.depth+1,u)}derivePath(t){const e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();let r=this;for(let n=0;n<e.length;n++){const t=e[n];if(t.match(/^[0-9]+'$/)){const e=parseInt(t.substring(0,t.length-1));if(e>=As)throw new Error("invalid path index - "+t);r=r._derive(As+e)}else{if(!t.match(/^[0-9]+$/))throw new Error("invalid path component - "+t);{const e=parseInt(t);if(e>=As)throw new Error("invalid path index - "+t);r=r._derive(e)}}}return r}static _fromSeed(t,e){const r=Pn(t);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=Pn(io($i.sha512,bs,r));return new Ts(Ss,_s(n.slice(0,32)),null,"0x00000000",_s(n.slice(32)),0,0,e)}static fromMnemonic(t,e,r){return t=Cs(Rs(t,r=xs(r)),r),Ts._fromSeed(function(t,e){e||(e="");const r=Ii("mnemonic"+e,Ti.NFKD);return oo(Ii(t,Ti.NFKD),r,2048,64,"sha512")}(t,e),{phrase:t,path:"m",locale:r.locale})}static fromSeed(t){return Ts._fromSeed(t,null)}static fromExtendedKey(t){const e=Zi.decode(t);82===e.length&&Es(e.slice(0,78))===t||ys.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=e[4],n=Bn(e.slice(5,9)),i=parseInt(Bn(e.slice(9,13)).substring(2),16),o=Bn(e.slice(13,45)),s=e.slice(45,78);switch(Bn(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Ts(Ss,null,Bn(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Ts(Ss,Bn(s.slice(1)),null,n,o,i,r,null)}return ys.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Rs(t,e){e=xs(e),ys.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Pn(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let a=0;a<r.length;a++){let t=e.getWordIndex(r[a].normalize("NFKD"));if(-1===t)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)t&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=Ms(r.length/3);if((Pn(no(n.slice(0,o/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return Bn(n.slice(0,o/8))}function Cs(t,e){if(e=xs(e),(t=Pn(t)).length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&(1<<8-n)-1),n+=3);const i=t.length/4,o=Pn(no(t))[0]&Ms(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map((t=>e.getWord(t))))}const Is=new xn("random/5.7.0");const Ps=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();let ks=Ps.crypto||Ps.msCrypto;function Os(t){(t<=0||t>1024||t%1||t!=t)&&Is.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return ks.getRandomValues(e),Pn(e)}ks&&ks.getRandomValues||(Is.warn("WARNING: Missing strong random number source"),ks={getRandomValues:function(t){return Is.throwError("no secure random source avaialble",xn.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Us=r(37532),Ls=r.n(Us),Bs=r(46125),Ds=r.n(Bs);function Fs(t){return"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Pn(t)}function Gs(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function zs(t){return"string"===typeof t?Ii(t,Ti.NFKC):Pn(t)}function js(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let t=null;for(const e in r)if(e.toLowerCase()===n[i]){t=r[e];break}if(null===t)return null;r=t}return r}function Hs(t){const e=Pn(t);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const r=Bn(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Ws="json-wallets/5.7.0";var Vs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const qs=new xn(Ws);function Ks(t){return null!=t&&t.mnemonic&&t.mnemonic.phrase}class Js extends yi{isKeystoreAccount(t){return!(!t||!t._isKeystoreAccount)}}function Xs(t,e){const r=Fs(js(t,"crypto/ciphertext"));if(Bn(ri(kn([e.slice(16,32),r]))).substring(2)!==js(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(t,e,r){if("aes-128-ctr"===js(t,"crypto/cipher")){const n=Fs(js(t,"crypto/cipherparams/iv")),i=new(Ls().Counter)(n);return Pn(new(Ls().ModeOfOperation.ctr)(e,i).decrypt(r))}return null}(t,e.slice(0,16),r);n||qs.throwError("unsupported cipher",xn.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),o=rs(n);if(t.address){let e=t.address.toLowerCase();if("0x"!==e.substring(0,2)&&(e="0x"+e),ui(e)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:Bn(n)};if("0.1"===js(t,"x-ethers/version")){const e=Fs(js(t,"x-ethers/mnemonicCiphertext")),r=Fs(js(t,"x-ethers/mnemonicCounter")),n=new(Ls().Counter)(r),o=new(Ls().ModeOfOperation.ctr)(i,n),u=js(t,"x-ethers/path")||Ns,l=js(t,"x-ethers/locale")||"en",h=Pn(o.decrypt(e));try{const t=Cs(h,l),e=Ts.fromMnemonic(t,null,l).derivePath(u);if(e.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=e.mnemonic}catch(a){if(a.code!==xn.errors.INVALID_ARGUMENT||"wordlist"!==a.argument)throw a}}return new Js(s)}function Ys(t,e,r,n,i){return Pn(oo(t,e,r,n,i))}function Qs(t,e,r,n,i){return Promise.resolve(Ys(t,e,r,n,i))}function Zs(t,e,r,n,i){const o=zs(e),s=js(t,"crypto/kdf");if(s&&"string"===typeof s){const e=function(t,e){return qs.throwArgumentError("invalid key-derivation function parameters",t,e)};if("scrypt"===s.toLowerCase()){const r=Fs(js(t,"crypto/kdfparams/salt")),a=parseInt(js(t,"crypto/kdfparams/n")),u=parseInt(js(t,"crypto/kdfparams/r")),l=parseInt(js(t,"crypto/kdfparams/p"));a&&u&&l||e("kdf",s),0!==(a&a-1)&&e("N",a);const h=parseInt(js(t,"crypto/kdfparams/dklen"));return 32!==h&&e("dklen",h),n(o,r,a,u,l,64,i)}if("pbkdf2"===s.toLowerCase()){const n=Fs(js(t,"crypto/kdfparams/salt"));let i=null;const s=js(t,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":e("prf",s);const a=parseInt(js(t,"crypto/kdfparams/c")),u=parseInt(js(t,"crypto/kdfparams/dklen"));return 32!==u&&e("dklen",u),r(o,n,a,u,i)}}return qs.throwArgumentError("unsupported key-derivation function","kdf",s)}const $s=new xn(Ws);class ta extends yi{isCrowdsaleAccount(t){return!(!t||!t._isCrowdsaleAccount)}}function ea(t,e){const r=JSON.parse(t);e=zs(e);const n=ui(js(r,"ethaddr")),i=Fs(js(r,"encseed"));i&&i.length%16===0||$s.throwArgumentError("invalid encseed","json",t);const o=Pn(oo(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),u=new(Ls().ModeOfOperation.cbc)(o,s),l=Ls().padding.pkcs7.strip(Pn(u.decrypt(a)));let h="";for(let f=0;f<l.length;f++)h+=String.fromCharCode(l[f]);const c=ri(Ii(h));return new ta({_isCrowdsaleAccount:!0,address:n,privateKey:c})}function ra(t){let e=null;try{e=JSON.parse(t)}catch(r){return!1}return e.encseed&&e.ethaddr}function na(t){let e=null;try{e=JSON.parse(t)}catch(r){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}function ia(t,e,r){if(ra(t)){r&&r(0);const n=ea(t,e);return r&&r(1),Promise.resolve(n)}return na(t)?function(t,e,r){return Vs(this,void 0,void 0,(function*(){const n=JSON.parse(t);return Xs(n,yield Zs(n,e,Qs,Ds().scrypt,r))}))}(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function oa(t,e){if(ra(t))return ea(t,e);if(na(t))return function(t,e){const r=JSON.parse(t);return Xs(r,Zs(r,e,Ys,Ds().syncScrypt))}(t,e);throw new Error("invalid JSON wallet")}var sa=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const aa=new xn("wallet/5.6.0");class ua extends Si{constructor(t,e){if(aa.checkNew(new.target,ua),super(),null!=(r=t)&&Un(r.privateKey,32)&&null!=r.address){const e=new qo(t.privateKey);if(ci(this,"_signingKey",(()=>e)),ci(this,"address",rs(this.publicKey)),this.address!==ui(t.address)&&aa.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(t){const e=t.mnemonic;return e&&e.phrase}(t)){const e=t.mnemonic;ci(this,"_mnemonic",(()=>({phrase:e.phrase,path:e.path||Ns,locale:e.locale||"en"})));const r=this.mnemonic;rs(Ts.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&aa.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ci(this,"_mnemonic",(()=>null))}else{if(qo.isSigningKey(t))"secp256k1"!==t.curve&&aa.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ci(this,"_signingKey",(()=>t));else{"string"===typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);const e=new qo(t);ci(this,"_signingKey",(()=>e))}ci(this,"_mnemonic",(()=>null)),ci(this,"address",rs(this.publicKey))}var r;e&&!Ai.isProvider(e)&&aa.throwArgumentError("invalid provider","provider",e),ci(this,"provider",e||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(t){return new ua(this,t)}signTransaction(t){return fi(t).then((e=>{null!=e.from&&(ui(e.from)!==this.address&&aa.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete e.from);const r=this._signingKey().signDigest(ri(cs(e)));return cs(e,r)}))}signMessage(t){return sa(this,void 0,void 0,(function*(){return Hn(this._signingKey().signDigest(ki(t)))}))}_signTypedData(t,e,r){return sa(this,void 0,void 0,(function*(){const n=yield Yi.resolveNames(t,e,r,(t=>(null==this.provider&&aa.throwError("cannot resolve ENS names without a provider",xn.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:t}),this.provider.resolveName(t))));return Hn(this._signingKey().signDigest(Yi.hash(n.domain,e,n.value)))}))}encrypt(t,e,r){if("function"!==typeof e||r||(r=e,e={}),r&&"function"!==typeof r)throw new Error("invalid callback");return e||(e={}),function(t,e,r,n){try{if(ui(t.address)!==rs(t.privateKey))throw new Error("address/privateKey mismatch");if(Ks(t)){const e=t.mnemonic;if(Ts.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||Ns).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(g){return Promise.reject(g)}"function"!==typeof r||n||(n=r,r={}),r||(r={});const i=Pn(t.privateKey),o=zs(e);let s=null,a=null,u=null;if(Ks(t)){const e=t.mnemonic;s=Pn(Rs(e.phrase,e.locale||"en")),a=e.path||Ns,u=e.locale||"en"}let l=r.client;l||(l="ethers.js");let h=null;h=r.salt?Pn(r.salt):Os(32);let c=null;if(r.iv){if(c=Pn(r.iv),16!==c.length)throw new Error("invalid iv")}else c=Os(16);let f=null;if(r.uuid){if(f=Pn(r.uuid),16!==f.length)throw new Error("invalid uuid")}else f=Os(16);let d=1<<17,p=8,m=1;return r.scrypt&&(r.scrypt.N&&(d=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Ds().scrypt(o,h,d,p,m,64,n).then((e=>{const r=(e=Pn(e)).slice(0,16),n=e.slice(16,32),o=e.slice(32,64),g=new(Ls().Counter)(c),v=Pn(new(Ls().ModeOfOperation.ctr)(r,g).encrypt(i)),y=ri(kn([n,v])),w={address:t.address.substring(2).toLowerCase(),id:Hs(f),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Bn(c).substring(2)},ciphertext:Bn(v).substring(2),kdf:"scrypt",kdfparams:{salt:Bn(h).substring(2),n:d,dklen:32,p:m,r:p},mac:y.substring(2)}};if(s){const t=Os(16),e=new(Ls().Counter)(t),r=Pn(new(Ls().ModeOfOperation.ctr)(o,e).encrypt(s)),n=new Date,i=n.getUTCFullYear()+"-"+Gs(n.getUTCMonth()+1,2)+"-"+Gs(n.getUTCDate(),2)+"T"+Gs(n.getUTCHours(),2)+"-"+Gs(n.getUTCMinutes(),2)+"-"+Gs(n.getUTCSeconds(),2)+".0Z";w["x-ethers"]={client:l,gethFilename:"UTC--"+i+"--"+w.address,mnemonicCounter:Bn(t).substring(2),mnemonicCiphertext:Bn(r).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(w)}))}(this,t,e,r)}static createRandom(t){let e=Os(16);t||(t={}),t.extraEntropy&&(e=Pn(Fn(ri(kn([e,t.extraEntropy])),0,16)));const r=Cs(e,t.locale);return ua.fromMnemonic(r,t.path,t.locale)}static fromEncryptedJson(t,e,r){return ia(t,e,r).then((t=>new ua(t)))}static fromEncryptedJsonSync(t,e){return new ua(oa(t,e))}static fromMnemonic(t,e,r){return e||(e=Ns),new ua(Ts.fromMnemonic(t,null,r).derivePath(e))}}function la(t,e){return ns(ki(t),e)}function ha(t,e,r,n){return ns(Yi.hash(t,e,r),n)}const ca="0x0000000000000000000000000000000000000000";var fa=r(97845),da=r.n(fa);let pa=!1,ma=!1;const ga={debug:1,default:2,info:2,warning:3,error:4,off:5};let va=ga.default,ya=null;const wa=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var ba,Aa;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(ba||(ba={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Aa||(Aa={}));const Ma="0123456789abcdef";class _a{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==ga[r]&&this.throwArgumentError("invalid log level name","logLevel",t),va>ga[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_a.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_a.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_a.levels.WARNING,e)}makeError(t,e,r){if(ma)return this.makeError("censored error",e,{});e||(e=_a.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Ma[e[t]>>4],r+=Ma[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case Aa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Aa.CALL_EXCEPTION:case Aa.INSUFFICIENT_FUNDS:case Aa.MISSING_NEW:case Aa.NONCE_EXPIRED:case Aa.REPLACEMENT_UNDERPRICED:case Aa.TRANSACTION_REPLACED:case Aa.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,_a.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),wa&&this.throwError("platform missing String.prototype.normalize",_a.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wa})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,_a.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,_a.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,_a.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,_a.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",_a.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",_a.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",_a.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ya||(ya=new _a("logger/5.7.0")),ya}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",_a.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),pa){if(!t)return;this.globalLogger().throwError("error censorship permanent",_a.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ma=!!t,pa=!!e}static setLogLevel(t){const e=ga[t.toLowerCase()];null!=e?va=e:_a.globalLogger().warn("invalid log level - "+t)}static from(t){return new _a(t)}}_a.errors=Aa,_a.levels=ba;const Ea=new _a("bytes/5.7.0");function xa(t){return!!t.toHexString}function Sa(t){return"number"===typeof t&&t==t&&t%1===0}function Na(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Sa(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Sa(r)||r<0||r>=256)return!1}return!0}function Ta(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Ra="0123456789abcdef";function Ca(t,e){if(e||(e={}),"number"===typeof t){Ea.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Ra[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),xa(t))return t.toHexString();if(Ta(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Ea.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Na(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Ra[(240&n)>>4]+Ra[15&n]}return e}return Ea.throwArgumentError("invalid hexlify value","value",t)}var Ia=da().BN;const Pa=new _a("bignumber/5.7.0"),ka={},Oa=9007199254740991;let Ua=!1;class La{constructor(t,e){t!==ka&&Pa.throwError("cannot call constructor directly; use BigNumber.from",_a.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Da(Fa(this).fromTwos(t))}toTwos(t){return Da(Fa(this).toTwos(t))}abs(){return"-"===this._hex[0]?La.from(this._hex.substring(1)):this}add(t){return Da(Fa(this).add(Fa(t)))}sub(t){return Da(Fa(this).sub(Fa(t)))}div(t){return La.from(t).isZero()&&Ga("division-by-zero","div"),Da(Fa(this).div(Fa(t)))}mul(t){return Da(Fa(this).mul(Fa(t)))}mod(t){const e=Fa(t);return e.isNeg()&&Ga("division-by-zero","mod"),Da(Fa(this).umod(e))}pow(t){const e=Fa(t);return e.isNeg()&&Ga("negative-power","pow"),Da(Fa(this).pow(e))}and(t){const e=Fa(t);return(this.isNegative()||e.isNeg())&&Ga("unbound-bitwise-result","and"),Da(Fa(this).and(e))}or(t){const e=Fa(t);return(this.isNegative()||e.isNeg())&&Ga("unbound-bitwise-result","or"),Da(Fa(this).or(e))}xor(t){const e=Fa(t);return(this.isNegative()||e.isNeg())&&Ga("unbound-bitwise-result","xor"),Da(Fa(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Ga("negative-width","mask"),Da(Fa(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ga("negative-width","shl"),Da(Fa(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ga("negative-width","shr"),Da(Fa(this).shrn(t))}eq(t){return Fa(this).eq(Fa(t))}lt(t){return Fa(this).lt(Fa(t))}lte(t){return Fa(this).lte(Fa(t))}gt(t){return Fa(this).gt(Fa(t))}gte(t){return Fa(this).gte(Fa(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Fa(this).isZero()}toNumber(){try{return Fa(this).toNumber()}catch(t){Ga("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Pa.throwError("this platform does not support BigInt",_a.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Ua||(Ua=!0,Pa.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Pa.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",_a.errors.UNEXPECTED_ARGUMENT,{}):Pa.throwError("BigNumber.toString does not accept parameters",_a.errors.UNEXPECTED_ARGUMENT,{})),Fa(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof La)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new La(ka,Ba(t)):t.match(/^-?[0-9]+$/)?new La(ka,Ba(new Ia(t))):Pa.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Ga("underflow","BigNumber.from",t),(t>=Oa||t<=-9007199254740991)&&Ga("overflow","BigNumber.from",t),La.from(String(t));const e=t;if("bigint"===typeof e)return La.from(e.toString());if(Na(e))return La.from(Ca(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return La.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Ta(t)||"-"===t[0]&&Ta(t.substring(1))))return La.from(t)}return Pa.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Ba(t){if("string"!==typeof t)return Ba(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Pa.throwArgumentError("invalid hex","value",t),"0x00"===(t=Ba(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Da(t){return La.from(Ba(t))}function Fa(t){const e=La.from(t).toHexString();return"-"===e[0]?new Ia("-"+e.substring(3),16):new Ia(e.substring(2),16)}function Ga(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Pa.throwError(t,_a.errors.NUMERIC_FAULT,n)}const za=La.from(-1),ja=La.from(0),Ha=La.from(1),Wa=La.from(2),Va=La.from("1000000000000000000"),qa=La.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ka=La.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Ja=La.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Xa="0x0000000000000000000000000000000000000000000000000000000000000000",Ya="\u039e";var Qa=r(13283),Za=r.n(Qa);let $a=!1,tu=!1;const eu={debug:1,default:2,info:2,warning:3,error:4,off:5};let ru=eu.default,nu=null;const iu=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var ou,su;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(ou||(ou={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(su||(su={}));const au="0123456789abcdef";class uu{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==eu[r]&&this.throwArgumentError("invalid log level name","logLevel",t),ru>eu[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(uu.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(uu.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(uu.levels.WARNING,e)}makeError(t,e,r){if(tu)return this.makeError("censored error",e,{});e||(e=uu.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=au[e[t]>>4],r+=au[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case su.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case su.CALL_EXCEPTION:case su.INSUFFICIENT_FUNDS:case su.MISSING_NEW:case su.NONCE_EXPIRED:case su.REPLACEMENT_UNDERPRICED:case su.TRANSACTION_REPLACED:case su.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,uu.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),iu&&this.throwError("platform missing String.prototype.normalize",uu.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:iu})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,uu.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,uu.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,uu.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,uu.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",uu.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",uu.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",uu.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return nu||(nu=new uu("logger/5.7.0")),nu}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",uu.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$a){if(!t)return;this.globalLogger().throwError("error censorship permanent",uu.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}tu=!!t,$a=!!e}static setLogLevel(t){const e=eu[t.toLowerCase()];null!=e?ru=e:uu.globalLogger().warn("invalid log level - "+t)}static from(t){return new uu(t)}}uu.errors=su,uu.levels=ou;const lu=new uu("bytes/5.7.0");function hu(t){return!!t.toHexString}function cu(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return cu(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function fu(t){return yu(t)&&!(t.length%2)||pu(t)}function du(t){return"number"===typeof t&&t==t&&t%1===0}function pu(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!du(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!du(r)||r<0||r>=256)return!1}return!0}function mu(t,e){if(e||(e={}),"number"===typeof t){lu.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),cu(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),hu(t)&&(t=t.toHexString()),yu(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":lu.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return cu(new Uint8Array(n))}return pu(t)?cu(new Uint8Array(t)):lu.throwArgumentError("invalid arrayify value","value",t)}function gu(t){const e=t.map((t=>mu(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),cu(n)}function vu(t){let e=mu(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function yu(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const wu="0123456789abcdef";function bu(t,e){if(e||(e={}),"number"===typeof t){lu.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=wu[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),hu(t))return t.toHexString();if(yu(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":lu.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(pu(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=wu[(240&n)>>4]+wu[15&n]}return e}return lu.throwArgumentError("invalid hexlify value","value",t)}function Au(t){if("string"!==typeof t)t=bu(t);else if(!yu(t)||t.length%2)return null;return(t.length-2)/2}function Mu(t,e,r){return"string"!==typeof t?t=bu(t):(!yu(t)||t.length%2)&&lu.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function _u(t){let e="0x";return t.forEach((t=>{e+=bu(t).substring(2)})),e}function Eu(t){const e=function(t){"string"!==typeof t&&(t=bu(t));yu(t)||lu.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(bu(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function xu(t,e){for("string"!==typeof t?t=bu(t):yu(t)||lu.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&lu.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Su(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(fu(t)){let r=mu(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=bu(r.slice(0,32)),e.s=bu(r.slice(32,64))):65===r.length?(e.r=bu(r.slice(0,32)),e.s=bu(r.slice(32,64)),e.v=r[64]):lu.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:lu.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=bu(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=mu(t)).length>e&&lu.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),cu(r)}(mu(e._vs),32);e._vs=bu(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&lu.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=bu(r);null==e.s?e.s=i:e.s!==i&&lu.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?lu.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&lu.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&yu(e.r)?e.r=xu(e.r,32):lu.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&yu(e.s)?e.s=xu(e.s,32):lu.throwArgumentError("signature missing or invalid s","signature",t);const r=mu(e.s);r[0]>=128&&lu.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=bu(r);e._vs&&(yu(e._vs)||lu.throwArgumentError("signature invalid _vs","signature",t),e._vs=xu(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&lu.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var Nu=Za().BN;const Tu=new uu("bignumber/5.7.0"),Ru={},Cu=9007199254740991;let Iu=!1;class Pu{constructor(t,e){t!==Ru&&Tu.throwError("cannot call constructor directly; use BigNumber.from",uu.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ou(Uu(this).fromTwos(t))}toTwos(t){return Ou(Uu(this).toTwos(t))}abs(){return"-"===this._hex[0]?Pu.from(this._hex.substring(1)):this}add(t){return Ou(Uu(this).add(Uu(t)))}sub(t){return Ou(Uu(this).sub(Uu(t)))}div(t){return Pu.from(t).isZero()&&Lu("division-by-zero","div"),Ou(Uu(this).div(Uu(t)))}mul(t){return Ou(Uu(this).mul(Uu(t)))}mod(t){const e=Uu(t);return e.isNeg()&&Lu("division-by-zero","mod"),Ou(Uu(this).umod(e))}pow(t){const e=Uu(t);return e.isNeg()&&Lu("negative-power","pow"),Ou(Uu(this).pow(e))}and(t){const e=Uu(t);return(this.isNegative()||e.isNeg())&&Lu("unbound-bitwise-result","and"),Ou(Uu(this).and(e))}or(t){const e=Uu(t);return(this.isNegative()||e.isNeg())&&Lu("unbound-bitwise-result","or"),Ou(Uu(this).or(e))}xor(t){const e=Uu(t);return(this.isNegative()||e.isNeg())&&Lu("unbound-bitwise-result","xor"),Ou(Uu(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Lu("negative-width","mask"),Ou(Uu(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Lu("negative-width","shl"),Ou(Uu(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Lu("negative-width","shr"),Ou(Uu(this).shrn(t))}eq(t){return Uu(this).eq(Uu(t))}lt(t){return Uu(this).lt(Uu(t))}lte(t){return Uu(this).lte(Uu(t))}gt(t){return Uu(this).gt(Uu(t))}gte(t){return Uu(this).gte(Uu(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Uu(this).isZero()}toNumber(){try{return Uu(this).toNumber()}catch(t){Lu("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Tu.throwError("this platform does not support BigInt",uu.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Iu||(Iu=!0,Tu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Tu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",uu.errors.UNEXPECTED_ARGUMENT,{}):Tu.throwError("BigNumber.toString does not accept parameters",uu.errors.UNEXPECTED_ARGUMENT,{})),Uu(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Pu)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Pu(Ru,ku(t)):t.match(/^-?[0-9]+$/)?new Pu(Ru,ku(new Nu(t))):Tu.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Lu("underflow","BigNumber.from",t),(t>=Cu||t<=-9007199254740991)&&Lu("overflow","BigNumber.from",t),Pu.from(String(t));const e=t;if("bigint"===typeof e)return Pu.from(e.toString());if(pu(e))return Pu.from(bu(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return Pu.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(yu(t)||"-"===t[0]&&yu(t.substring(1))))return Pu.from(t)}return Tu.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function ku(t){if("string"!==typeof t)return ku(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Tu.throwArgumentError("invalid hex","value",t),"0x00"===(t=ku(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Ou(t){return Pu.from(ku(t))}function Uu(t){const e=Pu.from(t).toHexString();return"-"===e[0]?new Nu("-"+e.substring(3),16):new Nu(e.substring(2),16)}function Lu(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Tu.throwError(t,uu.errors.NUMERIC_FAULT,n)}var Bu=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Du=new uu("properties/5.7.0");function Fu(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Gu(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!==typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function zu(t){return Bu(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function ju(t){const e={};for(const r in t)e[r]=t[r];return e}const Hu={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Wu(t){if(void 0===t||null===t||Hu[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!Wu(i))return!1}return!0}return Du.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Vu(t){if(Wu(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>qu(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Fu(e,r,qu(n))}return e}return Du.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function qu(t){return Vu(t)}class Ku{constructor(t){for(const e in t)this[e]=qu(t[e])}}var Ju=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Xu=new uu("abstract-provider/5.7.0");class Yu extends Ku{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class Qu{constructor(){Xu.checkAbstract(new.target,Qu),Fu(this,"_isProvider",!0)}getFeeData(){return Ju(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield zu({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null,i=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,i=Pu.from("1500000000"),n=t.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}const Zu=new uu("networks/5.7.1");function $u(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(i){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(i){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(i){}if(e.PocketProvider&&"-"!==r.pocket){const o=["goerli","ropsten","rinkeby","sepolia"];try{const i=new e.PocketProvider(t,r.pocket);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(i){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(i){}if(e.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],o=new e.AnkrProvider(t,r.ankr);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(i){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return $u(t)},e}function tl(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return tl(t,e)},r}const el={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:$u("homestead")},rl={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:$u("ropsten")},nl={chainId:63,name:"classicMordor",_defaultProvider:tl("https://www.ethercluster.com/mordor","classicMordor")},il={unspecified:{chainId:0,name:"unspecified"},homestead:el,mainnet:el,morden:{chainId:2,name:"morden"},ropsten:rl,testnet:rl,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:$u("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:$u("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:$u("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:$u("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:tl("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:nl,classicTestnet:nl,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:tl("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:$u("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:$u("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function ol(t){if(null==t)return null;if("number"===typeof t){for(const e in il){const r=il[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"===typeof t){const e=il[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=il[t.name];if(!e)return"number"!==typeof t.chainId&&Zu.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&Zu.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"===typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}class sl{constructor(t){Fu(this,"alphabet",t),Fu(this,"base",t.length),Fu(this,"_alphabetMap",{}),Fu(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=mu(t);if(0===e.length)return"";let r=[0];for(let i=0;i<e.length;++i){let t=e[i];for(let e=0;e<r.length;++e)t+=r[e]<<8,r[e]=t%this.base,t=t/this.base|0;for(;t>0;)r.push(t%this.base),t=t/this.base|0}let n="";for(let i=0;0===e[i]&&i<e.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(t){if("string"!==typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return mu(new Uint8Array(e.reverse()))}}new sl("abcdefghijklmnopqrstuvwxyz234567");const al=new sl("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ul=new uu("strings/5.7.0");var ll,hl;function cl(t,e,r,n,i){if(t===hl.BAD_PREFIX||t===hl.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===hl.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(ll||(ll={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(hl||(hl={}));const fl=Object.freeze({error:function(t,e,r,n,i){return ul.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:cl,replace:function(t,e,r,n,i){return t===hl.OVERLONG?(n.push(i),0):(n.push(65533),cl(t,e,r))}});function dl(t,e){null==e&&(e=fl.error),t=mu(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?hl.UNEXPECTED_CONTINUE:hl.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(hl.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e(hl.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(hl.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(hl.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(hl.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function pl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ll.current;e!=ll.current&&(ul.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return mu(r)}function ml(t,e){return dl(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function gl(t){return"0x"+st().keccak_256(mu(t))}const vl="hash/5.7.0";function yl(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return mu(e)}function wl(t){t=mu(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function bl(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function Al(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let b=1;b<n;b++)o.push(i+=r());let s=r(),a=e;e+=s;let u=0,l=0;function h(){return 0==u&&(l=l<<8|t[e++],u=8),l>>--u&1}const c=Math.pow(2,31),f=c>>>1,d=f>>1,p=c-1;let m=0;for(let b=0;b<31;b++)m=m<<1|h();let g=[],v=0,y=c;for(;;){let t=Math.floor(((m-v+1)*i-1)/y),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<o[n]?r=n:e=n}if(0==e)break;g.push(e);let s=v+Math.floor(y*o[e]/i),a=v+Math.floor(y*o[e+1]/i)-1;for(;0==((s^a)&f);)m=m<<1&p|h(),s=s<<1&p,a=a<<1&p|1;for(;s&~a&d;)m=m&f|m<<1&p>>>1|h(),s=s<<1^f,a=(a^f)<<1|f|1;v=s,y=1+a-s}let w=n-4;return g.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}function Ml(t){return 1&t?~t>>1:t>>1}function _l(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function El(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Ml(e());return r}function xl(t,e){let r=_l(t(),t),n=t(),i=_l(n,t),o=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let s=0;s<n;s++)for(let t=0;t<o[s];t++)r.push(i[s]+t);return e?r.map((t=>e[t])):r}function Sl(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)El(t,r).forEach(((t,e)=>n[e].push(t)));return n}function Nl(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return bl(Sl(i.length,1+t,e).map(((t,e)=>{const o=t[0],s=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[o+e*r,s.map((t=>t+i))]}))})))}function Tl(t,e){return Sl(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Rl=Al(yl("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),Cl=new Set(xl(Rl)),Il=new Set(xl(Rl)),Pl=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Nl(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Tl(r,t))}return function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}(bl(e))}(Rl),kl=function(t){let e=xl(t).sort(((t,e)=>t-e));return function r(){let n=[];for(;;){let i=xl(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),o=i%3;i=i/3|0;let s=!!(1&i);return i>>=1,{branches:n,valid:o,fe0f:s,save:1==i,check:2==i}}()}(Rl),Ol=45,Ul=95;function Ll(t){return function(t){return dl(pl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ll.current))}(t)}function Bl(t){return t.filter((t=>65039!=t))}function Dl(t){for(let r of t.split(".")){let t=Ll(r);try{for(let e=t.lastIndexOf(Ul)-1;e>=0;e--)if(t[e]!==Ul)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every((t=>t<128))&&t[2]===Ol&&t[3]===Ol)throw new Error("invalid label extension")}catch(e){throw new Error('Invalid label "'.concat(r,'": ').concat(e.message))}}return t}function Fl(t){return Dl(function(t,e){let r=Ll(t).reverse(),n=[];for(;r.length;){let t=Gl(r);if(t){n.push(...e(t));continue}let i=r.pop();if(Cl.has(i)){n.push(i);continue}if(Il.has(i))continue;let o=Pl[i];if(!o)throw new Error("Disallowed codepoint: 0x".concat(i.toString(16).toUpperCase()));n.push(...o)}return Dl((i=String.fromCodePoint(...n),i.normalize("NFC")));var i}(t,Bl))}function Gl(t,e){var r;let n,i,o=kl,s=[],a=t.length;for(e&&(e.length=0);a;){let u=t[--a];if(o=null===(r=o.branches.find((t=>t.set.has(u))))||void 0===r?void 0:r.node,!o)break;if(o.save)i=u;else if(o.check&&u===i)break;s.push(u),o.fe0f&&(s.push(65039),a>0&&65039==t[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return n}const zl=new uu(vl),jl=new Uint8Array(32);function Hl(t){if(0===t.length)throw new Error("invalid ENS name; empty component");return t}function Wl(t){const e=pl(Fl(t)),r=[];if(0===t.length)return r;let n=0;for(let i=0;i<e.length;i++){46===e[i]&&(r.push(Hl(e.slice(n,i))),n=i+1)}if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Hl(e.slice(n))),r}function Vl(t){"string"!==typeof t&&zl.throwArgumentError("invalid ENS name; not a string","name",t);let e=jl;const r=Wl(t);for(;r.length;)e=gl(gu([e,gl(r.pop())]));return bu(e)}function ql(t){return bu(gu(Wl(t).map((t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e}))))+"00"}jl.fill(0);new uu("sha2/5.7.0");function Kl(t){return"0x"+eo().sha256().update(mu(t)).digest("hex")}var Jl=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Xl(t,e){return Jl(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=e.fetchOptions){const t=e.fetchOptions;t.mode&&(r.mode=t.mode),t.cache&&(r.cache=t.cache),t.credentials&&(r.credentials=t.credentials),t.redirect&&(r.redirect=t.redirect),t.referrer&&(r.referrer=t.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:mu(new Uint8Array(i))}}))}var Yl=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Ql=new uu("web/5.7.1");function Zl(t){return new Promise((e=>{setTimeout(e,t)}))}function $l(t,e){if(null==t)return null;if("string"===typeof t)return t;if(fu(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return ml(t)}catch(r){}return bu(t)}return t}function th(t,e,r){let n=null;if(null!=e){n=pl(e);const r="string"===typeof t?{url:t}:ju(t);if(r.headers){0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=ju(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"===typeof t&&null!=t.throttleLimit?t.throttleLimit:12;Ql.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"===typeof t?t.throttleCallback:null,o="object"===typeof t&&"number"===typeof t.throttleSlotInterval?t.throttleSlotInterval:100;Ql.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"===typeof t&&!!t.errorPassThrough,a={};let u=null;const l={method:"GET"};let h=!1,c=12e4;if("string"===typeof t)u=t;else if("object"===typeof t){if(null!=t&&null!=t.url||Ql.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"===typeof t.timeout&&t.timeout>0&&(c=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&Ql.throwError("basic authentication requires a secure https url",uu.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+wl(pl(e))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup),null!=t.fetchOptions&&(l.fetchOptions=ju(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=u?u.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?yl(d[3]):(p=d[3],pl(p.replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(y){Ql.throwError("processing response error",uu.errors.SERVER_ERROR,{body:$l(d[1],d[2]),error:y,requestBody:null,requestMethod:"GET",url:u})}var p;e&&(l.method="POST",l.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach((t=>{const e=a[t];m[e.key]=e.value})),l.headers=m;const g=function(){let t=null;return{promise:new Promise((function(e,r){c&&(t=setTimeout((()=>{null!=t&&(t=null,r(Ql.makeError("timeout",uu.errors.TIMEOUT,{requestBody:$l(l.body,m["content-type"]),requestMethod:l.method,timeout:c,url:u})))}),c))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),v=function(){return Yl(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Xl(u,l),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===l.method&&t.match(/^https:/)){u=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,u)),r){let r=0;const n=e.headers["retry-after"];r="string"===typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield Zl(r);continue}}}catch(y){e=y.response,null==e&&(g.cancel(),Ql.throwError("missing response",uu.errors.SERVER_ERROR,{requestBody:$l(l.body,m["content-type"]),requestMethod:l.method,serverError:y,url:u}))}let a=e.body;if(h&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(g.cancel(),Ql.throwError("bad response",uu.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:$l(a,e.headers?e.headers["content-type"]:null),requestBody:$l(l.body,m["content-type"]),requestMethod:l.method,url:u})),r)try{const t=yield r(a,e);return g.cancel(),t}catch(y){if(y.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,u)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield Zl(e);continue}}g.cancel(),Ql.throwError("processing response error",uu.errors.SERVER_ERROR,{body:$l(a,e.headers?e.headers["content-type"]:null),error:y,requestBody:$l(l.body,m["content-type"]),requestMethod:l.method,url:u})}return g.cancel(),a}return Ql.throwError("failed response",uu.errors.SERVER_ERROR,{requestBody:$l(l.body,m["content-type"]),requestMethod:l.method,url:u})}))}();return Promise.race([g.promise,v])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(ml(t))}catch(i){Ql.throwError("invalid JSON",uu.errors.SERVER_ERROR,{body:t,error:i})}return r&&(n=r(n,e)),n}))}function eh(t,e){return e||(e={}),null==(e=ju(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}var rh=r(65109),nh=r.n(rh);const ih="providers/5.6.0",oh=new uu("rlp/5.7.0");function sh(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function ah(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function uh(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(uh(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=sh(e.length);return r.unshift(247+r.length),r.concat(e)}fu(t)||oh.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(mu(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=sh(e.length);return r.unshift(183+r.length),r.concat(e)}function lh(t){return bu(uh(t))}function hh(t,e,r,n){const i=[];for(;r<e+1+n;){const o=ch(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&oh.throwError("child data too short",uu.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function ch(t,e){if(0===t.length&&oh.throwError("data too short",uu.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&oh.throwError("data short segment too short",uu.errors.BUFFER_OVERRUN,{});const n=ah(t,e+1,r);return e+1+r+n>t.length&&oh.throwError("data long segment too short",uu.errors.BUFFER_OVERRUN,{}),hh(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&oh.throwError("data array too short",uu.errors.BUFFER_OVERRUN,{}),hh(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&oh.throwError("data array too short",uu.errors.BUFFER_OVERRUN,{});const n=ah(t,e+1,r);e+1+r+n>t.length&&oh.throwError("data array too short",uu.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:bu(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&oh.throwError("data too short",uu.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:bu(t.slice(e+1,e+1+r))}}return{consumed:1,result:bu(t[e])}}function fh(t){const e=mu(t),r=ch(e,0);return r.consumed!==e.length&&oh.throwArgumentError("invalid rlp data","data",t),r.result}const dh=new uu("address/5.7.0");function ph(t){yu(t,20)||dh.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=mu(gl(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const mh={};for(let tP=0;tP<10;tP++)mh[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)mh[String.fromCharCode(65+tP)]=String(10+tP);const gh=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function vh(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>mh[t])).join("");for(;e.length>=gh;){let t=e.substring(0,gh);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function yh(t){let e=null;if("string"!==typeof t&&dh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=ph(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&dh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==vh(t)&&dh.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Nu(r,36).toString(16);e.length<40;)e="0"+e;e=ph("0x"+e)}else dh.throwArgumentError("invalid address","address",t);var r;return e}const wh=Pu.from(0);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function bh(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var Ah=Mh;function Mh(t,e){if(!t)throw new Error(e||"Assertion failed")}Mh.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var _h=bh((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Eh=bh((function(t,e){var r=e;r.assert=Ah,r.toArray=_h.toArray,r.zero2=_h.zero2,r.toHex=_h.toHex,r.encode=_h.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(Za())(t,"hex","le")}})),xh=Eh.getNAF,Sh=Eh.getJSF,Nh=Eh.assert;function Th(t,e){this.type=t,this.p=new(Za())(e.p,16),this.red=e.prime?Za().red(e.prime):Za().mont(this.p),this.zero=new(Za())(0).toRed(this.red),this.one=new(Za())(1).toRed(this.red),this.two=new(Za())(2).toRed(this.red),this.n=e.n&&new(Za())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Rh=Th;function Ch(t,e){this.curve=t,this.type=e,this.precomputed=null}Th.prototype.point=function(){throw new Error("Not implemented")},Th.prototype.validate=function(){throw new Error("Not implemented")},Th.prototype._fixedNafMul=function(t,e){Nh(t.precomputed);var r=t._getDoubles(),n=xh(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<a.length;o++)(s=a[o])===c?h=h.mixedAdd(r.points[o]):s===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},Th.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=xh(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];Nh(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},Th.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=Sh(r[d],r[p]);for(c=Math.max(v[0].length,c),h[d]=new Array(c),h[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],w=0|v[1][s];h[d][s]=g[3*(y+1)+(w+1)],h[p][s]=0,l[d]=m}}else h[d]=xh(r[d],u[d],this._bitLength),h[p]=xh(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(o=c;o>=0;o--){for(var M=0;o>=0;){var _=!0;for(s=0;s<n;s++)A[s]=0|h[s][o],0!==A[s]&&(_=!1);if(!_)break;M++,o--}if(o>=0&&M++,b=b.dblp(M),o<0)break;for(s=0;s<n;s++){var E=A[s];0!==E&&(E>0?a=l[s][E-1>>1]:E<0&&(a=l[s][-E-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},Th.BasePoint=Ch,Ch.prototype.eq=function(){throw new Error("Not implemented")},Ch.prototype.validate=function(){return this.curve.validate(this)},Th.prototype.decodePoint=function(t,e){t=Eh.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?Nh(t[t.length-1]%2===0):7===t[0]&&Nh(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Ch.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Ch.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Ch.prototype.encode=function(t,e){return Eh.encode(this._encode(e),t)},Ch.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Ch.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Ch.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},Ch.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Ch.prototype._getBeta=function(){return null},Ch.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Ih=bh((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Ph=Eh.assert;function kh(t){Rh.call(this,"short",t),this.a=new(Za())(t.a,16).toRed(this.red),this.b=new(Za())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ih(kh,Rh);var Oh=kh;function Uh(t,e,r,n){Rh.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Za())(e,16),this.y=new(Za())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Lh(t,e,r,n){Rh.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Za())(0)):(this.x=new(Za())(e,16),this.y=new(Za())(r,16),this.z=new(Za())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}kh.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(Za())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(Za())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Ph(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(Za())(t.a,16),b:new(Za())(t.b,16)}})):this._getEndoBasis(r)}}},kh.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Za().mont(t),r=new(Za())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(Za())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},kh.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(Za())(1),p=new(Za())(0),m=new(Za())(0),g=new(Za())(1),v=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=m.sub(y.mul(d));var w=g.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;a=u,f=c,c=u,m=d,d=l,g=p,p=w}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},kh.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},kh.prototype.pointFromX=function(t,e){(t=new(Za())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},kh.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},kh.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},Ih(Uh,Rh.BasePoint),kh.prototype.point=function(t,e,r){return new Uh(this,t,e,r)},kh.prototype.pointFromJSON=function(t,e){return Uh.fromJSON(this,t,e)},Uh.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Uh.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Uh.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Uh.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Uh.prototype.isInfinity=function(){return this.inf},Uh.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Uh.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Uh.prototype.getX=function(){return this.x.fromRed()},Uh.prototype.getY=function(){return this.y.fromRed()},Uh.prototype.mul=function(t){return t=new(Za())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Uh.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Uh.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Uh.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Uh.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Uh.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ih(Lh,Rh.BasePoint),kh.prototype.jpoint=function(t,e,r){return new Lh(this,t,e,r)},Lh.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Lh.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Lh.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},Lh.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},Lh.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=y,l=v}return this.curve.jpoint(o,l.redMul(i),a)},Lh.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Lh.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Lh.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Lh.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},Lh.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,f,d)},Lh.prototype.mul=function(t,e){return t=new(Za())(t,e),this.curve._wnafMul(this,t)},Lh.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Lh.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Lh.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Lh.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Bh=bh((function(t,e){var r=e;r.base=Rh,r.short=Oh,r.mont=null,r.edwards=null})),Dh=bh((function(t,e){var r,n=e,i=Eh.assert;function o(t){"short"===t.type?this.curve=new Bh.short(t):"edwards"===t.type?this.curve=new Bh.edwards(t):this.curve=new Bh.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:eo().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:eo().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:eo().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:eo().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:eo().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:eo().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Fh(t){if(!(this instanceof Fh))return new Fh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=_h.toArray(t.entropy,t.entropyEnc||"hex"),r=_h.toArray(t.nonce,t.nonceEnc||"hex"),n=_h.toArray(t.pers,t.persEnc||"hex");Ah(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Gh=Fh;Fh.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Fh.prototype._hmac=function(){return new(eo().hmac)(this.hash,this.K)},Fh.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Fh.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=_h.toArray(t,e),r=_h.toArray(r,n),Ah(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Fh.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=_h.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,_h.encode(o,e)};var zh=Eh.assert;function jh(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Hh=jh;jh.fromPublic=function(t,e,r){return e instanceof jh?e:new jh(t,{pub:e,pubEnc:r})},jh.fromPrivate=function(t,e,r){return e instanceof jh?e:new jh(t,{priv:e,privEnc:r})},jh.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},jh.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},jh.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},jh.prototype._importPrivate=function(t,e){this.priv=new(Za())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},jh.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?zh(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||zh(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},jh.prototype.derive=function(t){return t.validate()||zh(t.validate(),"public point not validated"),t.mul(this.priv).getX()},jh.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},jh.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},jh.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Wh=Eh.assert;function Vh(t,e){if(t instanceof Vh)return t;this._importDER(t,e)||(Wh(t.r&&t.s,"Signature without r or s"),this.r=new(Za())(t.r,16),this.s=new(Za())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var qh=Vh;function Kh(){this.place=0}function Jh(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Xh(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Yh(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Vh.prototype._importDER=function(t,e){t=Eh.toArray(t,e);var r=new Kh;if(48!==t[r.place++])return!1;var n=Jh(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Jh(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Jh(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(Za())(o),this.s=new(Za())(a),this.recoveryParam=null,!0},Vh.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Xh(e),r=Xh(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Yh(n,e.length),(n=n.concat(e)).push(2),Yh(n,r.length);var i=n.concat(r),o=[48];return Yh(o,i.length),o=o.concat(i),Eh.encode(o,t)};var Qh=function(){throw new Error("unsupported")},Zh=Eh.assert;function $h(t){if(!(this instanceof $h))return new $h(t);"string"===typeof t&&(Zh(Object.prototype.hasOwnProperty.call(Dh,t),"Unknown curve "+t),t=Dh[t]),t instanceof Dh.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var tc=$h;$h.prototype.keyPair=function(t){return new Hh(this,t)},$h.prototype.keyFromPrivate=function(t,e){return Hh.fromPrivate(this,t,e)},$h.prototype.keyFromPublic=function(t,e){return Hh.fromPublic(this,t,e)},$h.prototype.genKeyPair=function(t){t||(t={});for(var e=new Gh({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Qh(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Za())(2));;){var i=new(Za())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},$h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},$h.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(Za())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new Gh({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Za())(1)),l=0;;l++){var h=n.k?n.k(l):new(Za())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new qh({r:d,s:p,recoveryParam:m})}}}}}},$h.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(Za())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new qh(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},$h.prototype.recoverPubKey=function(t,e,r,n){Zh((3&r)===r,"The recovery param is more than two bits"),e=new qh(e,n);var i=this.n,o=new(Za())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=a.mul(h).umod(i);return this.g.mulAdd(c,s,f)},$h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new qh(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ec=bh((function(t,e){var r=e;r.version="6.5.4",r.utils=Eh,r.rand=function(){throw new Error("unsupported")},r.curve=Bh,r.curves=Dh,r.ec=tc,r.eddsa=null})).ec;const rc=new uu("signing-key/5.7.0");let nc=null;function ic(){return nc||(nc=new ec("secp256k1")),nc}class oc{constructor(t){Fu(this,"curve","secp256k1"),Fu(this,"privateKey",bu(t)),32!==Au(this.privateKey)&&rc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=ic().keyFromPrivate(mu(this.privateKey));Fu(this,"publicKey","0x"+e.getPublic(!1,"hex")),Fu(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Fu(this,"_isSigningKey",!0)}_addPoint(t){const e=ic().keyFromPublic(mu(this.publicKey)),r=ic().keyFromPublic(mu(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=ic().keyFromPrivate(mu(this.privateKey)),r=mu(t);32!==r.length&&rc.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return Su({recoveryParam:n.recoveryParam,r:xu("0x"+n.r.toString(16),32),s:xu("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=ic().keyFromPrivate(mu(this.privateKey)),r=ic().keyFromPublic(mu(sc(t)));return xu("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function sc(t,e){const r=mu(t);if(32===r.length){const t=new oc(r);return e?"0x"+ic().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?bu(r):"0x"+ic().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+ic().keyFromPublic(r).getPublic(!0,"hex"):bu(r):rc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ac=new uu("transactions/5.7.0");var uc;function lc(t){return"0x"===t?null:yh(t)}function hc(t){return"0x"===t?wh:Pu.from(t)}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(uc||(uc={}));function cc(t,e){return function(t){return yh(Mu(gl(Mu(sc(t),1)),12))}(function(t,e){const r=Su(e),n={r:mu(r.r),s:mu(r.s)};return"0x"+ic().recoverPubKey(mu(t),n,r.recoveryParam).encode("hex",!1)}(mu(t),e))}function fc(t,e){const r=vu(Pu.from(t).toHexString());return r.length>32&&ac.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function dc(t,e){return{address:yh(t),storageKeys:(e||[]).map(((e,r)=>(32!==Au(e)&&ac.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase())))}}function pc(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&ac.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),dc(t[0],t[1])):dc(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return dc(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function mc(t){return pc(t).map((t=>[t.address,t.storageKeys]))}function gc(t,e){if(null!=t.gasPrice){const e=Pu.from(t.gasPrice),r=Pu.from(t.maxFeePerGas||0);e.eq(r)||ac.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[fc(t.chainId||0,"chainId"),fc(t.nonce||0,"nonce"),fc(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fc(t.maxFeePerGas||0,"maxFeePerGas"),fc(t.gasLimit||0,"gasLimit"),null!=t.to?yh(t.to):"0x",fc(t.value||0,"value"),t.data||"0x",mc(t.accessList||[])];if(e){const t=Su(e);r.push(fc(t.recoveryParam,"recoveryParam")),r.push(vu(t.r)),r.push(vu(t.s))}return _u(["0x02",lh(r)])}function vc(t,e){const r=[fc(t.chainId||0,"chainId"),fc(t.nonce||0,"nonce"),fc(t.gasPrice||0,"gasPrice"),fc(t.gasLimit||0,"gasLimit"),null!=t.to?yh(t.to):"0x",fc(t.value||0,"value"),t.data||"0x",mc(t.accessList||[])];if(e){const t=Su(e);r.push(fc(t.recoveryParam,"recoveryParam")),r.push(vu(t.r)),r.push(vu(t.s))}return _u(["0x01",lh(r)])}function yc(t,e,r){try{const r=hc(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(n){ac.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=xu(e[1],32),t.s=xu(e[2],32);try{const e=gl(r(t));t.from=cc(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(n){}}function wc(t){const e=mu(t);if(e[0]>127)return function(t){const e=fh(t);9!==e.length&&6!==e.length&&ac.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:hc(e[0]).toNumber(),gasPrice:hc(e[1]),gasLimit:hc(e[2]),to:lc(e[3]),value:hc(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=Pu.from(e[6]).toNumber()}catch(n){return r}if(r.r=xu(e[7],32),r.s=xu(e[8],32),Pu.from(r.r).isZero()&&Pu.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27;const o=e.slice(0,6);0!==r.chainId&&(o.push(bu(r.chainId)),o.push("0x"),o.push("0x"),i-=2*r.chainId+8);const s=gl(lh(o));try{r.from=cc(s,{r:bu(r.r),s:bu(r.s),recoveryParam:i})}catch(n){}r.hash=gl(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=fh(t.slice(1));8!==e.length&&11!==e.length&&ac.throwArgumentError("invalid component count for transaction type: 1","payload",bu(t));const r={type:1,chainId:hc(e[0]).toNumber(),nonce:hc(e[1]).toNumber(),gasPrice:hc(e[2]),gasLimit:hc(e[3]),to:lc(e[4]),value:hc(e[5]),data:e[6],accessList:pc(e[7])};return 8===e.length||(r.hash=gl(t),yc(r,e.slice(8),vc)),r}(e);case 2:return function(t){const e=fh(t.slice(1));9!==e.length&&12!==e.length&&ac.throwArgumentError("invalid component count for transaction type: 2","payload",bu(t));const r=hc(e[2]),n=hc(e[3]),i={type:2,chainId:hc(e[0]).toNumber(),nonce:hc(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:hc(e[4]),to:lc(e[5]),value:hc(e[6]),data:e[7],accessList:pc(e[8])};return 9===e.length||(i.hash=gl(t),yc(i,e.slice(9),gc)),i}(e)}return ac.throwError("unsupported transaction type: ".concat(e[0]),uu.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const bc=new uu(ih);class Ac{constructor(){bc.checkNew(new.target,Ac),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return t.transaction={hash:o,type:u,accessList:Ac.allowNull(this.accessList.bind(this),null),blockHash:Ac.allowNull(o,null),blockNumber:Ac.allowNull(a,null),transactionIndex:Ac.allowNull(a,null),confirmations:Ac.allowNull(a,null),from:e,gasPrice:Ac.allowNull(r),maxPriorityFeePerGas:Ac.allowNull(r),maxFeePerGas:Ac.allowNull(r),gasLimit:r,to:Ac.allowNull(e,null),value:r,nonce:a,data:i,r:Ac.allowNull(this.uint256),s:Ac.allowNull(this.uint256),v:Ac.allowNull(a),creates:Ac.allowNull(e,null),raw:Ac.allowNull(i)},t.transactionRequest={from:Ac.allowNull(e),nonce:Ac.allowNull(a),gasLimit:Ac.allowNull(r),gasPrice:Ac.allowNull(r),maxPriorityFeePerGas:Ac.allowNull(r),maxFeePerGas:Ac.allowNull(r),to:Ac.allowNull(e),value:Ac.allowNull(r),data:Ac.allowNull((t=>this.data(t,!0))),type:Ac.allowNull(a),accessList:Ac.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:Ac.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:Ac.allowNull(this.address,null),from:Ac.allowNull(this.address,null),contractAddress:Ac.allowNull(e,null),transactionIndex:a,root:Ac.allowNull(s),gasUsed:r,logsBloom:Ac.allowNull(i),blockHash:o,transactionHash:o,logs:Ac.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Ac.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Ac.allowNull(r),status:Ac.allowNull(a),type:u},t.block={hash:Ac.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:Ac.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Ac.allowNull(e),extraData:i,transactions:Ac.allowNull(Ac.arrayOf(o)),baseFeePerGas:Ac.allowNull(r)},t.blockWithTransactions=ju(t.block),t.blockWithTransactions.transactions=Ac.allowNull(Ac.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Ac.allowNull(n,void 0),toBlock:Ac.allowNull(n,void 0),blockHash:Ac.allowNull(o,void 0),address:Ac.allowNull(e,void 0),topics:Ac.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Ac.allowNull(a),blockHash:Ac.allowNull(o),transactionIndex:a,removed:Ac.allowNull(this.boolean.bind(this)),address:e,data:Ac.allowFalsish(i,"0x"),topics:Ac.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return pc(t||[])}number(t){return"0x"===t?0:Pu.from(t).toNumber()}type(t){return"0x"===t||null==t?0:Pu.from(t).toNumber()}bigNumber(t){return Pu.from(t)}boolean(t){if("boolean"===typeof t)return t;if("string"===typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"===typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),yu(t))?t.toLowerCase():bc.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return yh(t)}callAddress(t){if(!yu(t,32))return null;const e=yh(Mu(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=yh(t.from)}catch(r){dh.throwArgumentError("missing from address","transaction",t)}return yh(Mu(gl(lh([e,vu(mu(Pu.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"===typeof t||yu(t))return Eu(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==Au(r)?bc.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=Pu.from(t);try{return e.toNumber()}catch(r){}return null}uint256(t){if(!yu(t))throw new Error("invalid uint256");return xu(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=Ac.check(e,t);return n._difficulty=null==r?null:Pu.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Ac.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&Pu.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=Ac.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;yu(r)&&(r=Pu.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),yu(r)&&(r=Pu.from(r).toNumber()),"number"!==typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!==typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return wc(t)}receiptLog(t){return Ac.check(this.formats.receiptLog,t)}receipt(t){const e=Ac.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=Pu.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&bc.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):bc.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&bc.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return Ac.check(this.formats.filter,t)}filterLog(t){return Ac.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const i in t)try{const n=t[i](e[i]);void 0!==n&&(r[i]=n)}catch(n){throw n.checkKey=i,n.checkValue=e[i],n}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}function Mc(t){return t&&"function"===typeof t.isCommunityResource}function _c(t){return Mc(t)&&t.isCommunityResource()}let Ec=!1;function xc(){Ec||(Ec=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Sc=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Nc=new uu(ih);function Tc(t){return null==t?"null":(32!==Au(t)&&Nc.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Rc(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[Tc(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return Tc(t)})).join("&")}function Cc(t){if("string"===typeof t){if(32===Au(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+Rc(t);if(Yu.isForkEvent(t))throw Nc.warn("not implemented"),new Error("not implemented");if(t&&"object"===typeof t)return"filter:"+(t.address||"*")+":"+Rc(t.topics||[])}throw new Error("invalid event - "+t)}function Ic(){return(new Date).getTime()}function Pc(t){return new Promise((e=>{setTimeout(e,t)}))}const kc=["block","network","pending","poll"];class Oc{constructor(t,e,r){Fu(this,"tag",t),Fu(this,"listener",e),Fu(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||kc.indexOf(this.tag)>=0}}const Uc={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Lc(t){return xu(Pu.from(t).toHexString(),32)}function Bc(t){return al.encode(gu([t,Mu(Kl(Kl(t)),0,4)]))}const Dc=new RegExp("^(ipfs)://(.*)$","i"),Fc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Dc,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Gc(t,e){try{return ml(zc(t,e))}catch(r){}return null}function zc(t,e){if("0x"===t)return null;const r=Pu.from(Mu(t,e,e+32)).toNumber(),n=Pu.from(Mu(t,r,r+32)).toNumber();return Mu(t,r+32,r+32+n)}function jc(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Nc.throwArgumentError("unsupported IPFS format","link",t),"https://gateway.ipfs.io/ipfs/".concat(t)}function Hc(t){const e=mu(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Wc(t){if(t.length%32===0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function Vc(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=mu(t[n]);e[n]=Hc(r),e.push(Hc(i.length)),e.push(Wc(i)),r+=32+32*Math.ceil(i.length/32)}return _u(e)}class qc{constructor(t,e,r,n){Fu(this,"provider",t),Fu(this,"name",r),Fu(this,"address",t.formatter.address(e)),Fu(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>Pu.from(t).eq(1))).catch((t=>{if(t.code===uu.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return Sc(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:_u([t,Vl(this.name),e||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=_u(["0x9061b923",Vc([ql(this.name),r.data])]));try{let t=yield this.provider.call(r);return mu(t).length%32===4&&Nc.throwError("resolver threw error",uu.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=zc(t,0)),t}catch(i){if(i.code===uu.errors.CALL_EXCEPTION)return null;throw i}}))}_fetchBytes(t,e){return Sc(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?zc(r,0):null}))}_getAddress(t,e){const r=Uc[String(t)];if(null==r&&Nc.throwError("unsupported coin type: ".concat(t),uu.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(t,")")}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=mu(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Bc(gu([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Bc(gu([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=nh().toWords(n.slice(2));return t.unshift(e),nh().encode(r.prefix,t)}}return null}getAddress(t){return Sc(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(n){if(n.code===uu.errors.CALL_EXCEPTION)return null;throw n}const e=yield this._fetchBytes("0xf1cb7e06",Lc(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&Nc.throwError("invalid or unsupported coin data",uu.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(t,")"),coinType:t,data:e}),r}))}getAvatar(){return Sc(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<Fc.length;r++){const n=e.match(Fc[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:jc(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),u=xu(Pu.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:_u(["0x6352211e",u])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=Pu.from(yield this.provider.call({to:a,data:_u(["0x00fdd58e",xu(o,32),u])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const l={to:this.provider.formatter.address(s[0]),data:_u([r,u])};let h=Gc(yield this.provider.call(l),0);if(null==h)return null;t.push({type:"metadata-url-base",content:h}),"erc1155"===i&&(h=h.replace("{id}",u.substring(2)),t.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=jc(h)),t.push({type:"metadata-url",content:h});const c=yield th(h);if(!c)return null;t.push({type:"metadata",content:JSON.stringify(c)});let f=c.image;if("string"!==typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Dc))return null;t.push({type:"url-ipfs",content:f}),f=jc(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(e){}return null}))}getContentHash(){return Sc(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+al.encode("0x"+e[1])}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:Nc.throwError("invalid or unsupported content hash data",uu.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return Sc(this,void 0,void 0,(function*(){let e=pl(t);e=gu([Lc(64),Lc(e.length),e]),e.length%32!==0&&(e=gu([e,xu("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",bu(e));return null==r||"0x"===r?null:ml(r)}))}}let Kc=null,Jc=1;class Xc extends Qu{constructor(t){if(Nc.checkNew(new.target,Qu),super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Fu(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=Gu(new.target,"getNetwork")(t);e?(Fu(this,"_network",e),this.emit("network",e,null)):Nc.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Sc(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(t){}null==e&&(e=yield this.detectNetwork()),e||Nc.throwError("no network detected",uu.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:Fu(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return eh((()=>this._ready().then((t=>t),(t=>{if(t.code!==uu.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==Kc&&(Kc=new Ac),Kc}static getNetwork(t){return ol(null==t?"homestead":t)}ccipReadFetch(t,e,r){return Sc(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=(t.from||"0x0000000000000000000000000000000000000000").toLowerCase(),i=e.toLowerCase(),o=[];for(let t=0;t<r.length;t++){const e=r[t],s=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),u=yield th({url:s,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(u.data)return u.data;const l=u.message||"unknown error";if(u.status>=400&&u.status<500)return Nc.throwError("response not found during CCIP fetch: ".concat(l),uu.errors.SERVER_ERROR,{url:e,errorMessage:l});o.push(l)}return Nc.throwError("error encountered during CCIP fetch: ".concat(o.map((t=>JSON.stringify(t))).join(", ")),uu.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(t){return Sc(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Ic()-r.respTime<=t)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===e)break}}const e=Ic(),r=zu({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((t=>{let{blockNumber:n,networkError:i}=t;if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const o=Ic();return n=Pu.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:e,respTime:o}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return Sc(this,void 0,void 0,(function*(){const t=Jc++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){return void this.emit("error",n)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Nc.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(r,")")),this.emit("error",Nc.makeError("network block skew detected",uu.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(i)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Sc(this,void 0,void 0,(function*(){return Nc.throwError("provider does not support network detection",uu.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Sc(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield Pc(0),this._network;const r=Nc.makeError("underlying network changed",uu.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!==typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=Ic();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Ic(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return Sc(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return Sc(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},l=t=>{t.confirmations<e||u()||i(t)};if(this.on(t,l),s.push((()=>{this.removeListener(t,l)})),n){let r=n.startBlock,i=null;const l=s=>Sc(this,void 0,void 0,(function*(){a||(yield Pc(1e3),this.getTransactionCount(n.from).then((h=>Sc(this,void 0,void 0,(function*(){if(!a){if(h<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(Nc.makeError("transaction was replaced",uu.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",l)}}))),(t=>{a||this.once("block",l)})))}));if(a)return;this.once("block",l),s.push((()=>{this.removeListener("block",l)}))}if("number"===typeof r&&r>0){const t=setTimeout((()=>{u()||o(Nc.makeError("timeout exceeded",uu.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return Sc(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Pu.from(t)}catch(e){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zu({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return Pu.from(n)}catch(i){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:i})}}))}getTransactionCount(t,e){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zu({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return Pu.from(n).toNumber()}catch(i){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:i})}}))}getCode(t,e){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zu({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return bu(n)}catch(i){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:i})}}))}getStorageAt(t,e,r){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield zu({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>Eu(t)))}),i=yield this.perform("getStorageAt",n);try{return bu(i)}catch(o){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:o})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==Au(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&Nc.throwError("Transaction hash mismatch from Provider.sendTransaction.",uu.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>Sc(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&Nc.throwError("transaction failed",uu.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>bu(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}}))}_getTransactionRequest(t){return Sc(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?Pu.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?bu(t):null)))})),this.formatter.transactionRequest(yield zu(r))}))}_getFilter(t){return Sc(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield zu(e))}))}_call(t,e,r){return Sc(this,void 0,void 0,(function*(){r>=10&&Nc.throwError("CCIP read exceeded maximum redirections",uu.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&Au(i)%32===4)try{const o=Mu(i,4),s=Mu(o,0,32);Pu.from(s).eq(n)||Nc.throwError("CCIP Read sender did not match",uu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],u=Pu.from(Mu(o,32,64)).toNumber(),l=Pu.from(Mu(o,u,u+32)).toNumber(),h=Mu(o,u+32);for(let e=0;e<l;e++){const r=Gc(h,32*e);null==r&&Nc.throwError("CCIP Read contained corrupt URL string",uu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const c=zc(o,64);Pu.from(Mu(o,100,128)).isZero()||Nc.throwError("CCIP Read callback selector included junk",uu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=Mu(o,96,100),d=zc(o,128),p=yield this.ccipReadFetch(t,c,a);null==p&&Nc.throwError("CCIP Read disabled or provided no URLs",uu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:_u([f,Vc([p,d])])};return this._call(m,e,r+1)}catch(o){if(o.code===uu.errors.SERVER_ERROR)throw o}try{return bu(i)}catch(o){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:o})}}))}call(t,e){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zu({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield zu({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return Pu.from(r)}catch(n){return Nc.throwError("bad result from backend",uu.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:n})}}))}_getAddress(t){return Sc(this,void 0,void 0,(function*(){"string"!==typeof(t=yield t)&&Nc.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&Nc.throwError("ENS name not configured",uu.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(t),")")}),e}))}_getBlock(t,e){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(yu(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),yu(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(i){Nc.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return eh((()=>Sc(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let n=0;n<t.transactions.length;n++){const r=t.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-r.blockNumber+1;t<=0&&(t=1),r.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return eh((()=>Sc(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return eh((()=>Sc(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return Sc(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield zu({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),Ac.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Sc(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return Sc(this,void 0,void 0,(function*(){if("number"===typeof(t=yield t)&&t<0){t%1&&Nc.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return Sc(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new qc(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return Sc(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||Nc.throwError("network does not support ENS",uu.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Vl(t).substring(2)});return this.formatter.callAddress(e)}catch(n){}return null}))}resolveName(t){return Sc(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(r){if(yu(t))throw r}"string"!==typeof t&&Nc.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return Sc(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=Gc(yield this.call({to:r,data:"0x691f3431"+Vl(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return Sc(this,void 0,void 0,(function*(){let e=null;if(yu(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"getAvatar");if(!i)return null;e=new qc(this,i,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(n){if(n.code!==uu.errors.CALL_EXCEPTION)throw n}try{const t=Gc(yield this.call({to:i,data:"0x691f3431"+Vl(r).substring(2)}),0);e=yield this.getResolver(t)}catch(n){if(n.code!==uu.errors.CALL_EXCEPTION)throw n;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return Nc.throwError(t+" not implemented",uu.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new Oc(Cc(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let i=!1,o=[],s=Cc(t);return this._events=this._events.filter((t=>t.tag!==s||(setTimeout((()=>{t.listener.apply(this,r)}),0),i=!0,!t.once||(o.push(t),!1)))),o.forEach((t=>{this._stopEvent(t)})),i}listenerCount(t){if(!t)return this._events.length;let e=Cc(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Cc(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Cc(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=Cc(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var Yc=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Qc=new uu("abstract-signer/5.7.0"),Zc=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],$c=[uu.errors.INSUFFICIENT_FUNDS,uu.errors.NONCE_EXPIRED,uu.errors.REPLACEMENT_UNDERPRICED];class tf{constructor(){Qc.checkAbstract(new.target,tf),Fu(this,"_isSigner",!0)}getBalance(t){return Yc(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Yc(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Yc(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield zu(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Yc(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield zu(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Yc(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Yc(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Yc(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Yc(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Yc(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const r in t)-1===Zc.indexOf(r)&&Qc.throwArgumentError("invalid transaction key: "+r,"transaction",t);const e=ju(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Qc.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Yc(this,void 0,void 0,(function*(){const e=yield zu(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Yc(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Qc.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Qc.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Qc.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Qc.throwError("network does not support EIP-1559",uu.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Qc.throwError("failed to get consistent fee data",uu.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if($c.indexOf(t.code)>=0)throw t;return Qc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uu.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Qc.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield zu(e)}))}_checkProvider(t){this.provider||Qc.throwError("missing provider",uu.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}function ef(t){return gl(pl(t))}var rf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const nf=new uu(vl),of=new Uint8Array(32);of.fill(0);const sf=Pu.from(-1),af=Pu.from(0),uf=Pu.from(1),lf=Pu.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const hf=xu(uf.toHexString(),32),cf=xu(af.toHexString(),32),ff={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},df=["name","version","chainId","verifyingContract","salt"];function pf(t){return function(e){return"string"!==typeof e&&nf.throwArgumentError("invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}const mf={name:pf("name"),version:pf("version"),chainId:function(t){try{return Pu.from(t).toString()}catch(e){}return nf.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return yh(t).toLowerCase()}catch(e){}return nf.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=mu(t);if(32!==e.length)throw new Error("bad length");return bu(e)}catch(e){}return nf.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function gf(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&nf.throwArgumentError("invalid numeric width","type",t);const i=lf.mask(r?n-1:n),o=r?i.add(uf).mul(sf):af;return function(e){const r=Pu.from(e);return(r.lt(o)||r.gt(i))&&nf.throwArgumentError("value out-of-bounds for ".concat(t),"value",e),xu(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&nf.throwArgumentError("invalid bytes width","type",t),function(e){return mu(e).length!==r&&nf.throwArgumentError("invalid length for ".concat(t),"value",e),function(t){const e=mu(t),r=e.length%32;return r?_u([e,of.slice(r)]):bu(e)}(e)}}}switch(t){case"address":return function(t){return xu(yh(t),32)};case"bool":return function(t){return t?hf:cf};case"bytes":return function(t){return gl(t)};case"string":return function(t){return ef(t)}}return null}function vf(t,e){return"".concat(t,"(").concat(e.map((t=>{let{name:e,type:r}=t;return r+" "+e})).join(","),")")}class yf{constructor(t){Fu(this,"types",Object.freeze(qu(t))),Fu(this,"_encoderCache",{}),Fu(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const o in t){const n={};t[o].forEach((i=>{n[i.name]&&nf.throwArgumentError("duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(o)),"types",t),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&nf.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",t);gf(s)||(r[s]||nf.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",t),r[s].push(o),e[o][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?nf.throwArgumentError("missing primary type","types",t):i.length>1&&nf.throwArgumentError("ambiguous primary types or unused types: ".concat(i.map((t=>JSON.stringify(t))).join(", ")),"types",t),Fu(this,"primaryType",i[0]),function i(o,s){s[o]&&nf.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const e=Object.keys(n[o]);e.sort(),this._types[o]=vf(o,t[o])+e.map((e=>vf(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=gf(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&nf.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(gl)),gl(_u(i))}}const r=this.types[t];if(r){const e=ef(this._types[t]);return t=>{const n=r.map((e=>{let{name:r,type:n}=e;const i=this.getEncoder(n)(t[r]);return this._types[n]?gl(i):i}));return n.unshift(e),_u(n)}}return nf.throwArgumentError("unknown type: ".concat(t),"type",t)}encodeType(t){const e=this._types[t];return e||nf.throwArgumentError("unknown type: ".concat(JSON.stringify(t)),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return gl(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(gf(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&nf.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,n)=>{let{name:i,type:o}=n;return t[i]=this._visit(o,e[i],r),t}),{}):nf.throwArgumentError("unknown type: ".concat(t),"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new yf(t)}static getPrimaryType(t){return yf.from(t).primaryType}static hashStruct(t,e,r){return yf.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=ff[r];n||nf.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>df.indexOf(t.name)-df.indexOf(e.name))),yf.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return _u(["0x1901",yf.hashDomain(t),yf.from(e).hash(r)])}static hash(t,e,r){return gl(yf.encode(t,e,r))}static resolveNames(t,e,r,n){return rf(this,void 0,void 0,(function*(){t=ju(t);const i={};t.verifyingContract&&!yu(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=yf.from(e);o.visit(r,((t,e)=>("address"!==t||yu(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){yf.hashDomain(t);const n={},i=[];df.forEach((e=>{const r=t[e];null!=r&&(n[e]=mf[e](r),i.push({name:e,type:ff[e]}))}));const o=yf.from(e),s=ju(e);return s.EIP712Domain?nf.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return bu(mu(e));if(t.match(/^u?int/))return Pu.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!==typeof e&&nf.throwArgumentError("invalid string","value",e),e}return nf.throwArgumentError("unsupported type","type",t)}))}}}var wf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const bf=new uu(ih),Af=["call","estimateGas"];function Mf(t,e,r){if("call"===t&&e.code===uu.errors.SERVER_ERROR){const t=e.error;if(t&&t.message.match("reverted")&&yu(t.data))return t.data;bf.throwError("missing revert data in call exception",uu.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===uu.errors.SERVER_ERROR&&e.error&&"string"===typeof e.error.message?n=e.error.message:"string"===typeof e.body?n=e.body:"string"===typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&bf.throwError("insufficient funds for intrinsic transaction cost",uu.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce too low/)&&bf.throwError("nonce has already been used",uu.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&bf.throwError("replacement fee too low",uu.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&bf.throwError("legacy pre-eip-155 transactions not supported",uu.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),Af.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&bf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uu.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function _f(t){return new Promise((function(e){setTimeout(e,t)}))}function Ef(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function xf(t){return t?t.toLowerCase():t}const Sf={};class Nf extends tf{constructor(t,e,r){if(bf.checkNew(new.target,Nf),super(),t!==Sf)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Fu(this,"provider",e),null==r&&(r=0),"string"===typeof r?(Fu(this,"_address",this.provider.formatter.address(r)),Fu(this,"_index",null)):"number"===typeof r?(Fu(this,"_index",r),Fu(this,"_address",null)):bf.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return bf.throwError("cannot alter JSON-RPC Signer connection",uu.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Tf(Sf,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&bf.throwError("unknown account #"+this._index,uu.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=ju(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=ju(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>wf(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&bf.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),zu({tx:zu(t),sender:e}).then((e=>{let{tx:r,sender:n}=e;null!=r.from?r.from.toLowerCase()!==n&&bf.throwArgumentError("from address mismatch","transaction",t):r.from=n;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then((t=>t),(t=>Mf("sendTransaction",t,i)))}))}signTransaction(t){return bf.throwError("signing transactions is unsupported",uu.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return wf(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield eh((()=>wf(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}}))}signMessage(t){return wf(this,void 0,void 0,(function*(){const e="string"===typeof t?pl(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[bu(e),r.toLowerCase()])}))}_legacySignMessage(t){return wf(this,void 0,void 0,(function*(){const e="string"===typeof t?pl(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),bu(e)])}))}_signTypedData(t,e,r){return wf(this,void 0,void 0,(function*(){const n=yield yf.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(yf.getPayload(n.domain,e,n.value))])}))}unlock(t){return wf(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class Tf extends Nf{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const Rf={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Cf extends Xc{constructor(t,e){bf.checkNew(new.target,Cf);let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=Gu(this.constructor,"defaultUrl")()),Fu(this,"connection","string"===typeof t?Object.freeze({url:t}):Object.freeze(ju(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return wf(this,void 0,void 0,(function*(){yield _f(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(e){}}if(null!=t){const r=Gu(this.constructor,"getNetwork");try{return r(Pu.from(t).toNumber())}catch(e){return bf.throwError("could not detect network",uu.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return bf.throwError("could not detect network",uu.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Nf(Sf,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:qu(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=th(this.connection,JSON.stringify(r),Ef).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[xf(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[xf(e.address),e.blockTag]];case"getCode":return["eth_getCode",[xf(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[xf(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[Gu(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[Gu(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=xf(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return wf(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&Pu.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=ju(e)).transaction=ju(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&bf.throwError(t+" not implemented",uu.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(n){return Mf(t,n,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return _f(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=ju(Rf);if(e)for(const s in e)e[s]&&(r[s]=!0);var n,i;i=r,(n=t)&&"object"===typeof n||Du.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||Du.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=Eu(t[e]);"gasLimit"===e&&(e="gas"),o[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=bu(t[e]))})),t.accessList&&(o.accessList=pc(t.accessList)),o}}let If=null;try{if(If=WebSocket,null==If)throw new Error("inject please")}catch($I){const t=new uu(ih);If=function(){t.throwError("WebSockets not supported in this environment",uu.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Pf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const kf=new uu(ih);let Of=1;class Uf extends Cf{constructor(t,e){"any"===e&&kf.throwError("WebSocketProvider does not support 'any' network yet",uu.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"===typeof t?t:"_websocket",e),this._pollingInterval=-1,this._wsReady=!1,Fu(this,"_websocket","string"===typeof t?new If(this.connection.url):t),Fu(this,"_requests",{}),Fu(this,"_subs",{}),Fu(this,"_subIds",{}),Fu(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((t=>{this.websocket.send(this._requests[t].payload)}))},this.websocket.onmessage=t=>{const e=t.data,r=JSON.parse(e);if(null!=r.id){const t=String(r.id),n=this._requests[t];if(delete this._requests[t],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let t=null;r.error?(t=new Error(r.error.message||"unknown error"),Fu(t,"code",r.error.code||null),Fu(t,"response",e)):t=new Error("unknown error"),n.callback(t,void 0),this.emit("debug",{action:"response",error:t,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const t=this._subs[r.params.subscription];t&&t.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){kf.throwError("cannot reset events block on WebSocketProvider",uu.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){kf.throwError("cannot set polling interval on WebSocketProvider",uu.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Pf(this,void 0,void 0,(function*(){return null}))}set polling(t){t&&kf.throwError("cannot set polling on WebSocketProvider",uu.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(t,e){const r=Of++;return new Promise(((n,i)=>{const o=JSON.stringify({method:t,params:e,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(t,e){return t?i(t):n(e)},payload:o},this._wsReady&&this.websocket.send(o)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(t,e,r){return Pf(this,void 0,void 0,(function*(){let n=this._subIds[t];null==n&&(n=Promise.all(e).then((t=>this.send("eth_subscribe",t))),this._subIds[t]=n);const i=yield n;this._subs[i]={tag:t,processFunc:r}}))}_startEvent(t){switch(t.type){case"block":this._subscribe("block",["newHeads"],(t=>{const e=Pu.from(t.number).toNumber();this._emitted.block=e,this.emit("block",e)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(t=>{this.emit("pending",t)}));break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],(e=>{null==e.removed&&(e.removed=!1),this.emit(t.filter,this.formatter.filterLog(e))}));break;case"tx":{const e=t=>{const e=t.hash;this.getTransactionReceipt(e).then((t=>{t&&this.emit(e,t)}))};e(t),this._subscribe("tx",["newHeads"],(t=>{this._events.filter((t=>"tx"===t.type)).forEach(e)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t)}}_stopEvent(t){let e=t.tag;if("tx"===t.type){if(this._events.filter((t=>"tx"===t.type)).length)return;e="tx"}else if(this.listenerCount(t.event))return;const r=this._subIds[e];r&&(delete this._subIds[e],r.then((t=>{this._subs[t]&&(delete this._subs[t],this.send("eth_unsubscribe",[t]))})))}destroy(){return Pf(this,void 0,void 0,(function*(){this.websocket.readyState===If.CONNECTING&&(yield new Promise((t=>{this.websocket.onopen=function(){t(!0)},this.websocket.onerror=function(){t(!1)}}))),this.websocket.close(1e3)}))}}var Lf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Bf=new uu(ih);class Df extends Cf{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Lf(this,void 0,void 0,(function*(){let e=this.network;return null==e&&(e=yield t.detectNetwork.call(this),e||Bf.throwError("no network detected",uu.errors.UNKNOWN_ERROR,{}),null==this._network&&(Fu(this,"_network",e),this.emit("network",e,null))),e}))}}class Ff extends Df{constructor(t,e){Bf.checkAbstract(new.target,Ff),t=Gu(new.target,"getNetwork")(t),e=Gu(new.target,"getApiKey")(e);super(Gu(new.target,"getUrl")(t,e),t),"string"===typeof e?Fu(this,"apiKey",e):null!=e&&Object.keys(e).forEach((t=>{Fu(this,t,e[t])}))}_startPending(){Bf.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return Bf.throwError("API provider does not support signing",uu.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,e){return Bf.throwError("not implemented; sub-classes must override getUrl",uu.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Gf=new uu(ih),zf="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class jf extends Uf{constructor(t,e){const r=new Hf(t,e);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),Fu(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===zf}}class Hf extends Ff{static getWebSocketProvider(t,e){return new jf(t,e)}static getApiKey(t){return null==t?zf:(t&&"string"!==typeof t&&Gf.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,e){let r=null;switch(t.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:Gf.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+e,throttleCallback:(t,r)=>(e===zf&&xc(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===zf}}var Wf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Vf=new uu(ih);class qf extends Ff{static getApiKey(t){return null!=t&&Vf.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,e){let r=null;if("homestead"===t.name)r="https://cloudflare-eth.com/";else Vf.throwArgumentError("unsupported network","network",arguments[0]);return r}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return Wf(this,void 0,void 0,(function*(){if("getBlockNumber"===t){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,t,e)}))}}var Kf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Jf=new uu(ih);function Xf(t){const e={};for(let r in t){if(null==t[r])continue;let n=t[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?Eu(bu(n)):"accessList"===r?"["+pc(n).map((t=>'{address:"'.concat(t.address,'",storageKeys:["').concat(t.storageKeys.join('","'),'"]}'))).join(",")+"]":bu(n),e[r]=n)}return e}function Yf(t){if(0==t.status&&("No records found"===t.message||"No transactions found"===t.message))return t.result;if(1!=t.status||"OK"!=t.message){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function Qf(t){if(t&&0==t.status&&"NOTOK"==t.message&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if("2.0"!=t.jsonrpc){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function Zf(t){if("pending"===t)throw new Error("pending not supported");return"latest"===t?t:parseInt(t.substring(2),16)}const $f="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function td(t,e,r){if("call"===t&&e.code===uu.errors.SERVER_ERROR){const t=e.error;if(t&&(t.message.match(/reverted/i)||t.message.match(/VM execution error/i))){let r=t.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),yu(r))return r;Jf.throwError("missing revert data in call exception",uu.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===uu.errors.SERVER_ERROR&&(e.error&&"string"===typeof e.error.message?n=e.error.message:"string"===typeof e.body?n=e.body:"string"===typeof e.responseText&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Jf.throwError("insufficient funds for intrinsic transaction cost",uu.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Jf.throwError("nonce has already been used",uu.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&Jf.throwError("replacement fee too low",uu.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Jf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uu.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class ed extends Xc{constructor(t,e){Jf.checkNew(new.target,ed),super(t),Fu(this,"baseUrl",this.getBaseUrl()),Fu(this,"apiKey",e||$f)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return Jf.throwArgumentError("unsupported network","network",name)}getUrl(t,e){const r=Object.keys(e).reduce(((t,r)=>{const n=e[r];return null!=n&&(t+="&".concat(r,"=").concat(n)),t}),""),n=this.apiKey?"&apikey=".concat(this.apiKey):"";return"".concat(this.baseUrl,"/api?module=").concat(t).concat(r).concat(n)}getPostUrl(){return"".concat(this.baseUrl,"/api")}getPostData(t,e){return e.module=t,e.apikey=this.apiKey,e}fetch(t,e,r){return Kf(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(t,e),i=r?this.getPostData(t,e):null,o="proxy"===t?Qf:Yf;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(t,e)=>(this.isCommunityResource()&&xc(),Promise.resolve(!0))};let a=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map((t=>"".concat(t,"=").concat(i[t]))).join("&"));const u=yield th(s,a,o||Qf);return this.emit("debug",{action:"response",request:n,response:qu(u),provider:this}),u}))}detectNetwork(){return Kf(this,void 0,void 0,(function*(){return this.network}))}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return Kf(this,void 0,void 0,(function*(){switch(t){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>td("sendTransaction",t,e.signedTransaction)));case"getBlock":if(e.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.transactionHash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const t=Xf(e.transaction);t.module="proxy",t.action="eth_call";try{return yield this.fetch("proxy",t,!0)}catch($I){return td("call",$I,e.transaction)}}case"estimateGas":{const t=Xf(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return yield this.fetch("proxy",t,!0)}catch($I){return td("estimateGas",$I,e.transaction)}}case"getLogs":{const t={action:"getLogs"};if(e.filter.fromBlock&&(t.fromBlock=Zf(e.filter.fromBlock)),e.filter.toBlock&&(t.toBlock=Zf(e.filter.toBlock)),e.filter.address&&(t.address=e.filter.address),e.filter.topics&&e.filter.topics.length>0&&(e.filter.topics.length>1&&Jf.throwError("unsupported topic count",uu.errors.UNSUPPORTED_OPERATION,{topics:e.filter.topics}),1===e.filter.topics.length)){const r=e.filter.topics[0];"string"===typeof r&&66===r.length||Jf.throwError("unsupported topic format",uu.errors.UNSUPPORTED_OPERATION,{topic0:r}),t.topic0=r}const r=yield this.fetch("logs",t);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,t,e)}))}getHistory(t,e,r){return Kf(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(t),startblock:null==e?0:e,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((t=>{["contractAddress","to"].forEach((function(e){""==t[e]&&delete t[e]})),null==t.creates&&null!=t.contractAddress&&(t.creates=t.contractAddress);const e=this.formatter.transactionResponse(t);return t.timeStamp&&(e.timestamp=parseInt(t.timeStamp)),e}))}))}isCommunityResource(){return this.apiKey===$f}}var rd=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const nd=new uu(ih);function id(){return(new Date).getTime()}function od(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(null==n)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||null==e.ensAddress&&null==n.ensAddress)||nd.throwArgumentError("provider mismatch","networks",t):e=n}return e}function sd(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return null!=e&&Math.abs(n-i)>e?null:(n+i)/2}function ad(t){if(null===t)return"null";if("number"===typeof t||"boolean"===typeof t)return JSON.stringify(t);if("string"===typeof t)return t;if(Pu.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map((t=>ad(t))));if("object"===typeof t){const e=Object.keys(t);return e.sort(),"{"+e.map((e=>{let r=t[e];return r="function"===typeof r?"[function]":ad(r),JSON.stringify(e)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let ud=1;function ld(t){let e=null,r=null,n=new Promise((n=>{e=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(e,t)}));return{cancel:e,getPromise:function(){return n},wait:t=>(n=n.then(t),n)}}const hd=[uu.errors.CALL_EXCEPTION,uu.errors.INSUFFICIENT_FUNDS,uu.errors.NONCE_EXPIRED,uu.errors.REPLACEMENT_UNDERPRICED,uu.errors.UNPREDICTABLE_GAS_LIMIT],cd=["address","args","errorArgs","errorSignature","method","transaction"];function fd(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function dd(t,e,r){let n=ad;switch(e){case"getBlockNumber":return function(e){const r=e.map((t=>t.result));let n=sd(e.map((t=>t.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=t._highestBlockNumber&&(t._highestBlockNumber=n),t._highestBlockNumber};case"getGasPrice":return function(t){const e=t.map((t=>t.result));return e.sort(),e[Math.floor(e.length/2)]};case"getEtherPrice":return function(t){return sd(t.map((t=>t.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(t){return null==t?null:((t=ju(t)).confirmations=-1,ad(t))};break;case"getBlock":n=r.includeTransactions?function(t){return null==t?null:((t=ju(t)).transactions=t.transactions.map((t=>((t=ju(t)).confirmations=-1,t))),ad(t))}:function(t){return null==t?null:ad(t)};break;default:throw new Error("unknown method: "+e)}return function(t,e){return function(r){const n={};r.forEach((e=>{const r=t(e.result);n[r]||(n[r]={count:0,result:e.result}),n[r].count++}));const i=Object.keys(n);for(let t=0;t<i.length;t++){const r=n[i[t]];if(r.count>=e)return r.result}}}(n,t.quorum)}function pd(t,e){return rd(this,void 0,void 0,(function*(){const r=t.provider;return null!=r.blockNumber&&r.blockNumber>=e||-1===e?r:eh((()=>new Promise(((n,i)=>{setTimeout((function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function md(t,e,r,n){return rd(this,void 0,void 0,(function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&yu(n.blockTag)&&(i=yield pd(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&yu(n.blockTag)&&(i=yield pd(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&yu(n.blockTag)&&(i=yield pd(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&yu(n.blockTag)&&(i=yield pd(t,e)),i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&yu(r.fromBlock)||r.toBlock&&yu(r.toBlock))&&(i=yield pd(t,e)),i.getLogs(r)}}return nd.throwError("unknown method error",uu.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class gd extends Xc{constructor(t,e){nd.checkNew(new.target,gd),0===t.length&&nd.throwArgumentError("missing providers","providers",t);const r=t.map(((t,e)=>{if(Qu.isProvider(t)){const e=_c(t)?2e3:750,r=1;return Object.freeze({provider:t,weight:1,stallTimeout:e,priority:r})}const r=ju(t);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=_c(t)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&nd.throwArgumentError("invalid weight; must be integer in [1, 512]","providers[".concat(e,"].weight"),n),Object.freeze(r)})),n=r.reduce(((t,e)=>t+e.weight),0);null==e?e=n/2:e>n&&nd.throwArgumentError("quorum will always fail; larger than total weight","quorum",e);let i=od(r.map((t=>t.provider.network)));null==i&&(i=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then(t,e)}),0)}))),super(i),Fu(this,"providerConfigs",Object.freeze(r)),Fu(this,"quorum",e),this._highestBlockNumber=-1}detectNetwork(){return rd(this,void 0,void 0,(function*(){return od(yield Promise.all(this.providerConfigs.map((t=>t.provider.getNetwork()))))}))}perform(t,e){return rd(this,void 0,void 0,(function*(){if("sendTransaction"===t){const t=yield Promise.all(this.providerConfigs.map((t=>t.provider.sendTransaction(e.signedTransaction).then((t=>t.hash),(t=>t)))));for(let e=0;e<t.length;e++){const r=t[e];if("string"===typeof r)return r}throw t[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==t&&(yield this.getBlockNumber());const r=dd(this,t,e),n=function(t){for(let e=(t=t.slice()).length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}(this.providerConfigs.map(ju));n.sort(((t,e)=>t.priority-e.priority));const i=this._highestBlockNumber;let o=0,s=!0;for(;;){const a=id();let u=n.filter((t=>t.runner&&a-t.start<t.stallTimeout)).reduce(((t,e)=>t+e.weight),0);for(;u<this.quorum&&o<n.length;){const r=n[o++],s=ud++;r.start=id(),r.staller=ld(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=md(r,i,t,e).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:fd(r,id()),request:{method:t,params:qu(e)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:fd(r,id()),request:{method:t,params:qu(e)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:fd(r,null),request:{method:t,params:qu(e)},provider:this}),u+=r.weight}const l=[];n.forEach((t=>{!t.done&&t.runner&&(l.push(t.runner),t.staller&&l.push(t.staller.getPromise()))})),l.length&&(yield Promise.race(l));const h=n.filter((t=>t.done&&null==t.error));if(h.length>=this.quorum){const t=r(h);if(void 0!==t)return n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0})),t;s||(yield ld(100).getPromise()),s=!1}const c=n.reduce(((t,e)=>{if(!e.done||null==e.error)return t;const r=e.error.code;return hd.indexOf(r)>=0&&(t[r]||(t[r]={error:e.error,weight:0}),t[r].weight+=e.weight),t}),{});if(Object.keys(c).forEach((t=>{const e=c[t];if(e.weight<this.quorum)return;n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0}));const r=e.error,i={};cd.forEach((t=>{null!=r[t]&&(i[t]=r[t])})),nd.throwError(r.reason||r.message,t,i)})),0===n.filter((t=>!t.done)).length)break}return n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0})),nd.throwError("failed to meet quorum",uu.errors.SERVER_ERROR,{method:t,params:e,results:n.map((t=>fd(t))),provider:this})}))}}const vd=null,yd=new uu(ih),wd="84842078b09946638c03157f83405213";class bd extends Uf{constructor(t,e){const r=new Ad(t,e),n=r.connection;n.password&&yd.throwError("INFURA WebSocket project secrets unsupported",uu.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),t),Fu(this,"apiKey",r.projectId),Fu(this,"projectId",r.projectId),Fu(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===wd}}class Ad extends Ff{static getWebSocketProvider(t,e){return new bd(t,e)}static getApiKey(t){const e={apiKey:wd,projectId:wd,projectSecret:null};return null==t||("string"===typeof t?e.projectId=t:null!=t.projectSecret?(yd.assertArgument("string"===typeof t.projectId,"projectSecret requires a projectId","projectId",t.projectId),yd.assertArgument("string"===typeof t.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=t.projectId,e.projectSecret=t.projectSecret):t.projectId&&(e.projectId=t.projectId),e.apiKey=e.projectId),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:yd.throwError("unsupported network",uu.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+e.projectId,throttleCallback:(t,r)=>(e.projectId===wd&&xc(),Promise.resolve(!0))};return null!=e.projectSecret&&(n.user="",n.password=e.projectSecret),n}isCommunityResource(){return this.projectId===wd}}class Md extends Cf{send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},i=new Promise(((t,e)=>{n.resolve=t,n.reject=e}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const t=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const e=t.map((t=>t.request));return this.emit("debug",{action:"requestBatch",request:qu(e),provider:this}),th(this.connection,JSON.stringify(e)).then((r=>{this.emit("debug",{action:"response",request:e,response:r,provider:this}),t.forEach(((t,e)=>{const n=r[e];if(n.error){const e=new Error(n.error.message);e.code=n.error.code,e.data=n.error.data,t.reject(e)}else t.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:e,provider:this}),t.forEach((t=>{t.reject(r)}))}))}),10)),i}}const _d=new uu(ih);class Ed extends Ff{static getApiKey(t){return t&&"string"!==typeof t&&_d.throwArgumentError("invalid apiKey","apiKey",t),t||"ETHERS_JS_SHARED"}static getUrl(t,e){_d.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(t.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:_d.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+e}}const xd=new uu(ih),Sd={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Nd extends Ff{constructor(t,e){if(null==e){const r=Gu(new.target,"getNetwork")(t);if(r){const t=Sd[r.name];t&&(e={applicationId:t,loadBalancer:!0})}null==e&&xd.throwError("unsupported network",uu.errors.INVALID_ARGUMENT,{argument:"network",value:t})}super(t,e)}static getApiKey(t){null==t&&xd.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",t);const e={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof t?e.applicationId=t:null!=t.applicationSecretKey?(xd.assertArgument("string"===typeof t.applicationId,"applicationSecretKey requires an applicationId","applicationId",t.applicationId),xd.assertArgument("string"===typeof t.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),e.applicationId=t.applicationId,e.applicationSecretKey=t.applicationSecretKey,e.loadBalancer=!!t.loadBalancer):t.applicationId?(xd.assertArgument("string"===typeof t.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",t.applicationId),e.applicationId=t.applicationId,e.loadBalancer=!!t.loadBalancer):xd.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:xd.throwError("unsupported network",uu.errors.INVALID_ARGUMENT,{argument:"network",value:t})}let n=null;n=e.loadBalancer?"https://".concat(r,"/v1/lb/").concat(e.applicationId):"https://".concat(r,"/v1/").concat(e.applicationId);const i={url:n,headers:{}};return null!=e.applicationSecretKey&&(i.user="",i.password=e.applicationSecretKey),i}isCommunityResource(){return this.applicationId===Sd[this.network.name]}}const Td=new uu(ih);let Rd=1;function Cd(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:Rd++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:qu(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result)}))}))}}class Id extends Cf{constructor(t,e){Td.checkNew(new.target,Id),null==t&&Td.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"===typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:qu(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=Cd(0,t.sendAsync.bind(t)):t.send?n=Cd(0,t.send.bind(t)):Td.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),Fu(this,"jsonRpcFetchFunc",n),Fu(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const Pd=new uu(ih);function kd(t,e){if(null==t&&(t="homestead"),"string"===typeof t){const e=t.match(/^(ws|http)s?:/i);if(e)switch(e[1]){case"http":return new Cf(t);case"ws":return new Uf(t);default:Pd.throwArgumentError("unsupported URL scheme","network",t)}}const r=ol(t);return r&&r._defaultProvider||Pd.throwError("unsupported getDefaultProvider network",uu.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:gd,AlchemyProvider:Hf,CloudflareProvider:qf,EtherscanProvider:ed,InfuraProvider:Ad,JsonRpcProvider:Cf,NodesmithProvider:Ed,PocketProvider:Nd,Web3Provider:Id,IpcProvider:vd},e)}let Od=!1,Ud=!1;const Ld={debug:1,default:2,info:2,warning:3,error:4,off:5};let Bd=Ld.default,Dd=null;const Fd=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var Gd,zd;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Gd||(Gd={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(zd||(zd={}));const jd="0123456789abcdef";class Hd{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ld[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Bd>Ld[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Hd.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Hd.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Hd.levels.WARNING,e)}makeError(t,e,r){if(Ud)return this.makeError("censored error",e,{});e||(e=Hd.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=jd[e[t]>>4],r+=jd[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case zd.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case zd.CALL_EXCEPTION:case zd.INSUFFICIENT_FUNDS:case zd.MISSING_NEW:case zd.NONCE_EXPIRED:case zd.REPLACEMENT_UNDERPRICED:case zd.TRANSACTION_REPLACED:case zd.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Hd.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Fd&&this.throwError("platform missing String.prototype.normalize",Hd.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Fd})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Hd.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Hd.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Hd.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Hd.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Hd.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Hd.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Hd.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Dd||(Dd=new Hd("logger/5.7.0")),Dd}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Hd.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Od){if(!t)return;this.globalLogger().throwError("error censorship permanent",Hd.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ud=!!t,Od=!!e}static setLogLevel(t){const e=Ld[t.toLowerCase()];null!=e?Bd=e:Hd.globalLogger().warn("invalid log level - "+t)}static from(t){return new Hd(t)}}Hd.errors=zd,Hd.levels=Gd;const Wd=new Hd("bytes/5.7.0");function Vd(t){return!!t.toHexString}function qd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return qd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Kd(t){return"number"===typeof t&&t==t&&t%1===0}function Jd(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Kd(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Kd(r)||r<0||r>=256)return!1}return!0}function Xd(t,e){if(e||(e={}),"number"===typeof t){Wd.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),qd(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Vd(t)&&(t=t.toHexString()),Yd(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Wd.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return qd(new Uint8Array(n))}return Jd(t)?qd(new Uint8Array(t)):Wd.throwArgumentError("invalid arrayify value","value",t)}function Yd(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Qd=new Hd("strings/5.7.0");var Zd,$d;function tp(t,e,r,n,i){if(t===$d.BAD_PREFIX||t===$d.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===$d.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Zd||(Zd={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}($d||($d={}));Object.freeze({error:function(t,e,r,n,i){return Qd.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:tp,replace:function(t,e,r,n,i){return t===$d.OVERLONG?(n.push(i),0):(n.push(65533),tp(t,e,r))}});function ep(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zd.current;e!=Zd.current&&(Qd.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return Xd(r)}function rp(t){return e=ep(t),"0x"+st().keccak_256(Xd(e));var e}new Hd("properties/5.7.0");function np(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const ip=new Hd("wordlists/5.6.0");class op{constructor(t){ip.checkAbstract(new.target,op),np(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return rp(e.join("\n")+"\n")}static register(t,e){e||(e=t.locale)}}let sp=null;function ap(t){if(null==sp&&(sp="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==op.check(t)))throw sp=null,new Error("BIP39 Wordlist for en (English) FAILED")}const up=new class extends op{constructor(){super("en")}getWord(t){return ap(this),sp[t]}getWordIndex(t){return ap(this),sp.indexOf(t)}};op.register(up);const lp={en:up};let hp=!1,cp=!1;const fp={debug:1,default:2,info:2,warning:3,error:4,off:5};let dp=fp.default,pp=null;const mp=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var gp,vp;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(gp||(gp={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(vp||(vp={}));const yp="0123456789abcdef";class wp{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==fp[r]&&this.throwArgumentError("invalid log level name","logLevel",t),dp>fp[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(wp.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(wp.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(wp.levels.WARNING,e)}makeError(t,e,r){if(cp)return this.makeError("censored error",e,{});e||(e=wp.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=yp[e[t]>>4],r+=yp[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case vp.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case vp.CALL_EXCEPTION:case vp.INSUFFICIENT_FUNDS:case vp.MISSING_NEW:case vp.NONCE_EXPIRED:case vp.REPLACEMENT_UNDERPRICED:case vp.TRANSACTION_REPLACED:case vp.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,wp.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),mp&&this.throwError("platform missing String.prototype.normalize",wp.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mp})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,wp.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,wp.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,wp.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,wp.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",wp.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",wp.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",wp.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return pp||(pp=new wp("logger/5.7.0")),pp}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",wp.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),hp){if(!t)return;this.globalLogger().throwError("error censorship permanent",wp.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cp=!!t,hp=!!e}static setLogLevel(t){const e=fp[t.toLowerCase()];null!=e?dp=e:wp.globalLogger().warn("invalid log level - "+t)}static from(t){return new wp(t)}}wp.errors=vp,wp.levels=gp;const bp=new wp("bytes/5.7.0");function Ap(t){return!!t.toHexString}function Mp(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Mp(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function _p(t){return"number"===typeof t&&t==t&&t%1===0}function Ep(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!_p(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!_p(r)||r<0||r>=256)return!1}return!0}function xp(t,e){if(e||(e={}),"number"===typeof t){bp.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Mp(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ap(t)&&(t=t.toHexString()),Np(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":bp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Mp(new Uint8Array(n))}return Ep(t)?Mp(new Uint8Array(t)):bp.throwArgumentError("invalid arrayify value","value",t)}function Sp(t){const e=t.map((t=>xp(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Mp(n)}function Np(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Tp="0123456789abcdef";function Rp(t,e){if(e||(e={}),"number"===typeof t){bp.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Tp[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ap(t))return t.toHexString();if(Np(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":bp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ep(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Tp[(240&n)>>4]+Tp[15&n]}return e}return bp.throwArgumentError("invalid hexlify value","value",t)}function Cp(t,e){for("string"!==typeof t?t=Rp(t):Np(t)||bp.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&bp.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const Ip=new wp("properties/5.7.0");function Pp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function kp(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!==typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const Op={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Up(t){if(void 0===t||null===t||Op[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch($I){continue}if(!Up(n))return!1}return!0}return Ip.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Lp(t){if(Up(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Bp(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Pp(e,r,Bp(n))}return e}return Ip.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Bp(t){return Lp(t)}class Dp{constructor(t){for(const e in t)this[e]=Bp(t[e])}}const Fp="abi/5.6.0";var Gp=r(95399);var zp=r.n(Gp)().BN;const jp=new wp("bignumber/5.7.0"),Hp={},Wp=9007199254740991;let Vp=!1;class qp{constructor(t,e){t!==Hp&&jp.throwError("cannot call constructor directly; use BigNumber.from",wp.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Jp(Xp(this).fromTwos(t))}toTwos(t){return Jp(Xp(this).toTwos(t))}abs(){return"-"===this._hex[0]?qp.from(this._hex.substring(1)):this}add(t){return Jp(Xp(this).add(Xp(t)))}sub(t){return Jp(Xp(this).sub(Xp(t)))}div(t){return qp.from(t).isZero()&&Yp("division-by-zero","div"),Jp(Xp(this).div(Xp(t)))}mul(t){return Jp(Xp(this).mul(Xp(t)))}mod(t){const e=Xp(t);return e.isNeg()&&Yp("division-by-zero","mod"),Jp(Xp(this).umod(e))}pow(t){const e=Xp(t);return e.isNeg()&&Yp("negative-power","pow"),Jp(Xp(this).pow(e))}and(t){const e=Xp(t);return(this.isNegative()||e.isNeg())&&Yp("unbound-bitwise-result","and"),Jp(Xp(this).and(e))}or(t){const e=Xp(t);return(this.isNegative()||e.isNeg())&&Yp("unbound-bitwise-result","or"),Jp(Xp(this).or(e))}xor(t){const e=Xp(t);return(this.isNegative()||e.isNeg())&&Yp("unbound-bitwise-result","xor"),Jp(Xp(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Yp("negative-width","mask"),Jp(Xp(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Yp("negative-width","shl"),Jp(Xp(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Yp("negative-width","shr"),Jp(Xp(this).shrn(t))}eq(t){return Xp(this).eq(Xp(t))}lt(t){return Xp(this).lt(Xp(t))}lte(t){return Xp(this).lte(Xp(t))}gt(t){return Xp(this).gt(Xp(t))}gte(t){return Xp(this).gte(Xp(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Xp(this).isZero()}toNumber(){try{return Xp(this).toNumber()}catch($I){Yp("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return jp.throwError("this platform does not support BigInt",wp.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Vp||(Vp=!0,jp.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?jp.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",wp.errors.UNEXPECTED_ARGUMENT,{}):jp.throwError("BigNumber.toString does not accept parameters",wp.errors.UNEXPECTED_ARGUMENT,{})),Xp(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof qp)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new qp(Hp,Kp(t)):t.match(/^-?[0-9]+$/)?new qp(Hp,Kp(new zp(t))):jp.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Yp("underflow","BigNumber.from",t),(t>=Wp||t<=-9007199254740991)&&Yp("overflow","BigNumber.from",t),qp.from(String(t));const e=t;if("bigint"===typeof e)return qp.from(e.toString());if(Ep(e))return qp.from(Rp(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return qp.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Np(t)||"-"===t[0]&&Np(t.substring(1))))return qp.from(t)}return jp.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Kp(t){if("string"!==typeof t)return Kp(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&jp.throwArgumentError("invalid hex","value",t),"0x00"===(t=Kp(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Jp(t){return qp.from(Kp(t))}function Xp(t){const e=qp.from(t).toHexString();return"-"===e[0]?new zp("-"+e.substring(3),16):new zp(e.substring(2),16)}function Yp(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),jp.throwError(t,wp.errors.NUMERIC_FAULT,n)}const Qp=new wp(Fp);function Zp(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const o=t.slice();o.push(i);try{r(o,n[i])}catch($I){e.push({path:o,error:$I})}}};return r([],t),e}class $p{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){Qp.throwArgumentError(t,this.localName,e)}}class tm{constructor(t){Pp(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return function(t){let e="0x";return t.forEach((t=>{e+=Rp(t).substring(2)})),e}(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Sp(t._data))}writeBytes(t){let e=xp(t);const r=e.length%this.wordSize;return r&&(e=Sp([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=xp(qp.from(t));return e.length>this.wordSize&&Qp.throwError("value out-of-bounds",wp.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Sp([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class em{constructor(t,e,r,n){Pp(this,"_data",xp(t)),Pp(this,"wordSize",e||32),Pp(this,"_coerceFunc",r),Pp(this,"allowLoose",n),this._offset=0}get data(){return Rp(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):em.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Qp.throwError("data out-of-bounds",wp.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new em(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return qp.from(this.readBytes(this.wordSize))}}function rm(t){return"0x"+st().keccak_256(xp(t))}const nm=new wp("address/5.7.0");function im(t){Np(t,20)||nm.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=xp(rm(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const om={};for(let tP=0;tP<10;tP++)om[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)om[String.fromCharCode(65+tP)]=String(10+tP);const sm=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function am(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>om[t])).join("");for(;e.length>=sm;){let t=e.substring(0,sm);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function um(t){let e=null;if("string"!==typeof t&&nm.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=im(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&nm.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==am(t)&&nm.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new zp(r,36).toString(16);e.length<40;)e="0"+e;e=im("0x"+e)}else nm.throwArgumentError("invalid address","address",t);var r;return e}class lm extends $p{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=um(e)}catch($I){this._throwError($I.message,e)}return t.writeValue(e)}decode(t){return um(Cp(t.readValue().toHexString(),20))}}class hm extends $p{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const cm=new wp(Fp);function fm(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||cm.throwError("cannot encode object for signature with missing names",wp.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&cm.throwError("cannot encode object for signature with duplicate names",wp.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else cm.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&cm.throwArgumentError("types/value length mismatch","tuple",r);let i=new tm(t.wordSize),o=new tm(t.wordSize),s=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=o.length;t.encode(o,r);let n=i.writeUpdatableValue();s.push((t=>{n(t+e)}))}else t.encode(i,r)})),s.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function dm(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),o=n.subReader(r.toNumber());try{i=e.decode(o)}catch($I){if($I.code===wp.errors.BUFFER_OVERRUN)throw $I;i=$I,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch($I){if($I.code===wp.errors.BUFFER_OVERRUN)throw $I;i=$I,i.baseType=e.name,i.name=e.localName,i.type=e.type}void 0!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let o=0;o<r.length;o++){const t=r[o];t instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class pm extends $p{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),cm.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<e.length;i++)n.push(this.coder);return fm(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&cm.throwError("insufficient data length",wp.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let n=0;n<e;n++)r.push(new hm(this.coder));return t.coerce(this.name,dm(t,r))}}class mm extends $p{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class gm extends $p{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=xp(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class vm extends gm{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,Rp(super.decode(t)))}}class ym extends $p{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=xp(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,Rp(t.readBytes(this.size)))}}class wm extends $p{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const bm=qp.from(-1),Am=qp.from(0),Mm=qp.from(1),_m=qp.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Em extends $p{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=qp.from(e),n=_m.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Mm).mul(bm)))&&this._throwError("value out-of-bounds",e)}else(r.lt(Am)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}const xm=new wp("strings/5.7.0");var Sm,Nm;function Tm(t,e,r,n,i){if(t===Nm.BAD_PREFIX||t===Nm.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===Nm.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Sm||(Sm={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Nm||(Nm={}));const Rm=Object.freeze({error:function(t,e,r,n,i){return xm.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:Tm,replace:function(t,e,r,n,i){return t===Nm.OVERLONG?(n.push(i),0):(n.push(65533),Tm(t,e,r))}});function Cm(t,e){null==e&&(e=Rm.error),t=xp(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?Nm.UNEXPECTED_CONTINUE:Nm.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(Nm.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e(Nm.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Nm.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(Nm.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(Nm.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function Im(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sm.current;e!=Sm.current&&(xm.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return xp(r)}function Pm(t,e){return Cm(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class km extends gm{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Im(e))}decode(t){return Pm(super.decode(t))}}class Om extends $p{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return fm(t,this.coders,e)}decode(t){return t.coerce(this.name,dm(t,this.coders))}}const Um=new wp(Fp),Lm={};let Bm={calldata:!0,memory:!0,storage:!0},Dm={calldata:!0,memory:!0};function Fm(t,e){if("bytes"===t||"string"===t){if(Bm[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Dm[e])return!0;return(Bm[e]||"payable"===e)&&Um.throwArgumentError("invalid modifier","name",e),!1}function Gm(t,e){for(let r in e)Pp(t,r,e[r])}const zm=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),jm=new RegExp(/^(.*)\[([0-9]*)\]$/);class Hm{constructor(t,e){t!==Lm&&Um.throwError("use fromString",wp.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Gm(this,e);let r=this.type.match(jm);Gm(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Hm.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=zm.sighash),zm[t]||Um.throwArgumentError("invalid format type","format",t),t===zm.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==zm.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===zm.full?", ":",")+")"):e+=this.type,t!==zm.sighash&&(!0===this.indexed&&(e+=" indexed"),t===zm.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"===typeof t?Hm.fromString(t,e):Hm.fromObject(t)}static fromObject(t){return Hm.isParamType(t)?t:new Hm(Lm,{name:t.name||null,type:tg(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(Hm.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){Um.throwArgumentError("unexpected character at position ".concat(e),"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let r=t[a];switch(r){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=tg(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||n(a),s.indexed=!0,s.name=""),Fm(s.type,s.name)&&(s.name=""),s.type=tg(s.type);let t=s;s=s.parent,s||n(a),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||n(a),s.indexed=!0,s.name=""),Fm(s.type,s.name)&&(s.name=""),s.type=tg(s.type);let o=i(s.parent);s.parent.components.push(o),delete s.parent,s=o;break;case" ":s.state.allowType&&""!==s.type&&(s.type=tg(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):Fm(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=r,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=r,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=r,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=r,delete s.state.allowArray):s.state.readArray?s.type+=r:n(a)}}return s.parent&&Um.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):Fm(s.type,s.name)&&(s.name=""),o.type=tg(o.type),o}(t,!!e),Hm.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function Wm(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&Um.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>Hm.fromString(t,e)))}class Vm{constructor(t,e){t!==Lm&&Um.throwError("use a static from method",wp.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Gm(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Vm.isFragment(t)?t:"string"===typeof t?Vm.fromString(t):Vm.fromObject(t)}static fromObject(t){if(Vm.isFragment(t))return t;switch(t.type){case"function":return Qm.fromObject(t);case"event":return qm.fromObject(t);case"constructor":return Ym.fromObject(t);case"error":return $m.fromObject(t);case"fallback":case"receive":return null}return Um.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?qm.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?Qm.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Ym.fromString(t.trim()):"error"===t.split(" ")[0]?$m.fromString(t.substring(5).trim()):Um.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class qm extends Vm{format(t){if(t||(t=zm.sighash),zm[t]||Um.throwArgumentError("invalid format type","format",t),t===zm.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==zm.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===zm.full?", ":",")+") ",t!==zm.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"===typeof t?qm.fromString(t):qm.fromObject(t)}static fromObject(t){if(qm.isEventFragment(t))return t;"event"!==t.type&&Um.throwArgumentError("invalid event object","value",t);const e={name:rg(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Hm.fromObject):[],type:"event"};return new qm(Lm,e)}static fromString(t){let e=t.match(ng);e||Um.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Um.warn("unknown modifier: "+t)}})),qm.fromObject({name:e[1].trim(),anonymous:r,inputs:Wm(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function Km(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Um.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Um.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=qp.from(r[1]),r[0]):t}function Jm(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Xm(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Um.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Um.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Um.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Um.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Um.throwArgumentError("unable to determine stateMutability","value",t),e}class Ym extends Vm{format(t){if(t||(t=zm.sighash),zm[t]||Um.throwArgumentError("invalid format type","format",t),t===zm.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===zm.sighash&&Um.throwError("cannot format a constructor for sighash",wp.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===zm.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"===typeof t?Ym.fromString(t):Ym.fromObject(t)}static fromObject(t){if(Ym.isConstructorFragment(t))return t;"constructor"!==t.type&&Um.throwArgumentError("invalid constructor object","value",t);let e=Xm(t);e.constant&&Um.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Hm.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?qp.from(t.gas):null};return new Ym(Lm,r)}static fromString(t){let e={type:"constructor"},r=(t=Km(t,e)).match(ng);return r&&"constructor"===r[1].trim()||Um.throwArgumentError("invalid constructor string","value",t),e.inputs=Wm(r[2].trim(),!1),Jm(r[3].trim(),e),Ym.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class Qm extends Ym{format(t){if(t||(t=zm.sighash),zm[t]||Um.throwArgumentError("invalid format type","format",t),t===zm.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==zm.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===zm.full?", ":",")+") ",t!==zm.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"===typeof t?Qm.fromString(t):Qm.fromObject(t)}static fromObject(t){if(Qm.isFunctionFragment(t))return t;"function"!==t.type&&Um.throwArgumentError("invalid function object","value",t);let e=Xm(t);const r={type:t.type,name:rg(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Hm.fromObject):[],outputs:t.outputs?t.outputs.map(Hm.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?qp.from(t.gas):null};return new Qm(Lm,r)}static fromString(t){let e={type:"function"},r=(t=Km(t,e)).split(" returns ");r.length>2&&Um.throwArgumentError("invalid function string","value",t);let n=r[0].match(ng);if(n||Um.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&rg(e.name),e.inputs=Wm(n[2],!1),Jm(n[3].trim(),e),r.length>1){let n=r[1].match(ng);""==n[1].trim()&&""==n[3].trim()||Um.throwArgumentError("unexpected tokens","value",t),e.outputs=Wm(n[2],!1)}else e.outputs=[];return Qm.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function Zm(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Um.throwArgumentError("cannot specify user defined ".concat(e," error"),"fragment",t),t}class $m extends Vm{format(t){if(t||(t=zm.sighash),zm[t]||Um.throwArgumentError("invalid format type","format",t),t===zm.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==zm.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===zm.full?", ":",")+") ",e.trim()}static from(t){return"string"===typeof t?$m.fromString(t):$m.fromObject(t)}static fromObject(t){if($m.isErrorFragment(t))return t;"error"!==t.type&&Um.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:rg(t.name),inputs:t.inputs?t.inputs.map(Hm.fromObject):[]};return Zm(new $m(Lm,e))}static fromString(t){let e={type:"error"},r=t.match(ng);return r||Um.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&rg(e.name),e.inputs=Wm(r[2],!1),Zm($m.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function tg(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const eg=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function rg(t){return t&&t.match(eg)||Um.throwArgumentError('invalid identifier "'.concat(t,'"'),"value",t),t}const ng=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const ig=new wp(Fp),og=new RegExp(/^bytes([0-9]*)$/),sg=new RegExp(/^(u?int)([0-9]*)$/);class ag{constructor(t){ig.checkNew(new.target,ag),Pp(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new lm(t.name);case"bool":return new mm(t.name);case"string":return new km(t.name);case"bytes":return new vm(t.name);case"array":return new pm(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Om((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new wm(t.name)}let e=t.type.match(sg);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!==0)&&ig.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Em(r/8,"int"===e[1],t.name)}if(e=t.type.match(og),e){let r=parseInt(e[1]);return(0===r||r>32)&&ig.throwArgumentError("invalid bytes length","param",t),new ym(r,t.name)}return ig.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new em(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new tm(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(Hm.from(t))));return new Om(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&ig.throwError("types/values length mismatch",wp.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(Hm.from(t)))),n=new Om(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(Hm.from(t))));return new Om(n,"_").decode(this._getReader(xp(e),r))}}const ug=new ag;function lg(t){return rm(Im(t))}const hg=new wp(Fp);class cg extends Dp{}class fg extends Dp{}class dg extends Dp{}class pg extends Dp{static isIndexed(t){return!(!t||!t._isIndexed)}}const mg={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function gg(t,e){const r=new Error("deferred error during ABI decoding triggered accessing ".concat(t));return r.error=e,r}class vg{constructor(t){hg.checkNew(new.target,vg);let e=[];e="string"===typeof t?JSON.parse(t):t,Pp(this,"fragments",e.map((t=>Vm.from(t))).filter((t=>null!=t))),Pp(this,"_abiCoder",kp(new.target,"getAbiCoder")()),Pp(this,"functions",{}),Pp(this,"errors",{}),Pp(this,"events",{}),Pp(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void hg.warn("duplicate definition - constructor"):void Pp(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?hg.warn("duplicate definition - "+r):e[r]=t})),this.deploy||Pp(this,"deploy",Ym.from({payable:!1,type:"constructor"})),Pp(this,"_isInterface",!0)}format(t){t||(t=zm.full),t===zm.sighash&&hg.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===zm.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return ug}static getAddress(t){return um(t)}static getSighash(t){return e=lg(t.format()),r=0,n=4,"string"!==typeof e?e=Rp(e):(!Np(e)||e.length%2)&&bp.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=n?"0x"+e.substring(r,2+2*n):"0x"+e.substring(r);var e,r,n}static getEventTopic(t){return lg(t.format())}getFunction(t){if(Np(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];hg.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?hg.throwArgumentError("no matching function","name",e):r.length>1&&hg.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[Qm.fromString(t).format()];return e||hg.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Np(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];hg.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?hg.throwArgumentError("no matching event","name",e):r.length>1&&hg.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[qm.fromString(t).format()];return e||hg.throwArgumentError("no matching event","signature",t),e}getError(t){if(Np(t)){const e=kp(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}hg.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?hg.throwArgumentError("no matching error","name",e):r.length>1&&hg.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[Qm.fromString(t).format()];return e||hg.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"===typeof t)try{t=this.getFunction(t)}catch($I){try{t=this.getError(t)}catch(e){throw $I}}return kp(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"===typeof t&&(t=this.getEvent(t)),kp(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"===typeof t&&(t=this.getError(t));const r=xp(e);return Rp(r.slice(0,4))!==this.getSighash(t)&&hg.throwArgumentError("data signature does not match error ".concat(t.name,"."),"data",Rp(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"===typeof t&&(t=this.getError(t)),Rp(Sp([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"===typeof t&&(t=this.getFunction(t));const r=xp(e);return Rp(r.slice(0,4))!==this.getSighash(t)&&hg.throwArgumentError("data signature does not match function ".concat(t.name,"."),"data",Rp(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"===typeof t&&(t=this.getFunction(t)),Rp(Sp([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"===typeof t&&(t=this.getFunction(t));let r=xp(e),n=null,i=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch($I){}break;case 4:{const t=Rp(r.slice(0,4)),e=mg[t];if(e)i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.signature,e.reason&&(n=i[0]);else try{const e=this.getError(t);i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.format()}catch($I){}break}}return hg.throwError("call revert exception",wp.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:i,errorName:o,errorSignature:s,reason:n})}encodeFunctionResult(t,e){return"string"===typeof t&&(t=this.getFunction(t)),Rp(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"===typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&hg.throwError("too many arguments for "+t.format(),wp.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?lg(e):"bytes"===t.type?rm(Rp(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),Cp(Rp(e),32));for(e.forEach(((e,i)=>{let o=t.inputs[i];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?hg.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map((t=>n(o,t)))):r.push(n(o,e)):null!=e&&hg.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"===typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&hg.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push(lg(s));else if("bytes"===t.type)r.push(rm(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else n.push(t),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"===typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);Np(r[0],32)&&r[0].toLowerCase()===e||hg.throwError("fragment/topic mismatch",wp.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(Hm.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(n.push(t),o.push(!1)):(i.push(t),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,Sp(r)):null,a=this._abiCoder.decode(i,e,!0),u=[],l=0,h=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==s)u[e]=new pg({_isIndexed:!0,hash:null});else if(o[e])u[e]=new pg({_isIndexed:!0,hash:s[h++]});else try{u[e]=s[h++]}catch($I){u[e]=$I}else try{u[e]=a[l++]}catch($I){u[e]=$I}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw gg("property ".concat(JSON.stringify(t.name)),r)}}):u[t.name]=r}}));for(let c=0;c<u.length;c++){const t=u[c];t instanceof Error&&Object.defineProperty(u,c,{enumerable:!0,get:()=>{throw gg("index ".concat(c),t)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new fg({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:qp.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new cg({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=Rp(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new dg({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}let yg=!1,wg=!1;const bg={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ag=bg.default,Mg=null;const _g=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var Eg,xg;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Eg||(Eg={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(xg||(xg={}));const Sg="0123456789abcdef";class Ng{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==bg[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Ag>bg[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Ng.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Ng.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Ng.levels.WARNING,e)}makeError(t,e,r){if(wg)return this.makeError("censored error",e,{});e||(e=Ng.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Sg[e[t]>>4],r+=Sg[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case xg.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case xg.CALL_EXCEPTION:case xg.INSUFFICIENT_FUNDS:case xg.MISSING_NEW:case xg.NONCE_EXPIRED:case xg.REPLACEMENT_UNDERPRICED:case xg.TRANSACTION_REPLACED:case xg.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Ng.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),_g&&this.throwError("platform missing String.prototype.normalize",Ng.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_g})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ng.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ng.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ng.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ng.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Ng.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ng.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Ng.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Mg||(Mg=new Ng("logger/5.7.0")),Mg}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ng.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),yg){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ng.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}wg=!!t,yg=!!e}static setLogLevel(t){const e=bg[t.toLowerCase()];null!=e?Ag=e:Ng.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ng(t)}}Ng.errors=xg,Ng.levels=Eg;const Tg=new Ng("bytes/5.7.0");function Rg(t){return!!t.toHexString}function Cg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Cg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ig(t){return Lg(t)&&!(t.length%2)||kg(t)}function Pg(t){return"number"===typeof t&&t==t&&t%1===0}function kg(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Pg(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Pg(r)||r<0||r>=256)return!1}return!0}function Og(t,e){if(e||(e={}),"number"===typeof t){Tg.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Cg(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Rg(t)&&(t=t.toHexString()),Lg(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Tg.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Cg(new Uint8Array(n))}return kg(t)?Cg(new Uint8Array(t)):Tg.throwArgumentError("invalid arrayify value","value",t)}function Ug(t){const e=t.map((t=>Og(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Cg(n)}function Lg(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Bg="0123456789abcdef";function Dg(t,e){if(e||(e={}),"number"===typeof t){Tg.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Bg[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Rg(t))return t.toHexString();if(Lg(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Tg.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(kg(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Bg[(240&n)>>4]+Bg[15&n]}return e}return Tg.throwArgumentError("invalid hexlify value","value",t)}function Fg(t){if("string"!==typeof t)t=Dg(t);else if(!Lg(t)||t.length%2)return null;return(t.length-2)/2}function Gg(t,e,r){return"string"!==typeof t?t=Dg(t):(!Lg(t)||t.length%2)&&Tg.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}var zg=r(44768);var jg=r.n(zg)().BN;const Hg=new Ng("bignumber/5.7.0"),Wg={},Vg=9007199254740991;let qg=!1;class Kg{constructor(t,e){t!==Wg&&Hg.throwError("cannot call constructor directly; use BigNumber.from",Ng.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Xg(Yg(this).fromTwos(t))}toTwos(t){return Xg(Yg(this).toTwos(t))}abs(){return"-"===this._hex[0]?Kg.from(this._hex.substring(1)):this}add(t){return Xg(Yg(this).add(Yg(t)))}sub(t){return Xg(Yg(this).sub(Yg(t)))}div(t){return Kg.from(t).isZero()&&Qg("division-by-zero","div"),Xg(Yg(this).div(Yg(t)))}mul(t){return Xg(Yg(this).mul(Yg(t)))}mod(t){const e=Yg(t);return e.isNeg()&&Qg("division-by-zero","mod"),Xg(Yg(this).umod(e))}pow(t){const e=Yg(t);return e.isNeg()&&Qg("negative-power","pow"),Xg(Yg(this).pow(e))}and(t){const e=Yg(t);return(this.isNegative()||e.isNeg())&&Qg("unbound-bitwise-result","and"),Xg(Yg(this).and(e))}or(t){const e=Yg(t);return(this.isNegative()||e.isNeg())&&Qg("unbound-bitwise-result","or"),Xg(Yg(this).or(e))}xor(t){const e=Yg(t);return(this.isNegative()||e.isNeg())&&Qg("unbound-bitwise-result","xor"),Xg(Yg(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Qg("negative-width","mask"),Xg(Yg(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Qg("negative-width","shl"),Xg(Yg(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Qg("negative-width","shr"),Xg(Yg(this).shrn(t))}eq(t){return Yg(this).eq(Yg(t))}lt(t){return Yg(this).lt(Yg(t))}lte(t){return Yg(this).lte(Yg(t))}gt(t){return Yg(this).gt(Yg(t))}gte(t){return Yg(this).gte(Yg(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Yg(this).isZero()}toNumber(){try{return Yg(this).toNumber()}catch($I){Qg("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Hg.throwError("this platform does not support BigInt",Ng.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?qg||(qg=!0,Hg.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Hg.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ng.errors.UNEXPECTED_ARGUMENT,{}):Hg.throwError("BigNumber.toString does not accept parameters",Ng.errors.UNEXPECTED_ARGUMENT,{})),Yg(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Kg)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Kg(Wg,Jg(t)):t.match(/^-?[0-9]+$/)?new Kg(Wg,Jg(new jg(t))):Hg.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Qg("underflow","BigNumber.from",t),(t>=Vg||t<=-9007199254740991)&&Qg("overflow","BigNumber.from",t),Kg.from(String(t));const e=t;if("bigint"===typeof e)return Kg.from(e.toString());if(kg(e))return Kg.from(Dg(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return Kg.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Lg(t)||"-"===t[0]&&Lg(t.substring(1))))return Kg.from(t)}return Hg.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Jg(t){if("string"!==typeof t)return Jg(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Hg.throwArgumentError("invalid hex","value",t),"0x00"===(t=Jg(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Xg(t){return Kg.from(Jg(t))}function Yg(t){const e=Kg.from(t).toHexString();return"-"===e[0]?new jg("-"+e.substring(3),16):new jg(e.substring(2),16)}function Qg(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Hg.throwError(t,Ng.errors.NUMERIC_FAULT,n)}function Zg(t){return"0x"+st().keccak_256(Og(t))}const $g=new Ng("rlp/5.7.0");function tv(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function ev(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(ev(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=tv(e.length);return r.unshift(247+r.length),r.concat(e)}Ig(t)||$g.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Og(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=tv(e.length);return r.unshift(183+r.length),r.concat(e)}function rv(t){return Dg(ev(t))}const nv=new Ng("address/5.6.0");function iv(t){Lg(t,20)||nv.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Og(Zg(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const ov={};for(let tP=0;tP<10;tP++)ov[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)ov[String.fromCharCode(65+tP)]=String(10+tP);const sv=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function av(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>ov[t])).join("");for(;e.length>=sv;){let t=e.substring(0,sv);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function uv(t){let e=null;if("string"!==typeof t&&nv.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=iv(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&nv.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==av(t)&&nv.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new jg(r,36).toString(16);e.length<40;)e="0"+e;e=iv("0x"+e)}else nv.throwArgumentError("invalid address","address",t);var r;return e}function lv(t){try{return uv(t),!0}catch($I){}return!1}function hv(t){let e=(r=uv(t).substring(2),new jg(r,16).toString(36)).toUpperCase();for(var r;e.length<30;)e="0"+e;return"XE"+av("XE00"+e)+e}function cv(t){let e=null;try{e=uv(t.from)}catch($I){nv.throwArgumentError("missing from address","transaction",t)}return uv(Gg(Zg(rv([e,function(t){let e=Og(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}(Og(Kg.from(t.nonce).toHexString()))])),12))}function fv(t,e,r){return 32!==Fg(e)&&nv.throwArgumentError("salt must be 32 bytes","salt",e),32!==Fg(r)&&nv.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),uv(Gg(Zg(Ug(["0xff",uv(t),e,r])),12))}let dv=!1,pv=!1;const mv={debug:1,default:2,info:2,warning:3,error:4,off:5};let gv=mv.default,vv=null;const yv=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var wv,bv;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(wv||(wv={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(bv||(bv={}));const Av="0123456789abcdef";class Mv{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==mv[r]&&this.throwArgumentError("invalid log level name","logLevel",t),gv>mv[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Mv.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Mv.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Mv.levels.WARNING,e)}makeError(t,e,r){if(pv)return this.makeError("censored error",e,{});e||(e=Mv.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Av[e[t]>>4],r+=Av[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case bv.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case bv.CALL_EXCEPTION:case bv.INSUFFICIENT_FUNDS:case bv.MISSING_NEW:case bv.NONCE_EXPIRED:case bv.REPLACEMENT_UNDERPRICED:case bv.TRANSACTION_REPLACED:case bv.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Mv.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),yv&&this.throwError("platform missing String.prototype.normalize",Mv.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:yv})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Mv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Mv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Mv.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Mv.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Mv.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Mv.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Mv.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return vv||(vv=new Mv("logger/5.7.0")),vv}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Mv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),dv){if(!t)return;this.globalLogger().throwError("error censorship permanent",Mv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}pv=!!t,dv=!!e}static setLogLevel(t){const e=mv[t.toLowerCase()];null!=e?gv=e:Mv.globalLogger().warn("invalid log level - "+t)}static from(t){return new Mv(t)}}Mv.errors=bv,Mv.levels=wv;const _v=new Mv("bytes/5.7.0");function Ev(t){return!!t.toHexString}function xv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return xv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Sv(t){return"number"===typeof t&&t==t&&t%1===0}function Nv(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Sv(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Sv(r)||r<0||r>=256)return!1}return!0}function Tv(t,e){if(e||(e={}),"number"===typeof t){_v.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),xv(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ev(t)&&(t=t.toHexString()),Rv(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":_v.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return xv(new Uint8Array(n))}return Nv(t)?xv(new Uint8Array(t)):_v.throwArgumentError("invalid arrayify value","value",t)}function Rv(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function Cv(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Tv(e)}function Iv(t){t=Tv(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}let Pv=!1,kv=!1;const Ov={debug:1,default:2,info:2,warning:3,error:4,off:5};let Uv=Ov.default,Lv=null;const Bv=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var Dv,Fv;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Dv||(Dv={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Fv||(Fv={}));const Gv="0123456789abcdef";class zv{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ov[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Uv>Ov[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(zv.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(zv.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(zv.levels.WARNING,e)}makeError(t,e,r){if(kv)return this.makeError("censored error",e,{});e||(e=zv.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Gv[e[t]>>4],r+=Gv[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case Fv.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Fv.CALL_EXCEPTION:case Fv.INSUFFICIENT_FUNDS:case Fv.MISSING_NEW:case Fv.NONCE_EXPIRED:case Fv.REPLACEMENT_UNDERPRICED:case Fv.TRANSACTION_REPLACED:case Fv.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,zv.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Bv&&this.throwError("platform missing String.prototype.normalize",zv.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Bv})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,zv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,zv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,zv.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,zv.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",zv.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",zv.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",zv.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Lv||(Lv=new zv("logger/5.7.0")),Lv}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",zv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Pv){if(!t)return;this.globalLogger().throwError("error censorship permanent",zv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kv=!!t,Pv=!!e}static setLogLevel(t){const e=Ov[t.toLowerCase()];null!=e?Uv=e:zv.globalLogger().warn("invalid log level - "+t)}static from(t){return new zv(t)}}zv.errors=Fv,zv.levels=Dv;const jv=new zv("bytes/5.7.0");function Hv(t){return!!t.toHexString}function Wv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Wv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vv(t){return"number"===typeof t&&t==t&&t%1===0}function qv(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Vv(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Vv(r)||r<0||r>=256)return!1}return!0}function Kv(t,e){if(e||(e={}),"number"===typeof t){jv.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Wv(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Hv(t)&&(t=t.toHexString()),Jv(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":jv.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Wv(new Uint8Array(n))}return qv(t)?Wv(new Uint8Array(t)):jv.throwArgumentError("invalid arrayify value","value",t)}function Jv(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}new zv("properties/5.7.0");function Xv(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class Yv{constructor(t){Xv(this,"alphabet",t),Xv(this,"base",t.length),Xv(this,"_alphabetMap",{}),Xv(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Kv(t);if(0===e.length)return"";let r=[0];for(let i=0;i<e.length;++i){let t=e[i];for(let e=0;e<r.length;++e)t+=r[e]<<8,r[e]=t%this.base,t=t/this.base|0;for(;t>0;)r.push(t%this.base),t=t/this.base|0}let n="";for(let i=0;0===e[i]&&i<e.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(t){if("string"!==typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Kv(new Uint8Array(e.reverse()))}}new Yv("abcdefghijklmnopqrstuvwxyz234567");const Qv=new Yv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");let Zv=!1,$v=!1;const ty={debug:1,default:2,info:2,warning:3,error:4,off:5};let ey=ty.default,ry=null;const ny=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var iy,oy;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(iy||(iy={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(oy||(oy={}));const sy="0123456789abcdef";class ay{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==ty[r]&&this.throwArgumentError("invalid log level name","logLevel",t),ey>ty[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(ay.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(ay.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(ay.levels.WARNING,e)}makeError(t,e,r){if($v)return this.makeError("censored error",e,{});e||(e=ay.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=sy[e[t]>>4],r+=sy[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case oy.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case oy.CALL_EXCEPTION:case oy.INSUFFICIENT_FUNDS:case oy.MISSING_NEW:case oy.NONCE_EXPIRED:case oy.REPLACEMENT_UNDERPRICED:case oy.TRANSACTION_REPLACED:case oy.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ay.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),ny&&this.throwError("platform missing String.prototype.normalize",ay.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ny})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ay.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ay.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ay.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ay.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ay.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ay.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ay.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ry||(ry=new ay("logger/5.7.0")),ry}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ay.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Zv){if(!t)return;this.globalLogger().throwError("error censorship permanent",ay.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$v=!!t,Zv=!!e}static setLogLevel(t){const e=ty[t.toLowerCase()];null!=e?ey=e:ay.globalLogger().warn("invalid log level - "+t)}static from(t){return new ay(t)}}ay.errors=oy,ay.levels=iy;const uy=new ay("bytes/5.6.0");function ly(t){return!!t.toHexString}function hy(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return hy(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function cy(t){return yy(t)&&!(t.length%2)||dy(t)}function fy(t){return"number"===typeof t&&t==t&&t%1===0}function dy(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!fy(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!fy(r)||r<0||r>=256)return!1}return!0}function py(t,e){if(e||(e={}),"number"===typeof t){uy.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),hy(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ly(t)&&(t=t.toHexString()),yy(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":uy.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return hy(new Uint8Array(n))}return dy(t)?hy(new Uint8Array(t)):uy.throwArgumentError("invalid arrayify value","value",t)}function my(t){const e=t.map((t=>py(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),hy(n)}function gy(t){let e=py(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function vy(t,e){(t=py(t)).length>e&&uy.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),hy(r)}function yy(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const wy="0123456789abcdef";function by(t,e){if(e||(e={}),"number"===typeof t){uy.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=wy[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ly(t))return t.toHexString();if(yy(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":uy.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(dy(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=wy[(240&n)>>4]+wy[15&n]}return e}return uy.throwArgumentError("invalid hexlify value","value",t)}function Ay(t){if("string"!==typeof t)t=by(t);else if(!yy(t)||t.length%2)return null;return(t.length-2)/2}function My(t,e,r){return"string"!==typeof t?t=by(t):(!yy(t)||t.length%2)&&uy.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function _y(t){let e="0x";return t.forEach((t=>{e+=by(t).substring(2)})),e}function Ey(t){const e=xy(by(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function xy(t){"string"!==typeof t&&(t=by(t)),yy(t)||uy.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}function Sy(t,e){for("string"!==typeof t?t=by(t):yy(t)||uy.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&uy.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ny(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(cy(t)){let r=py(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=by(r.slice(0,32)),e.s=by(r.slice(32,64))):65===r.length?(e.r=by(r.slice(0,32)),e.s=by(r.slice(32,64)),e.v=r[64]):uy.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:uy.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=by(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=vy(py(e._vs),32);e._vs=by(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&uy.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=by(r);null==e.s?e.s=i:e.s!==i&&uy.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?uy.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&uy.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&yy(e.r)?e.r=Sy(e.r,32):uy.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&yy(e.s)?e.s=Sy(e.s,32):uy.throwArgumentError("signature missing or invalid s","signature",t);const r=py(e.s);r[0]>=128&&uy.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=by(r);e._vs&&(yy(e._vs)||uy.throwArgumentError("signature invalid _vs","signature",t),e._vs=Sy(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&uy.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Ty(t){return by(my([(t=Ny(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}let Ry=!1,Cy=!1;const Iy={debug:1,default:2,info:2,warning:3,error:4,off:5};let Py=Iy.default,ky=null;const Oy=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var Uy,Ly;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Uy||(Uy={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Ly||(Ly={}));const By="0123456789abcdef";class Dy{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Iy[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Py>Iy[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Dy.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Dy.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Dy.levels.WARNING,e)}makeError(t,e,r){if(Cy)return this.makeError("censored error",e,{});e||(e=Dy.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=By[e[t]>>4],r+=By[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case Ly.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Ly.CALL_EXCEPTION:case Ly.INSUFFICIENT_FUNDS:case Ly.MISSING_NEW:case Ly.NONCE_EXPIRED:case Ly.REPLACEMENT_UNDERPRICED:case Ly.TRANSACTION_REPLACED:case Ly.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Dy.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Oy&&this.throwError("platform missing String.prototype.normalize",Dy.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Oy})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Dy.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Dy.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Dy.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Dy.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Dy.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Dy.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Dy.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ky||(ky=new Dy("logger/5.7.0")),ky}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Dy.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ry){if(!t)return;this.globalLogger().throwError("error censorship permanent",Dy.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Cy=!!t,Ry=!!e}static setLogLevel(t){const e=Iy[t.toLowerCase()];null!=e?Py=e:Dy.globalLogger().warn("invalid log level - "+t)}static from(t){return new Dy(t)}}Dy.errors=Ly,Dy.levels=Uy;const Fy=new Dy("bytes/5.7.0");function Gy(t){return!!t.toHexString}function zy(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return zy(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jy(t){return"number"===typeof t&&t==t&&t%1===0}function Hy(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!jy(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!jy(r)||r<0||r>=256)return!1}return!0}function Wy(t,e){if(e||(e={}),"number"===typeof t){Fy.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),zy(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Gy(t)&&(t=t.toHexString()),qy(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Fy.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return zy(new Uint8Array(n))}return Hy(t)?zy(new Uint8Array(t)):Fy.throwArgumentError("invalid arrayify value","value",t)}function Vy(t){const e=t.map((t=>Wy(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),zy(n)}function qy(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Ky="0123456789abcdef";function Jy(t,e){if(e||(e={}),"number"===typeof t){Fy.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Ky[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Gy(t))return t.toHexString();if(qy(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Fy.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Hy(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Ky[(240&n)>>4]+Ky[15&n]}return e}return Fy.throwArgumentError("invalid hexlify value","value",t)}function Xy(t){let e="0x";return t.forEach((t=>{e+=Jy(t).substring(2)})),e}function Yy(t,e){for("string"!==typeof t?t=Jy(t):qy(t)||Fy.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Fy.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const Qy=new Dy("strings/5.7.0");var Zy,$y;function tw(t,e,r,n,i){if(t===$y.BAD_PREFIX||t===$y.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===$y.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Zy||(Zy={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}($y||($y={}));const ew=Object.freeze({error:function(t,e,r,n,i){return Qy.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:tw,replace:function(t,e,r,n,i){return t===$y.OVERLONG?(n.push(i),0):(n.push(65533),tw(t,e,r))}});function rw(t,e){null==e&&(e=ew.error),t=Wy(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?$y.UNEXPECTED_CONTINUE:$y.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e($y.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e($y.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e($y.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e($y.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e($y.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function nw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zy.current;e!=Zy.current&&(Qy.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return Wy(r)}function iw(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function ow(t){return rw(nw(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zy.current))}function sw(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function aw(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function uw(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const lw=aw("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),hw="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),cw=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],fw=sw("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),dw=sw("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),pw=sw("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),mw=aw("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function gw(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=ow(t);var r;r=e.map((t=>{if(hw.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=uw(t,cw);if(e)return[t+e.s];let r=fw[t];if(r)return r;let n=dw[t];return n?[t+n[0]]:pw[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=ow(iw(e),Zy.NFKC),e.forEach((t=>{if(uw(t,mw))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(uw(t,lw))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=iw(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");return n}function vw(t){return"0x"+st().keccak_256(Wy(t))}const yw="hash/5.6.0",ww=new Dy(yw),bw=new Uint8Array(32);bw.fill(0);const Aw=new RegExp("^((.*)\\.)?([^.]+)$");function Mw(t){try{const e=t.split(".");for(let t=0;t<e.length;t++)if(0===gw(e[t]).length)throw new Error("empty");return!0}catch($I){}return!1}function _w(t){"string"!==typeof t&&ww.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=bw;for(;e.length;){const n=e.match(Aw);null!=n&&""!==n[2]||ww.throwArgumentError("invalid ENS address; missing component","name",t);r=vw(Vy([r,vw(nw(gw(n[3])))])),e=n[2]||""}return Jy(r)}function Ew(t){return Jy(Vy(t.split(".").map((t=>{const e=nw("_"+gw(t));return e[0]=e.length-1,e}))))+"00"}const xw="\x19Ethereum Signed Message:\n";function Sw(t){return"string"===typeof t&&(t=nw(t)),vw(Vy([nw(xw),nw(String(t.length)),t]))}function Nw(t){return vw(nw(t))}var Tw=r(33602);var Rw=r.n(Tw)().BN;const Cw=new Dy("bignumber/5.7.0"),Iw={},Pw=9007199254740991;let kw=!1;class Ow{constructor(t,e){t!==Iw&&Cw.throwError("cannot call constructor directly; use BigNumber.from",Dy.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Lw(Bw(this).fromTwos(t))}toTwos(t){return Lw(Bw(this).toTwos(t))}abs(){return"-"===this._hex[0]?Ow.from(this._hex.substring(1)):this}add(t){return Lw(Bw(this).add(Bw(t)))}sub(t){return Lw(Bw(this).sub(Bw(t)))}div(t){return Ow.from(t).isZero()&&Dw("division-by-zero","div"),Lw(Bw(this).div(Bw(t)))}mul(t){return Lw(Bw(this).mul(Bw(t)))}mod(t){const e=Bw(t);return e.isNeg()&&Dw("division-by-zero","mod"),Lw(Bw(this).umod(e))}pow(t){const e=Bw(t);return e.isNeg()&&Dw("negative-power","pow"),Lw(Bw(this).pow(e))}and(t){const e=Bw(t);return(this.isNegative()||e.isNeg())&&Dw("unbound-bitwise-result","and"),Lw(Bw(this).and(e))}or(t){const e=Bw(t);return(this.isNegative()||e.isNeg())&&Dw("unbound-bitwise-result","or"),Lw(Bw(this).or(e))}xor(t){const e=Bw(t);return(this.isNegative()||e.isNeg())&&Dw("unbound-bitwise-result","xor"),Lw(Bw(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Dw("negative-width","mask"),Lw(Bw(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Dw("negative-width","shl"),Lw(Bw(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Dw("negative-width","shr"),Lw(Bw(this).shrn(t))}eq(t){return Bw(this).eq(Bw(t))}lt(t){return Bw(this).lt(Bw(t))}lte(t){return Bw(this).lte(Bw(t))}gt(t){return Bw(this).gt(Bw(t))}gte(t){return Bw(this).gte(Bw(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Bw(this).isZero()}toNumber(){try{return Bw(this).toNumber()}catch($I){Dw("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Cw.throwError("this platform does not support BigInt",Dy.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?kw||(kw=!0,Cw.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Cw.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Dy.errors.UNEXPECTED_ARGUMENT,{}):Cw.throwError("BigNumber.toString does not accept parameters",Dy.errors.UNEXPECTED_ARGUMENT,{})),Bw(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Ow)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Ow(Iw,Uw(t)):t.match(/^-?[0-9]+$/)?new Ow(Iw,Uw(new Rw(t))):Cw.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Dw("underflow","BigNumber.from",t),(t>=Pw||t<=-9007199254740991)&&Dw("overflow","BigNumber.from",t),Ow.from(String(t));const e=t;if("bigint"===typeof e)return Ow.from(e.toString());if(Hy(e))return Ow.from(Jy(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return Ow.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(qy(t)||"-"===t[0]&&qy(t.substring(1))))return Ow.from(t)}return Cw.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Uw(t){if("string"!==typeof t)return Uw(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Cw.throwArgumentError("invalid hex","value",t),"0x00"===(t=Uw(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Lw(t){return Ow.from(Uw(t))}function Bw(t){const e=Ow.from(t).toHexString();return"-"===e[0]?new Rw("-"+e.substring(3),16):new Rw(e.substring(2),16)}function Dw(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Cw.throwError(t,Dy.errors.NUMERIC_FAULT,n)}const Fw=new Dy("address/5.7.0");function Gw(t){qy(t,20)||Fw.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Wy(vw(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const zw={};for(let tP=0;tP<10;tP++)zw[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)zw[String.fromCharCode(65+tP)]=String(10+tP);const jw=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Hw(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>zw[t])).join("");for(;e.length>=jw;){let t=e.substring(0,jw);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Ww(t){let e=null;if("string"!==typeof t&&Fw.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Gw(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Fw.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Hw(t)&&Fw.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Rw(r,36).toString(16);e.length<40;)e="0"+e;e=Gw("0x"+e)}else Fw.throwArgumentError("invalid address","address",t);var r;return e}const Vw=new Dy("properties/5.7.0");function qw(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Kw(t){const e={};for(const r in t)e[r]=t[r];return e}const Jw={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Xw(t){if(void 0===t||null===t||Jw[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch($I){continue}if(!Xw(n))return!1}return!0}return Vw.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Yw(t){if(Xw(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Qw(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&qw(e,r,Qw(n))}return e}return Vw.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Qw(t){return Yw(t)}var Zw=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const $w=new Dy(yw),tb=new Uint8Array(32);tb.fill(0);const eb=Ow.from(-1),rb=Ow.from(0),nb=Ow.from(1),ib=Ow.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const ob=Yy(nb.toHexString(),32),sb=Yy(rb.toHexString(),32),ab={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ub=["name","version","chainId","verifyingContract","salt"];function lb(t){return function(e){return"string"!==typeof e&&$w.throwArgumentError("invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}const hb={name:lb("name"),version:lb("version"),chainId:function(t){try{return Ow.from(t).toString()}catch($I){}return $w.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ww(t).toLowerCase()}catch($I){}return $w.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Wy(t);if(32!==e.length)throw new Error("bad length");return Jy(e)}catch($I){}return $w.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function cb(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&$w.throwArgumentError("invalid numeric width","type",t);const i=ib.mask(r?n-1:n),o=r?i.add(nb).mul(eb):rb;return function(e){const r=Ow.from(e);return(r.lt(o)||r.gt(i))&&$w.throwArgumentError("value out-of-bounds for ".concat(t),"value",e),Yy(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&$w.throwArgumentError("invalid bytes width","type",t),function(e){return Wy(e).length!==r&&$w.throwArgumentError("invalid length for ".concat(t),"value",e),function(t){const e=Wy(t),r=e.length%32;return r?Xy([e,tb.slice(r)]):Jy(e)}(e)}}}switch(t){case"address":return function(t){return Yy(Ww(t),32)};case"bool":return function(t){return t?ob:sb};case"bytes":return function(t){return vw(t)};case"string":return function(t){return Nw(t)}}return null}function fb(t,e){return"".concat(t,"(").concat(e.map((t=>{let{name:e,type:r}=t;return r+" "+e})).join(","),")")}class db{constructor(t){qw(this,"types",Object.freeze(Qw(t))),qw(this,"_encoderCache",{}),qw(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const o in t){const n={};t[o].forEach((i=>{n[i.name]&&$w.throwArgumentError("duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(o)),"types",t),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&$w.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",t);cb(s)||(r[s]||$w.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",t),r[s].push(o),e[o][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?$w.throwArgumentError("missing primary type","types",t):i.length>1&&$w.throwArgumentError("ambiguous primary types or unused types: ".concat(i.map((t=>JSON.stringify(t))).join(", ")),"types",t),qw(this,"primaryType",i[0]),function i(o,s){s[o]&&$w.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const e=Object.keys(n[o]);e.sort(),this._types[o]=fb(o,t[o])+e.map((e=>fb(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=cb(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(vw)),vw(Xy(i))}}const r=this.types[t];if(r){const e=Nw(this._types[t]);return t=>{const n=r.map((e=>{let{name:r,type:n}=e;const i=this.getEncoder(n)(t[r]);return this._types[n]?vw(i):i}));return n.unshift(e),Xy(n)}}return $w.throwArgumentError("unknown type: ".concat(t),"type",t)}encodeType(t){const e=this._types[t];return e||$w.throwArgumentError("unknown type: ".concat(JSON.stringify(t)),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return vw(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(cb(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,n)=>{let{name:i,type:o}=n;return t[i]=this._visit(o,e[i],r),t}),{}):$w.throwArgumentError("unknown type: ".concat(t),"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new db(t)}static getPrimaryType(t){return db.from(t).primaryType}static hashStruct(t,e,r){return db.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=ab[r];n||$w.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>ub.indexOf(t.name)-ub.indexOf(e.name))),db.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Xy(["0x1901",db.hashDomain(t),db.from(e).hash(r)])}static hash(t,e,r){return vw(db.encode(t,e,r))}static resolveNames(t,e,r,n){return Zw(this,void 0,void 0,(function*(){t=Kw(t);const i={};t.verifyingContract&&!qy(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=db.from(e);o.visit(r,((t,e)=>("address"!==t||qy(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){db.hashDomain(t);const n={},i=[];ub.forEach((e=>{const r=t[e];null!=r&&(n[e]=hb[e](r),i.push({name:e,type:ab[e]}))}));const o=db.from(e),s=Kw(e);return s.EIP712Domain?$w.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Jy(Wy(e));if(t.match(/^u?int/))return Ow.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!==typeof e&&$w.throwArgumentError("invalid string","value",e),e}return $w.throwArgumentError("unsupported type","type",t)}))}}}let pb=!1,mb=!1;const gb={debug:1,default:2,info:2,warning:3,error:4,off:5};let vb=gb.default,yb=null;const wb=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var bb,Ab;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(bb||(bb={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Ab||(Ab={}));const Mb="0123456789abcdef";class _b{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==gb[r]&&this.throwArgumentError("invalid log level name","logLevel",t),vb>gb[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_b.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_b.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_b.levels.WARNING,e)}makeError(t,e,r){if(mb)return this.makeError("censored error",e,{});e||(e=_b.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Mb[e[t]>>4],r+=Mb[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case Ab.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Ab.CALL_EXCEPTION:case Ab.INSUFFICIENT_FUNDS:case Ab.MISSING_NEW:case Ab.NONCE_EXPIRED:case Ab.REPLACEMENT_UNDERPRICED:case Ab.TRANSACTION_REPLACED:case Ab.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,_b.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),wb&&this.throwError("platform missing String.prototype.normalize",_b.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wb})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,_b.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,_b.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,_b.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,_b.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",_b.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",_b.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",_b.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return yb||(yb=new _b("logger/5.7.0")),yb}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",_b.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),pb){if(!t)return;this.globalLogger().throwError("error censorship permanent",_b.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}mb=!!t,pb=!!e}static setLogLevel(t){const e=gb[t.toLowerCase()];null!=e?vb=e:_b.globalLogger().warn("invalid log level - "+t)}static from(t){return new _b(t)}}_b.errors=Ab,_b.levels=bb;const Eb=new _b("bytes/5.7.0");function xb(t){return!!t.toHexString}function Sb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Nb(t){return"number"===typeof t&&t==t&&t%1===0}function Tb(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Nb(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Nb(r)||r<0||r>=256)return!1}return!0}function Rb(t,e){if(e||(e={}),"number"===typeof t){Eb.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Sb(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),xb(t)&&(t=t.toHexString()),Ib(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Eb.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Sb(new Uint8Array(n))}return Tb(t)?Sb(new Uint8Array(t)):Eb.throwArgumentError("invalid arrayify value","value",t)}function Cb(t){const e=t.map((t=>Rb(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Sb(n)}function Ib(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Pb="0123456789abcdef";function kb(t,e){if(e||(e={}),"number"===typeof t){Eb.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Pb[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),xb(t))return t.toHexString();if(Ib(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Eb.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Tb(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Pb[(240&n)>>4]+Pb[15&n]}return e}return Eb.throwArgumentError("invalid hexlify value","value",t)}function Ob(t,e,r){return"string"!==typeof t?t=kb(t):(!Ib(t)||t.length%2)&&Eb.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ub(t,e){for("string"!==typeof t?t=kb(t):Ib(t)||Eb.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Eb.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Lb(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ib(r=t)&&!(r.length%2)||Tb(r)){let r=Rb(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=kb(r.slice(0,32)),e.s=kb(r.slice(32,64))):65===r.length?(e.r=kb(r.slice(0,32)),e.s=kb(r.slice(32,64)),e.v=r[64]):Eb.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Eb.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=kb(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Rb(t)).length>e&&Eb.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Sb(r)}(Rb(e._vs),32);e._vs=kb(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Eb.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=kb(r);null==e.s?e.s=i:e.s!==i&&Eb.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Eb.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Eb.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Ib(e.r)?e.r=Ub(e.r,32):Eb.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Ib(e.s)?e.s=Ub(e.s,32):Eb.throwArgumentError("signature missing or invalid s","signature",t);const r=Rb(e.s);r[0]>=128&&Eb.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=kb(r);e._vs&&(Ib(e._vs)||Eb.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ub(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Eb.throwArgumentError("signature _vs mismatch v and s","signature",t)}var r;return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}new _b("properties/5.7.0");function Bb(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class Db{constructor(t){Bb(this,"alphabet",t),Bb(this,"base",t.length),Bb(this,"_alphabetMap",{}),Bb(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Rb(t);if(0===e.length)return"";let r=[0];for(let i=0;i<e.length;++i){let t=e[i];for(let e=0;e<r.length;++e)t+=r[e]<<8,r[e]=t%this.base,t=t/this.base|0;for(;t>0;)r.push(t%this.base),t=t/this.base|0}let n="";for(let i=0;0===e[i]&&i<e.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(t){if("string"!==typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Rb(new Uint8Array(e.reverse()))}}new Db("abcdefghijklmnopqrstuvwxyz234567");const Fb=new Db("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Gb=r(61803),zb=r.n(Gb);var jb=zb().BN;const Hb=new _b("bignumber/5.7.0"),Wb={},Vb=9007199254740991;let qb=!1;class Kb{constructor(t,e){t!==Wb&&Hb.throwError("cannot call constructor directly; use BigNumber.from",_b.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Xb(Yb(this).fromTwos(t))}toTwos(t){return Xb(Yb(this).toTwos(t))}abs(){return"-"===this._hex[0]?Kb.from(this._hex.substring(1)):this}add(t){return Xb(Yb(this).add(Yb(t)))}sub(t){return Xb(Yb(this).sub(Yb(t)))}div(t){return Kb.from(t).isZero()&&Qb("division-by-zero","div"),Xb(Yb(this).div(Yb(t)))}mul(t){return Xb(Yb(this).mul(Yb(t)))}mod(t){const e=Yb(t);return e.isNeg()&&Qb("division-by-zero","mod"),Xb(Yb(this).umod(e))}pow(t){const e=Yb(t);return e.isNeg()&&Qb("negative-power","pow"),Xb(Yb(this).pow(e))}and(t){const e=Yb(t);return(this.isNegative()||e.isNeg())&&Qb("unbound-bitwise-result","and"),Xb(Yb(this).and(e))}or(t){const e=Yb(t);return(this.isNegative()||e.isNeg())&&Qb("unbound-bitwise-result","or"),Xb(Yb(this).or(e))}xor(t){const e=Yb(t);return(this.isNegative()||e.isNeg())&&Qb("unbound-bitwise-result","xor"),Xb(Yb(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Qb("negative-width","mask"),Xb(Yb(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Qb("negative-width","shl"),Xb(Yb(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Qb("negative-width","shr"),Xb(Yb(this).shrn(t))}eq(t){return Yb(this).eq(Yb(t))}lt(t){return Yb(this).lt(Yb(t))}lte(t){return Yb(this).lte(Yb(t))}gt(t){return Yb(this).gt(Yb(t))}gte(t){return Yb(this).gte(Yb(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Yb(this).isZero()}toNumber(){try{return Yb(this).toNumber()}catch($I){Qb("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Hb.throwError("this platform does not support BigInt",_b.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?qb||(qb=!0,Hb.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Hb.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",_b.errors.UNEXPECTED_ARGUMENT,{}):Hb.throwError("BigNumber.toString does not accept parameters",_b.errors.UNEXPECTED_ARGUMENT,{})),Yb(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Kb)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Kb(Wb,Jb(t)):t.match(/^-?[0-9]+$/)?new Kb(Wb,Jb(new jb(t))):Hb.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&Qb("underflow","BigNumber.from",t),(t>=Vb||t<=-9007199254740991)&&Qb("overflow","BigNumber.from",t),Kb.from(String(t));const e=t;if("bigint"===typeof e)return Kb.from(e.toString());if(Tb(e))return Kb.from(kb(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return Kb.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Ib(t)||"-"===t[0]&&Ib(t.substring(1))))return Kb.from(t)}return Hb.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Jb(t){if("string"!==typeof t)return Jb(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Hb.throwArgumentError("invalid hex","value",t),"0x00"===(t=Jb(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Xb(t){return Kb.from(Jb(t))}function Yb(t){const e=Kb.from(t).toHexString();return"-"===e[0]?new jb("-"+e.substring(3),16):new jb(e.substring(2),16)}function Qb(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Hb.throwError(t,_b.errors.NUMERIC_FAULT,n)}const Zb=new _b("strings/5.7.0");var $b,tA;function eA(t,e,r,n,i){if(t===tA.BAD_PREFIX||t===tA.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===tA.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}($b||($b={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(tA||(tA={}));Object.freeze({error:function(t,e,r,n,i){return Zb.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:eA,replace:function(t,e,r,n,i){return t===tA.OVERLONG?(n.push(i),0):(n.push(65533),eA(t,e,r))}});function rA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$b.current;e!=$b.current&&(Zb.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return Rb(r)}var nA;!function(t){t.sha256="sha256",t.sha512="sha512"}(nA||(nA={}));const iA=new _b("sha2/5.7.0");function oA(t){return"0x"+eo().sha256().update(Rb(t)).digest("hex")}function sA(t,e,r){return nA[t]||iA.throwError("unsupported algorithm "+t,_b.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+eo().hmac(eo()[t],Rb(e)).update(Rb(r)).digest("hex")}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function aA(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var uA=lA;function lA(t,e){if(!t)throw new Error(e||"Assertion failed")}lA.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var hA=aA((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),cA=aA((function(t,e){var r=e;r.assert=uA,r.toArray=hA.toArray,r.zero2=hA.zero2,r.toHex=hA.toHex,r.encode=hA.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(zb())(t,"hex","le")}})),fA=cA.getNAF,dA=cA.getJSF,pA=cA.assert;function mA(t,e){this.type=t,this.p=new(zb())(e.p,16),this.red=e.prime?zb().red(e.prime):zb().mont(this.p),this.zero=new(zb())(0).toRed(this.red),this.one=new(zb())(1).toRed(this.red),this.two=new(zb())(2).toRed(this.red),this.n=e.n&&new(zb())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var gA=mA;function vA(t,e){this.curve=t,this.type=e,this.precomputed=null}mA.prototype.point=function(){throw new Error("Not implemented")},mA.prototype.validate=function(){throw new Error("Not implemented")},mA.prototype._fixedNafMul=function(t,e){pA(t.precomputed);var r=t._getDoubles(),n=fA(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<a.length;o++)(s=a[o])===c?h=h.mixedAdd(r.points[o]):s===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},mA.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=fA(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];pA(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},mA.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=dA(r[d],r[p]);for(c=Math.max(v[0].length,c),h[d]=new Array(c),h[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],w=0|v[1][s];h[d][s]=g[3*(y+1)+(w+1)],h[p][s]=0,l[d]=m}}else h[d]=fA(r[d],u[d],this._bitLength),h[p]=fA(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(o=c;o>=0;o--){for(var M=0;o>=0;){var _=!0;for(s=0;s<n;s++)A[s]=0|h[s][o],0!==A[s]&&(_=!1);if(!_)break;M++,o--}if(o>=0&&M++,b=b.dblp(M),o<0)break;for(s=0;s<n;s++){var E=A[s];0!==E&&(E>0?a=l[s][E-1>>1]:E<0&&(a=l[s][-E-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},mA.BasePoint=vA,vA.prototype.eq=function(){throw new Error("Not implemented")},vA.prototype.validate=function(){return this.curve.validate(this)},mA.prototype.decodePoint=function(t,e){t=cA.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?pA(t[t.length-1]%2===0):7===t[0]&&pA(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},vA.prototype.encodeCompressed=function(t){return this.encode(t,!0)},vA.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},vA.prototype.encode=function(t,e){return cA.encode(this._encode(e),t)},vA.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},vA.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},vA.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},vA.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},vA.prototype._getBeta=function(){return null},vA.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var yA=aA((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),wA=cA.assert;function bA(t){gA.call(this,"short",t),this.a=new(zb())(t.a,16).toRed(this.red),this.b=new(zb())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}yA(bA,gA);var AA=bA;function MA(t,e,r,n){gA.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(zb())(e,16),this.y=new(zb())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function _A(t,e,r,n){gA.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(zb())(0)):(this.x=new(zb())(e,16),this.y=new(zb())(r,16),this.z=new(zb())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bA.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(zb())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(zb())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],wA(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(zb())(t.a,16),b:new(zb())(t.b,16)}})):this._getEndoBasis(r)}}},bA.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:zb().mont(t),r=new(zb())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(zb())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},bA.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(zb())(1),p=new(zb())(0),m=new(zb())(0),g=new(zb())(1),v=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=m.sub(y.mul(d));var w=g.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;a=u,f=c,c=u,m=d,d=l,g=p,p=w}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},bA.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},bA.prototype.pointFromX=function(t,e){(t=new(zb())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},bA.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},bA.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},yA(MA,gA.BasePoint),bA.prototype.point=function(t,e,r){return new MA(this,t,e,r)},bA.prototype.pointFromJSON=function(t,e){return MA.fromJSON(this,t,e)},MA.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},MA.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},MA.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},MA.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},MA.prototype.isInfinity=function(){return this.inf},MA.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},MA.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},MA.prototype.getX=function(){return this.x.fromRed()},MA.prototype.getY=function(){return this.y.fromRed()},MA.prototype.mul=function(t){return t=new(zb())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},MA.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},MA.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},MA.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},MA.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},MA.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},yA(_A,gA.BasePoint),bA.prototype.jpoint=function(t,e,r){return new _A(this,t,e,r)},_A.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},_A.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},_A.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},_A.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},_A.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=y,l=v}return this.curve.jpoint(o,l.redMul(i),a)},_A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},_A.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},_A.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},_A.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},_A.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,f,d)},_A.prototype.mul=function(t,e){return t=new(zb())(t,e),this.curve._wnafMul(this,t)},_A.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},_A.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},_A.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},_A.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var EA=aA((function(t,e){var r=e;r.base=gA,r.short=AA,r.mont=null,r.edwards=null})),xA=aA((function(t,e){var r,n=e,i=cA.assert;function o(t){"short"===t.type?this.curve=new EA.short(t):"edwards"===t.type?this.curve=new EA.edwards(t):this.curve=new EA.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:eo().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:eo().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:eo().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:eo().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:eo().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:eo().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function SA(t){if(!(this instanceof SA))return new SA(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=hA.toArray(t.entropy,t.entropyEnc||"hex"),r=hA.toArray(t.nonce,t.nonceEnc||"hex"),n=hA.toArray(t.pers,t.persEnc||"hex");uA(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var NA=SA;SA.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},SA.prototype._hmac=function(){return new(eo().hmac)(this.hash,this.K)},SA.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},SA.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=hA.toArray(t,e),r=hA.toArray(r,n),uA(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},SA.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=hA.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,hA.encode(o,e)};var TA=cA.assert;function RA(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var CA=RA;RA.fromPublic=function(t,e,r){return e instanceof RA?e:new RA(t,{pub:e,pubEnc:r})},RA.fromPrivate=function(t,e,r){return e instanceof RA?e:new RA(t,{priv:e,privEnc:r})},RA.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},RA.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},RA.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},RA.prototype._importPrivate=function(t,e){this.priv=new(zb())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},RA.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?TA(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||TA(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},RA.prototype.derive=function(t){return t.validate()||TA(t.validate(),"public point not validated"),t.mul(this.priv).getX()},RA.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},RA.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},RA.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var IA=cA.assert;function PA(t,e){if(t instanceof PA)return t;this._importDER(t,e)||(IA(t.r&&t.s,"Signature without r or s"),this.r=new(zb())(t.r,16),this.s=new(zb())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var kA=PA;function OA(){this.place=0}function UA(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function LA(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function BA(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}PA.prototype._importDER=function(t,e){t=cA.toArray(t,e);var r=new OA;if(48!==t[r.place++])return!1;var n=UA(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=UA(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=UA(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(zb())(o),this.s=new(zb())(a),this.recoveryParam=null,!0},PA.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=LA(e),r=LA(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];BA(n,e.length),(n=n.concat(e)).push(2),BA(n,r.length);var i=n.concat(r),o=[48];return BA(o,i.length),o=o.concat(i),cA.encode(o,t)};var DA=function(){throw new Error("unsupported")},FA=cA.assert;function GA(t){if(!(this instanceof GA))return new GA(t);"string"===typeof t&&(FA(Object.prototype.hasOwnProperty.call(xA,t),"Unknown curve "+t),t=xA[t]),t instanceof xA.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var zA=GA;GA.prototype.keyPair=function(t){return new CA(this,t)},GA.prototype.keyFromPrivate=function(t,e){return CA.fromPrivate(this,t,e)},GA.prototype.keyFromPublic=function(t,e){return CA.fromPublic(this,t,e)},GA.prototype.genKeyPair=function(t){t||(t={});for(var e=new NA({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||DA(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(zb())(2));;){var i=new(zb())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},GA.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},GA.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(zb())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new NA({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(zb())(1)),l=0;;l++){var h=n.k?n.k(l):new(zb())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new kA({r:d,s:p,recoveryParam:m})}}}}}},GA.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(zb())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new kA(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},GA.prototype.recoverPubKey=function(t,e,r,n){FA((3&r)===r,"The recovery param is more than two bits"),e=new kA(e,n);var i=this.n,o=new(zb())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=a.mul(h).umod(i);return this.g.mulAdd(c,s,f)},GA.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new kA(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var jA=aA((function(t,e){var r=e;r.version="6.5.4",r.utils=cA,r.rand=function(){throw new Error("unsupported")},r.curve=EA,r.curves=xA,r.ec=zA,r.eddsa=null})).ec;const HA=new _b("signing-key/5.7.0");let WA=null;function VA(){return WA||(WA=new jA("secp256k1")),WA}class qA{constructor(t){Bb(this,"curve","secp256k1"),Bb(this,"privateKey",kb(t)),32!==function(t){if("string"!==typeof t)t=kb(t);else if(!Ib(t)||t.length%2)return null;return(t.length-2)/2}(this.privateKey)&&HA.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=VA().keyFromPrivate(Rb(this.privateKey));Bb(this,"publicKey","0x"+e.getPublic(!1,"hex")),Bb(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Bb(this,"_isSigningKey",!0)}_addPoint(t){const e=VA().keyFromPublic(Rb(this.publicKey)),r=VA().keyFromPublic(Rb(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=VA().keyFromPrivate(Rb(this.privateKey)),r=Rb(t);32!==r.length&&HA.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return Lb({recoveryParam:n.recoveryParam,r:Ub("0x"+n.r.toString(16),32),s:Ub("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=VA().keyFromPrivate(Rb(this.privateKey)),r=VA().keyFromPublic(Rb(KA(t)));return Ub("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function KA(t,e){const r=Rb(t);if(32===r.length){const t=new qA(r);return e?"0x"+VA().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?kb(r):"0x"+VA().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+VA().keyFromPublic(r).getPublic(!0,"hex"):kb(r):HA.throwArgumentError("invalid public or private key","key","[REDACTED]")}function JA(t){return"0x"+st().keccak_256(Rb(t))}const XA=new _b("address/5.7.0");function YA(t){Ib(t,20)||XA.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Rb(JA(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const QA={};for(let tP=0;tP<10;tP++)QA[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)QA[String.fromCharCode(65+tP)]=String(10+tP);const ZA=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function $A(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>QA[t])).join("");for(;e.length>=ZA;){let t=e.substring(0,ZA);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function tM(t){let e=null;if("string"!==typeof t&&XA.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=YA(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&XA.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==$A(t)&&XA.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new jb(r,36).toString(16);e.length<40;)e="0"+e;e=YA("0x"+e)}else XA.throwArgumentError("invalid address","address",t);var r;return e}new _b("transactions/5.7.0");var eM;!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(eM||(eM={}));function rM(t){return tM(Ob(JA(Ob(KA(t),1)),12))}const nM=new _b("wordlists/5.7.0");class iM{constructor(t){nM.checkAbstract(new.target,iM),Bb(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return JA(rA(e.join("\n")+"\n"))}static register(t,e){e||(e=t.locale)}}let oM=null;function sM(t){if(null==oM&&(oM="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==iM.check(t)))throw oM=null,new Error("BIP39 Wordlist for en (English) FAILED")}const aM=new class extends iM{constructor(){super("en")}getWord(t){return sM(this),oM[t]}getWordIndex(t){return sM(this),oM.indexOf(t)}};iM.register(aM);const uM={en:aM},lM=new _b("hdnode/5.6.0"),hM=Kb.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cM=rA("Bitcoin seed"),fM=2147483648;function dM(t){return(1<<t)-1<<8-t}function pM(t){return Ub(kb(t),32)}function mM(t){return Fb.encode(Cb([t,Ob(oA(oA(t)),0,4)]))}function gM(t){if(null==t)return uM.en;if("string"===typeof t){const e=uM[t];return null==e&&lM.throwArgumentError("unknown locale","wordlist",t),e}return t}const vM={},yM="m/44'/60'/0'/0/0";class wM{constructor(t,e,r,n,i,o,s,a){if(lM.checkNew(new.target,wM),t!==vM)throw new Error("HDNode constructor cannot be called directly");if(e){const t=new qA(e);Bb(this,"privateKey",t.privateKey),Bb(this,"publicKey",t.compressedPublicKey)}else Bb(this,"privateKey",null),Bb(this,"publicKey",kb(r));var u;Bb(this,"parentFingerprint",n),Bb(this,"fingerprint",Ob((u=oA(this.publicKey),"0x"+eo().ripemd160().update(Rb(u)).digest("hex")),0,4)),Bb(this,"address",rM(this.publicKey)),Bb(this,"chainCode",i),Bb(this,"index",o),Bb(this,"depth",s),null==a?(Bb(this,"mnemonic",null),Bb(this,"path",null)):"string"===typeof a?(Bb(this,"mnemonic",null),Bb(this,"path",a)):(Bb(this,"mnemonic",a),Bb(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return mM(Cb([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",kb(this.depth),this.parentFingerprint,Ub(kb(this.index),4),this.chainCode,null!=this.privateKey?Cb(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new wM(vM,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let e=this.path;e&&(e+="/"+(t&~fM));const r=new Uint8Array(37);if(t&fM){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Rb(this.privateKey),1),e&&(e+="'")}else r.set(Rb(this.publicKey));for(let h=24;h>=0;h-=8)r[33+(h>>3)]=t>>24-h&255;const n=Rb(sA(nA.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;if(this.privateKey)s=pM(Kb.from(i).add(this.privateKey).mod(hM));else{a=new qA(kb(i))._addPoint(this.publicKey)}let u=e;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:e,locale:l.locale||"en"})),new wM(vM,s,a,this.fingerprint,pM(o),t,this.depth+1,u)}derivePath(t){const e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();let r=this;for(let n=0;n<e.length;n++){const t=e[n];if(t.match(/^[0-9]+'$/)){const e=parseInt(t.substring(0,t.length-1));if(e>=fM)throw new Error("invalid path index - "+t);r=r._derive(fM+e)}else{if(!t.match(/^[0-9]+$/))throw new Error("invalid path component - "+t);{const e=parseInt(t);if(e>=fM)throw new Error("invalid path index - "+t);r=r._derive(e)}}}return r}static _fromSeed(t,e){const r=Rb(t);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=Rb(sA(nA.sha512,cM,r));return new wM(vM,pM(n.slice(0,32)),null,"0x00000000",pM(n.slice(32)),0,0,e)}static fromMnemonic(t,e,r){return t=MM(AM(t,r=gM(r)),r),wM._fromSeed(bM(t,e),{phrase:t,path:"m",locale:r.locale})}static fromSeed(t){return wM._fromSeed(t,null)}static fromExtendedKey(t){const e=Fb.decode(t);82===e.length&&mM(e.slice(0,78))===t||lM.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=e[4],n=kb(e.slice(5,9)),i=parseInt(kb(e.slice(9,13)).substring(2),16),o=kb(e.slice(13,45)),s=e.slice(45,78);switch(kb(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new wM(vM,null,kb(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new wM(vM,kb(s.slice(1)),null,n,o,i,r,null)}return lM.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function bM(t,e){e||(e="");const r=rA("mnemonic"+e,$b.NFKD);return function(t,e,r,n,i){let o;t=Rb(t),e=Rb(e);let s=1;const a=new Uint8Array(n),u=new Uint8Array(e.length+4);let l,h;u.set(e);for(let c=1;c<=s;c++){u[e.length]=c>>24&255,u[e.length+1]=c>>16&255,u[e.length+2]=c>>8&255,u[e.length+3]=255&c;let f=Rb(sA(i,t,u));o||(o=f.length,h=new Uint8Array(o),s=Math.ceil(n/o),l=n-(s-1)*o),h.set(f);for(let e=1;e<r;e++){f=Rb(sA(i,t,f));for(let t=0;t<o;t++)h[t]^=f[t]}const d=(c-1)*o,p=c===s?l:o;a.set(Rb(h).slice(0,p),d)}return kb(a)}(rA(t,$b.NFKD),r,2048,64,"sha512")}function AM(t,e){e=gM(e),lM.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Rb(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let a=0;a<r.length;a++){let t=e.getWordIndex(r[a].normalize("NFKD"));if(-1===t)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)t&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=dM(r.length/3);if((Rb(oA(n.slice(0,o/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return kb(n.slice(0,o/8))}function MM(t,e){if(e=gM(e),(t=Rb(t)).length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&(1<<8-n)-1),n+=3);const i=t.length/4,o=Rb(oA(t))[0]&dM(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map((t=>e.getWord(t))))}function _M(t,e){try{return AM(t,e),!0}catch($I){}return!1}function EM(t){return("number"!==typeof t||t<0||t>=fM||t%1)&&lM.throwArgumentError("invalid account index","index",t),"m/44'/60'/".concat(t,"'/0/0")}let xM=!1,SM=!1;const NM={debug:1,default:2,info:2,warning:3,error:4,off:5};let TM=NM.default,RM=null;const CM=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var IM,PM;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(IM||(IM={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(PM||(PM={}));const kM="0123456789abcdef";class OM{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==NM[r]&&this.throwArgumentError("invalid log level name","logLevel",t),TM>NM[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(OM.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(OM.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(OM.levels.WARNING,e)}makeError(t,e,r){if(SM)return this.makeError("censored error",e,{});e||(e=OM.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=kM[e[t]>>4],r+=kM[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case PM.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case PM.CALL_EXCEPTION:case PM.INSUFFICIENT_FUNDS:case PM.MISSING_NEW:case PM.NONCE_EXPIRED:case PM.REPLACEMENT_UNDERPRICED:case PM.TRANSACTION_REPLACED:case PM.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,OM.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),CM&&this.throwError("platform missing String.prototype.normalize",OM.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:CM})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,OM.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,OM.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,OM.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,OM.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",OM.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",OM.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",OM.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return RM||(RM=new OM("logger/5.7.0")),RM}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",OM.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),xM){if(!t)return;this.globalLogger().throwError("error censorship permanent",OM.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}SM=!!t,xM=!!e}static setLogLevel(t){const e=NM[t.toLowerCase()];null!=e?TM=e:OM.globalLogger().warn("invalid log level - "+t)}static from(t){return new OM(t)}}OM.errors=PM,OM.levels=IM;const UM=new OM("bytes/5.7.0");function LM(t){return!!t.toHexString}function BM(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return BM(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function DM(t){return"number"===typeof t&&t==t&&t%1===0}function FM(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!DM(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!DM(r)||r<0||r>=256)return!1}return!0}function GM(t,e){if(e||(e={}),"number"===typeof t){UM.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),BM(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),LM(t)&&(t=t.toHexString()),zM(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":UM.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return BM(new Uint8Array(n))}return FM(t)?BM(new Uint8Array(t)):UM.throwArgumentError("invalid arrayify value","value",t)}function zM(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var jM=r(84382);var HM=r.n(jM)().BN;new OM("bignumber/5.7.0");const WM=new OM("address/5.7.0");function VM(t){zM(t,20)||WM.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let o=0;o<40;o++)r[o]=e[o].charCodeAt(0);const n=GM((i=r,"0x"+st().keccak_256(GM(i))));var i;for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(15&n[o>>1])>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const qM={};for(let tP=0;tP<10;tP++)qM[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)qM[String.fromCharCode(65+tP)]=String(10+tP);const KM=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function JM(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>qM[t])).join("");for(;e.length>=KM;){let t=e.substring(0,KM);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function XM(t){let e=null;if("string"!==typeof t&&WM.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=VM(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&WM.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==JM(t)&&WM.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new HM(r,36).toString(16);e.length<40;)e="0"+e;e=VM("0x"+e)}else WM.throwArgumentError("invalid address","address",t);var r;return e}function YM(t){if(function(t){let e=null;try{e=JSON.parse(t)}catch($I){return!1}return e.encseed&&e.ethaddr}(t))try{return XM(JSON.parse(t).ethaddr)}catch($I){return null}if(function(t){let e=null;try{e=JSON.parse(t)}catch($I){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}(t))try{return XM(JSON.parse(t).address)}catch($I){return null}return null}let QM=!1,ZM=!1;const $M={debug:1,default:2,info:2,warning:3,error:4,off:5};let t_=$M.default,e_=null;const r_=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var n_,i_;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(n_||(n_={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(i_||(i_={}));const o_="0123456789abcdef";class s_{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==$M[r]&&this.throwArgumentError("invalid log level name","logLevel",t),t_>$M[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(s_.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(s_.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(s_.levels.WARNING,e)}makeError(t,e,r){if(ZM)return this.makeError("censored error",e,{});e||(e=s_.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=o_[e[t]>>4],r+=o_[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case i_.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case i_.CALL_EXCEPTION:case i_.INSUFFICIENT_FUNDS:case i_.MISSING_NEW:case i_.NONCE_EXPIRED:case i_.REPLACEMENT_UNDERPRICED:case i_.TRANSACTION_REPLACED:case i_.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,s_.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),r_&&this.throwError("platform missing String.prototype.normalize",s_.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:r_})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,s_.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,s_.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,s_.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,s_.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",s_.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",s_.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",s_.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return e_||(e_=new s_("logger/5.7.0")),e_}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",s_.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),QM){if(!t)return;this.globalLogger().throwError("error censorship permanent",s_.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ZM=!!t,QM=!!e}static setLogLevel(t){const e=$M[t.toLowerCase()];null!=e?t_=e:s_.globalLogger().warn("invalid log level - "+t)}static from(t){return new s_(t)}}s_.errors=i_,s_.levels=n_;const a_=new s_("bytes/5.7.0");function u_(t){return!!t.toHexString}function l_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return l_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function h_(t){return"number"===typeof t&&t==t&&t%1===0}function c_(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!h_(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!h_(r)||r<0||r>=256)return!1}return!0}function f_(t,e){if(e||(e={}),"number"===typeof t){a_.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),l_(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),u_(t)&&(t=t.toHexString()),d_(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":a_.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return l_(new Uint8Array(n))}return c_(t)?l_(new Uint8Array(t)):a_.throwArgumentError("invalid arrayify value","value",t)}function d_(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function p_(t){return"0x"+st().keccak_256(f_(t))}let m_=!1,g_=!1;const v_={debug:1,default:2,info:2,warning:3,error:4,off:5};let y_=v_.default,w_=null;const b_=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var A_,M_;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(A_||(A_={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(M_||(M_={}));const __="0123456789abcdef";class E_{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==v_[r]&&this.throwArgumentError("invalid log level name","logLevel",t),y_>v_[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(E_.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(E_.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(E_.levels.WARNING,e)}makeError(t,e,r){if(g_)return this.makeError("censored error",e,{});e||(e=E_.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=__[e[t]>>4],r+=__[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case M_.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case M_.CALL_EXCEPTION:case M_.INSUFFICIENT_FUNDS:case M_.MISSING_NEW:case M_.NONCE_EXPIRED:case M_.REPLACEMENT_UNDERPRICED:case M_.TRANSACTION_REPLACED:case M_.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,E_.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),b_&&this.throwError("platform missing String.prototype.normalize",E_.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:b_})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,E_.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,E_.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,E_.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,E_.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",E_.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",E_.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",E_.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return w_||(w_=new E_("logger/5.6.0")),w_}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",E_.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),m_){if(!t)return;this.globalLogger().throwError("error censorship permanent",E_.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}g_=!!t,m_=!!e}static setLogLevel(t){const e=v_[t.toLowerCase()];null!=e?y_=e:E_.globalLogger().warn("invalid log level - "+t)}static from(t){return new E_(t)}}E_.errors=M_,E_.levels=A_;let x_=!1,S_=!1;const N_={debug:1,default:2,info:2,warning:3,error:4,off:5};let T_=N_.default,R_=null;const C_=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var I_,P_;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(I_||(I_={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(P_||(P_={}));const k_="0123456789abcdef";class O_{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==N_[r]&&this.throwArgumentError("invalid log level name","logLevel",t),T_>N_[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(O_.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(O_.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(O_.levels.WARNING,e)}makeError(t,e,r){if(S_)return this.makeError("censored error",e,{});e||(e=O_.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=k_[e[t]>>4],r+=k_[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case P_.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case P_.CALL_EXCEPTION:case P_.INSUFFICIENT_FUNDS:case P_.MISSING_NEW:case P_.NONCE_EXPIRED:case P_.REPLACEMENT_UNDERPRICED:case P_.TRANSACTION_REPLACED:case P_.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,O_.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),C_&&this.throwError("platform missing String.prototype.normalize",O_.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:C_})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,O_.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,O_.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,O_.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,O_.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",O_.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",O_.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",O_.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return R_||(R_=new O_("logger/5.7.0")),R_}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",O_.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),x_){if(!t)return;this.globalLogger().throwError("error censorship permanent",O_.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S_=!!t,x_=!!e}static setLogLevel(t){const e=N_[t.toLowerCase()];null!=e?T_=e:O_.globalLogger().warn("invalid log level - "+t)}static from(t){return new O_(t)}}O_.errors=P_,O_.levels=I_;const U_=new O_("bytes/5.7.0");function L_(t){return!!t.toHexString}function B_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return B_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function D_(t){return"number"===typeof t&&t==t&&t%1===0}function F_(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!D_(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!D_(r)||r<0||r>=256)return!1}return!0}function G_(t,e){if(e||(e={}),"number"===typeof t){U_.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),B_(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),L_(t)&&(t=t.toHexString()),z_(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":U_.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return B_(new Uint8Array(n))}return F_(t)?B_(new Uint8Array(t)):U_.throwArgumentError("invalid arrayify value","value",t)}function z_(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var j_;!function(t){t.sha256="sha256",t.sha512="sha512"}(j_||(j_={}));const H_=new O_("sha2/5.6.0");function W_(t){return"0x"+eo().ripemd160().update(G_(t)).digest("hex")}function V_(t){return"0x"+eo().sha256().update(G_(t)).digest("hex")}function q_(t){return"0x"+eo().sha512().update(G_(t)).digest("hex")}function K_(t,e,r){return j_[t]||H_.throwError("unsupported algorithm "+t,O_.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+eo().hmac(eo()[t],G_(e)).update(G_(r)).digest("hex")}var J_=r(32502),X_=r.n(J_);let Y_=!1,Q_=!1;const Z_={debug:1,default:2,info:2,warning:3,error:4,off:5};let $_=Z_.default,tE=null;const eE=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var rE,nE;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(rE||(rE={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(nE||(nE={}));const iE="0123456789abcdef";class oE{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Z_[r]&&this.throwArgumentError("invalid log level name","logLevel",t),$_>Z_[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(oE.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(oE.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(oE.levels.WARNING,e)}makeError(t,e,r){if(Q_)return this.makeError("censored error",e,{});e||(e=oE.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=iE[e[t]>>4],r+=iE[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case nE.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case nE.CALL_EXCEPTION:case nE.INSUFFICIENT_FUNDS:case nE.MISSING_NEW:case nE.NONCE_EXPIRED:case nE.REPLACEMENT_UNDERPRICED:case nE.TRANSACTION_REPLACED:case nE.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,oE.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),eE&&this.throwError("platform missing String.prototype.normalize",oE.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eE})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,oE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,oE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,oE.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,oE.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",oE.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",oE.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",oE.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return tE||(tE=new oE("logger/5.7.0")),tE}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",oE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Y_){if(!t)return;this.globalLogger().throwError("error censorship permanent",oE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Q_=!!t,Y_=!!e}static setLogLevel(t){const e=Z_[t.toLowerCase()];null!=e?$_=e:oE.globalLogger().warn("invalid log level - "+t)}static from(t){return new oE(t)}}oE.errors=nE,oE.levels=rE;const sE=new oE("bytes/5.7.0");function aE(t){return!!t.toHexString}function uE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return uE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function lE(t){return"number"===typeof t&&t==t&&t%1===0}function hE(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!lE(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!lE(r)||r<0||r>=256)return!1}return!0}function cE(t,e){if(e||(e={}),"number"===typeof t){sE.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),uE(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),aE(t)&&(t=t.toHexString()),pE(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":sE.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return uE(new Uint8Array(n))}return hE(t)?uE(new Uint8Array(t)):sE.throwArgumentError("invalid arrayify value","value",t)}function fE(t){const e=t.map((t=>cE(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),uE(n)}function dE(t,e){(t=cE(t)).length>e&&sE.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),uE(r)}function pE(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const mE="0123456789abcdef";function gE(t,e){if(e||(e={}),"number"===typeof t){sE.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=mE[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),aE(t))return t.toHexString();if(pE(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":sE.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(hE(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=mE[(240&n)>>4]+mE[15&n]}return e}return sE.throwArgumentError("invalid hexlify value","value",t)}var vE=X_().BN;const yE=new oE("bignumber/5.7.0"),wE={},bE=9007199254740991;let AE=!1;class ME{constructor(t,e){t!==wE&&yE.throwError("cannot call constructor directly; use BigNumber.from",oE.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return EE(xE(this).fromTwos(t))}toTwos(t){return EE(xE(this).toTwos(t))}abs(){return"-"===this._hex[0]?ME.from(this._hex.substring(1)):this}add(t){return EE(xE(this).add(xE(t)))}sub(t){return EE(xE(this).sub(xE(t)))}div(t){return ME.from(t).isZero()&&SE("division-by-zero","div"),EE(xE(this).div(xE(t)))}mul(t){return EE(xE(this).mul(xE(t)))}mod(t){const e=xE(t);return e.isNeg()&&SE("division-by-zero","mod"),EE(xE(this).umod(e))}pow(t){const e=xE(t);return e.isNeg()&&SE("negative-power","pow"),EE(xE(this).pow(e))}and(t){const e=xE(t);return(this.isNegative()||e.isNeg())&&SE("unbound-bitwise-result","and"),EE(xE(this).and(e))}or(t){const e=xE(t);return(this.isNegative()||e.isNeg())&&SE("unbound-bitwise-result","or"),EE(xE(this).or(e))}xor(t){const e=xE(t);return(this.isNegative()||e.isNeg())&&SE("unbound-bitwise-result","xor"),EE(xE(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&SE("negative-width","mask"),EE(xE(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&SE("negative-width","shl"),EE(xE(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&SE("negative-width","shr"),EE(xE(this).shrn(t))}eq(t){return xE(this).eq(xE(t))}lt(t){return xE(this).lt(xE(t))}lte(t){return xE(this).lte(xE(t))}gt(t){return xE(this).gt(xE(t))}gte(t){return xE(this).gte(xE(t))}isNegative(){return"-"===this._hex[0]}isZero(){return xE(this).isZero()}toNumber(){try{return xE(this).toNumber()}catch($I){SE("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return yE.throwError("this platform does not support BigInt",oE.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?AE||(AE=!0,yE.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?yE.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",oE.errors.UNEXPECTED_ARGUMENT,{}):yE.throwError("BigNumber.toString does not accept parameters",oE.errors.UNEXPECTED_ARGUMENT,{})),xE(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ME)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new ME(wE,_E(t)):t.match(/^-?[0-9]+$/)?new ME(wE,_E(new vE(t))):yE.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&SE("underflow","BigNumber.from",t),(t>=bE||t<=-9007199254740991)&&SE("overflow","BigNumber.from",t),ME.from(String(t));const e=t;if("bigint"===typeof e)return ME.from(e.toString());if(hE(e))return ME.from(gE(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return ME.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(pE(t)||"-"===t[0]&&pE(t.substring(1))))return ME.from(t)}return yE.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function _E(t){if("string"!==typeof t)return _E(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&yE.throwArgumentError("invalid hex","value",t),"0x00"===(t=_E(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function EE(t){return ME.from(_E(t))}function xE(t){const e=ME.from(t).toHexString();return"-"===e[0]?new vE("-"+e.substring(3),16):new vE(e.substring(2),16)}function SE(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),yE.throwError(t,oE.errors.NUMERIC_FAULT,n)}new oE("sha2/5.7.0");const NE=new oE("strings/5.7.0");var TE,RE;function CE(t,e,r,n,i){if(t===RE.BAD_PREFIX||t===RE.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===RE.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(TE||(TE={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(RE||(RE={}));Object.freeze({error:function(t,e,r,n,i){return NE.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:CE,replace:function(t,e,r,n,i){return t===RE.OVERLONG?(n.push(i),0):(n.push(65533),CE(t,e,r))}});function IE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TE.current;e!=TE.current&&(NE.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return cE(r)}const PE=new RegExp("^bytes([0-9]+)$"),kE=new RegExp("^(u?int)([0-9]*)$"),OE=new RegExp("^(.*)\\[([0-9]*)\\]$"),UE="0000000000000000000000000000000000000000000000000000000000000000",LE=new oE("solidity/5.6.0");function BE(t,e,r){switch(t){case"address":return r?dE(e,32):cE(e);case"string":return IE(e);case"bytes":return cE(e);case"bool":return e=e?"0x01":"0x00",r?dE(e,32):cE(e)}let n=t.match(kE);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||0===i||i>256)&&LE.throwArgumentError("invalid number type","type",t),r&&(i=256),dE(e=ME.from(e).toTwos(i),i/8)}if(n=t.match(PE),n){const i=parseInt(n[1]);return(String(i)!==n[1]||0===i||i>32)&&LE.throwArgumentError("invalid bytes type","type",t),cE(e).byteLength!==i&&LE.throwArgumentError("invalid value for ".concat(t),"value",e),r?cE((e+UE).substring(0,66)):e}if(n=t.match(OE),n&&Array.isArray(e)){const r=n[1];parseInt(n[2]||String(e.length))!=e.length&&LE.throwArgumentError("invalid array length for ".concat(t),"value",e);const i=[];return e.forEach((function(t){i.push(BE(r,t,!0))})),fE(i)}return LE.throwArgumentError("invalid type","type",t)}function DE(t,e){t.length!=e.length&&LE.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach((function(t,n){r.push(BE(t,e[n]))})),gE(fE(r))}function FE(t,e){return r=DE(t,e),"0x"+st().keccak_256(cE(r));var r}function GE(t,e){return r=DE(t,e),"0x"+eo().sha256().update(cE(r)).digest("hex");var r}let zE=!1,jE=!1;const HE={debug:1,default:2,info:2,warning:3,error:4,off:5};let WE=HE.default,VE=null;const qE=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var KE,JE;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(KE||(KE={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(JE||(JE={}));const XE="0123456789abcdef";class YE{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==HE[r]&&this.throwArgumentError("invalid log level name","logLevel",t),WE>HE[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(YE.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(YE.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(YE.levels.WARNING,e)}makeError(t,e,r){if(jE)return this.makeError("censored error",e,{});e||(e=YE.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=XE[e[t]>>4],r+=XE[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case JE.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case JE.CALL_EXCEPTION:case JE.INSUFFICIENT_FUNDS:case JE.MISSING_NEW:case JE.NONCE_EXPIRED:case JE.REPLACEMENT_UNDERPRICED:case JE.TRANSACTION_REPLACED:case JE.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,YE.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),qE&&this.throwError("platform missing String.prototype.normalize",YE.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qE})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,YE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,YE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,YE.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,YE.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",YE.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",YE.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",YE.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return VE||(VE=new YE("logger/5.7.0")),VE}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",YE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zE){if(!t)return;this.globalLogger().throwError("error censorship permanent",YE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jE=!!t,zE=!!e}static setLogLevel(t){const e=HE[t.toLowerCase()];null!=e?WE=e:YE.globalLogger().warn("invalid log level - "+t)}static from(t){return new YE(t)}}YE.errors=JE,YE.levels=KE;const QE=new YE("bytes/5.7.0");function ZE(t){return!!t.toHexString}function $E(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return $E(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function tx(t){return"number"===typeof t&&t==t&&t%1===0}function ex(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!tx(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!tx(r)||r<0||r>=256)return!1}return!0}function rx(t,e){if(e||(e={}),"number"===typeof t){QE.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),$E(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ZE(t)&&(t=t.toHexString()),nx(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":QE.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return $E(new Uint8Array(n))}return ex(t)?$E(new Uint8Array(t)):QE.throwArgumentError("invalid arrayify value","value",t)}function nx(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const ix=new YE("random/5.6.0");const ox=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();let sx=ox.crypto||ox.msCrypto;function ax(t){(t<=0||t>1024||t%1||t!=t)&&ix.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return sx.getRandomValues(e),rx(e)}function ux(t){for(let e=(t=t.slice()).length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}sx&&sx.getRandomValues||(ix.warn("WARNING: Missing strong random number source"),sx={getRandomValues:function(t){return ix.throwError("no secure random source avaialble",YE.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});let lx=!1,hx=!1;const cx={debug:1,default:2,info:2,warning:3,error:4,off:5};let fx=cx.default,dx=null;const px=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var mx,gx;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(mx||(mx={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(gx||(gx={}));const vx="0123456789abcdef";class yx{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==cx[r]&&this.throwArgumentError("invalid log level name","logLevel",t),fx>cx[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(yx.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(yx.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(yx.levels.WARNING,e)}makeError(t,e,r){if(hx)return this.makeError("censored error",e,{});e||(e=yx.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=vx[e[t]>>4],r+=vx[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case gx.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case gx.CALL_EXCEPTION:case gx.INSUFFICIENT_FUNDS:case gx.MISSING_NEW:case gx.NONCE_EXPIRED:case gx.REPLACEMENT_UNDERPRICED:case gx.TRANSACTION_REPLACED:case gx.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,yx.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),px&&this.throwError("platform missing String.prototype.normalize",yx.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:px})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,yx.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,yx.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,yx.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,yx.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",yx.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",yx.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",yx.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return dx||(dx=new yx("logger/5.7.0")),dx}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",yx.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),lx){if(!t)return;this.globalLogger().throwError("error censorship permanent",yx.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}hx=!!t,lx=!!e}static setLogLevel(t){const e=cx[t.toLowerCase()];null!=e?fx=e:yx.globalLogger().warn("invalid log level - "+t)}static from(t){return new yx(t)}}yx.errors=gx,yx.levels=mx;var wx=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const bx=new yx("properties/5.6.0");function Ax(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Mx(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!==typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function _x(t){return wx(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function Ex(t,e){t&&"object"===typeof t||bx.throwArgumentError("invalid object","object",t),Object.keys(t).forEach((r=>{e[r]||bx.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)}))}function xx(t){const e={};for(const r in t)e[r]=t[r];return e}const Sx={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Nx(t){if(void 0===t||null===t||Sx[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch($I){continue}if(!Nx(n))return!1}return!0}return bx.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Tx(t){if(Nx(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Rx(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Ax(e,r,Rx(n))}return e}return bx.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Rx(t){return Tx(t)}let Cx=!1,Ix=!1;const Px={debug:1,default:2,info:2,warning:3,error:4,off:5};let kx=Px.default,Ox=null;const Ux=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var Lx,Bx;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Lx||(Lx={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Bx||(Bx={}));const Dx="0123456789abcdef";class Fx{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Px[r]&&this.throwArgumentError("invalid log level name","logLevel",t),kx>Px[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Fx.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Fx.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Fx.levels.WARNING,e)}makeError(t,e,r){if(Ix)return this.makeError("censored error",e,{});e||(e=Fx.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Dx[e[t]>>4],r+=Dx[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case Bx.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Bx.CALL_EXCEPTION:case Bx.INSUFFICIENT_FUNDS:case Bx.MISSING_NEW:case Bx.NONCE_EXPIRED:case Bx.REPLACEMENT_UNDERPRICED:case Bx.TRANSACTION_REPLACED:case Bx.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Fx.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Ux&&this.throwError("platform missing String.prototype.normalize",Fx.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ux})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Fx.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Fx.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Fx.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Fx.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Fx.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Fx.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Fx.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ox||(Ox=new Fx("logger/5.7.0")),Ox}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Fx.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cx){if(!t)return;this.globalLogger().throwError("error censorship permanent",Fx.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ix=!!t,Cx=!!e}static setLogLevel(t){const e=Px[t.toLowerCase()];null!=e?kx=e:Fx.globalLogger().warn("invalid log level - "+t)}static from(t){return new Fx(t)}}Fx.errors=Bx,Fx.levels=Lx;const Gx=new Fx("bytes/5.7.0");function zx(t){return!!t.toHexString}function jx(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jx(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Hx(t){return Kx(t)&&!(t.length%2)||Vx(t)}function Wx(t){return"number"===typeof t&&t==t&&t%1===0}function Vx(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Wx(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Wx(r)||r<0||r>=256)return!1}return!0}function qx(t,e){if(e||(e={}),"number"===typeof t){Gx.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),jx(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),zx(t)&&(t=t.toHexString()),Kx(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Gx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return jx(new Uint8Array(n))}return Vx(t)?jx(new Uint8Array(t)):Gx.throwArgumentError("invalid arrayify value","value",t)}function Kx(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Jx="0123456789abcdef";function Xx(t,e){if(e||(e={}),"number"===typeof t){Gx.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Jx[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),zx(t))return t.toHexString();if(Kx(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Gx.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Vx(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Jx[(240&n)>>4]+Jx[15&n]}return e}return Gx.throwArgumentError("invalid hexlify value","value",t)}const Yx=new Fx("rlp/5.6.0");function Qx(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Zx(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function $x(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat($x(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Qx(e.length);return r.unshift(247+r.length),r.concat(e)}Hx(t)||Yx.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(qx(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Qx(e.length);return r.unshift(183+r.length),r.concat(e)}function tS(t){return Xx($x(t))}function eS(t,e,r,n){const i=[];for(;r<e+1+n;){const o=rS(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Yx.throwError("child data too short",Fx.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function rS(t,e){if(0===t.length&&Yx.throwError("data too short",Fx.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Yx.throwError("data short segment too short",Fx.errors.BUFFER_OVERRUN,{});const n=Zx(t,e+1,r);return e+1+r+n>t.length&&Yx.throwError("data long segment too short",Fx.errors.BUFFER_OVERRUN,{}),eS(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Yx.throwError("data array too short",Fx.errors.BUFFER_OVERRUN,{}),eS(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Yx.throwError("data array too short",Fx.errors.BUFFER_OVERRUN,{});const n=Zx(t,e+1,r);e+1+r+n>t.length&&Yx.throwError("data array too short",Fx.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:Xx(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Yx.throwError("data too short",Fx.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:Xx(t.slice(e+1,e+1+r))}}return{consumed:1,result:Xx(t[e])}}function nS(t){const e=qx(t),r=rS(e,0);return r.consumed!==e.length&&Yx.throwArgumentError("invalid rlp data","data",t),r.result}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function iS(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var oS=sS;function sS(t,e){if(!t)throw new Error(e||"Assertion failed")}sS.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var aS=iS((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),uS=iS((function(t,e){var r=e;r.assert=oS,r.toArray=aS.toArray,r.zero2=aS.zero2,r.toHex=aS.toHex,r.encode=aS.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(or())(t,"hex","le")}})),lS=uS.getNAF,hS=uS.getJSF,cS=uS.assert;function fS(t,e){this.type=t,this.p=new(or())(e.p,16),this.red=e.prime?or().red(e.prime):or().mont(this.p),this.zero=new(or())(0).toRed(this.red),this.one=new(or())(1).toRed(this.red),this.two=new(or())(2).toRed(this.red),this.n=e.n&&new(or())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var dS=fS;function pS(t,e){this.curve=t,this.type=e,this.precomputed=null}fS.prototype.point=function(){throw new Error("Not implemented")},fS.prototype.validate=function(){throw new Error("Not implemented")},fS.prototype._fixedNafMul=function(t,e){cS(t.precomputed);var r=t._getDoubles(),n=lS(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<a.length;o++)(s=a[o])===c?h=h.mixedAdd(r.points[o]):s===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},fS.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=lS(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];cS(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},fS.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=hS(r[d],r[p]);for(c=Math.max(v[0].length,c),h[d]=new Array(c),h[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],w=0|v[1][s];h[d][s]=g[3*(y+1)+(w+1)],h[p][s]=0,l[d]=m}}else h[d]=lS(r[d],u[d],this._bitLength),h[p]=lS(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(o=c;o>=0;o--){for(var M=0;o>=0;){var _=!0;for(s=0;s<n;s++)A[s]=0|h[s][o],0!==A[s]&&(_=!1);if(!_)break;M++,o--}if(o>=0&&M++,b=b.dblp(M),o<0)break;for(s=0;s<n;s++){var E=A[s];0!==E&&(E>0?a=l[s][E-1>>1]:E<0&&(a=l[s][-E-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},fS.BasePoint=pS,pS.prototype.eq=function(){throw new Error("Not implemented")},pS.prototype.validate=function(){return this.curve.validate(this)},fS.prototype.decodePoint=function(t,e){t=uS.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?cS(t[t.length-1]%2===0):7===t[0]&&cS(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},pS.prototype.encodeCompressed=function(t){return this.encode(t,!0)},pS.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},pS.prototype.encode=function(t,e){return uS.encode(this._encode(e),t)},pS.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},pS.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},pS.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},pS.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},pS.prototype._getBeta=function(){return null},pS.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var mS=iS((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),gS=uS.assert;function vS(t){dS.call(this,"short",t),this.a=new(or())(t.a,16).toRed(this.red),this.b=new(or())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mS(vS,dS);var yS=vS;function wS(t,e,r,n){dS.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(or())(e,16),this.y=new(or())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function bS(t,e,r,n){dS.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(or())(0)):(this.x=new(or())(e,16),this.y=new(or())(r,16),this.z=new(or())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vS.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(or())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(or())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],gS(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(or())(t.a,16),b:new(or())(t.b,16)}})):this._getEndoBasis(r)}}},vS.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:or().mont(t),r=new(or())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(or())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},vS.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(or())(1),p=new(or())(0),m=new(or())(0),g=new(or())(1),v=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=m.sub(y.mul(d));var w=g.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;a=u,f=c,c=u,m=d,d=l,g=p,p=w}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},vS.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},vS.prototype.pointFromX=function(t,e){(t=new(or())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},vS.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},vS.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},mS(wS,dS.BasePoint),vS.prototype.point=function(t,e,r){return new wS(this,t,e,r)},vS.prototype.pointFromJSON=function(t,e){return wS.fromJSON(this,t,e)},wS.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},wS.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},wS.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},wS.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},wS.prototype.isInfinity=function(){return this.inf},wS.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},wS.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},wS.prototype.getX=function(){return this.x.fromRed()},wS.prototype.getY=function(){return this.y.fromRed()},wS.prototype.mul=function(t){return t=new(or())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},wS.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},wS.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},wS.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},wS.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},wS.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},mS(bS,dS.BasePoint),vS.prototype.jpoint=function(t,e,r){return new bS(this,t,e,r)},bS.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},bS.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},bS.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},bS.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},bS.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=y,l=v}return this.curve.jpoint(o,l.redMul(i),a)},bS.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},bS.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},bS.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},bS.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},bS.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,f,d)},bS.prototype.mul=function(t,e){return t=new(or())(t,e),this.curve._wnafMul(this,t)},bS.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},bS.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},bS.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},bS.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var AS=iS((function(t,e){var r=e;r.base=dS,r.short=yS,r.mont=null,r.edwards=null})),MS=iS((function(t,e){var r,n=e,i=uS.assert;function o(t){"short"===t.type?this.curve=new AS.short(t):"edwards"===t.type?this.curve=new AS.edwards(t):this.curve=new AS.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:eo().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:eo().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:eo().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:eo().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:eo().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:eo().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function _S(t){if(!(this instanceof _S))return new _S(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=aS.toArray(t.entropy,t.entropyEnc||"hex"),r=aS.toArray(t.nonce,t.nonceEnc||"hex"),n=aS.toArray(t.pers,t.persEnc||"hex");oS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ES=_S;_S.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},_S.prototype._hmac=function(){return new(eo().hmac)(this.hash,this.K)},_S.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},_S.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=aS.toArray(t,e),r=aS.toArray(r,n),oS(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},_S.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=aS.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,aS.encode(o,e)};var xS=uS.assert;function SS(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var NS=SS;SS.fromPublic=function(t,e,r){return e instanceof SS?e:new SS(t,{pub:e,pubEnc:r})},SS.fromPrivate=function(t,e,r){return e instanceof SS?e:new SS(t,{priv:e,privEnc:r})},SS.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},SS.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},SS.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},SS.prototype._importPrivate=function(t,e){this.priv=new(or())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},SS.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?xS(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||xS(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},SS.prototype.derive=function(t){return t.validate()||xS(t.validate(),"public point not validated"),t.mul(this.priv).getX()},SS.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},SS.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},SS.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var TS=uS.assert;function RS(t,e){if(t instanceof RS)return t;this._importDER(t,e)||(TS(t.r&&t.s,"Signature without r or s"),this.r=new(or())(t.r,16),this.s=new(or())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var CS=RS;function IS(){this.place=0}function PS(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function kS(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function OS(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}RS.prototype._importDER=function(t,e){t=uS.toArray(t,e);var r=new IS;if(48!==t[r.place++])return!1;var n=PS(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=PS(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=PS(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(or())(o),this.s=new(or())(a),this.recoveryParam=null,!0},RS.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=kS(e),r=kS(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];OS(n,e.length),(n=n.concat(e)).push(2),OS(n,r.length);var i=n.concat(r),o=[48];return OS(o,i.length),o=o.concat(i),uS.encode(o,t)};var US=function(){throw new Error("unsupported")},LS=uS.assert;function BS(t){if(!(this instanceof BS))return new BS(t);"string"===typeof t&&(LS(Object.prototype.hasOwnProperty.call(MS,t),"Unknown curve "+t),t=MS[t]),t instanceof MS.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var DS=BS;BS.prototype.keyPair=function(t){return new NS(this,t)},BS.prototype.keyFromPrivate=function(t,e){return NS.fromPrivate(this,t,e)},BS.prototype.keyFromPublic=function(t,e){return NS.fromPublic(this,t,e)},BS.prototype.genKeyPair=function(t){t||(t={});for(var e=new ES({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||US(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(or())(2));;){var i=new(or())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},BS.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},BS.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(or())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new ES({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(or())(1)),l=0;;l++){var h=n.k?n.k(l):new(or())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new CS({r:d,s:p,recoveryParam:m})}}}}}},BS.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(or())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new CS(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},BS.prototype.recoverPubKey=function(t,e,r,n){LS((3&r)===r,"The recovery param is more than two bits"),e=new CS(e,n);var i=this.n,o=new(or())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=a.mul(h).umod(i);return this.g.mulAdd(c,s,f)},BS.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new CS(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var FS=iS((function(t,e){var r=e;r.version="6.5.4",r.utils=uS,r.rand=function(){throw new Error("unsupported")},r.curve=AS,r.curves=MS,r.ec=DS,r.eddsa=null})).ec;let GS=!1,zS=!1;const jS={debug:1,default:2,info:2,warning:3,error:4,off:5};let HS=jS.default,WS=null;const VS=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var qS,KS;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(qS||(qS={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(KS||(KS={}));const JS="0123456789abcdef";class XS{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==jS[r]&&this.throwArgumentError("invalid log level name","logLevel",t),HS>jS[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(XS.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(XS.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(XS.levels.WARNING,e)}makeError(t,e,r){if(zS)return this.makeError("censored error",e,{});e||(e=XS.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=JS[e[t]>>4],r+=JS[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case KS.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case KS.CALL_EXCEPTION:case KS.INSUFFICIENT_FUNDS:case KS.MISSING_NEW:case KS.NONCE_EXPIRED:case KS.REPLACEMENT_UNDERPRICED:case KS.TRANSACTION_REPLACED:case KS.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,XS.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),VS&&this.throwError("platform missing String.prototype.normalize",XS.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:VS})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,XS.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,XS.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,XS.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,XS.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",XS.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",XS.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",XS.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return WS||(WS=new XS("logger/5.7.0")),WS}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",XS.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),GS){if(!t)return;this.globalLogger().throwError("error censorship permanent",XS.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zS=!!t,GS=!!e}static setLogLevel(t){const e=jS[t.toLowerCase()];null!=e?HS=e:XS.globalLogger().warn("invalid log level - "+t)}static from(t){return new XS(t)}}XS.errors=KS,XS.levels=qS;const YS=new XS("bytes/5.7.0");function QS(t){return!!t.toHexString}function ZS(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ZS(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function $S(t){return"number"===typeof t&&t==t&&t%1===0}function tN(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!$S(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!$S(r)||r<0||r>=256)return!1}return!0}function eN(t,e){if(e||(e={}),"number"===typeof t){YS.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ZS(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),QS(t)&&(t=t.toHexString()),rN(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":YS.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return ZS(new Uint8Array(n))}return tN(t)?ZS(new Uint8Array(t)):YS.throwArgumentError("invalid arrayify value","value",t)}function rN(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const nN="0123456789abcdef";function iN(t,e){if(e||(e={}),"number"===typeof t){YS.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=nN[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),QS(t))return t.toHexString();if(rN(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":YS.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(tN(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=nN[(240&n)>>4]+nN[15&n]}return e}return YS.throwArgumentError("invalid hexlify value","value",t)}function oN(t,e){for("string"!==typeof t?t=iN(t):rN(t)||YS.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&YS.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function sN(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(rN(r=t)&&!(r.length%2)||tN(r)){let r=eN(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=iN(r.slice(0,32)),e.s=iN(r.slice(32,64))):65===r.length?(e.r=iN(r.slice(0,32)),e.s=iN(r.slice(32,64)),e.v=r[64]):YS.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:YS.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=iN(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=eN(t)).length>e&&YS.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),ZS(r)}(eN(e._vs),32);e._vs=iN(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&YS.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=iN(r);null==e.s?e.s=i:e.s!==i&&YS.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?YS.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&YS.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&rN(e.r)?e.r=oN(e.r,32):YS.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&rN(e.s)?e.s=oN(e.s,32):YS.throwArgumentError("signature missing or invalid s","signature",t);const r=eN(e.s);r[0]>=128&&YS.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=iN(r);e._vs&&(rN(e._vs)||YS.throwArgumentError("signature invalid _vs","signature",t),e._vs=oN(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&YS.throwArgumentError("signature _vs mismatch v and s","signature",t)}var r;return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}new XS("properties/5.7.0");function aN(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const uN=new XS("signing-key/5.6.0");let lN=null;function hN(){return lN||(lN=new FS("secp256k1")),lN}class cN{constructor(t){aN(this,"curve","secp256k1"),aN(this,"privateKey",iN(t));const e=hN().keyFromPrivate(eN(this.privateKey));aN(this,"publicKey","0x"+e.getPublic(!1,"hex")),aN(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),aN(this,"_isSigningKey",!0)}_addPoint(t){const e=hN().keyFromPublic(eN(this.publicKey)),r=hN().keyFromPublic(eN(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=hN().keyFromPrivate(eN(this.privateKey)),r=eN(t);32!==r.length&&uN.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return sN({recoveryParam:n.recoveryParam,r:oN("0x"+n.r.toString(16),32),s:oN("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=hN().keyFromPrivate(eN(this.privateKey)),r=hN().keyFromPublic(eN(dN(t)));return oN("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function fN(t,e){const r=sN(e),n={r:eN(r.r),s:eN(r.s)};return"0x"+hN().recoverPubKey(eN(t),n,r.recoveryParam).encode("hex",!1)}function dN(t,e){const r=eN(t);if(32===r.length){const t=new cN(r);return e?"0x"+hN().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?iN(r):"0x"+hN().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+hN().keyFromPublic(r).getPublic(!0,"hex"):iN(r):uN.throwArgumentError("invalid public or private key","key","[REDACTED]")}let pN=!1,mN=!1;const gN={debug:1,default:2,info:2,warning:3,error:4,off:5};let vN=gN.default,yN=null;const wN=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var bN,AN;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(bN||(bN={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(AN||(AN={}));const MN="0123456789abcdef";class _N{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==gN[r]&&this.throwArgumentError("invalid log level name","logLevel",t),vN>gN[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_N.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_N.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(_N.levels.WARNING,e)}makeError(t,e,r){if(mN)return this.makeError("censored error",e,{});e||(e=_N.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=MN[e[t]>>4],r+=MN[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case AN.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case AN.CALL_EXCEPTION:case AN.INSUFFICIENT_FUNDS:case AN.MISSING_NEW:case AN.NONCE_EXPIRED:case AN.REPLACEMENT_UNDERPRICED:case AN.TRANSACTION_REPLACED:case AN.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,_N.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),wN&&this.throwError("platform missing String.prototype.normalize",_N.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wN})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,_N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,_N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,_N.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,_N.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",_N.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",_N.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",_N.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return yN||(yN=new _N("logger/5.7.0")),yN}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",_N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),pN){if(!t)return;this.globalLogger().throwError("error censorship permanent",_N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}mN=!!t,pN=!!e}static setLogLevel(t){const e=gN[t.toLowerCase()];null!=e?vN=e:_N.globalLogger().warn("invalid log level - "+t)}static from(t){return new _N(t)}}_N.errors=AN,_N.levels=bN;const EN=new _N("bytes/5.7.0");function xN(t){return!!t.toHexString}function SN(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return SN(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function NN(t){return"number"===typeof t&&t==t&&t%1===0}function TN(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!NN(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!NN(r)||r<0||r>=256)return!1}return!0}function RN(t,e){if(e||(e={}),"number"===typeof t){EN.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),SN(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),xN(t)&&(t=t.toHexString()),IN(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":EN.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return SN(new Uint8Array(n))}return TN(t)?SN(new Uint8Array(t)):EN.throwArgumentError("invalid arrayify value","value",t)}function CN(t){const e=t.map((t=>RN(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),SN(n)}function IN(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const PN="0123456789abcdef";function kN(t,e){if(e||(e={}),"number"===typeof t){EN.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=PN[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),xN(t))return t.toHexString();if(IN(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":EN.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(TN(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=PN[(240&n)>>4]+PN[15&n]}return e}return EN.throwArgumentError("invalid hexlify value","value",t)}const ON=new _N("strings/5.6.0");var UN,LN;function BN(t,e,r,n,i){if(t===LN.BAD_PREFIX||t===LN.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===LN.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(UN||(UN={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(LN||(LN={}));const DN=Object.freeze({error:function(t,e,r,n,i){return ON.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:BN,replace:function(t,e,r,n,i){return t===LN.OVERLONG?(n.push(i),0):(n.push(65533),BN(t,e,r))}});function FN(t,e){null==e&&(e=DN.error),t=RN(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?LN.UNEXPECTED_CONTINUE:LN.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(LN.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e(LN.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(LN.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(LN.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(LN.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function GN(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UN.current;e!=UN.current&&(ON.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return RN(r)}function zN(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function jN(t,e){return'"'+FN(t,e).map((t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?zN(t):zN(55296+((t-=65536)>>10&1023))+zN(56320+(1023&t))})).join("")+'"'}function HN(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function WN(t,e){return HN(FN(t,e))}function VN(t){return FN(GN(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:UN.current))}function qN(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function KN(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function JN(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const XN=KN("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),YN="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),QN=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ZN=qN("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),$N=qN("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),tT=qN("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),eT=KN("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function rT(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=VN(t);var r;r=e.map((t=>{if(YN.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=JN(t,QN);if(e)return[t+e.s];let r=ZN[t];if(r)return r;let n=$N[t];return n?[t+n[0]]:tT[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=VN(HN(e),UN.NFKC),e.forEach((t=>{if(JN(t,eT))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(JN(t,XN))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=HN(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}const nT="0x0000000000000000000000000000000000000000000000000000000000000000";function iT(t){const e=GN(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return kN(CN([e,nT]).slice(0,32))}function oT(t){const e=RN(t);if(32!==e.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==e[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===e[r-1];)r--;return WN(e.slice(0,r))}let sT=!1,aT=!1;const uT={debug:1,default:2,info:2,warning:3,error:4,off:5};let lT=uT.default,hT=null;const cT=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var fT,dT;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(fT||(fT={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(dT||(dT={}));const pT="0123456789abcdef";class mT{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==uT[r]&&this.throwArgumentError("invalid log level name","logLevel",t),lT>uT[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(mT.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(mT.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(mT.levels.WARNING,e)}makeError(t,e,r){if(aT)return this.makeError("censored error",e,{});e||(e=mT.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=pT[e[t]>>4],r+=pT[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case dT.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case dT.CALL_EXCEPTION:case dT.INSUFFICIENT_FUNDS:case dT.MISSING_NEW:case dT.NONCE_EXPIRED:case dT.REPLACEMENT_UNDERPRICED:case dT.TRANSACTION_REPLACED:case dT.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,mT.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),cT&&this.throwError("platform missing String.prototype.normalize",mT.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:cT})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,mT.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,mT.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,mT.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,mT.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",mT.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",mT.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",mT.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return hT||(hT=new mT("logger/5.7.0")),hT}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",mT.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),sT){if(!t)return;this.globalLogger().throwError("error censorship permanent",mT.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}aT=!!t,sT=!!e}static setLogLevel(t){const e=uT[t.toLowerCase()];null!=e?lT=e:mT.globalLogger().warn("invalid log level - "+t)}static from(t){return new mT(t)}}mT.errors=dT,mT.levels=fT;const gT=new mT("bytes/5.7.0");function vT(t){return!!t.toHexString}function yT(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return yT(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function wT(t){return ET(t)&&!(t.length%2)||AT(t)}function bT(t){return"number"===typeof t&&t==t&&t%1===0}function AT(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!bT(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!bT(r)||r<0||r>=256)return!1}return!0}function MT(t,e){if(e||(e={}),"number"===typeof t){gT.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),yT(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vT(t)&&(t=t.toHexString()),ET(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":gT.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return yT(new Uint8Array(n))}return AT(t)?yT(new Uint8Array(t)):gT.throwArgumentError("invalid arrayify value","value",t)}function _T(t){let e=MT(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function ET(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const xT="0123456789abcdef";function ST(t,e){if(e||(e={}),"number"===typeof t){gT.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=xT[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vT(t))return t.toHexString();if(ET(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":gT.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(AT(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=xT[(240&n)>>4]+xT[15&n]}return e}return gT.throwArgumentError("invalid hexlify value","value",t)}function NT(t){if("string"!==typeof t)t=ST(t);else if(!ET(t)||t.length%2)return null;return(t.length-2)/2}function TT(t,e,r){return"string"!==typeof t?t=ST(t):(!ET(t)||t.length%2)&&gT.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function RT(t){let e="0x";return t.forEach((t=>{e+=ST(t).substring(2)})),e}function CT(t,e){for("string"!==typeof t?t=ST(t):ET(t)||gT.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&gT.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function IT(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(wT(t)){let r=MT(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ST(r.slice(0,32)),e.s=ST(r.slice(32,64))):65===r.length?(e.r=ST(r.slice(0,32)),e.s=ST(r.slice(32,64)),e.v=r[64]):gT.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:gT.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ST(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=MT(t)).length>e&&gT.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),yT(r)}(MT(e._vs),32);e._vs=ST(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&gT.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=ST(r);null==e.s?e.s=i:e.s!==i&&gT.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?gT.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&gT.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&ET(e.r)?e.r=CT(e.r,32):gT.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&ET(e.s)?e.s=CT(e.s,32):gT.throwArgumentError("signature missing or invalid s","signature",t);const r=MT(e.s);r[0]>=128&&gT.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ST(r);e._vs&&(ET(e._vs)||gT.throwArgumentError("signature invalid _vs","signature",t),e._vs=CT(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&gT.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var PT=r(34795),kT=r.n(PT);var OT=kT().BN;const UT=new mT("bignumber/5.7.0"),LT={},BT=9007199254740991;let DT=!1;class FT{constructor(t,e){t!==LT&&UT.throwError("cannot call constructor directly; use BigNumber.from",mT.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return zT(jT(this).fromTwos(t))}toTwos(t){return zT(jT(this).toTwos(t))}abs(){return"-"===this._hex[0]?FT.from(this._hex.substring(1)):this}add(t){return zT(jT(this).add(jT(t)))}sub(t){return zT(jT(this).sub(jT(t)))}div(t){return FT.from(t).isZero()&&HT("division-by-zero","div"),zT(jT(this).div(jT(t)))}mul(t){return zT(jT(this).mul(jT(t)))}mod(t){const e=jT(t);return e.isNeg()&&HT("division-by-zero","mod"),zT(jT(this).umod(e))}pow(t){const e=jT(t);return e.isNeg()&&HT("negative-power","pow"),zT(jT(this).pow(e))}and(t){const e=jT(t);return(this.isNegative()||e.isNeg())&&HT("unbound-bitwise-result","and"),zT(jT(this).and(e))}or(t){const e=jT(t);return(this.isNegative()||e.isNeg())&&HT("unbound-bitwise-result","or"),zT(jT(this).or(e))}xor(t){const e=jT(t);return(this.isNegative()||e.isNeg())&&HT("unbound-bitwise-result","xor"),zT(jT(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&HT("negative-width","mask"),zT(jT(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&HT("negative-width","shl"),zT(jT(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&HT("negative-width","shr"),zT(jT(this).shrn(t))}eq(t){return jT(this).eq(jT(t))}lt(t){return jT(this).lt(jT(t))}lte(t){return jT(this).lte(jT(t))}gt(t){return jT(this).gt(jT(t))}gte(t){return jT(this).gte(jT(t))}isNegative(){return"-"===this._hex[0]}isZero(){return jT(this).isZero()}toNumber(){try{return jT(this).toNumber()}catch($I){HT("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return UT.throwError("this platform does not support BigInt",mT.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?DT||(DT=!0,UT.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?UT.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",mT.errors.UNEXPECTED_ARGUMENT,{}):UT.throwError("BigNumber.toString does not accept parameters",mT.errors.UNEXPECTED_ARGUMENT,{})),jT(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof FT)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new FT(LT,GT(t)):t.match(/^-?[0-9]+$/)?new FT(LT,GT(new OT(t))):UT.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&HT("underflow","BigNumber.from",t),(t>=BT||t<=-9007199254740991)&&HT("overflow","BigNumber.from",t),FT.from(String(t));const e=t;if("bigint"===typeof e)return FT.from(e.toString());if(AT(e))return FT.from(ST(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return FT.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(ET(t)||"-"===t[0]&&ET(t.substring(1))))return FT.from(t)}return UT.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function GT(t){if("string"!==typeof t)return GT(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&UT.throwArgumentError("invalid hex","value",t),"0x00"===(t=GT(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function zT(t){return FT.from(GT(t))}function jT(t){const e=FT.from(t).toHexString();return"-"===e[0]?new OT("-"+e.substring(3),16):new OT(e.substring(2),16)}function HT(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),UT.throwError(t,mT.errors.NUMERIC_FAULT,n)}function WT(t){return"0x"+st().keccak_256(MT(t))}const VT=new mT("address/5.7.0");function qT(t){ET(t,20)||VT.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=MT(WT(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const KT={};for(let tP=0;tP<10;tP++)KT[String(tP)]=String(tP);for(let tP=0;tP<26;tP++)KT[String.fromCharCode(65+tP)]=String(10+tP);const JT=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function XT(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>KT[t])).join("");for(;e.length>=JT;){let t=e.substring(0,JT);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function YT(t){let e=null;if("string"!==typeof t&&VT.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=qT(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&VT.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==XT(t)&&VT.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new OT(r,36).toString(16);e.length<40;)e="0"+e;e=qT("0x"+e)}else VT.throwArgumentError("invalid address","address",t);var r;return e}const QT=FT.from(0);const ZT=new mT("properties/5.7.0");function $T(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const tR=new mT("rlp/5.7.0");function eR(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function rR(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function nR(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(nR(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=eR(e.length);return r.unshift(247+r.length),r.concat(e)}wT(t)||tR.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(MT(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=eR(e.length);return r.unshift(183+r.length),r.concat(e)}function iR(t){return ST(nR(t))}function oR(t,e,r,n){const i=[];for(;r<e+1+n;){const o=sR(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&tR.throwError("child data too short",mT.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function sR(t,e){if(0===t.length&&tR.throwError("data too short",mT.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&tR.throwError("data short segment too short",mT.errors.BUFFER_OVERRUN,{});const n=rR(t,e+1,r);return e+1+r+n>t.length&&tR.throwError("data long segment too short",mT.errors.BUFFER_OVERRUN,{}),oR(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&tR.throwError("data array too short",mT.errors.BUFFER_OVERRUN,{}),oR(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&tR.throwError("data array too short",mT.errors.BUFFER_OVERRUN,{});const n=rR(t,e+1,r);e+1+r+n>t.length&&tR.throwError("data array too short",mT.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:ST(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&tR.throwError("data too short",mT.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:ST(t.slice(e+1,e+1+r))}}return{consumed:1,result:ST(t[e])}}function aR(t){const e=MT(t),r=sR(e,0);return r.consumed!==e.length&&tR.throwArgumentError("invalid rlp data","data",t),r.result}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function uR(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var lR=hR;function hR(t,e){if(!t)throw new Error(e||"Assertion failed")}hR.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var cR=uR((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),fR=uR((function(t,e){var r=e;r.assert=lR,r.toArray=cR.toArray,r.zero2=cR.zero2,r.toHex=cR.toHex,r.encode=cR.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(kT())(t,"hex","le")}})),dR=fR.getNAF,pR=fR.getJSF,mR=fR.assert;function gR(t,e){this.type=t,this.p=new(kT())(e.p,16),this.red=e.prime?kT().red(e.prime):kT().mont(this.p),this.zero=new(kT())(0).toRed(this.red),this.one=new(kT())(1).toRed(this.red),this.two=new(kT())(2).toRed(this.red),this.n=e.n&&new(kT())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var vR=gR;function yR(t,e){this.curve=t,this.type=e,this.precomputed=null}gR.prototype.point=function(){throw new Error("Not implemented")},gR.prototype.validate=function(){throw new Error("Not implemented")},gR.prototype._fixedNafMul=function(t,e){mR(t.precomputed);var r=t._getDoubles(),n=dR(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<a.length;o++)(s=a[o])===c?h=h.mixedAdd(r.points[o]):s===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},gR.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=dR(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];mR(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},gR.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=pR(r[d],r[p]);for(c=Math.max(v[0].length,c),h[d]=new Array(c),h[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],w=0|v[1][s];h[d][s]=g[3*(y+1)+(w+1)],h[p][s]=0,l[d]=m}}else h[d]=dR(r[d],u[d],this._bitLength),h[p]=dR(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(o=c;o>=0;o--){for(var M=0;o>=0;){var _=!0;for(s=0;s<n;s++)A[s]=0|h[s][o],0!==A[s]&&(_=!1);if(!_)break;M++,o--}if(o>=0&&M++,b=b.dblp(M),o<0)break;for(s=0;s<n;s++){var E=A[s];0!==E&&(E>0?a=l[s][E-1>>1]:E<0&&(a=l[s][-E-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},gR.BasePoint=yR,yR.prototype.eq=function(){throw new Error("Not implemented")},yR.prototype.validate=function(){return this.curve.validate(this)},gR.prototype.decodePoint=function(t,e){t=fR.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?mR(t[t.length-1]%2===0):7===t[0]&&mR(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},yR.prototype.encodeCompressed=function(t){return this.encode(t,!0)},yR.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},yR.prototype.encode=function(t,e){return fR.encode(this._encode(e),t)},yR.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},yR.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},yR.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},yR.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},yR.prototype._getBeta=function(){return null},yR.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var wR=uR((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),bR=fR.assert;function AR(t){vR.call(this,"short",t),this.a=new(kT())(t.a,16).toRed(this.red),this.b=new(kT())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}wR(AR,vR);var MR=AR;function _R(t,e,r,n){vR.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(kT())(e,16),this.y=new(kT())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ER(t,e,r,n){vR.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(kT())(0)):(this.x=new(kT())(e,16),this.y=new(kT())(r,16),this.z=new(kT())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}AR.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(kT())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(kT())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],bR(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(kT())(t.a,16),b:new(kT())(t.b,16)}})):this._getEndoBasis(r)}}},AR.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:kT().mont(t),r=new(kT())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(kT())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},AR.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(kT())(1),p=new(kT())(0),m=new(kT())(0),g=new(kT())(1),v=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=m.sub(y.mul(d));var w=g.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;a=u,f=c,c=u,m=d,d=l,g=p,p=w}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},AR.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},AR.prototype.pointFromX=function(t,e){(t=new(kT())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},AR.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},AR.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},wR(_R,vR.BasePoint),AR.prototype.point=function(t,e,r){return new _R(this,t,e,r)},AR.prototype.pointFromJSON=function(t,e){return _R.fromJSON(this,t,e)},_R.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},_R.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},_R.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},_R.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},_R.prototype.isInfinity=function(){return this.inf},_R.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},_R.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},_R.prototype.getX=function(){return this.x.fromRed()},_R.prototype.getY=function(){return this.y.fromRed()},_R.prototype.mul=function(t){return t=new(kT())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},_R.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},_R.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},_R.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},_R.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},_R.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},wR(ER,vR.BasePoint),AR.prototype.jpoint=function(t,e,r){return new ER(this,t,e,r)},ER.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},ER.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ER.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},ER.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},ER.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=y,l=v}return this.curve.jpoint(o,l.redMul(i),a)},ER.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ER.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},ER.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},ER.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},ER.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,f,d)},ER.prototype.mul=function(t,e){return t=new(kT())(t,e),this.curve._wnafMul(this,t)},ER.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},ER.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},ER.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ER.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var xR=uR((function(t,e){var r=e;r.base=vR,r.short=MR,r.mont=null,r.edwards=null})),SR=uR((function(t,e){var r,n=e,i=fR.assert;function o(t){"short"===t.type?this.curve=new xR.short(t):"edwards"===t.type?this.curve=new xR.edwards(t):this.curve=new xR.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:eo().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:eo().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:eo().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:eo().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:eo().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:eo().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:eo().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function NR(t){if(!(this instanceof NR))return new NR(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=cR.toArray(t.entropy,t.entropyEnc||"hex"),r=cR.toArray(t.nonce,t.nonceEnc||"hex"),n=cR.toArray(t.pers,t.persEnc||"hex");lR(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var TR=NR;NR.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},NR.prototype._hmac=function(){return new(eo().hmac)(this.hash,this.K)},NR.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},NR.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=cR.toArray(t,e),r=cR.toArray(r,n),lR(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},NR.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=cR.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,cR.encode(o,e)};var RR=fR.assert;function CR(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var IR=CR;CR.fromPublic=function(t,e,r){return e instanceof CR?e:new CR(t,{pub:e,pubEnc:r})},CR.fromPrivate=function(t,e,r){return e instanceof CR?e:new CR(t,{priv:e,privEnc:r})},CR.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},CR.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},CR.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},CR.prototype._importPrivate=function(t,e){this.priv=new(kT())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},CR.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?RR(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||RR(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},CR.prototype.derive=function(t){return t.validate()||RR(t.validate(),"public point not validated"),t.mul(this.priv).getX()},CR.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},CR.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},CR.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var PR=fR.assert;function kR(t,e){if(t instanceof kR)return t;this._importDER(t,e)||(PR(t.r&&t.s,"Signature without r or s"),this.r=new(kT())(t.r,16),this.s=new(kT())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var OR=kR;function UR(){this.place=0}function LR(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function BR(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function DR(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}kR.prototype._importDER=function(t,e){t=fR.toArray(t,e);var r=new UR;if(48!==t[r.place++])return!1;var n=LR(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=LR(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=LR(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(kT())(o),this.s=new(kT())(a),this.recoveryParam=null,!0},kR.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=BR(e),r=BR(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];DR(n,e.length),(n=n.concat(e)).push(2),DR(n,r.length);var i=n.concat(r),o=[48];return DR(o,i.length),o=o.concat(i),fR.encode(o,t)};var FR=function(){throw new Error("unsupported")},GR=fR.assert;function zR(t){if(!(this instanceof zR))return new zR(t);"string"===typeof t&&(GR(Object.prototype.hasOwnProperty.call(SR,t),"Unknown curve "+t),t=SR[t]),t instanceof SR.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var jR=zR;zR.prototype.keyPair=function(t){return new IR(this,t)},zR.prototype.keyFromPrivate=function(t,e){return IR.fromPrivate(this,t,e)},zR.prototype.keyFromPublic=function(t,e){return IR.fromPublic(this,t,e)},zR.prototype.genKeyPair=function(t){t||(t={});for(var e=new TR({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||FR(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(kT())(2));;){var i=new(kT())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},zR.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},zR.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(kT())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new TR({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(kT())(1)),l=0;;l++){var h=n.k?n.k(l):new(kT())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new OR({r:d,s:p,recoveryParam:m})}}}}}},zR.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(kT())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new OR(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},zR.prototype.recoverPubKey=function(t,e,r,n){GR((3&r)===r,"The recovery param is more than two bits"),e=new OR(e,n);var i=this.n,o=new(kT())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=a.mul(h).umod(i);return this.g.mulAdd(c,s,f)},zR.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new OR(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var HR=uR((function(t,e){var r=e;r.version="6.5.4",r.utils=fR,r.rand=function(){throw new Error("unsupported")},r.curve=xR,r.curves=SR,r.ec=jR,r.eddsa=null})).ec;const WR=new mT("signing-key/5.7.0");let VR=null;function qR(){return VR||(VR=new HR("secp256k1")),VR}class KR{constructor(t){$T(this,"curve","secp256k1"),$T(this,"privateKey",ST(t)),32!==NT(this.privateKey)&&WR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=qR().keyFromPrivate(MT(this.privateKey));$T(this,"publicKey","0x"+e.getPublic(!1,"hex")),$T(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),$T(this,"_isSigningKey",!0)}_addPoint(t){const e=qR().keyFromPublic(MT(this.publicKey)),r=qR().keyFromPublic(MT(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=qR().keyFromPrivate(MT(this.privateKey)),r=MT(t);32!==r.length&&WR.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return IT({recoveryParam:n.recoveryParam,r:CT("0x"+n.r.toString(16),32),s:CT("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=qR().keyFromPrivate(MT(this.privateKey)),r=qR().keyFromPublic(MT(JR(t)));return CT("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function JR(t,e){const r=MT(t);if(32===r.length){const t=new KR(r);return e?"0x"+qR().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?ST(r):"0x"+qR().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+qR().keyFromPublic(r).getPublic(!0,"hex"):ST(r):WR.throwArgumentError("invalid public or private key","key","[REDACTED]")}const XR=new mT("transactions/5.6.0");var YR;function QR(t){return"0x"===t?null:YT(t)}function ZR(t){return"0x"===t?QT:FT.from(t)}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(YR||(YR={}));const $R=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],tC={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function eC(t){return YT(TT(WT(TT(JR(t),1)),12))}function rC(t,e){return eC(function(t,e){const r=IT(e),n={r:MT(r.r),s:MT(r.s)};return"0x"+qR().recoverPubKey(MT(t),n,r.recoveryParam).encode("hex",!1)}(MT(t),e))}function nC(t,e){const r=_T(FT.from(t).toHexString());return r.length>32&&XR.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function iC(t,e){return{address:YT(t),storageKeys:(e||[]).map(((e,r)=>(32!==NT(e)&&XR.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase())))}}function oC(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&XR.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),iC(t[0],t[1])):iC(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return iC(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function sC(t){return oC(t).map((t=>[t.address,t.storageKeys]))}function aC(t,e){if(null!=t.gasPrice){const e=FT.from(t.gasPrice),r=FT.from(t.maxFeePerGas||0);e.eq(r)||XR.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[nC(t.chainId||0,"chainId"),nC(t.nonce||0,"nonce"),nC(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),nC(t.maxFeePerGas||0,"maxFeePerGas"),nC(t.gasLimit||0,"gasLimit"),null!=t.to?YT(t.to):"0x",nC(t.value||0,"value"),t.data||"0x",sC(t.accessList||[])];if(e){const t=IT(e);r.push(nC(t.recoveryParam,"recoveryParam")),r.push(_T(t.r)),r.push(_T(t.s))}return RT(["0x02",iR(r)])}function uC(t,e){const r=[nC(t.chainId||0,"chainId"),nC(t.nonce||0,"nonce"),nC(t.gasPrice||0,"gasPrice"),nC(t.gasLimit||0,"gasLimit"),null!=t.to?YT(t.to):"0x",nC(t.value||0,"value"),t.data||"0x",sC(t.accessList||[])];if(e){const t=IT(e);r.push(nC(t.recoveryParam,"recoveryParam")),r.push(_T(t.r)),r.push(_T(t.s))}return RT(["0x01",iR(r)])}function lC(t,e){var r,n;n=tC,(r=t)&&"object"===typeof r||ZT.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((t=>{n[t]||ZT.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)}));const i=[];$R.forEach((function(e){let r=t[e.name]||[];const n={};e.numeric&&(n.hexPad="left"),r=MT(ST(r,n)),e.length&&r.length!==e.length&&r.length>0&&XR.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r),e.maxLength&&(r=_T(r),r.length>e.maxLength&&XR.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r)),i.push(ST(r))}));let o=0;if(null!=t.chainId?(o=t.chainId,"number"!==typeof o&&XR.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!wT(e)&&e.v>28&&(o=Math.floor((e.v-35)/2)),0!==o&&(i.push(ST(o)),i.push("0x"),i.push("0x")),!e)return iR(i);const s=IT(e);let a=27+s.recoveryParam;return 0!==o?(i.pop(),i.pop(),i.pop(),a+=2*o+8,s.v>28&&s.v!==a&&XR.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==a&&XR.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),i.push(ST(a)),i.push(_T(MT(s.r))),i.push(_T(MT(s.s))),iR(i)}function hC(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&XR.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),lC(t,e);switch(t.type){case 1:return uC(t,e);case 2:return aC(t,e)}return XR.throwError("unsupported transaction type: ".concat(t.type),mT.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function cC(t,e,r){try{const r=ZR(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch($I){XR.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=CT(e[1],32),t.s=CT(e[2],32);try{const e=WT(r(t));t.from=rC(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch($I){console.log($I)}}function fC(t){const e=MT(t);if(e[0]>127)return function(t){const e=aR(t);9!==e.length&&6!==e.length&&XR.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:ZR(e[0]).toNumber(),gasPrice:ZR(e[1]),gasLimit:ZR(e[2]),to:QR(e[3]),value:ZR(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=FT.from(e[6]).toNumber()}catch($I){return console.log($I),r}if(r.r=CT(e[7],32),r.s=CT(e[8],32),FT.from(r.r).isZero()&&FT.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(ST(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=WT(iR(i));try{r.from=rC(o,{r:ST(r.r),s:ST(r.s),recoveryParam:n})}catch($I){console.log($I)}r.hash=WT(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=aR(t.slice(1));8!==e.length&&11!==e.length&&XR.throwArgumentError("invalid component count for transaction type: 1","payload",ST(t));const r={type:1,chainId:ZR(e[0]).toNumber(),nonce:ZR(e[1]).toNumber(),gasPrice:ZR(e[2]),gasLimit:ZR(e[3]),to:QR(e[4]),value:ZR(e[5]),data:e[6],accessList:oC(e[7])};return 8===e.length||(r.hash=WT(t),cC(r,e.slice(8),uC)),r}(e);case 2:return function(t){const e=aR(t.slice(1));9!==e.length&&12!==e.length&&XR.throwArgumentError("invalid component count for transaction type: 2","payload",ST(t));const r=ZR(e[2]),n=ZR(e[3]),i={type:2,chainId:ZR(e[0]).toNumber(),nonce:ZR(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ZR(e[4]),to:QR(e[5]),value:ZR(e[6]),data:e[7],accessList:oC(e[8])};return 9===e.length||(i.hash=WT(t),cC(i,e.slice(9),aC)),i}(e)}return XR.throwError("unsupported transaction type: ".concat(e[0]),mT.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}let dC=!1,pC=!1;const mC={debug:1,default:2,info:2,warning:3,error:4,off:5};let gC=mC.default,vC=null;const yC=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var wC,bC;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(wC||(wC={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(bC||(bC={}));const AC="0123456789abcdef";class MC{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==mC[r]&&this.throwArgumentError("invalid log level name","logLevel",t),gC>mC[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(MC.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(MC.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(MC.levels.WARNING,e)}makeError(t,e,r){if(pC)return this.makeError("censored error",e,{});e||(e=MC.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=AC[e[t]>>4],r+=AC[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case bC.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case bC.CALL_EXCEPTION:case bC.INSUFFICIENT_FUNDS:case bC.MISSING_NEW:case bC.NONCE_EXPIRED:case bC.REPLACEMENT_UNDERPRICED:case bC.TRANSACTION_REPLACED:case bC.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,MC.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),yC&&this.throwError("platform missing String.prototype.normalize",MC.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:yC})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,MC.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,MC.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,MC.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,MC.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",MC.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",MC.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",MC.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return vC||(vC=new MC("logger/5.7.0")),vC}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",MC.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),dC){if(!t)return;this.globalLogger().throwError("error censorship permanent",MC.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}pC=!!t,dC=!!e}static setLogLevel(t){const e=mC[t.toLowerCase()];null!=e?gC=e:MC.globalLogger().warn("invalid log level - "+t)}static from(t){return new MC(t)}}MC.errors=bC,MC.levels=wC;const _C=new MC("bytes/5.7.0");function EC(t){return!!t.toHexString}function xC(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return xC(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function SC(t){return"number"===typeof t&&t==t&&t%1===0}function NC(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!SC(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!SC(r)||r<0||r>=256)return!1}return!0}function TC(t,e){if(e||(e={}),"number"===typeof t){_C.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),xC(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),EC(t)&&(t=t.toHexString()),RC(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":_C.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return xC(new Uint8Array(n))}return NC(t)?xC(new Uint8Array(t)):_C.throwArgumentError("invalid arrayify value","value",t)}function RC(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const CC="0123456789abcdef";function IC(t,e){if(e||(e={}),"number"===typeof t){_C.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=CC[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),EC(t))return t.toHexString();if(RC(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":_C.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(NC(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=CC[(240&n)>>4]+CC[15&n]}return e}return _C.throwArgumentError("invalid hexlify value","value",t)}function PC(t,e){for("string"!==typeof t?t=IC(t):RC(t)||_C.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&_C.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const kC="bignumber/5.7.0";var OC=r(92482),UC=r.n(OC)().BN;const LC=new MC(kC),BC={},DC=9007199254740991;let FC=!1;class GC{constructor(t,e){t!==BC&&LC.throwError("cannot call constructor directly; use BigNumber.from",MC.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return jC(HC(this).fromTwos(t))}toTwos(t){return jC(HC(this).toTwos(t))}abs(){return"-"===this._hex[0]?GC.from(this._hex.substring(1)):this}add(t){return jC(HC(this).add(HC(t)))}sub(t){return jC(HC(this).sub(HC(t)))}div(t){return GC.from(t).isZero()&&WC("division-by-zero","div"),jC(HC(this).div(HC(t)))}mul(t){return jC(HC(this).mul(HC(t)))}mod(t){const e=HC(t);return e.isNeg()&&WC("division-by-zero","mod"),jC(HC(this).umod(e))}pow(t){const e=HC(t);return e.isNeg()&&WC("negative-power","pow"),jC(HC(this).pow(e))}and(t){const e=HC(t);return(this.isNegative()||e.isNeg())&&WC("unbound-bitwise-result","and"),jC(HC(this).and(e))}or(t){const e=HC(t);return(this.isNegative()||e.isNeg())&&WC("unbound-bitwise-result","or"),jC(HC(this).or(e))}xor(t){const e=HC(t);return(this.isNegative()||e.isNeg())&&WC("unbound-bitwise-result","xor"),jC(HC(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&WC("negative-width","mask"),jC(HC(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&WC("negative-width","shl"),jC(HC(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&WC("negative-width","shr"),jC(HC(this).shrn(t))}eq(t){return HC(this).eq(HC(t))}lt(t){return HC(this).lt(HC(t))}lte(t){return HC(this).lte(HC(t))}gt(t){return HC(this).gt(HC(t))}gte(t){return HC(this).gte(HC(t))}isNegative(){return"-"===this._hex[0]}isZero(){return HC(this).isZero()}toNumber(){try{return HC(this).toNumber()}catch($I){WC("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return LC.throwError("this platform does not support BigInt",MC.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?FC||(FC=!0,LC.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?LC.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",MC.errors.UNEXPECTED_ARGUMENT,{}):LC.throwError("BigNumber.toString does not accept parameters",MC.errors.UNEXPECTED_ARGUMENT,{})),HC(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof GC)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new GC(BC,zC(t)):t.match(/^-?[0-9]+$/)?new GC(BC,zC(new UC(t))):LC.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&WC("underflow","BigNumber.from",t),(t>=DC||t<=-9007199254740991)&&WC("overflow","BigNumber.from",t),GC.from(String(t));const e=t;if("bigint"===typeof e)return GC.from(e.toString());if(NC(e))return GC.from(IC(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return GC.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(RC(t)||"-"===t[0]&&RC(t.substring(1))))return GC.from(t)}return LC.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function zC(t){if("string"!==typeof t)return zC(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&LC.throwArgumentError("invalid hex","value",t),"0x00"===(t=zC(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function jC(t){return GC.from(zC(t))}function HC(t){const e=GC.from(t).toHexString();return"-"===e[0]?new UC("-"+e.substring(3),16):new UC(e.substring(2),16)}function WC(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),LC.throwError(t,MC.errors.NUMERIC_FAULT,n)}const VC=new MC(kC),qC={},KC=GC.from(0),JC=GC.from(-1);function XC(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),VC.throwError(t,MC.errors.NUMERIC_FAULT,i)}let YC="0";for(;YC.length<256;)YC+=YC;function QC(t){if("number"!==typeof t)try{t=GC.from(t).toNumber()}catch(e){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+YC.substring(0,t):VC.throwArgumentError("invalid decimal size","decimals",t)}function ZC(t,e){null==e&&(e=0);const r=QC(e),n=(t=GC.from(t)).lt(KC);n&&(t=t.mul(JC));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function $C(t,e){null==e&&(e=0);const r=QC(e);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||VC.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&VC.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&VC.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&XC("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=GC.from(o),u=GC.from(s);let l=a.mul(r).add(u);return n&&(l=l.mul(JC)),l}class tI{constructor(t,e,r,n){t!==qC&&VC.throwError("cannot use FixedFormat constructor; use FixedFormat.from",MC.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=QC(n),Object.freeze(this)}static from(t){if(t instanceof tI)return t;"number"===typeof t&&(t="fixed128x".concat(t));let e=!0,r=128,n=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||VC.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&VC.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&VC.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&VC.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new tI(qC,e,r,n)}}class eI{constructor(t,e,r,n){t!==qC&&VC.throwError("cannot use FixedNumber constructor; use FixedNumber.from",MC.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&VC.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=$C(this._value,this.format.decimals),r=$C(t._value,t.format.decimals);return eI.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=$C(this._value,this.format.decimals),r=$C(t._value,t.format.decimals);return eI.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=$C(this._value,this.format.decimals),r=$C(t._value,t.format.decimals);return eI.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=$C(this._value,this.format.decimals),r=$C(t._value,t.format.decimals);return eI.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=eI.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(rI.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=eI.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(rI.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&VC.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=eI.from("1"+YC.substring(0,t),this.format),n=nI.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&VC.throwArgumentError("invalid byte width","width",t);return PC(GC.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return eI.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(GC.isBigNumber(t)||"number"===typeof t&&t%1===0||"string"===typeof t&&!!t.match(/^-?[0-9]+$/)||RC(t)||"bigint"===typeof t||NC(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),eI.fromString(ZC(t,e),tI.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=tI.from(e),n=$C(t,r.decimals);!r.signed&&n.lt(KC)&&XC("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=PC(i,r.width/8));const o=ZC(n,r.decimals);return new eI(qC,i,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=tI.from(e);if(TC(t).length>r.width/8)throw new Error("overflow");let n=GC.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=ZC(n,r.decimals);return new eI(qC,i,o,r)}static from(t,e){if("string"===typeof t)return eI.fromString(t,e);if(NC(t))return eI.fromBytes(t,e);try{return eI.fromValue(t,0,e)}catch($I){if($I.code!==MC.errors.INVALID_ARGUMENT)throw $I}return VC.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const rI=eI.from(1),nI=eI.from("0.5"),iI=new MC("units/5.6.0"),oI=["wei","kwei","mwei","gwei","szabo","finney","ether"];function sI(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||"."===t||"-."===t)&&iI.throwArgumentError("invalid value","value",t);let r=e[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===e.length&&(i="."+(e[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);const o=[];for(;r.length;){if(r.length<=3){o.unshift(r);break}{const t=r.length-3;o.unshift(r.substring(t)),r=r.substring(0,t)}}return n+o.join(",")+i}function aI(t,e){if("string"===typeof e){const t=oI.indexOf(e);-1!==t&&(e=3*t)}return ZC(t,null!=e?e:18)}function uI(t,e){if("string"!==typeof t&&iI.throwArgumentError("value must be a string","value",t),"string"===typeof e){const t=oI.indexOf(e);-1!==t&&(e=3*t)}return $C(t,null!=e?e:18)}function lI(t){return aI(t,18)}function hI(t){return uI(t,18)}let cI=!1,fI=!1;const dI={debug:1,default:2,info:2,warning:3,error:4,off:5};let pI=dI.default,mI=null;const gI=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch($I){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($I){return $I.message}return null}();var vI,yI;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(vI||(vI={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(yI||(yI={}));const wI="0123456789abcdef";class bI{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==dI[r]&&this.throwArgumentError("invalid log level name","logLevel",t),pI>dI[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(bI.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(bI.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(bI.levels.WARNING,e)}makeError(t,e,r){if(fI)return this.makeError("censored error",e,{});e||(e=bI.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=wI[e[t]>>4],r+=wI[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case yI.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case yI.CALL_EXCEPTION:case yI.INSUFFICIENT_FUNDS:case yI.MISSING_NEW:case yI.NONCE_EXPIRED:case yI.REPLACEMENT_UNDERPRICED:case yI.TRANSACTION_REPLACED:case yI.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,bI.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),gI&&this.throwError("platform missing String.prototype.normalize",bI.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:gI})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,bI.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,bI.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,bI.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,bI.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",bI.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",bI.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",bI.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return mI||(mI=new bI("logger/5.7.0")),mI}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",bI.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),cI){if(!t)return;this.globalLogger().throwError("error censorship permanent",bI.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fI=!!t,cI=!!e}static setLogLevel(t){const e=dI[t.toLowerCase()];null!=e?pI=e:bI.globalLogger().warn("invalid log level - "+t)}static from(t){return new bI(t)}}bI.errors=yI,bI.levels=vI;const AI=new bI("bytes/5.7.0");function MI(t){return!!t.toHexString}function _I(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return _I(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function EI(t){return TI(t)&&!(t.length%2)||SI(t)}function xI(t){return"number"===typeof t&&t==t&&t%1===0}function SI(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!xI(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!xI(r)||r<0||r>=256)return!1}return!0}function NI(t,e){if(e||(e={}),"number"===typeof t){AI.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),_I(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),MI(t)&&(t=t.toHexString()),TI(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":AI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return _I(new Uint8Array(n))}return SI(t)?_I(new Uint8Array(t)):AI.throwArgumentError("invalid arrayify value","value",t)}function TI(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const RI="0123456789abcdef";function CI(t,e){if(e||(e={}),"number"===typeof t){AI.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=RI[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),MI(t))return t.toHexString();if(TI(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":AI.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(SI(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=RI[(240&n)>>4]+RI[15&n]}return e}return AI.throwArgumentError("invalid hexlify value","value",t)}function II(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return NI(e)}function PI(t){t=NI(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}new bI("properties/5.7.0");function kI(t){const e={};for(const r in t)e[r]=t[r];return e}const OI=new bI("strings/5.7.0");var UI,LI;function BI(t,e,r,n,i){if(t===LI.BAD_PREFIX||t===LI.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===LI.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(UI||(UI={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(LI||(LI={}));const DI=Object.freeze({error:function(t,e,r,n,i){return OI.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:BI,replace:function(t,e,r,n,i){return t===LI.OVERLONG?(n.push(i),0):(n.push(65533),BI(t,e,r))}});function FI(t,e){null==e&&(e=DI.error),t=NI(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?LI.UNEXPECTED_CONTINUE:LI.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(LI.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e(LI.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(LI.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(LI.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(LI.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function GI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UI.current;e!=UI.current&&(OI.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return NI(r)}function zI(t,e){return FI(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}var jI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function HI(t,e){return jI(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:NI(new Uint8Array(i))}}))}var WI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const VI=new bI("web/5.6.0");function qI(t){return new Promise((e=>{setTimeout(e,t)}))}function KI(t,e){if(null==t)return null;if("string"===typeof t)return t;if(EI(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return zI(t)}catch($I){}return CI(t)}return t}function JI(t,e,r){const n="object"===typeof t&&null!=t.throttleLimit?t.throttleLimit:12;VI.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"===typeof t?t.throttleCallback:null,o="object"===typeof t&&"number"===typeof t.throttleSlotInterval?t.throttleSlotInterval:100;VI.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"===typeof t&&!!t.errorPassThrough,a={};let u=null;const l={method:"GET"};let h=!1,c=12e4;if("string"===typeof t)u=t;else if("object"===typeof t){if(null!=t&&null!=t.url||VI.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"===typeof t.timeout&&t.timeout>0&&(c=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&VI.throwError("basic authentication requires a secure https url",bI.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+PI(GI(e))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=u?u.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:II(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch($I){VI.throwError("processing response error",bI.errors.SERVER_ERROR,{body:KI(d[1],d[2]),error:$I,requestBody:null,requestMethod:"GET",url:u})}e&&(l.method="POST",l.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),l.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){c&&(t=setTimeout((()=>{null!=t&&(t=null,r(VI.makeError("timeout",bI.errors.TIMEOUT,{requestBody:KI(l.body,p["content-type"]),requestMethod:l.method,timeout:c,url:u})))}),c))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),g=function(){return WI(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield HI(u,l),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===l.method&&t.match(/^https:/)){u=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,u)),r){let r=0;const n=e.headers["retry-after"];r="string"===typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield qI(r);continue}}}catch($I){e=$I.response,null==e&&(m.cancel(),VI.throwError("missing response",bI.errors.SERVER_ERROR,{requestBody:KI(l.body,p["content-type"]),requestMethod:l.method,serverError:$I,url:u}))}let a=e.body;if(h&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),VI.throwError("bad response",bI.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:KI(a,e.headers?e.headers["content-type"]:null),requestBody:KI(l.body,p["content-type"]),requestMethod:l.method,url:u})),r)try{const t=yield r(a,e);return m.cancel(),t}catch($I){if($I.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,u)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield qI(e);continue}}m.cancel(),VI.throwError("processing response error",bI.errors.SERVER_ERROR,{body:KI(a,e.headers?e.headers["content-type"]:null),error:$I,requestBody:KI(l.body,p["content-type"]),requestMethod:l.method,url:u})}return m.cancel(),a}return VI.throwError("failed response",bI.errors.SERVER_ERROR,{requestBody:KI(l.body,p["content-type"]),requestMethod:l.method,url:u})}))}();return Promise.race([m.promise,g])}function XI(t,e,r){let n=null;if(null!=e){n=GI(e);const r="string"===typeof t?{url:t}:kI(t);if(r.headers){0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=kI(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return JI(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(zI(t))}catch($I){VI.throwError("invalid JSON",bI.errors.SERVER_ERROR,{body:t,error:$I})}return r&&(n=r(n,e)),n}))}function YI(t,e){return e||(e={}),null==(e=kI(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}const QI="ethers/5.6.0",ZI=new E_(QI);try{const t=window;null==t._ethers&&(t._ethers=u)}catch($I){}},30534:(t,e,r)=>{"use strict";var n=r(47313),i=r(57108);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(t,e,r,n,i,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function w(t,e,r,n){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!c.call(p,t)||!c.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),M=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function U(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,B=Object.assign;function D(t){if(void 0===L)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var F=!1;function G(t,e){if(!t||F)return"";F=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=n.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?D(t):""}function z(t){switch(t.tag){case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 1:return t=G(t.type,!0);default:return""}}function j(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case _:return"Fragment";case M:return"Portal";case x:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case S:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case I:return null!==(e=t.displayName||null)?e:j(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return j(t(e))}catch(r){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function V(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=V(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var r=e.checked;return B({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Y(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=W(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function Z(t,e){Q(t,e);var r=W(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&J(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+W(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return B({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(o(92));if(et(r)){if(1<r.length)throw Error(o(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:W(r)}}function ot(t,e){var r=W(e.value),n=W(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ht,ct=(ht=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return ht(t,e)}))}:ht);function ft(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=mt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var vt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function At(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Mt=null,_t=null,Et=null;function xt(t){if(t=wi(t)){if("function"!==typeof Mt)throw Error(o(280));var e=t.stateNode;e&&(e=Ai(e),Mt(t.stateNode,t.type,e))}}function St(t){_t?Et?Et.push(t):Et=[t]:_t=t}function Nt(){if(_t){var t=_t,e=Et;if(Et=_t=null,xt(t),e)for(t=0;t<e.length;t++)xt(e[t])}}function Tt(t,e){return t(e)}function Rt(){}var Ct=!1;function It(t,e,r){if(Ct)return t(e,r);Ct=!0;try{return Tt(t,e,r)}finally{Ct=!1,(null!==_t||null!==Et)&&(Rt(),Nt())}}function Pt(t,e){var r=t.stateNode;if(null===r)return null;var n=Ai(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(o(231,e,typeof r));return r}var kt=!1;if(h)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){kt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ht){kt=!1}function Ut(t,e,r,n,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(h){this.onError(h)}}var Lt=!1,Bt=null,Dt=!1,Ft=null,Gt={onError:function(t){Lt=!0,Bt=t}};function zt(t,e,r,n,i,o,s,a,u){Lt=!1,Bt=null,Ut.apply(Gt,arguments)}function jt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(jt(t)!==t)throw Error(o(188))}function Vt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=jt(t)))throw Error(o(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Wt(i),t;if(s===n)return Wt(i),e;s=s.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=s;break}if(u===n){a=!0,n=i,r=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===r){a=!0,r=s,n=i;break}if(u===n){a=!0,n=s,r=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=i.unstable_scheduleCallback,Jt=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Qt=i.unstable_now,Zt=i.unstable_getCurrentPriorityLevel,$t=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,re=i.unstable_LowPriority,ne=i.unstable_IdlePriority,ie=null,oe=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/ue|0)|0},ae=Math.log,ue=Math.LN2;var le=64,he=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=268435455&r;if(0!==s){var a=s&~i;0!==a?n=ce(a):0!==(o&=s)&&(n=ce(o))}else 0!==(s=r&~i)?n=ce(s):0!==o&&(n=ce(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&i)&&((i=n&-n)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-se(e)),n|=t[r],e&=~i;return n}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function ge(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ve(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=r}function ye(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-se(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var we=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Ae,Me,_e,Ee,xe,Se=!1,Ne=[],Te=null,Re=null,Ce=null,Ie=new Map,Pe=new Map,ke=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ue(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Re=null;break;case"mouseover":case"mouseout":Ce=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Le(t,e,r,n,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=wi(e))&&Me(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Be(t){var e=yi(t.target);if(null!==e){var r=jt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Ht(r)))return t.blockedOn=e,void xe(t.priority,(function(){_e(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function De(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=wi(r))&&Me(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);bt=n,r.target.dispatchEvent(n),bt=null,e.shift()}return!0}function Fe(t,e,r){De(t)&&r.delete(e)}function Ge(){Se=!1,null!==Te&&De(Te)&&(Te=null),null!==Re&&De(Re)&&(Re=null),null!==Ce&&De(Ce)&&(Ce=null),Ie.forEach(Fe),Pe.forEach(Fe)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Se||(Se=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ge)))}function je(t){function e(e){return ze(e,t)}if(0<Ne.length){ze(Ne[0],t);for(var r=1;r<Ne.length;r++){var n=Ne[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Te&&ze(Te,t),null!==Re&&ze(Re,t),null!==Ce&&ze(Ce,t),Ie.forEach(e),Pe.forEach(e),r=0;r<ke.length;r++)(n=ke[r]).blockedOn===t&&(n.blockedOn=null);for(;0<ke.length&&null===(r=ke[0]).blockedOn;)Be(r),null===r.blockedOn&&ke.shift()}var He=b.ReactCurrentBatchConfig,We=!0;function Ve(t,e,r,n){var i=we,o=He.transition;He.transition=null;try{we=1,Ke(t,e,r,n)}finally{we=i,He.transition=o}}function qe(t,e,r,n){var i=we,o=He.transition;He.transition=null;try{we=4,Ke(t,e,r,n)}finally{we=i,He.transition=o}}function Ke(t,e,r,n){if(We){var i=Xe(t,e,r,n);if(null===i)Wn(t,e,n,Je,r),Ue(t,n);else if(function(t,e,r,n,i){switch(e){case"focusin":return Te=Le(Te,t,e,r,n,i),!0;case"dragenter":return Re=Le(Re,t,e,r,n,i),!0;case"mouseover":return Ce=Le(Ce,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ie.set(o,Le(Ie.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Pe.set(o,Le(Pe.get(o)||null,t,e,r,n,i)),!0}return!1}(i,t,e,r,n))n.stopPropagation();else if(Ue(t,n),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var o=wi(i);if(null!==o&&Ae(o),null===(o=Xe(t,e,r,n))&&Wn(t,e,n,Je,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Wn(t,e,n,null,r)}}var Je=null;function Xe(t,e,r,n){if(Je=null,null!==(t=yi(t=At(n))))if(null===(e=jt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Je=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case $t:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Qe=null,Ze=null,$e=null;function tr(){if($e)return $e;var t,e,r=Ze,n=r.length,i="value"in Qe?Qe.value:Qe.textContent,o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var s=n-t;for(e=1;e<=s&&r[n-e]===i[o-e];e++);return $e=i.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function ir(t){function e(e,r,n,i,o){for(var s in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return B(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var or,sr,ar,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=ir(ur),hr=B({},ur,{view:0,detail:0}),cr=ir(hr),fr=B({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&"mousemove"===t.type?(or=t.screenX-ar.screenX,sr=t.screenY-ar.screenY):sr=or=0,ar=t),or)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),dr=ir(fr),pr=ir(B({},fr,{dataTransfer:0})),mr=ir(B({},hr,{relatedTarget:0})),gr=ir(B({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=B({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yr=ir(vr),wr=ir(B({},ur,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _r(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Mr[t])&&!!e[t]}function Er(){return _r}var xr=B({},hr,{key:function(t){if(t.key){var e=br[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ar[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Sr=ir(xr),Nr=ir(B({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=ir(B({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Rr=ir(B({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=B({},fr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=ir(Cr),Pr=[9,13,27,32],kr=h&&"CompositionEvent"in window,Or=null;h&&"documentMode"in document&&(Or=document.documentMode);var Ur=h&&"TextEvent"in window&&!Or,Lr=h&&(!kr||Or&&8<Or&&11>=Or),Br=String.fromCharCode(32),Dr=!1;function Fr(t,e){switch(t){case"keyup":return-1!==Pr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zr=!1;var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!jr[t.type]:"textarea"===e}function Wr(t,e,r,n){St(n),0<(e=qn(e,"onChange")).length&&(r=new lr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vr=null,qr=null;function Kr(t){Dn(t,0)}function Jr(t){if(K(bi(t)))return t}function Xr(t,e){if("change"===t)return e}var Yr=!1;if(h){var Qr;if(h){var Zr="oninput"in document;if(!Zr){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Zr="function"===typeof $r.oninput}Qr=Zr}else Qr=!1;Yr=Qr&&(!document.documentMode||9<document.documentMode)}function tn(){Vr&&(Vr.detachEvent("onpropertychange",en),qr=Vr=null)}function en(t){if("value"===t.propertyName&&Jr(qr)){var e=[];Wr(e,qr,t,At(t)),It(Kr,e)}}function rn(t,e,r){"focusin"===t?(tn(),qr=r,(Vr=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Jr(qr)}function on(t,e){if("click"===t)return Jr(e)}function sn(t,e){if("input"===t||"change"===t)return Jr(e)}var an="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function un(t,e){if(an(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!c.call(e,i)||!an(t[i],e[i]))return!1}return!0}function ln(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var r,n=ln(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ln(n)}}function cn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fn(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=J((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pn(t){var e=fn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cn(r.ownerDocument.documentElement,r)){if(null!==n&&dn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=hn(r,o);var s=hn(r,n);i&&s&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mn=h&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,wn=!1;function bn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wn||null==gn||gn!==J(n)||("selectionStart"in(n=gn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&un(yn,n)||(yn=n,0<(n=qn(vn,"onSelect")).length&&(e=new lr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gn)))}function An(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mn={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionend:An("Transition","TransitionEnd")},_n={},En={};function xn(t){if(_n[t])return _n[t];if(!Mn[t])return t;var e,r=Mn[t];for(e in r)if(r.hasOwnProperty(e)&&e in En)return _n[t]=r[e];return t}h&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);var Sn=xn("animationend"),Nn=xn("animationiteration"),Tn=xn("animationstart"),Rn=xn("transitionend"),Cn=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(t,e){Cn.set(t,e),u(e,[t])}for(var kn=0;kn<In.length;kn++){var On=In[kn];Pn(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}Pn(Sn,"onAnimationEnd"),Pn(Nn,"onAnimationIteration"),Pn(Tn,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Rn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Bn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,s,a,u,l){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var h=Bt;Lt=!1,Bt=null,Dt||(Dt=!0,Ft=h)}}(n,e,void 0,t),t.currentTarget=null}function Dn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break t;Bn(i,a,l),o=u}else for(s=0;s<n.length;s++){if(u=(a=n[s]).instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break t;Bn(i,a,l),o=u}}}if(Dt)throw t=Ft,Dt=!1,Ft=null,t}function Fn(t,e){var r=e[mi];void 0===r&&(r=e[mi]=new Set);var n=t+"__bubble";r.has(n)||(Hn(e,t,2,!1),r.add(n))}function Gn(t,e,r){var n=0;e&&(n|=4),Hn(r,t,n,e)}var zn="_reactListening"+Math.random().toString(36).slice(2);function jn(t){if(!t[zn]){t[zn]=!0,s.forEach((function(e){"selectionchange"!==e&&(Ln.has(e)||Gn(e,!1,t),Gn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zn]||(e[zn]=!0,Gn("selectionchange",!1,e))}}function Hn(t,e,r,n){switch(Ye(e)){case 1:var i=Ve;break;case 4:i=qe;break;default:i=Ke}r=i.bind(null,e,r,t),i=void 0,!kt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Wn(t,e,r,n,i){var o=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(u=s.tag)||6===u){n=o=s;continue t}a=a.parentNode}}n=n.return}It((function(){var n=o,i=At(r),s=[];t:{var a=Cn.get(t);if(void 0!==a){var u=lr,l=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":u=Sr;break;case"focusin":l="focus",u=mr;break;case"focusout":l="blur",u=mr;break;case"beforeblur":case"afterblur":u=mr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tr;break;case Sn:case Nn:case Tn:u=gr;break;case Rn:u=Rr;break;case"scroll":u=cr;break;case"wheel":u=Ir;break;case"copy":case"cut":case"paste":u=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nr}var h=0!==(4&e),c=!h&&"scroll"===t,f=h?null!==a?a+"Capture":null:a;h=[];for(var d,p=n;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Pt(p,f))&&h.push(Vn(p,m,d)))),c)break;p=p.return}0<h.length&&(a=new u(a,l,null,r,i),s.push({event:a,listeners:h}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||r===bt||!(l=r.relatedTarget||r.fromElement)||!yi(l)&&!l[pi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?yi(l):null)&&(l!==(c=jt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(h=dr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=Nr,m="onPointerLeave",f="onPointerEnter",p="pointer"),c=null==u?a:bi(u),d=null==l?a:bi(l),(a=new h(m,p+"leave",u,r,i)).target=c,a.relatedTarget=d,m=null,yi(i)===n&&((h=new h(f,p+"enter",l,r,i)).target=d,h.relatedTarget=c,m=h),c=m,u&&l)t:{for(f=l,p=0,d=h=u;d;d=Kn(d))p++;for(d=0,m=f;m;m=Kn(m))d++;for(;0<p-d;)h=Kn(h),p--;for(;0<d-p;)f=Kn(f),d--;for(;p--;){if(h===f||null!==f&&h===f.alternate)break t;h=Kn(h),f=Kn(f)}h=null}else h=null;null!==u&&Jn(s,a,u,h,!1),null!==l&&null!==c&&Jn(s,c,l,h,!0)}if("select"===(u=(a=n?bi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Xr;else if(Hr(a))if(Yr)g=sn;else{g=nn;var v=rn}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=on);switch(g&&(g=g(t,n))?Wr(s,g,r,i):(v&&v(t,a,n),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=n?bi(n):window,t){case"focusin":(Hr(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,bn(s,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(s,r,i)}var y;if(kr)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else zr?Fr(t,r)&&(w="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(w="onCompositionStart");w&&(Lr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==w?"onCompositionEnd"===w&&zr&&(y=tr()):(Ze="value"in(Qe=i)?Qe.value:Qe.textContent,zr=!0)),0<(v=qn(n,w)).length&&(w=new wr(w,t,null,r,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=Gr(r))&&(w.data=y))),(y=Ur?function(t,e){switch(t){case"compositionend":return Gr(e);case"keypress":return 32!==e.which?null:(Dr=!0,Br);case"textInput":return(t=e.data)===Br&&Dr?null:t;default:return null}}(t,r):function(t,e){if(zr)return"compositionend"===t||!kr&&Fr(t,e)?(t=tr(),$e=Ze=Qe=null,zr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=qn(n,"onBeforeInput")).length&&(i=new wr("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=y))}Dn(s,e)}))}function Vn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pt(t,r))&&n.unshift(Vn(t,o,i)),null!=(o=Pt(t,e))&&n.push(Vn(t,o,i))),t=t.return}return n}function Kn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Jn(t,e,r,n,i){for(var o=e._reactName,s=[];null!==r&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(null!==u&&u===n)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Pt(r,o))&&s.unshift(Vn(r,u,a)):i||null!=(u=Pt(r,o))&&s.push(Vn(r,u,a))),r=r.return}0!==s.length&&t.push({event:e,listeners:s})}var Xn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Qn(t){return("string"===typeof t?t:""+t).replace(Xn,"\n").replace(Yn,"")}function Zn(t,e,r){if(e=Qn(e),Qn(t)!==e&&r)throw Error(o(425))}function $n(){}var ti=null,ei=null;function ri(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(ai)}:ni;function ai(t){setTimeout((function(){throw t}))}function ui(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return t.removeChild(i),void je(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);je(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),fi="__reactFiber$"+ci,di="__reactProps$"+ci,pi="__reactContainer$"+ci,mi="__reactEvents$"+ci,gi="__reactListeners$"+ci,vi="__reactHandles$"+ci;function yi(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pi]||r[fi]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=hi(t);null!==t;){if(r=t[fi])return r;t=hi(t)}return e}r=(t=r).parentNode}return null}function wi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Ai(t){return t[di]||null}var Mi=[],_i=-1;function Ei(t){return{current:t}}function xi(t){0>_i||(t.current=Mi[_i],Mi[_i]=null,_i--)}function Si(t,e){_i++,Mi[_i]=t.current,t.current=e}var Ni={},Ti=Ei(Ni),Ri=Ei(!1),Ci=Ni;function Ii(t,e){var r=t.type.contextTypes;if(!r)return Ni;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function ki(){xi(Ri),xi(Ti)}function Oi(t,e,r){if(Ti.current!==Ni)throw Error(o(168));Si(Ti,e),Si(Ri,r)}function Ui(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(o(108,H(t)||"Unknown",i));return B({},r,n)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,Ci=Ti.current,Si(Ti,t),Si(Ri,Ri.current),!0}function Bi(t,e,r){var n=t.stateNode;if(!n)throw Error(o(169));r?(t=Ui(t,e,Ci),n.__reactInternalMemoizedMergedChildContext=t,xi(Ri),xi(Ti),Si(Ti,t)):xi(Ri),Si(Ri,r)}var Di=null,Fi=!1,Gi=!1;function zi(t){null===Di?Di=[t]:Di.push(t)}function ji(){if(!Gi&&null!==Di){Gi=!0;var t=0,e=we;try{var r=Di;for(we=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Di=null,Fi=!1}catch(i){throw null!==Di&&(Di=Di.slice(t+1)),Kt($t,ji),i}finally{we=e,Gi=!1}}return null}var Hi=[],Wi=0,Vi=null,qi=0,Ki=[],Ji=0,Xi=null,Yi=1,Qi="";function Zi(t,e){Hi[Wi++]=qi,Hi[Wi++]=Vi,Vi=t,qi=e}function $i(t,e,r){Ki[Ji++]=Yi,Ki[Ji++]=Qi,Ki[Ji++]=Xi,Xi=t;var n=Yi;t=Qi;var i=32-se(n)-1;n&=~(1<<i),r+=1;var o=32-se(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Yi=1<<32-se(e)+i|r<<i|n,Qi=o+t}else Yi=1<<o|r<<i|n,Qi=t}function to(t){null!==t.return&&(Zi(t,1),$i(t,1,0))}function eo(t){for(;t===Vi;)Vi=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;t===Xi;)Xi=Ki[--Ji],Ki[Ji]=null,Qi=Ki[--Ji],Ki[Ji]=null,Yi=Ki[--Ji],Ki[Ji]=null}var ro=null,no=null,io=!1,oo=null;function so(t,e){var r=Pl(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function ao(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ro=t,no=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ro=t,no=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==Xi?{id:Yi,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Pl(18,null,null,0)).stateNode=e,r.return=t,t.child=r,ro=t,no=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lo(t){if(io){var e=no;if(e){var r=e;if(!ao(t,e)){if(uo(t))throw Error(o(418));e=li(r.nextSibling);var n=ro;e&&ao(t,e)?so(n,r):(t.flags=-4097&t.flags|2,io=!1,ro=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,ro=t}}}function ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ro=t}function co(t){if(t!==ro)return!1;if(!io)return ho(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ri(t.type,t.memoizedProps)),e&&(e=no)){if(uo(t))throw fo(),Error(o(418));for(;e;)so(t,e),e=li(e.nextSibling)}if(ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){no=li(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}no=null}}else no=ro?li(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=no;t;)t=li(t.nextSibling)}function po(){no=ro=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=b.ReactCurrentBatchConfig;function vo(t,e){if(t&&t.defaultProps){for(var r in e=B({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var yo=Ei(null),wo=null,bo=null,Ao=null;function Mo(){Ao=bo=wo=null}function _o(t){var e=yo.current;xi(yo),t._currentValue=e}function Eo(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xo(t,e){wo=t,Ao=bo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function So(t){var e=t._currentValue;if(Ao!==t)if(t={context:t,memoizedValue:e,next:null},null===bo){if(null===wo)throw Error(o(308));bo=t,wo.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var No=null;function To(t){null===No?No=[t]:No.push(t)}function Ro(t,e,r,n){var i=e.interleaved;return null===i?(r.next=r,To(e)):(r.next=i.next,i.next=r),e.interleaved=r,Co(t,n)}function Co(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var Io=!1;function Po(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ko(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ru)){var i=n.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Co(t,r)}return null===(i=n.interleaved)?(e.next=e,To(n)):(e.next=i.next,i.next=e),n.interleaved=e,Co(t,r)}function Lo(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ye(t,r)}}function Bo(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?i=o=e:o=o.next=e}else i=o=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Do(t,e,r,n){var i=t.updateQueue;Io=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,l=u.next;u.next=null,null===s?o=l:s.next=l,s=u;var h=t.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===a?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=u))}if(null!==o){var c=i.baseState;for(s=0,h=l=u=null,a=o;;){var f=a.lane,d=a.eventTime;if((n&f)===f){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(f=e,d=r,m.tag){case 1:if("function"===typeof(p=m.payload)){c=p.call(d,c,f);break t}c=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,c,f):p)||void 0===f)break t;c=B({},c,f);break t;case 2:Io=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,u=c):h=h.next=d,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===h&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,null!==(e=i.shared.interleaved)){i=e;do{s|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Bu|=s,t.lanes=s,t.memoizedState=c}}function Fo(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var Go=(new n.Component).refs;function zo(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:B({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var jo={isMounted:function(t){return!!(t=t._reactInternals)&&jt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=el(),i=rl(t),o=Oo(n,i);o.payload=e,void 0!==r&&null!==r&&(o.callback=r),null!==(e=Uo(t,o,i))&&(nl(e,t,i,n),Lo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=el(),i=rl(t),o=Oo(n,i);o.tag=1,o.payload=e,void 0!==r&&null!==r&&(o.callback=r),null!==(e=Uo(t,o,i))&&(nl(e,t,i,n),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=el(),n=rl(t),i=Oo(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Uo(t,i,n))&&(nl(e,t,n,r),Lo(e,t,n))}};function Ho(t,e,r,n,i,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!un(r,n)||!un(i,o))}function Wo(t,e,r){var n=!1,i=Ni,o=e.contextType;return"object"===typeof o&&null!==o?o=So(o):(i=Pi(e)?Ci:Ti.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ii(t,i):Ni),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=jo,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vo(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jo.enqueueReplaceState(e,e.state,null)}function qo(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Go,Po(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=So(o):(o=Pi(e)?Ci:Ti.current,i.context=Ii(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(zo(t,e,o,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&jo.enqueueReplaceState(i,i.state,null),Do(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Ko(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,t));var i=n,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=i.refs;e===Go&&(e=i.refs={}),null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(o(284));if(!r._owner)throw Error(o(290,t))}return t}function Jo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xo(t){return(0,t._init)(t._payload)}function Yo(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ol(t,e)).index=0,t.sibling=null,t}function s(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,r,n){return null===e||6!==e.tag?((e=Dl(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function l(t,e,r,n){var o=r.type;return o===_?c(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Xo(o)===e.type)?((n=i(e,r.props)).ref=Ko(t,e,r),n.return=t,n):((n=Ul(r.type,r.key,r.props,null,t.mode,n)).ref=Ko(t,e,r),n.return=t,n)}function h(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Fl(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function c(t,e,r,n,o){return null===e||7!==e.tag?((e=Ll(r,t.mode,n,o)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Dl(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case A:return(r=Ul(e.type,e.key,e.props,null,t.mode,r)).ref=Ko(t,null,e),r.return=t,r;case M:return(e=Fl(e,t.mode,r)).return=t,e;case P:return f(t,(0,e._init)(e._payload),r)}if(et(e)||U(e))return(e=Ll(e,t.mode,r,null)).return=t,e;Jo(t,e)}return null}function d(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:u(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return r.key===i?l(t,e,r,n):null;case M:return r.key===i?h(t,e,r,n):null;case P:return d(t,e,(i=r._init)(r._payload),n)}if(et(r)||U(r))return null!==i?null:c(t,e,r,n,null);Jo(t,r)}return null}function p(t,e,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return u(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return l(e,t=t.get(null===n.key?r:n.key)||null,n,i);case M:return h(e,t=t.get(null===n.key?r:n.key)||null,n,i);case P:return p(t,e,r,(0,n._init)(n._payload),i)}if(et(n)||U(n))return c(e,t=t.get(r)||null,n,i,null);Jo(e,n)}return null}function m(i,o,a,u){for(var l=null,h=null,c=o,m=o=0,g=null;null!==c&&m<a.length;m++){c.index>m?(g=c,c=null):g=c.sibling;var v=d(i,c,a[m],u);if(null===v){null===c&&(c=g);break}t&&c&&null===v.alternate&&e(i,c),o=s(v,o,m),null===h?l=v:h.sibling=v,h=v,c=g}if(m===a.length)return r(i,c),io&&Zi(i,m),l;if(null===c){for(;m<a.length;m++)null!==(c=f(i,a[m],u))&&(o=s(c,o,m),null===h?l=c:h.sibling=c,h=c);return io&&Zi(i,m),l}for(c=n(i,c);m<a.length;m++)null!==(g=p(c,i,m,a[m],u))&&(t&&null!==g.alternate&&c.delete(null===g.key?m:g.key),o=s(g,o,m),null===h?l=g:h.sibling=g,h=g);return t&&c.forEach((function(t){return e(i,t)})),io&&Zi(i,m),l}function g(i,a,u,l){var h=U(u);if("function"!==typeof h)throw Error(o(150));if(null==(u=h.call(u)))throw Error(o(151));for(var c=h=null,m=a,g=a=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=d(i,m,y.value,l);if(null===w){null===m&&(m=v);break}t&&m&&null===w.alternate&&e(i,m),a=s(w,a,g),null===c?h=w:c.sibling=w,c=w,m=v}if(y.done)return r(i,m),io&&Zi(i,g),h;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(a=s(y,a,g),null===c?h=y:c.sibling=y,c=y);return io&&Zi(i,g),h}for(m=n(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===c?h=y:c.sibling=y,c=y);return t&&m.forEach((function(t){return e(i,t)})),io&&Zi(i,g),h}return function t(n,o,s,u){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case A:t:{for(var l=s.key,h=o;null!==h;){if(h.key===l){if((l=s.type)===_){if(7===h.tag){r(n,h.sibling),(o=i(h,s.props.children)).return=n,n=o;break t}}else if(h.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Xo(l)===h.type){r(n,h.sibling),(o=i(h,s.props)).ref=Ko(n,h,s),o.return=n,n=o;break t}r(n,h);break}e(n,h),h=h.sibling}s.type===_?((o=Ll(s.props.children,n.mode,u,s.key)).return=n,n=o):((u=Ul(s.type,s.key,s.props,null,n.mode,u)).ref=Ko(n,o,s),u.return=n,n=u)}return a(n);case M:t:{for(h=s.key;null!==o;){if(o.key===h){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){r(n,o.sibling),(o=i(o,s.children||[])).return=n,n=o;break t}r(n,o);break}e(n,o),o=o.sibling}(o=Fl(s,n.mode,u)).return=n,n=o}return a(n);case P:return t(n,o,(h=s._init)(s._payload),u)}if(et(s))return m(n,o,s,u);if(U(s))return g(n,o,s,u);Jo(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,s)).return=n,n=o):(r(n,o),(o=Dl(s,n.mode,u)).return=n,n=o),a(n)):r(n,o)}}var Qo=Yo(!0),Zo=Yo(!1),$o={},ts=Ei($o),es=Ei($o),rs=Ei($o);function ns(t){if(t===$o)throw Error(o(174));return t}function is(t,e){switch(Si(rs,e),Si(es,t),Si(ts,$o),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}xi(ts),Si(ts,e)}function os(){xi(ts),xi(es),xi(rs)}function ss(t){ns(rs.current);var e=ns(ts.current),r=ut(e,t.type);e!==r&&(Si(es,t),Si(ts,r))}function as(t){es.current===t&&(xi(ts),xi(es))}var us=Ei(0);function ls(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hs=[];function cs(){for(var t=0;t<hs.length;t++)hs[t]._workInProgressVersionPrimary=null;hs.length=0}var fs=b.ReactCurrentDispatcher,ds=b.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,ws=!1,bs=0,As=0;function Ms(){throw Error(o(321))}function _s(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!an(t[r],e[r]))return!1;return!0}function Es(t,e,r,n,i,s){if(ps=s,ms=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fs.current=null===t||null===t.memoizedState?aa:ua,t=r(n,i),ws){s=0;do{if(ws=!1,bs=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,e.updateQueue=null,fs.current=la,t=r(n,i)}while(ws)}if(fs.current=sa,e=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,e)throw Error(o(300));return t}function xs(){var t=0!==bs;return bs=0,t}function Ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=t:vs=vs.next=t,vs}function Ns(){if(null===gs){var t=ms.alternate;t=null!==t?t.memoizedState:null}else t=gs.next;var e=null===vs?ms.memoizedState:vs.next;if(null!==e)vs=e,gs=t;else{if(null===t)throw Error(o(310));t={memoizedState:(gs=t).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=t:vs=vs.next=t}return vs}function Ts(t,e){return"function"===typeof e?e(t):e}function Rs(t){var e=Ns(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=gs,i=n.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(null!==i){s=i.next,n=n.baseState;var u=a=null,l=null,h=s;do{var c=h.lane;if((ps&c)===c)null!==l&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var f={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===l?(u=l=f,a=n):l=l.next=f,ms.lanes|=c,Bu|=c}h=h.next}while(null!==h&&h!==s);null===l?a=n:l.next=u,an(n,e.memoizedState)||(ba=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(null!==(t=r.interleaved)){i=t;do{s=i.lane,ms.lanes|=s,Bu|=s,i=i.next}while(i!==t)}else null===i&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cs(t){var e=Ns(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{s=t(s,a.action),a=a.next}while(a!==i);an(s,e.memoizedState)||(ba=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Is(){}function Ps(t,e){var r=ms,n=Ns(),i=e(),s=!an(n.memoizedState,i);if(s&&(n.memoizedState=i,ba=!0),n=n.queue,Ws(Us.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||null!==vs&&1&vs.memoizedState.tag){if(r.flags|=2048,Fs(9,Os.bind(null,r,n,i,e),void 0,null),null===Cu)throw Error(o(349));0!==(30&ps)||ks(r,e,i)}return i}function ks(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=ms.updateQueue)?(e={lastEffect:null,stores:null},ms.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Os(t,e,r,n){e.value=r,e.getSnapshot=n,Ls(e)&&Bs(t)}function Us(t,e,r){return r((function(){Ls(e)&&Bs(t)}))}function Ls(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!an(t,r)}catch(n){return!0}}function Bs(t){var e=Co(t,1);null!==e&&nl(e,t,1,-1)}function Ds(t){var e=Ss();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=ra.bind(null,ms,t),[e.memoizedState,t]}function Fs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=ms.updateQueue)?(e={lastEffect:null,stores:null},ms.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Gs(){return Ns().memoizedState}function zs(t,e,r,n){var i=Ss();ms.flags|=t,i.memoizedState=Fs(1|e,r,void 0,void 0===n?null:n)}function js(t,e,r,n){var i=Ns();n=void 0===n?null:n;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==n&&_s(n,s.deps))return void(i.memoizedState=Fs(e,r,o,n))}ms.flags|=t,i.memoizedState=Fs(1|e,r,o,n)}function Hs(t,e){return zs(8390656,8,t,e)}function Ws(t,e){return js(2048,8,t,e)}function Vs(t,e){return js(4,2,t,e)}function qs(t,e){return js(4,4,t,e)}function Ks(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Js(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,js(4,4,Ks.bind(null,e,t),r)}function Xs(){}function Ys(t,e){var r=Ns();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&_s(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Qs(t,e){var r=Ns();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&_s(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Zs(t,e,r){return 0===(21&ps)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=r):(an(r,e)||(r=me(),ms.lanes|=r,Bu|=r,t.baseState=!0),e)}function $s(t,e){var r=we;we=0!==r&&4>r?r:4,t(!0);var n=ds.transition;ds.transition={};try{t(!1),e()}finally{we=r,ds.transition=n}}function ta(){return Ns().memoizedState}function ea(t,e,r){var n=rl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},na(t))ia(e,r);else if(null!==(r=Ro(t,e,r,n))){nl(r,t,n,el()),oa(r,e,n)}}function ra(t,e,r){var n=rl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(na(t))ia(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,s)){var u=e.interleaved;return null===u?(i.next=i,To(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(l){}null!==(r=Ro(t,e,i,n))&&(nl(r,t,n,i=el()),oa(r,e,n))}}function na(t){var e=t.alternate;return t===ms||null!==e&&e===ms}function ia(t,e){ws=ys=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function oa(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ye(t,r)}}var sa={readContext:So,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useInsertionEffect:Ms,useLayoutEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useMutableSource:Ms,useSyncExternalStore:Ms,useId:Ms,unstable_isNewReconciler:!1},aa={readContext:So,useCallback:function(t,e){return Ss().memoizedState=[t,void 0===e?null:e],t},useContext:So,useEffect:Hs,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,zs(4194308,4,Ks.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return zs(4,2,t,e)},useMemo:function(t,e){var r=Ss();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ss();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ea.bind(null,ms,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Ss().memoizedState=t},useState:Ds,useDebugValue:Xs,useDeferredValue:function(t){return Ss().memoizedState=t},useTransition:function(){var t=Ds(!1),e=t[0];return t=$s.bind(null,t[1]),Ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ms,i=Ss();if(io){if(void 0===r)throw Error(o(407));r=r()}else{if(r=e(),null===Cu)throw Error(o(349));0!==(30&ps)||ks(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Hs(Us.bind(null,n,s,t),[t]),n.flags|=2048,Fs(9,Os.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ss(),e=Cu.identifierPrefix;if(io){var r=Qi;e=":"+e+"R"+(r=(Yi&~(1<<32-se(Yi)-1)).toString(32)+r),0<(r=bs++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=As++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ua={readContext:So,useCallback:Ys,useContext:So,useEffect:Ws,useImperativeHandle:Js,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Qs,useReducer:Rs,useRef:Gs,useState:function(){return Rs(Ts)},useDebugValue:Xs,useDeferredValue:function(t){return Zs(Ns(),gs.memoizedState,t)},useTransition:function(){return[Rs(Ts)[0],Ns().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ps,useId:ta,unstable_isNewReconciler:!1},la={readContext:So,useCallback:Ys,useContext:So,useEffect:Ws,useImperativeHandle:Js,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Qs,useReducer:Cs,useRef:Gs,useState:function(){return Cs(Ts)},useDebugValue:Xs,useDeferredValue:function(t){var e=Ns();return null===gs?e.memoizedState=t:Zs(e,gs.memoizedState,t)},useTransition:function(){return[Cs(Ts)[0],Ns().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ps,useId:ta,unstable_isNewReconciler:!1};function ha(t,e){try{var r="",n=e;do{r+=z(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function ca(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function fa(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,r){(r=Oo(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vu||(Vu=!0,qu=n),fa(0,e)},r}function ma(t,e,r){(r=Oo(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){fa(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){fa(0,e),"function"!==typeof n&&(null===Ku?Ku=new Set([this]):Ku.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function ga(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new da;var i=new Set;n.set(e,i)}else void 0===(i=n.get(e))&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Sl.bind(null,t,e,r),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,r,n,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Oo(-1,1)).tag=2,Uo(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var wa=b.ReactCurrentOwner,ba=!1;function Aa(t,e,r,n){e.child=null===t?Zo(e,null,r,n):Qo(e,t.child,r,n)}function Ma(t,e,r,n,i){r=r.render;var o=e.ref;return xo(e,i),n=Es(t,e,r,n,o,i),r=xs(),null===t||ba?(io&&r&&to(e),e.flags|=1,Aa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i))}function _a(t,e,r,n,i){if(null===t){var o=r.type;return"function"!==typeof o||kl(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Ul(r.type,null,n,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ea(t,e,o,n,i))}if(o=t.child,0===(t.lanes&i)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:un)(s,n)&&t.ref===e.ref)return Va(t,e,i)}return e.flags|=1,(t=Ol(o,n)).ref=e.ref,t.return=e,e.child=t}function Ea(t,e,r,n,i){if(null!==t){var o=t.memoizedProps;if(un(o,n)&&t.ref===e.ref){if(ba=!1,e.pendingProps=n=o,0===(t.lanes&i))return e.lanes=t.lanes,Va(t,e,i);0!==(131072&t.flags)&&(ba=!0)}}return Na(t,e,r,n,i)}function xa(t,e,r){var n=e.pendingProps,i=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ou,ku),ku|=r;else{if(0===(1073741824&r))return t=null!==o?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Si(Ou,ku),ku|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Si(Ou,ku),ku|=n}else null!==o?(n=o.baseLanes|r,e.memoizedState=null):n=r,Si(Ou,ku),ku|=n;return Aa(t,e,i,r),e.child}function Sa(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Na(t,e,r,n,i){var o=Pi(r)?Ci:Ti.current;return o=Ii(e,o),xo(e,i),r=Es(t,e,r,n,o,i),n=xs(),null===t||ba?(io&&n&&to(e),e.flags|=1,Aa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i))}function Ta(t,e,r,n,i){if(Pi(r)){var o=!0;Li(e)}else o=!1;if(xo(e,i),null===e.stateNode)Wa(t,e),Wo(e,r,n),qo(e,r,n,i),n=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=r.contextType;"object"===typeof l&&null!==l?l=So(l):l=Ii(e,l=Pi(r)?Ci:Ti.current);var h=r.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||u!==l)&&Vo(e,s,n,l),Io=!1;var f=e.memoizedState;s.state=f,Do(e,n,s,i),u=e.memoizedState,a!==n||f!==u||Ri.current||Io?("function"===typeof h&&(zo(e,r,h,n),u=e.memoizedState),(a=Io||Ho(e,r,a,n,f,u,l))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),s.props=n,s.state=u,s.context=l,n=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,ko(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:vo(e.type,a),s.props=l,c=e.pendingProps,f=s.context,"object"===typeof(u=r.contextType)&&null!==u?u=So(u):u=Ii(e,u=Pi(r)?Ci:Ti.current);var d=r.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==c||f!==u)&&Vo(e,s,n,u),Io=!1,f=e.memoizedState,s.state=f,Do(e,n,s,i);var p=e.memoizedState;a!==c||f!==p||Ri.current||Io?("function"===typeof d&&(zo(e,r,d,n),p=e.memoizedState),(l=Io||Ho(e,r,l,n,f,p,u)||!1)?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=u,n=l):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ra(t,e,r,n,o,i)}function Ra(t,e,r,n,i,o){Sa(t,e);var s=0!==(128&e.flags);if(!n&&!s)return i&&Bi(e,r,!1),Va(t,e,o);n=e.stateNode,wa.current=e;var a=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&s?(e.child=Qo(e,t.child,null,o),e.child=Qo(e,null,a,o)):Aa(t,e,a,o),e.memoizedState=n.state,i&&Bi(e,r,!0),e.child}function Ca(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),is(t,e.containerInfo)}function Ia(t,e,r,n,i){return po(),mo(i),e.flags|=256,Aa(t,e,r,n),e.child}var Pa,ka,Oa,Ua,La={dehydrated:null,treeContext:null,retryLane:0};function Ba(t){return{baseLanes:t,cachePool:null,transitions:null}}function Da(t,e,r){var n,i=e.pendingProps,s=us.current,a=!1,u=0!==(128&e.flags);if((n=u)||(n=(null===t||null!==t.memoizedState)&&0!==(2&s)),n?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Si(us,1&s),null===t)return lo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=Bl(u,i,0,null),t=Ll(t,i,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ba(r),e.memoizedState=La,t):Fa(e,u));if(null!==(s=t.memoizedState)&&null!==(n=s.dehydrated))return function(t,e,r,n,i,s,a){if(r)return 256&e.flags?(e.flags&=-257,Ga(t,e,a,n=ca(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Bl({mode:"visible",children:n.children},i,0,null),(s=Ll(s,i,a,null)).flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,0!==(1&e.mode)&&Qo(e,t.child,null,a),e.child.memoizedState=Ba(a),e.memoizedState=La,s);if(0===(1&e.mode))return Ga(t,e,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var u=n.dgst;return n=u,Ga(t,e,a,n=ca(s=Error(o(419)),n,void 0))}if(u=0!==(a&t.childLanes),ba||u){if(null!==(n=Cu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Co(t,i),nl(n,t,i,-1))}return gl(),Ga(t,e,a,n=ca(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Tl.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,no=li(i.nextSibling),ro=e,io=!0,oo=null,null!==t&&(Ki[Ji++]=Yi,Ki[Ji++]=Qi,Ki[Ji++]=Xi,Yi=t.id,Qi=t.overflow,Xi=e),e=Fa(e,n.children),e.flags|=4096,e)}(t,e,u,i,n,s,r);if(a){a=i.fallback,u=e.mode,n=(s=t.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==s?((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ol(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==n?a=Ol(n,a):(a=Ll(a,u,r,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=null===(u=t.child.memoizedState)?Ba(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~r,e.memoizedState=La,i}return t=(a=t.child).sibling,i=Ol(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=r),i.return=e,i.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function Fa(t,e){return(e=Bl({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ga(t,e,r,n){return null!==n&&mo(n),Qo(e,t.child,null,r),(t=Fa(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function za(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Eo(t.return,e,r)}function ja(t,e,r,n,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Ha(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Aa(t,e,n.children,r),0!==(2&(n=us.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&za(t,r,e);else if(19===t.tag)za(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Si(us,n),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===ls(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ja(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ls(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ja(e,!0,r,null,o);break;case"together":ja(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Va(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Bu|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(r=Ol(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ol(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function qa(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ka(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ja(t,e,r){var n=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(e),null;case 1:case 17:return Pi(e.type)&&ki(),Ka(e),null;case 3:return n=e.stateNode,os(),xi(Ri),xi(Ti),cs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(co(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(al(oo),oo=null))),ka(t,e),Ka(e),null;case 5:as(e);var i=ns(rs.current);if(r=e.type,null!==t&&null!=e.stateNode)Oa(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(o(166));return Ka(e),null}if(t=ns(ts.current),co(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[fi]=e,n[di]=s,t=0!==(1&e.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(i=0;i<Un.length;i++)Fn(Un[i],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Y(n,s),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",n);break;case"textarea":it(n,s),Fn("invalid",n)}for(var u in yt(r,s),i=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?n.textContent!==l&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,l,t),i=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,l,t),i=["children",""+l]):a.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fn("scroll",n)}switch(r){case"input":q(n),$(n,s,!0);break;case"textarea":q(n),st(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=$n)}n=i,e.updateQueue=n,null!==n&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=u.createElement(r,{is:n.is}):(t=u.createElement(r),"select"===r&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,r),t[fi]=e,t[di]=n,Pa(t,e,!1,!1),e.stateNode=t;t:{switch(u=wt(r,n),r){case"dialog":Fn("cancel",t),Fn("close",t),i=n;break;case"iframe":case"object":case"embed":Fn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Un.length;i++)Fn(Un[i],t);i=n;break;case"source":Fn("error",t),i=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=n;break;case"details":Fn("toggle",t),i=n;break;case"input":Y(t,n),i=X(t,n),Fn("invalid",t);break;case"option":default:i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=B({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":it(t,n),i=nt(t,n),Fn("invalid",t)}for(s in yt(r,i),l=i)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?gt(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ct(t,h):"children"===s?"string"===typeof h?("textarea"!==r||""!==h)&&ft(t,h):"number"===typeof h&&ft(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Fn("scroll",t):null!=h&&w(t,s,h,u))}switch(r){case"input":q(t),$(t,n,!1);break;case"textarea":q(t),st(t);break;case"option":null!=n.value&&t.setAttribute("value",""+W(n.value));break;case"select":t.multiple=!!n.multiple,null!=(s=n.value)?rt(t,!!n.multiple,s,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=$n)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ka(e),null;case 6:if(t&&null!=e.stateNode)Ua(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));if(r=ns(rs.current),ns(ts.current),co(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(s=n.nodeValue!==r)&&null!==(t=ro))switch(t.tag){case 3:Zn(n.nodeValue,r,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&t.mode))}s&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fi]=e,e.stateNode=n}return Ka(e),null;case 13:if(xi(us),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==no&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,s=!1;else if(s=co(e),null!==n&&null!==n.dehydrated){if(null===t){if(!s)throw Error(o(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ka(e),s=!1}else null!==oo&&(al(oo),oo=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&us.current)?0===Uu&&(Uu=3):gl())),null!==e.updateQueue&&(e.flags|=4),Ka(e),null);case 4:return os(),ka(t,e),null===t&&jn(e.stateNode.containerInfo),Ka(e),null;case 10:return _o(e.type._context),Ka(e),null;case 19:if(xi(us),null===(s=e.memoizedState))return Ka(e),null;if(n=0!==(128&e.flags),null===(u=s.rendering))if(n)qa(s,!1);else{if(0!==Uu||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=ls(t))){for(e.flags|=128,qa(s,!1),null!==(n=u.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(s=r).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Si(us,1&us.current|2),e.child}t=t.sibling}null!==s.tail&&Qt()>Hu&&(e.flags|=128,n=!0,qa(s,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=ls(u))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Ka(e),null}else 2*Qt()-s.renderingStartTime>Hu&&1073741824!==r&&(e.flags|=128,n=!0,qa(s,!1),e.lanes=4194304);s.isBackwards?(u.sibling=e.child,e.child=u):(null!==(r=s.last)?r.sibling=u:e.child=u,s.last=u)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,r=us.current,Si(us,n?1&r|2:1&r),e):(Ka(e),null);case 22:case 23:return fl(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&ku)&&(Ka(e),6&e.subtreeFlags&&(e.flags|=8192)):Ka(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Xa(t,e){switch(eo(e),e.tag){case 1:return Pi(e.type)&&ki(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return os(),xi(Ri),xi(Ti),cs(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return as(e),null;case 13:if(xi(us),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return xi(us),null;case 4:return os(),null;case 10:return _o(e.type._context),null;case 22:case 23:return fl(),null;default:return null}}Pa=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ka=function(){},Oa=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ns(ts.current);var o,s=null;switch(r){case"input":i=X(t,i),n=X(t,n),s=[];break;case"select":i=B({},i,{value:void 0}),n=B({},n,{value:void 0}),s=[];break;case"textarea":i=nt(t,i),n=nt(t,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(t.onclick=$n)}for(h in yt(r,n),r=null,i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var l=n[h];if(u=null!=i?i[h]:void 0,n.hasOwnProperty(h)&&l!==u&&(null!=l||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(h,r)),r=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Fn("scroll",t),s||u===l||(s=[])):(s=s||[]).push(h,l))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Ua=function(t,e,r,n){r!==n&&(e.flags|=4)};var Ya=!1,Qa=!1,Za="function"===typeof WeakSet?WeakSet:Set,$a=null;function tu(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){xl(t,e,n)}else r.current=null}function eu(t,e,r){try{r()}catch(n){xl(t,e,n)}}var ru=!1;function nu(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(e,r,o)}i=i.next}while(i!==n)}}function iu(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ou(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"===typeof e?e(t):e.current=t}}function su(t){var e=t.alternate;null!==e&&(t.alternate=null,su(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[mi],delete e[gi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function au(t){return 5===t.tag||3===t.tag||4===t.tag}function uu(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||au(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function lu(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=$n));else if(4!==n&&null!==(t=t.child))for(lu(t,e,r),t=t.sibling;null!==t;)lu(t,e,r),t=t.sibling}function hu(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(hu(t,e,r),t=t.sibling;null!==t;)hu(t,e,r),t=t.sibling}var cu=null,fu=!1;function du(t,e,r){for(r=r.child;null!==r;)pu(t,e,r),r=r.sibling}function pu(t,e,r){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,r)}catch(a){}switch(r.tag){case 5:Qa||tu(r,e);case 6:var n=cu,i=fu;cu=null,du(t,e,r),fu=i,null!==(cu=n)&&(fu?(t=cu,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):cu.removeChild(r.stateNode));break;case 18:null!==cu&&(fu?(t=cu,r=r.stateNode,8===t.nodeType?ui(t.parentNode,r):1===t.nodeType&&ui(t,r),je(t)):ui(cu,r.stateNode));break;case 4:n=cu,i=fu,cu=r.stateNode.containerInfo,fu=!0,du(t,e,r),cu=n,fu=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&eu(r,e,s),i=i.next}while(i!==n)}du(t,e,r);break;case 1:if(!Qa&&(tu(r,e),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xl(r,e,a)}du(t,e,r);break;case 21:du(t,e,r);break;case 22:1&r.mode?(Qa=(n=Qa)||null!==r.memoizedState,du(t,e,r),Qa=n):du(t,e,r);break;default:du(t,e,r)}}function mu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Za),e.forEach((function(e){var n=Rl.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function gu(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,u=a;t:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break t;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break t}u=u.return}if(null===cu)throw Error(o(160));pu(s,a,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(h){xl(i,e,h)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vu(e,t),e=e.sibling}function vu(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gu(e,t),yu(t),4&n){try{nu(3,t,t.return),iu(3,t)}catch(g){xl(t,t.return,g)}try{nu(5,t,t.return)}catch(g){xl(t,t.return,g)}}break;case 1:gu(e,t),yu(t),512&n&&null!==r&&tu(r,r.return);break;case 5:if(gu(e,t),yu(t),512&n&&null!==r&&tu(r,r.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(g){xl(t,t.return,g)}}if(4&n&&null!=(i=t.stateNode)){var s=t.memoizedProps,a=null!==r?r.memoizedProps:s,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===s.type&&null!=s.name&&Q(i,s),wt(u,a);var h=wt(u,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];"style"===c?gt(i,f):"dangerouslySetInnerHTML"===c?ct(i,f):"children"===c?ft(i,f):w(i,c,f,h)}switch(u){case"input":Z(i,s);break;case"textarea":ot(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?rt(i,!!s.multiple,p,!1):d!==!!s.multiple&&(null!=s.defaultValue?rt(i,!!s.multiple,s.defaultValue,!0):rt(i,!!s.multiple,s.multiple?[]:"",!1))}i[di]=s}catch(g){xl(t,t.return,g)}}break;case 6:if(gu(e,t),yu(t),4&n){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){xl(t,t.return,g)}}break;case 3:if(gu(e,t),yu(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{je(e.containerInfo)}catch(g){xl(t,t.return,g)}break;case 4:default:gu(e,t),yu(t);break;case 13:gu(e,t),yu(t),8192&(i=t.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Qt())),4&n&&mu(t);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&t.mode?(Qa=(h=Qa)||c,gu(e,t),Qa=h):gu(e,t),yu(t),8192&n){if(h=null!==t.memoizedState,(t.stateNode.isHidden=h)&&!c&&0!==(1&t.mode))for($a=t,c=t.child;null!==c;){for(f=$a=c;null!==$a;){switch(p=(d=$a).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:tu(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){xl(n,r,g)}}break;case 5:tu(d,d.return);break;case 22:if(null!==d.memoizedState){Mu(f);continue}}null!==p?(p.return=d,$a=p):Mu(f)}c=c.sibling}t:for(c=null,f=t;;){if(5===f.tag){if(null===c){c=f;try{i=f.stateNode,h?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=f.stateNode,a=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=mt("display",a))}catch(g){xl(t,t.return,g)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(g){xl(t,t.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(e,t),yu(t),4&n&&mu(t);case 21:}}function yu(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(au(r)){var n=r;break t}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(ft(i,""),n.flags&=-33),hu(t,uu(t),i);break;case 3:case 4:var s=n.stateNode.containerInfo;lu(t,uu(t),s);break;default:throw Error(o(161))}}catch(a){xl(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wu(t,e,r){$a=t,bu(t,e,r)}function bu(t,e,r){for(var n=0!==(1&t.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Qa;a=Ya;var l=Qa;if(Ya=s,(Qa=u)&&!l)for($a=i;null!==$a;)u=(s=$a).child,22===s.tag&&null!==s.memoizedState?_u(i):null!==u?(u.return=s,$a=u):_u(i);for(;null!==o;)$a=o,bu(o,e,r),o=o.sibling;$a=i,Ya=a,Qa=l}Au(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):Au(t)}}function Au(t){for(;null!==$a;){var e=$a;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qa||iu(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Qa)if(null===r)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:vo(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Fo(e,s,n);break;case 3:var a=e.updateQueue;if(null!==a){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Fo(e,a,r)}break;case 5:var u=e.stateNode;if(null===r&&4&e.flags){r=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var h=e.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&je(f)}}}break;default:throw Error(o(163))}Qa||512&e.flags&&ou(e)}catch(d){xl(e,e.return,d)}}if(e===t){$a=null;break}if(null!==(r=e.sibling)){r.return=e.return,$a=r;break}$a=e.return}}function Mu(t){for(;null!==$a;){var e=$a;if(e===t){$a=null;break}var r=e.sibling;if(null!==r){r.return=e.return,$a=r;break}$a=e.return}}function _u(t){for(;null!==$a;){var e=$a;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{iu(4,e)}catch(u){xl(e,r,u)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var i=e.return;try{n.componentDidMount()}catch(u){xl(e,i,u)}}var o=e.return;try{ou(e)}catch(u){xl(e,o,u)}break;case 5:var s=e.return;try{ou(e)}catch(u){xl(e,s,u)}}}catch(u){xl(e,e.return,u)}if(e===t){$a=null;break}var a=e.sibling;if(null!==a){a.return=e.return,$a=a;break}$a=e.return}}var Eu,xu=Math.ceil,Su=b.ReactCurrentDispatcher,Nu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Ru=0,Cu=null,Iu=null,Pu=0,ku=0,Ou=Ei(0),Uu=0,Lu=null,Bu=0,Du=0,Fu=0,Gu=null,zu=null,ju=0,Hu=1/0,Wu=null,Vu=!1,qu=null,Ku=null,Ju=!1,Xu=null,Yu=0,Qu=0,Zu=null,$u=-1,tl=0;function el(){return 0!==(6&Ru)?Qt():-1!==$u?$u:$u=Qt()}function rl(t){return 0===(1&t.mode)?1:0!==(2&Ru)&&0!==Pu?Pu&-Pu:null!==go.transition?(0===tl&&(tl=me()),tl):0!==(t=we)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function nl(t,e,r,n){if(50<Qu)throw Qu=0,Zu=null,Error(o(185));ve(t,r,n),0!==(2&Ru)&&t===Cu||(t===Cu&&(0===(2&Ru)&&(Du|=r),4===Uu&&ul(t,Pu)),il(t,n),1===r&&0===Ru&&0===(1&e.mode)&&(Hu=Qt()+500,Fi&&ji()))}function il(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-se(o),a=1<<s,u=i[s];-1===u?0!==(a&r)&&0===(a&n)||(i[s]=de(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var n=fe(t,t===Cu?Pu:0);if(0===n)null!==r&&Jt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Jt(r),1===e)0===t.tag?function(t){Fi=!0,zi(t)}(ll.bind(null,t)):zi(ll.bind(null,t)),si((function(){0===(6&Ru)&&ji()})),r=null;else{switch(be(n)){case 1:r=$t;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Cl(r,ol.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ol(t,e){if($u=-1,tl=0,0!==(6&Ru))throw Error(o(327));var r=t.callbackNode;if(_l()&&t.callbackNode!==r)return null;var n=fe(t,t===Cu?Pu:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=vl(t,n);else{e=n;var i=Ru;Ru|=2;var s=ml();for(Cu===t&&Pu===e||(Wu=null,Hu=Qt()+500,dl(t,e));;)try{wl();break}catch(u){pl(t,u)}Mo(),Su.current=s,Ru=i,null!==Iu?e=0:(Cu=null,Pu=0,e=Uu)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(n=i,e=sl(t,i))),1===e)throw r=Lu,dl(t,0),ul(t,n),il(t,Qt()),r;if(6===e)ul(t,n);else{if(i=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!an(o(),i))return!1}catch(a){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vl(t,n))&&(0!==(s=pe(t))&&(n=s,e=sl(t,s))),1===e))throw r=Lu,dl(t,0),ul(t,n),il(t,Qt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(o(345));case 2:case 5:Ml(t,zu,Wu);break;case 3:if(ul(t,n),(130023424&n)===n&&10<(e=ju+500-Qt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){el(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ni(Ml.bind(null,t,zu,Wu),e);break}Ml(t,zu,Wu);break;case 4:if(ul(t,n),(4194240&n)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-se(n);s=1<<a,(a=e[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Qt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xu(n/1960))-n)){t.timeoutHandle=ni(Ml.bind(null,t,zu,Wu),n);break}Ml(t,zu,Wu);break;default:throw Error(o(329))}}}return il(t,Qt()),t.callbackNode===r?ol.bind(null,t):null}function sl(t,e){var r=Gu;return t.current.memoizedState.isDehydrated&&(dl(t,e).flags|=256),2!==(t=vl(t,e))&&(e=zu,zu=r,null!==e&&al(e)),t}function al(t){null===zu?zu=t:zu.push.apply(zu,t)}function ul(t,e){for(e&=~Fu,e&=~Du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-se(e),n=1<<r;t[r]=-1,e&=~n}}function ll(t){if(0!==(6&Ru))throw Error(o(327));_l();var e=fe(t,0);if(0===(1&e))return il(t,Qt()),null;var r=vl(t,e);if(0!==t.tag&&2===r){var n=pe(t);0!==n&&(e=n,r=sl(t,n))}if(1===r)throw r=Lu,dl(t,0),ul(t,e),il(t,Qt()),r;if(6===r)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ml(t,zu,Wu),il(t,Qt()),null}function hl(t,e){var r=Ru;Ru|=1;try{return t(e)}finally{0===(Ru=r)&&(Hu=Qt()+500,Fi&&ji())}}function cl(t){null!==Xu&&0===Xu.tag&&0===(6&Ru)&&_l();var e=Ru;Ru|=1;var r=Tu.transition,n=we;try{if(Tu.transition=null,we=1,t)return t()}finally{we=n,Tu.transition=r,0===(6&(Ru=e))&&ji()}}function fl(){ku=Ou.current,xi(Ou)}function dl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,ii(r)),null!==Iu)for(r=Iu.return;null!==r;){var n=r;switch(eo(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&ki();break;case 3:os(),xi(Ri),xi(Ti),cs();break;case 5:as(n);break;case 4:os();break;case 13:case 19:xi(us);break;case 10:_o(n.type._context);break;case 22:case 23:fl()}r=r.return}if(Cu=t,Iu=t=Ol(t.current,null),Pu=ku=e,Uu=0,Lu=null,Fu=Du=Bu=0,zu=Gu=null,null!==No){for(e=0;e<No.length;e++)if(null!==(n=(r=No[e]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=i,n.next=s}r.pending=n}No=null}return t}function pl(t,e){for(;;){var r=Iu;try{if(Mo(),fs.current=sa,ys){for(var n=ms.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ys=!1}if(ps=0,vs=gs=ms=null,ws=!1,bs=0,Nu.current=null,null===r||null===r.return){Uu=1,Lu=e,Iu=null;break}t:{var s=t,a=r.return,u=r,l=e;if(e=Pu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,c=u,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,u,0,e),1&p.mode&&ga(s,h,e),l=h;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break t}if(0===(1&e)){ga(s,h,e),gl();break t}l=Error(o(426))}else if(io&&1&u.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,u,0,e),mo(ha(l,u));break t}}s=l=ha(l,u),4!==Uu&&(Uu=2),null===Gu?Gu=[s]:Gu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Bo(s,pa(0,l,e));break t;case 1:u=l;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ku||!Ku.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e,Bo(s,ma(s,u,e));break t}}s=s.return}while(null!==s)}Al(r)}catch(b){e=b,Iu===r&&null!==r&&(Iu=r=r.return);continue}break}}function ml(){var t=Su.current;return Su.current=sa,null===t?sa:t}function gl(){0!==Uu&&3!==Uu&&2!==Uu||(Uu=4),null===Cu||0===(268435455&Bu)&&0===(268435455&Du)||ul(Cu,Pu)}function vl(t,e){var r=Ru;Ru|=2;var n=ml();for(Cu===t&&Pu===e||(Wu=null,dl(t,e));;)try{yl();break}catch(i){pl(t,i)}if(Mo(),Ru=r,Su.current=n,null!==Iu)throw Error(o(261));return Cu=null,Pu=0,Uu}function yl(){for(;null!==Iu;)bl(Iu)}function wl(){for(;null!==Iu&&!Xt();)bl(Iu)}function bl(t){var e=Eu(t.alternate,t,ku);t.memoizedProps=t.pendingProps,null===e?Al(t):Iu=e,Nu.current=null}function Al(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=Ja(r,e,ku)))return void(Iu=r)}else{if(null!==(r=Xa(r,e)))return r.flags&=32767,void(Iu=r);if(null===t)return Uu=6,void(Iu=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Iu=e);Iu=e=t}while(null!==e);0===Uu&&(Uu=5)}function Ml(t,e,r){var n=we,i=Tu.transition;try{Tu.transition=null,we=1,function(t,e,r,n){do{_l()}while(null!==Xu);if(0!==(6&Ru))throw Error(o(327));r=t.finishedWork;var i=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-se(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}(t,s),t===Cu&&(Iu=Cu=null,Pu=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ju||(Ju=!0,Cl(ee,(function(){return _l(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Tu.transition,Tu.transition=null;var a=we;we=1;var u=Ru;Ru|=4,Nu.current=null,function(t,e){if(ti=We,dn(t=fn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(A){r=null;break t}var a=0,u=-1,l=-1,h=0,c=0,f=t,d=null;e:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(u=a+i),f!==s||0!==n&&3!==f.nodeType||(l=a+n),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===r&&++h===i&&(u=a),d===s&&++c===n&&(l=a),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}r=-1===u||-1===l?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ei={focusedElem:t,selectionRange:r},We=!1,$a=e;null!==$a;)if(t=(e=$a).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$a=t;else for(;null!==$a;){e=$a;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:vo(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(A){xl(e,e.return,A)}if(null!==(t=e.sibling)){t.return=e.return,$a=t;break}$a=e.return}m=ru,ru=!1}(t,r),vu(r,t),pn(ei),We=!!ti,ei=ti=null,t.current=r,wu(r,t,i),Yt(),Ru=u,we=a,Tu.transition=s}else t.current=r;if(Ju&&(Ju=!1,Xu=t,Yu=i),s=t.pendingLanes,0===s&&(Ku=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(r.stateNode),il(t,Qt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,t=qu,qu=null,t;0!==(1&Yu)&&0!==t.tag&&_l(),s=t.pendingLanes,0!==(1&s)?t===Zu?Qu++:(Qu=0,Zu=t):Qu=0,ji()}(t,e,r,n)}finally{Tu.transition=i,we=n}return null}function _l(){if(null!==Xu){var t=be(Yu),e=Tu.transition,r=we;try{if(Tu.transition=null,we=16>t?16:t,null===Xu)var n=!1;else{if(t=Xu,Xu=null,Yu=0,0!==(6&Ru))throw Error(o(331));var i=Ru;for(Ru|=4,$a=t.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var u=s.deletions;if(null!==u){for(var l=0;l<u.length;l++){var h=u[l];for($a=h;null!==$a;){var c=$a;switch(c.tag){case 0:case 11:case 15:nu(8,c,s)}var f=c.child;if(null!==f)f.return=c,$a=f;else for(;null!==$a;){var d=(c=$a).sibling,p=c.return;if(su(c),c===h){$a=null;break}if(null!==d){d.return=p,$a=d;break}$a=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else t:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:nu(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$a=y;break t}$a=s.return}}var w=t.current;for($a=w;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else t:for(a=w;null!==$a;){if(0!==(2048&(u=$a).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(M){xl(u,u.return,M)}if(u===a){$a=null;break t}var A=u.sibling;if(null!==A){A.return=u.return,$a=A;break t}$a=u.return}}if(Ru=i,ji(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(M){}n=!0}return n}finally{we=r,Tu.transition=e}}return!1}function El(t,e,r){t=Uo(t,e=pa(0,e=ha(r,e),1),1),e=el(),null!==t&&(ve(t,1,e),il(t,e))}function xl(t,e,r){if(3===t.tag)El(t,t,r);else for(;null!==e;){if(3===e.tag){El(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ku||!Ku.has(n))){e=Uo(e,t=ma(e,t=ha(r,t),1),1),t=el(),null!==e&&(ve(e,1,t),il(e,t));break}}e=e.return}}function Sl(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=el(),t.pingedLanes|=t.suspendedLanes&r,Cu===t&&(Pu&r)===r&&(4===Uu||3===Uu&&(130023424&Pu)===Pu&&500>Qt()-ju?dl(t,0):Fu|=r),il(t,e)}function Nl(t,e){0===e&&(0===(1&t.mode)?e=1:(e=he,0===(130023424&(he<<=1))&&(he=4194304)));var r=el();null!==(t=Co(t,e))&&(ve(t,e,r),il(t,r))}function Tl(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),Nl(t,r)}function Rl(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(e),Nl(t,r)}function Cl(t,e){return Kt(t,e)}function Il(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(t,e,r,n){return new Il(t,e,r,n)}function kl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ol(t,e){var r=t.alternate;return null===r?((r=Pl(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ul(t,e,r,n,i,s){var a=2;if(n=t,"function"===typeof t)kl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case _:return Ll(r.children,i,s,e);case E:a=8,i|=8;break;case x:return(t=Pl(12,r,e,2|i)).elementType=x,t.lanes=s,t;case R:return(t=Pl(13,r,e,i)).elementType=R,t.lanes=s,t;case C:return(t=Pl(19,r,e,i)).elementType=C,t.lanes=s,t;case k:return Bl(r,i,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case S:a=10;break t;case N:a=9;break t;case T:a=11;break t;case I:a=14;break t;case P:a=16,n=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Pl(a,r,e,i)).elementType=t,e.type=n,e.lanes=s,e}function Ll(t,e,r,n){return(t=Pl(7,t,n,e)).lanes=r,t}function Bl(t,e,r,n){return(t=Pl(22,t,n,e)).elementType=k,t.lanes=r,t.stateNode={isHidden:!1},t}function Dl(t,e,r){return(t=Pl(6,t,null,e)).lanes=r,t}function Fl(t,e,r){return(e=Pl(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gl(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(t,e,r,n,i,o,s,a,u){return t=new Gl(t,e,r,a,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Pl(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),t}function jl(t){if(!t)return Ni;t:{if(jt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var r=t.type;if(Pi(r))return Ui(t,r,e)}return e}function Hl(t,e,r,n,i,o,s,a,u){return(t=zl(r,n,!0,t,0,o,0,a,u)).context=jl(null),r=t.current,(o=Oo(n=el(),i=rl(r))).callback=void 0!==e&&null!==e?e:null,Uo(r,o,i),t.current.lanes=i,ve(t,i,n),il(t,n),t}function Wl(t,e,r,n){var i=e.current,o=el(),s=rl(i);return r=jl(r),null===e.context?e.context=r:e.pendingContext=r,(e=Oo(o,s)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Uo(i,e,s))&&(nl(t,i,s,o),Lo(t,i,s)),s}function Vl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function ql(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function Kl(t,e){ql(t,e),(t=t.alternate)&&ql(t,e)}Eu=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ri.current)ba=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return ba=!1,function(t,e,r){switch(e.tag){case 3:Ca(e),po();break;case 5:ss(e);break;case 1:Pi(e.type)&&Li(e);break;case 4:is(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Si(yo,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Si(us,1&us.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Da(t,e,r):(Si(us,1&us.current),null!==(t=Va(t,e,r))?t.sibling:null);Si(us,1&us.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return Ha(t,e,r);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(us,us.current),n)break;return null;case 22:case 23:return e.lanes=0,xa(t,e,r)}return Va(t,e,r)}(t,e,r);ba=0!==(131072&t.flags)}else ba=!1,io&&0!==(1048576&e.flags)&&$i(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wa(t,e),t=e.pendingProps;var i=Ii(e,Ti.current);xo(e,r),i=Es(null,e,n,t,i,r);var s=xs();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(n)?(s=!0,Li(e)):s=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(e),i.updater=jo,e.stateNode=i,i._reactInternals=e,qo(e,n,t,r),e=Ra(null,e,n,!0,s,r)):(e.tag=0,io&&s&&to(e),Aa(null,e,i,r),e=e.child),e;case 16:n=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,n=(i=n._init)(n._payload),e.type=n,i=e.tag=function(t){if("function"===typeof t)return kl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===I)return 14}return 2}(n),t=vo(n,t),i){case 0:e=Na(null,e,n,t,r);break t;case 1:e=Ta(null,e,n,t,r);break t;case 11:e=Ma(null,e,n,t,r);break t;case 14:e=_a(null,e,n,vo(n.type,t),r);break t}throw Error(o(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,Na(t,e,n,i=e.elementType===n?i:vo(n,i),r);case 1:return n=e.type,i=e.pendingProps,Ta(t,e,n,i=e.elementType===n?i:vo(n,i),r);case 3:t:{if(Ca(e),null===t)throw Error(o(387));n=e.pendingProps,i=(s=e.memoizedState).element,ko(t,e),Do(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Ia(t,e,n,r,i=ha(Error(o(423)),e));break t}if(n!==i){e=Ia(t,e,n,r,i=ha(Error(o(424)),e));break t}for(no=li(e.stateNode.containerInfo.firstChild),ro=e,io=!0,oo=null,r=Zo(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(po(),n===i){e=Va(t,e,r);break t}Aa(t,e,n,r)}e=e.child}return e;case 5:return ss(e),null===t&&lo(e),n=e.type,i=e.pendingProps,s=null!==t?t.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==s&&ri(n,s)&&(e.flags|=32),Sa(t,e),Aa(t,e,a,r),e.child;case 6:return null===t&&lo(e),null;case 13:return Da(t,e,r);case 4:return is(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Qo(e,null,n,r):Aa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Ma(t,e,n,i=e.elementType===n?i:vo(n,i),r);case 7:return Aa(t,e,e.pendingProps,r),e.child;case 8:case 12:return Aa(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Si(yo,n._currentValue),n._currentValue=a,null!==s)if(an(s.value,a)){if(s.children===i.children&&!Ri.current){e=Va(t,e,r);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var l=u.firstContext;null!==l;){if(l.context===n){if(1===s.tag){(l=Oo(-1,r&-r)).tag=2;var h=s.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),h.pending=l}}s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Eo(s.return,r,e),u.lanes|=r;break}l=l.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),Eo(a,r,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Aa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,xo(e,r),n=n(i=So(i)),e.flags|=1,Aa(t,e,n,r),e.child;case 14:return i=vo(n=e.type,e.pendingProps),_a(t,e,n,i=vo(n.type,i),r);case 15:return Ea(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vo(n,i),Wa(t,e),e.tag=1,Pi(n)?(t=!0,Li(e)):t=!1,xo(e,r),Wo(e,n,i),qo(e,n,i,r),Ra(null,e,n,!0,t,r);case 19:return Ha(t,e,r);case 22:return xa(t,e,r)}throw Error(o(156,e.tag))};var Jl="function"===typeof reportError?reportError:function(t){console.error(t)};function Xl(t){this._internalRoot=t}function Yl(t){this._internalRoot=t}function Ql(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $l(){}function th(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var t=Vl(s);a.call(t)}}Wl(e,s,t,i)}else s=function(t,e,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var t=Vl(s);o.call(t)}}var s=Hl(e,n,t,0,null,!1,0,"",$l);return t._reactRootContainer=s,t[pi]=s.current,jn(8===t.nodeType?t.parentNode:t),cl(),s}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof n){var a=n;n=function(){var t=Vl(u);a.call(t)}}var u=zl(t,0,!1,null,0,!1,0,"",$l);return t._reactRootContainer=u,t[pi]=u.current,jn(8===t.nodeType?t.parentNode:t),cl((function(){Wl(e,u,r,n)})),u}(r,e,t,i,n);return Vl(s)}Yl.prototype.render=Xl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wl(t,e,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cl((function(){Wl(null,t,null,null)})),e[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ke.length&&0!==e&&e<ke[r].priority;r++);ke.splice(r,0,t),0===r&&Be(t)}},Ae=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ce(e.pendingLanes);0!==r&&(ye(e,1|r),il(e,Qt()),0===(6&Ru)&&(Hu=Qt()+500,ji()))}break;case 13:cl((function(){var e=Co(t,1);if(null!==e){var r=el();nl(e,t,1,r)}})),Kl(t,1)}},Me=function(t){if(13===t.tag){var e=Co(t,134217728);if(null!==e)nl(e,t,134217728,el());Kl(t,134217728)}},_e=function(t){if(13===t.tag){var e=rl(t),r=Co(t,e);if(null!==r)nl(r,t,e,el());Kl(t,e)}},Ee=function(){return we},xe=function(t,e){var r=we;try{return we=t,e()}finally{we=r}},Mt=function(t,e,r){switch(e){case"input":if(Z(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ai(n);if(!i)throw Error(o(90));K(n),Z(n,i)}}}break;case"textarea":ot(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},Tt=hl,Rt=cl;var eh={usingClientEntryPoint:!1,Events:[wi,bi,Ai,St,Nt,hl]},rh={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nh={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Vt(t))?null:t.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ie=ih.inject(nh),oe=ih}catch(ht){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(e))throw Error(o(200));return function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(t,e,null,r)},e.createRoot=function(t,e){if(!Ql(t))throw Error(o(299));var r=!1,n="",i=Jl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=zl(t,1,!1,null,0,r,0,n,i),t[pi]=e.current,jn(8===t.nodeType?t.parentNode:t),new Xl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Vt(e))?null:t.stateNode},e.flushSync=function(t){return cl(t)},e.hydrate=function(t,e,r){if(!Zl(e))throw Error(o(200));return th(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Ql(t))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,s="",a=Jl;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),e=Hl(e,null,t,1,null!=r?r:null,i,0,s,a),t[pi]=e.current,jn(t),n)for(t=0;t<n.length;t++)i=(i=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Yl(e)},e.render=function(t,e,r){if(!Zl(e))throw Error(o(200));return th(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(o(40));return!!t._reactRootContainer&&(cl((function(){th(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=hl,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zl(r))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return th(t,e,r,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},21739:(t,e,r)=>{"use strict";var n=r(1168);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},1168:(t,e,r)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(30534)},61467:(t,e)=>{"use strict";function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,i=t[n];if(!(0<o(i,e)))break t;t[n]=e,t[r]=i,r=n}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length,s=i>>>1;n<s;){var a=2*(n+1)-1,u=t[a],l=a+1,h=t[l];if(0>o(u,r))l<i&&0>o(h,u)?(t[n]=h,t[l]=r,n=l):(t[n]=u,t[a]=r,n=a);else{if(!(l<i&&0>o(h,r)))break t;t[n]=h,t[l]=r,n=l}}}return e}function o(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var l=[],h=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=n(h);null!==e;){if(null===e.callback)i(h);else{if(!(e.startTime<=t))break;i(h),e.sortIndex=e.expirationTime,r(l,e)}e=n(h)}}function A(t){if(g=!1,b(t),!m)if(null!==n(l))m=!0,k(M);else{var e=n(h);null!==e&&O(A,e.startTime-t)}}function M(t,r){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var o=d;try{for(b(r),f=n(l);null!==f&&(!(f.expirationTime>r)||t&&!R());){var s=f.callback;if("function"===typeof s){f.callback=null,d=f.priorityLevel;var a=s(f.expirationTime<=r);r=e.unstable_now(),"function"===typeof a?f.callback=a:f===n(l)&&i(l),b(r)}else i(l);f=n(l)}if(null!==f)var u=!0;else{var c=n(h);null!==c&&O(A,c.startTime-r),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,x=null,S=-1,N=5,T=-1;function R(){return!(e.unstable_now()-T<N)}function C(){if(null!==x){var t=e.unstable_now();T=t;var r=!0;try{r=x(!0,t)}finally{r?_():(E=!1,x=null)}}else E=!1}if("function"===typeof w)_=function(){w(C)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=C,_=function(){P.postMessage(null)}}else _=function(){v(C,0)};function k(t){x=t,E||(E=!0,_())}function O(t,r){S=v((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,k(M))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var r=d;d=e;try{return t()}finally{d=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=d;d=t;try{return e()}finally{d=r}},e.unstable_scheduleCallback=function(t,i,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:c++,callback:i,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,r(h,t),null===n(l)&&t===n(h)&&(g?(y(S),S=-1):g=!0,O(A,o-s))):(t.sortIndex=a,r(l,t),m||p||(m=!0,k(M))),t},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(t){var e=d;return function(){var r=d;d=e;try{return t.apply(this,arguments)}finally{d=r}}}},57108:(t,e,r)=>{"use strict";t.exports=r(61467)},42354:(t,e)=>{"use strict";e.ConcurrentRoot=1,e.ContinuousEventPriority=4,e.DefaultEventPriority=16,e.DiscreteEventPriority=1},68106:(t,e,r)=>{t.exports=function(t){var e={},n=r(47313),i=r(62224),o=Object.assign;function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function M(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=A&&t[A]||t["@@iterator"])?t:null}function _(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case h:return"Fragment";case l:return"Portal";case f:return"Profiler";case c:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case p:return(t.displayName||"Context")+".Consumer";case d:return(t._context.displayName||"Context")+".Provider";case m:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case y:return null!==(e=t.displayName||null)?e:_(t.type)||"Memo";case w:e=t._payload,t=t._init;try{return _(t(e))}catch(r){}}return null}function E(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(e);case 8:return e===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function x(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function S(t){if(x(t)!==t)throw Error(s(188))}function N(t){var e=t.alternate;if(!e){if(null===(e=x(t)))throw Error(s(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return S(i),t;if(o===n)return S(i),e;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=o;break}if(u===n){a=!0,n=i,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,n=i;break}if(u===n){a=!0,n=o,r=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?t:e}function T(t){return null!==(t=N(t))?R(t):null}function R(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=R(t);if(null!==e)return e;t=t.sibling}return null}function C(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var e=C(t);if(null!==e)return e}t=t.sibling}return null}var I,P=Array.isArray,k=t.getPublicInstance,O=t.getRootHostContext,U=t.getChildHostContext,L=t.prepareForCommit,B=t.resetAfterCommit,D=t.createInstance,F=t.appendInitialChild,G=t.finalizeInitialChildren,z=t.prepareUpdate,j=t.shouldSetTextContent,H=t.createTextInstance,W=t.scheduleTimeout,V=t.cancelTimeout,q=t.noTimeout,K=t.isPrimaryRenderer,J=t.supportsMutation,X=t.supportsPersistence,Y=t.supportsHydration,Q=t.getInstanceFromNode,Z=t.preparePortalMount,$=t.getCurrentEventPriority,tt=t.detachDeletedInstance,et=t.supportsMicrotasks,rt=t.scheduleMicrotask,nt=t.supportsTestSelectors,it=t.findFiberRoot,ot=t.getBoundingRect,st=t.getTextContent,at=t.isHiddenSubtree,ut=t.matchAccessibilityRole,lt=t.setFocusIfFocusable,ht=t.setupIntersectionObserver,ct=t.appendChild,ft=t.appendChildToContainer,dt=t.commitTextUpdate,pt=t.commitMount,mt=t.commitUpdate,gt=t.insertBefore,vt=t.insertInContainerBefore,yt=t.removeChild,wt=t.removeChildFromContainer,bt=t.resetTextContent,At=t.hideInstance,Mt=t.hideTextInstance,_t=t.unhideInstance,Et=t.unhideTextInstance,xt=t.clearContainer,St=t.cloneInstance,Nt=t.createContainerChildSet,Tt=t.appendChildToContainerChildSet,Rt=t.finalizeContainerChildren,Ct=t.replaceContainerChildren,It=t.cloneHiddenInstance,Pt=t.cloneHiddenTextInstance,kt=t.canHydrateInstance,Ot=t.canHydrateTextInstance,Ut=t.canHydrateSuspenseInstance,Lt=t.isSuspenseInstancePending,Bt=t.isSuspenseInstanceFallback,Dt=t.registerSuspenseInstanceRetry,Ft=t.getNextHydratableSibling,Gt=t.getFirstHydratableChild,zt=t.getFirstHydratableChildWithinContainer,jt=t.getFirstHydratableChildWithinSuspenseInstance,Ht=t.hydrateInstance,Wt=t.hydrateTextInstance,Vt=t.hydrateSuspenseInstance,qt=t.getNextHydratableInstanceAfterSuspenseInstance,Kt=t.commitHydratedContainer,Jt=t.commitHydratedSuspenseInstance,Xt=t.clearSuspenseBoundary,Yt=t.clearSuspenseBoundaryFromContainer,Qt=t.shouldDeleteUnhydratedTailInstances,Zt=t.didNotMatchHydratedContainerTextInstance,$t=t.didNotMatchHydratedTextInstance;function te(t){if(void 0===I)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);I=e&&e[1]||""}return"\n"+I+t}var ee=!1;function re(t,e){if(!t||ee)return"";ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=n.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=s&&0<=a);break}}}finally{ee=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?te(t):""}var ne=Object.prototype.hasOwnProperty,ie=[],oe=-1;function se(t){return{current:t}}function ae(t){0>oe||(t.current=ie[oe],ie[oe]=null,oe--)}function ue(t,e){oe++,ie[oe]=t.current,t.current=e}var le={},he=se(le),ce=se(!1),fe=le;function de(t,e){var r=t.type.contextTypes;if(!r)return le;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function pe(t){return null!==(t=t.childContextTypes)&&void 0!==t}function me(){ae(ce),ae(he)}function ge(t,e,r){if(he.current!==le)throw Error(s(168));ue(he,e),ue(ce,r)}function ve(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(s(108,E(t)||"Unknown",i));return o({},r,n)}function ye(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||le,fe=he.current,ue(he,t),ue(ce,ce.current),!0}function we(t,e,r){var n=t.stateNode;if(!n)throw Error(s(169));r?(t=ve(t,e,fe),n.__reactInternalMemoizedMergedChildContext=t,ae(ce),ae(he),ue(he,t)):ae(ce),ue(ce,r)}var be=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(Ae(t)/Me|0)|0},Ae=Math.log,Me=Math.LN2;var _e=64,Ee=4194304;function xe(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Se(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=268435455&r;if(0!==s){var a=s&~i;0!==a?n=xe(a):0!==(o&=s)&&(n=xe(o))}else 0!==(s=r&~i)?n=xe(s):0!==o&&(n=xe(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&i)&&((i=n&-n)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-be(e)),n|=t[r],e&=~i;return n}function Ne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function Te(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Re(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ce(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-be(e)]=r}function Ie(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-be(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pe=0;function ke(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Oe=i.unstable_scheduleCallback,Ue=i.unstable_cancelCallback,Le=i.unstable_shouldYield,Be=i.unstable_requestPaint,De=i.unstable_now,Fe=i.unstable_ImmediatePriority,Ge=i.unstable_UserBlockingPriority,ze=i.unstable_NormalPriority,je=i.unstable_IdlePriority,He=null,We=null;var Ve="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},qe=null,Ke=!1,Je=!1;function Xe(t){null===qe?qe=[t]:qe.push(t)}function Ye(){if(!Je&&null!==qe){Je=!0;var t=0,e=Pe;try{var r=qe;for(Pe=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}qe=null,Ke=!1}catch(i){throw null!==qe&&(qe=qe.slice(t+1)),Oe(Fe,Ye),i}finally{Pe=e,Je=!1}}return null}var Qe=a.ReactCurrentBatchConfig;function Ze(t,e){if(Ve(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ne.call(e,i)||!Ve(t[i],e[i]))return!1}return!0}function $e(t){switch(t.tag){case 5:return te(t.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return t=re(t.type,!1);case 11:return t=re(t.type.render,!1);case 1:return t=re(t.type,!0);default:return""}}function tr(t,e){if(t&&t.defaultProps){for(var r in e=o({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var er=se(null),rr=null,nr=null,ir=null;function or(){ir=nr=rr=null}function sr(t,e,r){K?(ue(er,e._currentValue),e._currentValue=r):(ue(er,e._currentValue2),e._currentValue2=r)}function ar(t){var e=er.current;ae(er),K?t._currentValue=e:t._currentValue2=e}function ur(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function lr(t,e){rr=t,ir=nr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Li=!0),t.firstContext=null)}function hr(t){var e=K?t._currentValue:t._currentValue2;if(ir!==t)if(t={context:t,memoizedValue:e,next:null},null===nr){if(null===rr)throw Error(s(308));nr=t,rr.dependencies={lanes:0,firstContext:t}}else nr=nr.next=t;return e}var cr=null,fr=!1;function dr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e){var r=t.updateQueue;null!==r&&(r=r.shared,null!==Xo&&0!==(1&t.mode)&&0===(2&Jo)?(null===(t=r.interleaved)?(e.next=e,null===cr?cr=[r]:cr.push(r)):(e.next=t.next,t.next=e),r.interleaved=e):(null===(t=r.pending)?e.next=e:(e.next=t.next,t.next=e),r.pending=e))}function vr(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,Ie(t,r)}}function yr(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?i=o=e:o=o.next=e}else i=o=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function wr(t,e,r,n){var i=t.updateQueue;fr=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,h=l.next;l.next=null,null===a?s=h:a.next=h,a=l;var c=t.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===u?c.firstBaseUpdate=h:u.next=h,c.lastBaseUpdate=l))}if(null!==s){var f=i.baseState;for(a=0,c=h=l=null,u=s;;){var d=u.lane,p=u.eventTime;if((n&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var m=t,g=u;switch(d=e,p=r,g.tag){case 1:if("function"===typeof(m=g.payload)){f=m.call(p,f,d);break t}f=m;break t;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(p,f,d):m)||void 0===d)break t;f=o({},f,d);break t;case 2:fr=!0}}null!==u.callback&&0!==u.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else p={eventTime:p,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(h=c=p,l=f):c=c.next=p,a|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);rs|=a,t.lanes=a,t.memoizedState=f}}function br(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var Ar=(new n.Component).refs;function Mr(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:o({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var _r={isMounted:function(t){return!!(t=t._reactInternals)&&x(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=As(),i=Ms(t),o=mr(n,i);o.payload=e,void 0!==r&&null!==r&&(o.callback=r),gr(t,o),null!==(e=_s(t,i,n))&&vr(e,t,i)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=As(),i=Ms(t),o=mr(n,i);o.tag=1,o.payload=e,void 0!==r&&null!==r&&(o.callback=r),gr(t,o),null!==(e=_s(t,i,n))&&vr(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=As(),n=Ms(t),i=mr(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),gr(t,i),null!==(e=_s(t,n,r))&&vr(e,t,n)}};function Er(t,e,r,n,i,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!Ze(r,n)||!Ze(i,o))}function xr(t,e,r){var n=!1,i=le,o=e.contextType;return"object"===typeof o&&null!==o?o=hr(o):(i=pe(e)?fe:he.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?de(t,i):le),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=_r,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sr(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_r.enqueueReplaceState(e,e.state,null)}function Nr(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Ar,dr(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=hr(o):(o=pe(e)?fe:he.current,i.context=de(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Mr(t,e,o,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&_r.enqueueReplaceState(i,i.state,null),wr(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}var Tr=[],Rr=0,Cr=null,Ir=0,Pr=[],kr=0,Or=null,Ur=1,Lr="";function Br(t,e){Tr[Rr++]=Ir,Tr[Rr++]=Cr,Cr=t,Ir=e}function Dr(t,e,r){Pr[kr++]=Ur,Pr[kr++]=Lr,Pr[kr++]=Or,Or=t;var n=Ur;t=Lr;var i=32-be(n)-1;n&=~(1<<i),r+=1;var o=32-be(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ur=1<<32-be(e)+i|r<<i|n,Lr=o+t}else Ur=1<<o|r<<i|n,Lr=t}function Fr(t){null!==t.return&&(Br(t,1),Dr(t,1,0))}function Gr(t){for(;t===Cr;)Cr=Tr[--Rr],Tr[Rr]=null,Ir=Tr[--Rr],Tr[Rr]=null;for(;t===Or;)Or=Pr[--kr],Pr[kr]=null,Lr=Pr[--kr],Pr[kr]=null,Ur=Pr[--kr],Pr[kr]=null}var zr=null,jr=null,Hr=!1,Wr=!1,Vr=null;function qr(t,e){var r=Zs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function Kr(t,e){switch(t.tag){case 5:return null!==(e=kt(e,t.type,t.pendingProps))&&(t.stateNode=e,zr=t,jr=Gt(e),!0);case 6:return null!==(e=Ot(e,t.pendingProps))&&(t.stateNode=e,zr=t,jr=null,!0);case 13:if(null!==(e=Ut(e))){var r=null!==Or?{id:Ur,overflow:Lr}:null;return t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Zs(18,null,null,0)).stateNode=e,r.return=t,t.child=r,zr=t,jr=null,!0}return!1;default:return!1}}function Jr(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function Xr(t){if(Hr){var e=jr;if(e){var r=e;if(!Kr(t,e)){if(Jr(t))throw Error(s(418));e=Ft(r);var n=zr;e&&Kr(t,e)?qr(n,r):(t.flags=-4097&t.flags|2,Hr=!1,zr=t)}}else{if(Jr(t))throw Error(s(418));t.flags=-4097&t.flags|2,Hr=!1,zr=t}}}function Yr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;zr=t}function Qr(t){if(!Y||t!==zr)return!1;if(!Hr)return Yr(t),Hr=!0,!1;if(3!==t.tag&&(5!==t.tag||Qt(t.type)&&!j(t.type,t.memoizedProps))){var e=jr;if(e){if(Jr(t)){for(t=jr;t;)t=Ft(t);throw Error(s(418))}for(;e;)qr(t,e),e=Ft(e)}}if(Yr(t),13===t.tag){if(!Y)throw Error(s(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));jr=qt(t)}else jr=zr?Ft(t.stateNode):null;return!0}function Zr(){Y&&(jr=zr=null,Wr=Hr=!1)}function $r(t){null===Vr?Vr=[t]:Vr.push(t)}function tn(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,t));var i=n,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;e===Ar&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function en(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rn(t){return(0,t._init)(t._payload)}function nn(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ta(t,e)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function c(t,e,r,n){return null===e||6!==e.tag?((e=ia(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r,n){var o=r.type;return o===h?p(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===w&&rn(o)===e.type)?((n=i(e,r.props)).ref=tn(t,e,r),n.return=t,n):((n=ea(r.type,r.key,r.props,null,t.mode,n)).ref=tn(t,e,r),n.return=t,n)}function d(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=oa(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function p(t,e,r,n,o){return null===e||7!==e.tag?((e=ra(r,t.mode,n,o)).return=t,e):((e=i(e,r)).return=t,e)}function m(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=ia(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case u:return(r=ea(e.type,e.key,e.props,null,t.mode,r)).ref=tn(t,null,e),r.return=t,r;case l:return(e=oa(e,t.mode,r)).return=t,e;case w:return m(t,(0,e._init)(e._payload),r)}if(P(e)||M(e))return(e=ra(e,t.mode,r,null)).return=t,e;en(t,e)}return null}function g(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:c(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return r.key===i?f(t,e,r,n):null;case l:return r.key===i?d(t,e,r,n):null;case w:return g(t,e,(i=r._init)(r._payload),n)}if(P(r)||M(r))return null!==i?null:p(t,e,r,n,null);en(t,r)}return null}function v(t,e,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return c(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return f(e,t=t.get(null===n.key?r:n.key)||null,n,i);case l:return d(e,t=t.get(null===n.key?r:n.key)||null,n,i);case w:return v(t,e,r,(0,n._init)(n._payload),i)}if(P(n)||M(n))return p(e,t=t.get(r)||null,n,i,null);en(e,n)}return null}function y(i,s,a,u){for(var l=null,h=null,c=s,f=s=0,d=null;null!==c&&f<a.length;f++){c.index>f?(d=c,c=null):d=c.sibling;var p=g(i,c,a[f],u);if(null===p){null===c&&(c=d);break}t&&c&&null===p.alternate&&e(i,c),s=o(p,s,f),null===h?l=p:h.sibling=p,h=p,c=d}if(f===a.length)return r(i,c),Hr&&Br(i,f),l;if(null===c){for(;f<a.length;f++)null!==(c=m(i,a[f],u))&&(s=o(c,s,f),null===h?l=c:h.sibling=c,h=c);return Hr&&Br(i,f),l}for(c=n(i,c);f<a.length;f++)null!==(d=v(c,i,f,a[f],u))&&(t&&null!==d.alternate&&c.delete(null===d.key?f:d.key),s=o(d,s,f),null===h?l=d:h.sibling=d,h=d);return t&&c.forEach((function(t){return e(i,t)})),Hr&&Br(i,f),l}function b(i,a,u,l){var h=M(u);if("function"!==typeof h)throw Error(s(150));if(null==(u=h.call(u)))throw Error(s(151));for(var c=h=null,f=a,d=a=0,p=null,y=u.next();null!==f&&!y.done;d++,y=u.next()){f.index>d?(p=f,f=null):p=f.sibling;var w=g(i,f,y.value,l);if(null===w){null===f&&(f=p);break}t&&f&&null===w.alternate&&e(i,f),a=o(w,a,d),null===c?h=w:c.sibling=w,c=w,f=p}if(y.done)return r(i,f),Hr&&Br(i,d),h;if(null===f){for(;!y.done;d++,y=u.next())null!==(y=m(i,y.value,l))&&(a=o(y,a,d),null===c?h=y:c.sibling=y,c=y);return Hr&&Br(i,d),h}for(f=n(i,f);!y.done;d++,y=u.next())null!==(y=v(f,i,d,y.value,l))&&(t&&null!==y.alternate&&f.delete(null===y.key?d:y.key),a=o(y,a,d),null===c?h=y:c.sibling=y,c=y);return t&&f.forEach((function(t){return e(i,t)})),Hr&&Br(i,d),h}return function t(n,o,s,c){if("object"===typeof s&&null!==s&&s.type===h&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case u:t:{for(var f=s.key,d=o;null!==d;){if(d.key===f){if((f=s.type)===h){if(7===d.tag){r(n,d.sibling),(o=i(d,s.props.children)).return=n,n=o;break t}}else if(d.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===w&&rn(f)===d.type){r(n,d.sibling),(o=i(d,s.props)).ref=tn(n,d,s),o.return=n,n=o;break t}r(n,d);break}e(n,d),d=d.sibling}s.type===h?((o=ra(s.props.children,n.mode,c,s.key)).return=n,n=o):((c=ea(s.type,s.key,s.props,null,n.mode,c)).ref=tn(n,o,s),c.return=n,n=c)}return a(n);case l:t:{for(d=s.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){r(n,o.sibling),(o=i(o,s.children||[])).return=n,n=o;break t}r(n,o);break}e(n,o),o=o.sibling}(o=oa(s,n.mode,c)).return=n,n=o}return a(n);case w:return t(n,o,(d=s._init)(s._payload),c)}if(P(s))return y(n,o,s,c);if(M(s))return b(n,o,s,c);en(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,s)).return=n,n=o):(r(n,o),(o=ia(s,n.mode,c)).return=n,n=o),a(n)):r(n,o)}}var on=nn(!0),sn=nn(!1),an={},un=se(an),ln=se(an),hn=se(an);function cn(t){if(t===an)throw Error(s(174));return t}function fn(t,e){ue(hn,e),ue(ln,t),ue(un,an),t=O(e),ae(un),ue(un,t)}function dn(){ae(un),ae(ln),ae(hn)}function pn(t){var e=cn(hn.current),r=cn(un.current);r!==(e=U(r,t.type,e))&&(ue(ln,t),ue(un,e))}function mn(t){ln.current===t&&(ae(un),ae(ln))}var gn=se(0);function vn(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Lt(r)||Bt(r)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yn=[];function wn(){for(var t=0;t<yn.length;t++){var e=yn[t];K?e._workInProgressVersionPrimary=null:e._workInProgressVersionSecondary=null}yn.length=0}var bn=a.ReactCurrentDispatcher,An=a.ReactCurrentBatchConfig,Mn=0,_n=null,En=null,xn=null,Sn=!1,Nn=!1,Tn=0,Rn=0;function Cn(){throw Error(s(321))}function In(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ve(t[r],e[r]))return!1;return!0}function Pn(t,e,r,n,i,o){if(Mn=o,_n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bn.current=null===t||null===t.memoizedState?pi:mi,t=r(n,i),Nn){o=0;do{if(Nn=!1,Tn=0,25<=o)throw Error(s(301));o+=1,xn=En=null,e.updateQueue=null,bn.current=gi,t=r(n,i)}while(Nn)}if(bn.current=di,e=null!==En&&null!==En.next,Mn=0,xn=En=_n=null,Sn=!1,e)throw Error(s(300));return t}function kn(){var t=0!==Tn;return Tn=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xn?_n.memoizedState=xn=t:xn=xn.next=t,xn}function Un(){if(null===En){var t=_n.alternate;t=null!==t?t.memoizedState:null}else t=En.next;var e=null===xn?_n.memoizedState:xn.next;if(null!==e)xn=e,En=t;else{if(null===t)throw Error(s(310));t={memoizedState:(En=t).memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},null===xn?_n.memoizedState=xn=t:xn=xn.next=t}return xn}function Ln(t,e){return"function"===typeof e?e(t):e}function Bn(t){var e=Un(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=En,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var u=a=null,l=null,h=o;do{var c=h.lane;if((Mn&c)===c)null!==l&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var f={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===l?(u=l=f,a=n):l=l.next=f,_n.lanes|=c,rs|=c}h=h.next}while(null!==h&&h!==o);null===l?a=n:l.next=u,Ve(n,e.memoizedState)||(Li=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(null!==(t=r.interleaved)){i=t;do{o=i.lane,_n.lanes|=o,rs|=o,i=i.next}while(i!==t)}else null===i&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Dn(t){var e=Un(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);Ve(o,e.memoizedState)||(Li=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Fn(){}function Gn(t,e){var r=_n,n=Un(),i=e(),o=!Ve(n.memoizedState,i);if(o&&(n.memoizedState=i,Li=!0),n=n.queue,Qn(Hn.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||null!==xn&&1&xn.memoizedState.tag){if(r.flags|=2048,qn(9,jn.bind(null,r,n,i,e),void 0,null),null===Xo)throw Error(s(349));0!==(30&Mn)||zn(r,e,i)}return i}function zn(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=_n.updateQueue)?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function jn(t,e,r,n){e.value=r,e.getSnapshot=n,Wn(e)&&_s(t,1,-1)}function Hn(t,e,r){return r((function(){Wn(e)&&_s(t,1,-1)}))}function Wn(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ve(t,r)}catch(n){return!0}}function Vn(t){var e=On();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:t},e.queue=t,t=t.dispatch=ui.bind(null,_n,t),[e.memoizedState,t]}function qn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=_n.updateQueue)?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Kn(){return Un().memoizedState}function Jn(t,e,r,n){var i=On();_n.flags|=t,i.memoizedState=qn(1|e,r,void 0,void 0===n?null:n)}function Xn(t,e,r,n){var i=Un();n=void 0===n?null:n;var o=void 0;if(null!==En){var s=En.memoizedState;if(o=s.destroy,null!==n&&In(n,s.deps))return void(i.memoizedState=qn(e,r,o,n))}_n.flags|=t,i.memoizedState=qn(1|e,r,o,n)}function Yn(t,e){return Jn(8390656,8,t,e)}function Qn(t,e){return Xn(2048,8,t,e)}function Zn(t,e){return Xn(4,2,t,e)}function $n(t,e){return Xn(4,4,t,e)}function ti(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ei(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,Xn(4,4,ti.bind(null,e,t),r)}function ri(){}function ni(t,e){var r=Un();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&In(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ii(t,e){var r=Un();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&In(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function oi(t,e){var r=Pe;Pe=0!==r&&4>r?r:4,t(!0);var n=An.transition;An.transition={};try{t(!1),e()}finally{Pe=r,An.transition=n}}function si(){return Un().memoizedState}function ai(t,e,r){var n=Ms(t);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},li(t)?hi(e,r):(ci(t,e,r),null!==(t=_s(t,n,r=As()))&&fi(t,e,n))}function ui(t,e,r){var n=Ms(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(li(t))hi(e,i);else{ci(t,e,i);var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Ve(a,s))return}catch(u){}null!==(t=_s(t,n,r=As()))&&fi(t,e,n)}}function li(t){var e=t.alternate;return t===_n||null!==e&&e===_n}function hi(t,e){Nn=Sn=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ci(t,e,r){null!==Xo&&0!==(1&t.mode)&&0===(2&Jo)?(null===(t=e.interleaved)?(r.next=r,null===cr?cr=[e]:cr.push(e)):(r.next=t.next,t.next=r),e.interleaved=r):(null===(t=e.pending)?r.next=r:(r.next=t.next,t.next=r),e.pending=r)}function fi(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,Ie(t,r)}}var di={readContext:hr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},pi={readContext:hr,useCallback:function(t,e){return On().memoizedState=[t,void 0===e?null:e],t},useContext:hr,useEffect:Yn,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,Jn(4194308,4,ti.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jn(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jn(4,2,t,e)},useMemo:function(t,e){var r=On();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=On();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ai.bind(null,_n,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},On().memoizedState=t},useState:Vn,useDebugValue:ri,useDeferredValue:function(t){var e=Vn(t),r=e[0],n=e[1];return Yn((function(){var e=An.transition;An.transition={};try{n(t)}finally{An.transition=e}}),[t]),r},useTransition:function(){var t=Vn(!1),e=t[0];return t=oi.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_n,i=On();if(Hr){if(void 0===r)throw Error(s(407));r=r()}else{if(r=e(),null===Xo)throw Error(s(349));0!==(30&Mn)||zn(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Yn(Hn.bind(null,n,o,t),[t]),n.flags|=2048,qn(9,jn.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=On(),e=Xo.identifierPrefix;if(Hr){var r=Lr;e=":"+e+"R"+(r=(Ur&~(1<<32-be(Ur)-1)).toString(32)+r),0<(r=Tn++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=Rn++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mi={readContext:hr,useCallback:ni,useContext:hr,useEffect:Qn,useImperativeHandle:ei,useInsertionEffect:Zn,useLayoutEffect:$n,useMemo:ii,useReducer:Bn,useRef:Kn,useState:function(){return Bn(Ln)},useDebugValue:ri,useDeferredValue:function(t){var e=Bn(Ln),r=e[0],n=e[1];return Qn((function(){var e=An.transition;An.transition={};try{n(t)}finally{An.transition=e}}),[t]),r},useTransition:function(){return[Bn(Ln)[0],Un().memoizedState]},useMutableSource:Fn,useSyncExternalStore:Gn,useId:si,unstable_isNewReconciler:!1},gi={readContext:hr,useCallback:ni,useContext:hr,useEffect:Qn,useImperativeHandle:ei,useInsertionEffect:Zn,useLayoutEffect:$n,useMemo:ii,useReducer:Dn,useRef:Kn,useState:function(){return Dn(Ln)},useDebugValue:ri,useDeferredValue:function(t){var e=Dn(Ln),r=e[0],n=e[1];return Qn((function(){var e=An.transition;An.transition={};try{n(t)}finally{An.transition=e}}),[t]),r},useTransition:function(){return[Dn(Ln)[0],Un().memoizedState]},useMutableSource:Fn,useSyncExternalStore:Gn,useId:si,unstable_isNewReconciler:!1};function vi(t,e){try{var r="",n=e;do{r+=$e(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function yi(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var wi,bi,Ai,Mi,_i="function"===typeof WeakMap?WeakMap:Map;function Ei(t,e,r){(r=mr(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cs||(cs=!0,fs=n),yi(0,e)},r}function xi(t,e,r){(r=mr(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){yi(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){yi(0,e),"function"!==typeof n&&(null===ds?ds=new Set([this]):ds.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function Si(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new _i;var i=new Set;n.set(e,i)}else void 0===(i=n.get(e))&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=qs.bind(null,t,e,r),e.then(t,t))}function Ni(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function Ti(t,e,r,n,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=mr(-1,1)).tag=2,gr(r,e))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}function Ri(t){t.flags|=4}function Ci(t,e){if(null!==t&&t.child===e.child)return!0;if(0!==(16&e.flags))return!1;for(t=e.child;null!==t;){if(0!==(12854&t.flags)||0!==(12854&t.subtreeFlags))return!1;t=t.sibling}return!0}if(J)wi=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)F(t,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},bi=function(){},Ai=function(t,e,r,n,i){if((t=t.memoizedProps)!==n){var o=e.stateNode,s=cn(un.current);r=z(o,r,t,n,i,s),(e.updateQueue=r)&&Ri(e)}},Mi=function(t,e,r,n){r!==n&&Ri(e)};else if(X){wi=function(t,e,r,n){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;r&&n&&(o=It(o,i.type,i.memoizedProps,i)),F(t,o)}else if(6===i.tag)o=i.stateNode,r&&n&&(o=Pt(o,i.memoizedProps,i)),F(t,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),wi(t,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ii=function(t,e,r,n){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;r&&n&&(o=It(o,i.type,i.memoizedProps,i)),Tt(t,o)}else if(6===i.tag)o=i.stateNode,r&&n&&(o=Pt(o,i.memoizedProps,i)),Tt(t,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),Ii(t,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bi=function(t,e){var r=e.stateNode;if(!Ci(t,e)){t=r.containerInfo;var n=Nt(t);Ii(n,e,!1,!1),r.pendingChildren=n,Ri(e),Rt(t,n)}},Ai=function(t,e,r,n,i){var o=t.stateNode,s=t.memoizedProps;if((t=Ci(t,e))&&s===n)e.stateNode=o;else{var a=e.stateNode,u=cn(un.current),l=null;s!==n&&(l=z(a,r,s,n,i,u)),t&&null===l?e.stateNode=o:(o=St(o,l,r,s,n,e,t,a),G(o,r,n,i,u)&&Ri(e),e.stateNode=o,t?Ri(e):wi(o,e,!1,!1))}},Mi=function(t,e,r,n){r!==n?(t=cn(hn.current),r=cn(un.current),e.stateNode=H(n,t,r,e),Ri(e)):e.stateNode=t.stateNode}}else bi=function(){},Ai=function(){},Mi=function(){};function Pi(t,e){if(!Hr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ki(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Oi(t,e,r){var n=e.pendingProps;switch(Gr(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(e),null;case 1:case 17:return pe(e.type)&&me(),ki(e),null;case 3:return n=e.stateNode,dn(),ae(ce),ae(he),wn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(Qr(e)?Ri(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==Vr&&(Ts(Vr),Vr=null))),bi(t,e),ki(e),null;case 5:mn(e),r=cn(hn.current);var i=e.type;if(null!==t&&null!=e.stateNode)Ai(t,e,i,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(s(166));return ki(e),null}if(t=cn(un.current),Qr(e)){if(!Y)throw Error(s(175));t=Ht(e.stateNode,e.type,e.memoizedProps,r,t,e,!Wr),e.updateQueue=t,null!==t&&Ri(e)}else{var o=D(i,n,r,t,e);wi(o,e,!1,!1),e.stateNode=o,G(o,i,n,r,t)&&Ri(e)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return ki(e),null;case 6:if(t&&null!=e.stateNode)Mi(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));if(t=cn(hn.current),r=cn(un.current),Qr(e)){if(!Y)throw Error(s(176));if(t=e.stateNode,n=e.memoizedProps,(r=Wt(t,n,e,!Wr))&&null!==(i=zr))switch(o=0!==(1&i.mode),i.tag){case 3:Zt(i.stateNode.containerInfo,t,n,o);break;case 5:$t(i.type,i.memoizedProps,i.stateNode,t,n,o)}r&&Ri(e)}else e.stateNode=H(n,t,r,e)}return ki(e),null;case 13:if(ae(gn),n=e.memoizedState,Hr&&null!==jr&&0!==(1&e.mode)&&0===(128&e.flags)){for(t=jr;t;)t=Ft(t);return Zr(),e.flags|=98560,e}if(null!==n&&null!==n.dehydrated){if(n=Qr(e),null===t){if(!n)throw Error(s(318));if(!Y)throw Error(s(344));if(!(t=null!==(t=e.memoizedState)?t.dehydrated:null))throw Error(s(317));Vt(t,e)}else Zr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;return ki(e),null}return null!==Vr&&(Ts(Vr),Vr=null),0!==(128&e.flags)?(e.lanes=r,e):(n=null!==n,r=!1,null===t?Qr(e):r=null!==t.memoizedState,n&&!r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&gn.current)?0===ts&&(ts=3):Ls())),null!==e.updateQueue&&(e.flags|=4),ki(e),null);case 4:return dn(),bi(t,e),null===t&&Z(e.stateNode.containerInfo),ki(e),null;case 10:return ar(e.type._context),ki(e),null;case 19:if(ae(gn),null===(i=e.memoizedState))return ki(e),null;if(n=0!==(128&e.flags),null===(o=i.rendering))if(n)Pi(i,!1);else{if(0!==ts||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=vn(t))){for(e.flags|=128,Pi(i,!1),null!==(t=o.updateQueue)&&(e.updateQueue=t,e.flags|=4),e.subtreeFlags=0,t=r,n=e.child;null!==n;)i=t,(r=n).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return ue(gn,1&gn.current|2),e.child}t=t.sibling}null!==i.tail&&De()>us&&(e.flags|=128,n=!0,Pi(i,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=vn(o))){if(e.flags|=128,n=!0,null!==(t=t.updateQueue)&&(e.updateQueue=t,e.flags|=4),Pi(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Hr)return ki(e),null}else 2*De()-i.renderingStartTime>us&&1073741824!==r&&(e.flags|=128,n=!0,Pi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=i.last)?t.sibling=o:e.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,t=gn.current,ue(gn,n?1&t|2:1&t),e):(ki(e),null);case 22:case 23:return Ps(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Zo)&&(ki(e),J&&6&e.subtreeFlags&&(e.flags|=8192)):ki(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}var Ui=a.ReactCurrentOwner,Li=!1;function Bi(t,e,r,n){e.child=null===t?sn(e,null,r,n):on(e,t.child,r,n)}function Di(t,e,r,n,i){r=r.render;var o=e.ref;return lr(e,i),n=Pn(t,e,r,n,o,i),r=kn(),null===t||Li?(Hr&&r&&Fr(e),e.flags|=1,Bi(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,io(t,e,i))}function Fi(t,e,r,n,i){if(null===t){var o=r.type;return"function"!==typeof o||$s(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=ea(r.type,null,n,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Gi(t,e,o,n,i))}if(o=t.child,0===(t.lanes&i)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:Ze)(s,n)&&t.ref===e.ref)return io(t,e,i)}return e.flags|=1,(t=ta(o,n)).ref=e.ref,t.return=e,e.child=t}function Gi(t,e,r,n,i){if(null!==t&&Ze(t.memoizedProps,n)&&t.ref===e.ref){if(Li=!1,0===(t.lanes&i))return e.lanes=t.lanes,io(t,e,i);0!==(131072&t.flags)&&(Li=!0)}return Hi(t,e,r,n,i)}function zi(t,e,r){var n=e.pendingProps,i=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null},ue($o,Zo),Zo|=r;else{if(0===(1073741824&r))return t=null!==o?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null},e.updateQueue=null,ue($o,Zo),Zo|=t,null;e.memoizedState={baseLanes:0,cachePool:null},n=null!==o?o.baseLanes:r,ue($o,Zo),Zo|=n}else null!==o?(n=o.baseLanes|r,e.memoizedState=null):n=r,ue($o,Zo),Zo|=n;return Bi(t,e,i,r),e.child}function ji(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Hi(t,e,r,n,i){var o=pe(r)?fe:he.current;return o=de(e,o),lr(e,i),r=Pn(t,e,r,n,o,i),n=kn(),null===t||Li?(Hr&&n&&Fr(e),e.flags|=1,Bi(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,io(t,e,i))}function Wi(t,e,r,n,i){if(pe(r)){var o=!0;ye(e)}else o=!1;if(lr(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),xr(e,r,n),Nr(e,r,n,i),n=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=r.contextType;"object"===typeof l&&null!==l?l=hr(l):l=de(e,l=pe(r)?fe:he.current);var h=r.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||u!==l)&&Sr(e,s,n,l),fr=!1;var f=e.memoizedState;s.state=f,wr(e,n,s,i),u=e.memoizedState,a!==n||f!==u||ce.current||fr?("function"===typeof h&&(Mr(e,r,h,n),u=e.memoizedState),(a=fr||Er(e,r,a,n,f,u,l))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),s.props=n,s.state=u,s.context=l,n=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,pr(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:tr(e.type,a),s.props=l,c=e.pendingProps,f=s.context,"object"===typeof(u=r.contextType)&&null!==u?u=hr(u):u=de(e,u=pe(r)?fe:he.current);var d=r.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==c||f!==u)&&Sr(e,s,n,u),fr=!1,f=e.memoizedState,s.state=f,wr(e,n,s,i);var p=e.memoizedState;a!==c||f!==p||ce.current||fr?("function"===typeof d&&(Mr(e,r,d,n),p=e.memoizedState),(l=fr||Er(e,r,l,n,f,p,u)||!1)?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=u,n=l):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Vi(t,e,r,n,o,i)}function Vi(t,e,r,n,i,o){ji(t,e);var s=0!==(128&e.flags);if(!n&&!s)return i&&we(e,r,!1),io(t,e,o);n=e.stateNode,Ui.current=e;var a=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&s?(e.child=on(e,t.child,null,o),e.child=on(e,null,a,o)):Bi(t,e,a,o),e.memoizedState=n.state,i&&we(e,r,!0),e.child}function qi(t){var e=t.stateNode;e.pendingContext?ge(0,e.pendingContext,e.pendingContext!==e.context):e.context&&ge(0,e.context,!1),fn(t,e.containerInfo)}function Ki(t,e,r,n,i){return Zr(),$r(i),e.flags|=256,Bi(t,e,r,n),e.child}var Ji={dehydrated:null,treeContext:null,retryLane:0};function Xi(t){return{baseLanes:t,cachePool:null}}function Yi(t,e,r){var n,i=e.pendingProps,o=gn.current,a=!1,u=0!==(128&e.flags);if((n=u)||(n=(null===t||null!==t.memoizedState)&&0!==(2&o)),n?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),ue(gn,1&o),null===t)return Xr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:Bt(t)?e.lanes=8:e.lanes=1073741824,null):(o=i.children,t=i.fallback,a?(i=e.mode,a=e.child,o={mode:"hidden",children:o},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=na(o,i,0,null),t=ra(t,i,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Xi(r),e.memoizedState=Ji,t):Qi(e,o));if(null!==(o=t.memoizedState)){if(null!==(n=o.dehydrated)){if(u)return 256&e.flags?(e.flags&=-257,to(t,e,r,Error(s(422)))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=i.fallback,o=e.mode,i=na({mode:"visible",children:i.children},o,0,null),(a=ra(a,o,r,null)).flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,0!==(1&e.mode)&&on(e,t.child,null,r),e.child.memoizedState=Xi(r),e.memoizedState=Ji,a);if(0===(1&e.mode))e=to(t,e,r,null);else if(Bt(n))e=to(t,e,r,Error(s(419)));else if(i=0!==(r&t.childLanes),Li||i){if(null!==(i=Xo)){switch(r&-r){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(i=0!==(a&(i.suspendedLanes|r))?0:a)&&i!==o.retryLane&&(o.retryLane=i,_s(t,i,-1))}Ls(),e=to(t,e,r,Error(s(421)))}else Lt(n)?(e.flags|=128,e.child=t.child,e=Js.bind(null,t),Dt(n,e),e=null):(r=o.treeContext,Y&&(jr=jt(n),zr=e,Hr=!0,Vr=null,Wr=!1,null!==r&&(Pr[kr++]=Ur,Pr[kr++]=Lr,Pr[kr++]=Or,Ur=r.id,Lr=r.overflow,Or=e)),(e=Qi(e,e.pendingProps.children)).flags|=4096);return e}return a?(i=$i(t,e,i.children,i.fallback,r),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?Xi(r):{baseLanes:o.baseLanes|r,cachePool:null},a.childLanes=t.childLanes&~r,e.memoizedState=Ji,i):(r=Zi(t,e,i.children,r),e.memoizedState=null,r)}return a?(i=$i(t,e,i.children,i.fallback,r),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?Xi(r):{baseLanes:o.baseLanes|r,cachePool:null},a.childLanes=t.childLanes&~r,e.memoizedState=Ji,i):(r=Zi(t,e,i.children,r),e.memoizedState=null,r)}function Qi(t,e){return(e=na({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Zi(t,e,r,n){var i=t.child;return t=i.sibling,r=ta(i,{mode:"visible",children:r}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r}function $i(t,e,r,n,i){var o=e.mode,s=(t=t.child).sibling,a={mode:"hidden",children:r};return 0===(1&o)&&e.child!==t?((r=e.child).childLanes=0,r.pendingProps=a,e.deletions=null):(r=ta(t,a)).subtreeFlags=14680064&t.subtreeFlags,null!==s?n=ta(s,n):(n=ra(n,o,i,null)).flags|=2,n.return=e,r.return=e,r.sibling=n,e.child=r,n}function to(t,e,r,n){return null!==n&&$r(n),on(e,t.child,null,r),(t=Qi(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function eo(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ur(t.return,e,r)}function ro(t,e,r,n,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function no(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Bi(t,e,n.children,r),0!==(2&(n=gn.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&eo(t,r,e);else if(19===t.tag)eo(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ue(gn,n),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===vn(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ro(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===vn(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ro(e,!0,r,null,o);break;case"together":ro(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function io(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),rs|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(r=ta(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=ta(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function oo(t,e){switch(Gr(e),e.tag){case 1:return pe(e.type)&&me(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return dn(),ae(ce),ae(he),wn(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return mn(e),null;case 13:if(ae(gn),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));Zr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return ae(gn),null;case 4:return dn(),null;case 10:return ar(e.type._context),null;case 22:case 23:return Ps(),null;default:return null}}var so=!1,ao=!1,uo="function"===typeof WeakSet?WeakSet:Set,lo=null;function ho(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Vs(t,e,n)}else r.current=null}function co(t,e,r){try{r()}catch(n){Vs(t,e,n)}}var fo=!1;function po(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&co(e,r,o)}i=i.next}while(i!==n)}}function mo(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function go(t){var e=t.ref;if(null!==e){var r=t.stateNode;if(5===t.tag)t=k(r);else t=r;"function"===typeof e?e(t):e.current=t}}function vo(t,e,r){if(We&&"function"===typeof We.onCommitFiberUnmount)try{We.onCommitFiberUnmount(He,e)}catch(s){}switch(e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&co(e,r,o),n=n.next}while(n!==t)}break;case 1:if(ho(e,r),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Vs(e,r,s)}break;case 5:ho(e,r);break;case 4:J?xo(t,e,r):X&&X&&(e=e.stateNode.containerInfo,r=Nt(e),Ct(e,r))}}function yo(t,e,r){for(var n=e;;)if(vo(t,n,r),null===n.child||J&&4===n.tag){if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function wo(t){var e=t.alternate;null!==e&&(t.alternate=null,wo(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&tt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bo(t){return 5===t.tag||3===t.tag||4===t.tag}function Ao(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||bo(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Mo(t){if(J){t:{for(var e=t.return;null!==e;){if(bo(e))break t;e=e.return}throw Error(s(160))}var r=e;switch(r.tag){case 5:e=r.stateNode,32&r.flags&&(bt(e),r.flags&=-33),Eo(t,r=Ao(t),e);break;case 3:case 4:e=r.stateNode.containerInfo,_o(t,r=Ao(t),e);break;default:throw Error(s(161))}}}function _o(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?vt(r,t,e):ft(r,t);else if(4!==n&&null!==(t=t.child))for(_o(t,e,r),t=t.sibling;null!==t;)_o(t,e,r),t=t.sibling}function Eo(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?gt(r,t,e):ct(r,t);else if(4!==n&&null!==(t=t.child))for(Eo(t,e,r),t=t.sibling;null!==t;)Eo(t,e,r),t=t.sibling}function xo(t,e,r){for(var n,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:n=n.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag)yo(t,o,r),i?wt(n,o.stateNode):yt(n,o.stateNode);else if(18===o.tag)i?Yt(n,o.stateNode):Xt(n,o.stateNode);else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(vo(t,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function So(t,e){if(J){switch(e.tag){case 0:case 11:case 14:case 15:return po(3,e,e.return),mo(3,e),void po(5,e,e.return);case 1:case 12:case 17:return;case 5:var r=e.stateNode;if(null!=r){var n=e.memoizedProps;t=null!==t?t.memoizedProps:n;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&mt(r,o,i,t,n,e)}return;case 6:if(null===e.stateNode)throw Error(s(162));return r=e.memoizedProps,void dt(e.stateNode,null!==t?t.memoizedProps:r,r);case 3:return void(Y&&null!==t&&t.memoizedState.isDehydrated&&Kt(e.stateNode.containerInfo));case 13:case 19:return void No(e)}throw Error(s(163))}switch(e.tag){case 0:case 11:case 14:case 15:return po(3,e,e.return),mo(3,e),void po(5,e,e.return);case 12:case 22:case 23:return;case 13:case 19:return void No(e);case 3:Y&&null!==t&&t.memoizedState.isDehydrated&&Kt(e.stateNode.containerInfo)}t:if(X){switch(e.tag){case 1:case 5:case 6:break t;case 3:case 4:e=e.stateNode,Ct(e.containerInfo,e.pendingChildren);break t}throw Error(s(163))}}function No(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new uo),e.forEach((function(e){var n=Xs.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function To(t,e,r){lo=t,Ro(t,e,r)}function Ro(t,e,r){for(var n=0!==(1&t.mode);null!==lo;){var i=lo,o=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||so;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||ao;a=so;var l=ao;if(so=s,(ao=u)&&!l)for(lo=i;null!==lo;)u=(s=lo).child,22===s.tag&&null!==s.memoizedState?Po(i):null!==u?(u.return=s,lo=u):Po(i);for(;null!==o;)lo=o,Ro(o,e,r),o=o.sibling;lo=i,so=a,ao=l}Co(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,lo=o):Co(t)}}function Co(t){for(;null!==lo;){var e=lo;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:ao||mo(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!ao)if(null===r)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:tr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&br(e,o,n);break;case 3:var a=e.updateQueue;if(null!==a){if(r=null,null!==e.child)switch(e.child.tag){case 5:r=k(e.child.stateNode);break;case 1:r=e.child.stateNode}br(e,a,r)}break;case 5:var u=e.stateNode;null===r&&4&e.flags&&pt(u,e.type,e.memoizedProps,e);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===e.memoizedState){var l=e.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var c=h.dehydrated;null!==c&&Jt(c)}}}break;default:throw Error(s(163))}ao||512&e.flags&&go(e)}catch(f){Vs(e,e.return,f)}}if(e===t){lo=null;break}if(null!==(r=e.sibling)){r.return=e.return,lo=r;break}lo=e.return}}function Io(t){for(;null!==lo;){var e=lo;if(e===t){lo=null;break}var r=e.sibling;if(null!==r){r.return=e.return,lo=r;break}lo=e.return}}function Po(t){for(;null!==lo;){var e=lo;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mo(4,e)}catch(u){Vs(e,r,u)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var i=e.return;try{n.componentDidMount()}catch(u){Vs(e,i,u)}}var o=e.return;try{go(e)}catch(u){Vs(e,o,u)}break;case 5:var s=e.return;try{go(e)}catch(u){Vs(e,s,u)}}}catch(u){Vs(e,e.return,u)}if(e===t){lo=null;break}var a=e.sibling;if(null!==a){a.return=e.return,lo=a;break}lo=e.return}}var ko=0,Oo=1,Uo=2,Lo=3,Bo=4;if("function"===typeof Symbol&&Symbol.for){var Do=Symbol.for;ko=Do("selector.component"),Oo=Do("selector.has_pseudo_class"),Uo=Do("selector.role"),Lo=Do("selector.test_id"),Bo=Do("selector.text")}function Fo(t){var e=Q(t);if(null!=e){if("string"!==typeof e.memoizedProps["data-testname"])throw Error(s(364));return e}if(null===(t=it(t)))throw Error(s(362));return t.stateNode.current}function Go(t,e){switch(e.$$typeof){case ko:if(t.type===e.value)return!0;break;case Oo:t:{e=e.value,t=[t,0];for(var r=0;r<t.length;){var n=t[r++],i=t[r++],o=e[i];if(5!==n.tag||!at(n)){for(;null!=o&&Go(n,o);)o=e[++i];if(i===e.length){e=!0;break t}for(n=n.child;null!==n;)t.push(n,i),n=n.sibling}}e=!1}return e;case Uo:if(5===t.tag&&ut(t.stateNode,e.value))return!0;break;case Bo:if((5===t.tag||6===t.tag)&&(null!==(t=st(t))&&0<=t.indexOf(e.value)))return!0;break;case Lo:if(5===t.tag&&("string"===typeof(t=t.memoizedProps["data-testname"])&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function zo(t){switch(t.$$typeof){case ko:return"<"+(_(t.value)||"Unknown")+">";case Oo:return":has("+(zo(t)||"")+")";case Uo:return'[role="'+t.value+'"]';case Bo:return'"'+t.value+'"';case Lo:return'[data-testname="'+t.value+'"]';default:throw Error(s(365))}}function jo(t,e){var r=[];t=[t,0];for(var n=0;n<t.length;){var i=t[n++],o=t[n++],s=e[o];if(5!==i.tag||!at(i)){for(;null!=s&&Go(i,s);)s=e[++o];if(o===e.length)r.push(i);else for(i=i.child;null!==i;)t.push(i,o),i=i.sibling}}return r}function Ho(t,e){if(!nt)throw Error(s(363));t=jo(t=Fo(t),e),e=[],t=Array.from(t);for(var r=0;r<t.length;){var n=t[r++];if(5===n.tag)at(n)||e.push(n.stateNode);else for(n=n.child;null!==n;)t.push(n),n=n.sibling}return e}var Wo=Math.ceil,Vo=a.ReactCurrentDispatcher,qo=a.ReactCurrentOwner,Ko=a.ReactCurrentBatchConfig,Jo=0,Xo=null,Yo=null,Qo=0,Zo=0,$o=se(0),ts=0,es=null,rs=0,ns=0,is=0,os=null,ss=null,as=0,us=1/0;function ls(){us=De()+500}var hs,cs=!1,fs=null,ds=null,ps=!1,ms=null,gs=0,vs=0,ys=null,ws=-1,bs=0;function As(){return 0!==(6&Jo)?De():-1!==ws?ws:ws=De()}function Ms(t){return 0===(1&t.mode)?1:0!==(2&Jo)&&0!==Qo?Qo&-Qo:null!==Qe.transition?(0===bs&&(t=_e,0===(4194240&(_e<<=1))&&(_e=64),bs=t),bs):0!==(t=Pe)?t:$()}function _s(t,e,r){if(50<vs)throw vs=0,ys=null,Error(s(185));var n=Es(t,e);return null===n?null:(Ce(n,e,r),0!==(2&Jo)&&n===Xo||(n===Xo&&(0===(2&Jo)&&(ns|=e),4===ts&&Rs(n,Qo)),xs(n,r),1===e&&0===Jo&&0===(1&t.mode)&&(ls(),Ke&&Ye())),n)}function Es(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}function xs(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-be(o),a=1<<s,u=i[s];-1===u?0!==(a&r)&&0===(a&n)||(i[s]=Ne(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var n=Se(t,t===Xo?Qo:0);if(0===n)null!==r&&Ue(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Ue(r),1===e)0===t.tag?function(t){Ke=!0,Xe(t)}(Cs.bind(null,t)):Xe(Cs.bind(null,t)),et?rt((function(){0===Jo&&Ye()})):Oe(Fe,Ye),r=null;else{switch(ke(n)){case 1:r=Fe;break;case 4:r=Ge;break;case 16:default:r=ze;break;case 536870912:r=je}r=Ys(r,Ss.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ss(t,e){if(ws=-1,bs=0,0!==(6&Jo))throw Error(s(327));var r=t.callbackNode;if(Hs()&&t.callbackNode!==r)return null;var n=Se(t,t===Xo?Qo:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=Bs(t,n);else{e=n;var i=Jo;Jo|=2;var o=Us();for(Xo===t&&Qo===e||(ls(),ks(t,e));;)try{Fs();break}catch(u){Os(t,u)}or(),Vo.current=o,Jo=i,null!==Yo?e=0:(Xo=null,Qo=0,e=ts)}if(0!==e){if(2===e&&(0!==(i=Te(t))&&(n=i,e=Ns(t,i))),1===e)throw r=es,ks(t,0),Rs(t,n),xs(t,De()),r;if(6===e)Rs(t,n);else{if(i=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ve(o(),i))return!1}catch(a){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=Bs(t,n))&&(0!==(o=Te(t))&&(n=o,e=Ns(t,o))),1===e))throw r=es,ks(t,0),Rs(t,n),xs(t,De()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(s(345));case 2:case 5:js(t,ss);break;case 3:if(Rs(t,n),(130023424&n)===n&&10<(e=as+500-De())){if(0!==Se(t,0))break;if(((i=t.suspendedLanes)&n)!==n){As(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=W(js.bind(null,t,ss),e);break}js(t,ss);break;case 4:if(Rs(t,n),(4194240&n)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-be(n);o=1<<a,(a=e[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=De()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wo(n/1960))-n)){t.timeoutHandle=W(js.bind(null,t,ss),n);break}js(t,ss);break;default:throw Error(s(329))}}}return xs(t,De()),t.callbackNode===r?Ss.bind(null,t):null}function Ns(t,e){var r=os;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),2!==(t=Bs(t,e))&&(e=ss,ss=r,null!==e&&Ts(e)),t}function Ts(t){null===ss?ss=t:ss.push.apply(ss,t)}function Rs(t,e){for(e&=~is,e&=~ns,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-be(e),n=1<<r;t[r]=-1,e&=~n}}function Cs(t){if(0!==(6&Jo))throw Error(s(327));Hs();var e=Se(t,0);if(0===(1&e))return xs(t,De()),null;var r=Bs(t,e);if(0!==t.tag&&2===r){var n=Te(t);0!==n&&(e=n,r=Ns(t,n))}if(1===r)throw r=es,ks(t,0),Rs(t,e),xs(t,De()),r;if(6===r)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,ss),xs(t,De()),null}function Is(t){null!==ms&&0===ms.tag&&0===(6&Jo)&&Hs();var e=Jo;Jo|=1;var r=Ko.transition,n=Pe;try{if(Ko.transition=null,Pe=1,t)return t()}finally{Pe=n,Ko.transition=r,0===(6&(Jo=e))&&Ye()}}function Ps(){Zo=$o.current,ae($o)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==q&&(t.timeoutHandle=q,V(r)),null!==Yo)for(r=Yo.return;null!==r;){var n=r;switch(Gr(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&me();break;case 3:dn(),ae(ce),ae(he),wn();break;case 5:mn(n);break;case 4:dn();break;case 13:case 19:ae(gn);break;case 10:ar(n.type._context);break;case 22:case 23:Ps()}r=r.return}if(Xo=t,Yo=t=ta(t.current,null),Qo=Zo=e,ts=0,es=null,is=ns=rs=0,ss=os=null,null!==cr){for(e=0;e<cr.length;e++)if(null!==(n=(r=cr[e]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=i,n.next=s}r.pending=n}cr=null}return t}function Os(t,e){for(;;){var r=Yo;try{if(or(),bn.current=di,Sn){for(var n=_n.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}Sn=!1}if(Mn=0,xn=En=_n=null,Nn=!1,Tn=0,qo.current=null,null===r||null===r.return){ts=1,es=e,Yo=null;break}t:{var o=t,a=r.return,u=r,l=e;if(e=Qo,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,c=u,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Ni(a);if(null!==p){p.flags&=-257,Ti(p,a,u,0,e),1&p.mode&&Si(o,h,e),l=h;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break t}if(0===(1&e)){Si(o,h,e),Ls();break t}l=Error(s(426))}else if(Hr&&1&u.mode){var v=Ni(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ti(v,a,u,0,e),$r(l);break t}}o=l,4!==ts&&(ts=2),null===os?os=[o]:os.push(o),l=vi(l,u),u=a;do{switch(u.tag){case 3:u.flags|=65536,e&=-e,u.lanes|=e,yr(u,Ei(0,l,e));break t;case 1:o=l;var y=u.type,w=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===ds||!ds.has(w)))){u.flags|=65536,e&=-e,u.lanes|=e,yr(u,xi(u,o,e));break t}}u=u.return}while(null!==u)}zs(r)}catch(b){e=b,Yo===r&&null!==r&&(Yo=r=r.return);continue}break}}function Us(){var t=Vo.current;return Vo.current=di,null===t?di:t}function Ls(){0!==ts&&3!==ts&&2!==ts||(ts=4),null===Xo||0===(268435455&rs)&&0===(268435455&ns)||Rs(Xo,Qo)}function Bs(t,e){var r=Jo;Jo|=2;var n=Us();for(Xo===t&&Qo===e||ks(t,e);;)try{Ds();break}catch(i){Os(t,i)}if(or(),Jo=r,Vo.current=n,null!==Yo)throw Error(s(261));return Xo=null,Qo=0,ts}function Ds(){for(;null!==Yo;)Gs(Yo)}function Fs(){for(;null!==Yo&&!Le();)Gs(Yo)}function Gs(t){var e=hs(t.alternate,t,Zo);t.memoizedProps=t.pendingProps,null===e?zs(t):Yo=e,qo.current=null}function zs(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=Oi(r,e,Zo)))return void(Yo=r)}else{if(null!==(r=oo(r,e)))return r.flags&=32767,void(Yo=r);if(null===t)return ts=6,void(Yo=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Yo=e);Yo=e=t}while(null!==e);0===ts&&(ts=5)}function js(t,e){var r=Pe,n=Ko.transition;try{Ko.transition=null,Pe=1,function(t,e,r){do{Hs()}while(null!==ms);if(0!==(6&Jo))throw Error(s(327));var n=t.finishedWork,i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-be(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}(t,o),t===Xo&&(Yo=Xo=null,Qo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ps||(ps=!0,Ys(ze,(function(){return Hs(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ko.transition,Ko.transition=null;var a=Pe;Pe=1;var u=Jo;Jo|=4,qo.current=null,function(t,e){for(L(t.containerInfo),lo=e;null!==lo;)if(e=(t=lo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,lo=e;else for(;null!==lo;){t=lo;try{var r=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==r){var n=r.memoizedProps,i=r.memoizedState,o=t.stateNode,a=o.getSnapshotBeforeUpdate(t.elementType===t.type?n:tr(t.type,n),i);o.__reactInternalSnapshotBeforeUpdate=a}break;case 3:J&&xt(t.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(u){Vs(t,t.return,u)}if(null!==(e=t.sibling)){e.return=t.return,lo=e;break}lo=t.return}r=fo,fo=!1}(t,n),function(t,e){for(lo=e;null!==lo;){var r=(e=lo).deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t;J?xo(o,i,e):yo(o,i,e);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(A){Vs(i,e,A)}}if(r=e.child,0!==(12854&e.subtreeFlags)&&null!==r)r.return=e,lo=r;else for(;null!==lo;){e=lo;try{var a=e.flags;if(32&a&&J&&bt(e.stateNode),512&a){var u=e.alternate;if(null!==u){var l=u.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&a)switch(e.tag){case 13:if(null!==e.memoizedState){var h=e.alternate;null!==h&&null!==h.memoizedState||(as=De())}break;case 22:var c=null!==e.memoizedState,f=e.alternate,d=null!==f&&null!==f.memoizedState;if(r=e,J)t:if(n=r,i=c,o=null,J)for(var p=n;;){if(5===p.tag){if(null===o){o=p;var m=p.stateNode;i?At(m):_t(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===o){var g=p.stateNode;i?Mt(g):Et(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===n)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===n)break;for(;null===p.sibling;){if(null===p.return||p.return===n)break t;o===p&&(o=null),p=p.return}o===p&&(o=null),p.sibling.return=p.return,p=p.sibling}if(c&&!d&&0!==(1&r.mode)){lo=r;for(var v=r.child;null!==v;){for(r=lo=v;null!==lo;){var y=(n=lo).child;switch(n.tag){case 0:case 11:case 14:case 15:po(4,n,n.return);break;case 1:ho(n,n.return);var w=n.stateNode;if("function"===typeof w.componentWillUnmount){var b=n.return;try{w.props=n.memoizedProps,w.state=n.memoizedState,w.componentWillUnmount()}catch(A){Vs(n,b,A)}}break;case 5:ho(n,n.return);break;case 22:if(null!==n.memoizedState){Io(r);continue}}null!==y?(y.return=n,lo=y):Io(r)}v=v.sibling}}}switch(4102&a){case 2:Mo(e),e.flags&=-3;break;case 6:Mo(e),e.flags&=-3,So(e.alternate,e);break;case 4096:e.flags&=-4097;break;case 4100:e.flags&=-4097,So(e.alternate,e);break;case 4:So(e.alternate,e)}}catch(A){Vs(e,e.return,A)}if(null!==(r=e.sibling)){r.return=e.return,lo=r;break}lo=e.return}}}(t,n),B(t.containerInfo),t.current=n,To(n,t,i),Be(),Jo=u,Pe=a,Ko.transition=o}else t.current=n;if(ps&&(ps=!1,ms=t,gs=i),o=t.pendingLanes,0===o&&(ds=null),function(t){if(We&&"function"===typeof We.onCommitFiberRoot)try{We.onCommitFiberRoot(He,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),xs(t,De()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(cs)throw cs=!1,t=fs,fs=null,t;0!==(1&gs)&&0!==t.tag&&Hs(),o=t.pendingLanes,0!==(1&o)?t===ys?vs++:(vs=0,ys=t):vs=0,Ye()}(t,e,r)}finally{Ko.transition=n,Pe=r}return null}function Hs(){if(null!==ms){var t=ke(gs),e=Ko.transition,r=Pe;try{if(Ko.transition=null,Pe=16>t?16:t,null===ms)var n=!1;else{if(t=ms,ms=null,gs=0,0!==(6&Jo))throw Error(s(331));var i=Jo;for(Jo|=4,lo=t.current;null!==lo;){var o=lo,a=o.child;if(0!==(16&lo.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var h=u[l];for(lo=h;null!==lo;){var c=lo;switch(c.tag){case 0:case 11:case 15:po(8,c,o)}var f=c.child;if(null!==f)f.return=c,lo=f;else for(;null!==lo;){var d=(c=lo).sibling,p=c.return;if(wo(c),c===h){lo=null;break}if(null!==d){d.return=p,lo=d;break}lo=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}lo=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,lo=a;else t:for(;null!==lo;){if(0!==(2048&(o=lo).flags))switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,lo=y;break t}lo=o.return}}var w=t.current;for(lo=w;null!==lo;){var b=(a=lo).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,lo=b;else t:for(a=w;null!==lo;){if(0!==(2048&(u=lo).flags))try{switch(u.tag){case 0:case 11:case 15:mo(9,u)}}catch(M){Vs(u,u.return,M)}if(u===a){lo=null;break t}var A=u.sibling;if(null!==A){A.return=u.return,lo=A;break t}lo=u.return}}if(Jo=i,Ye(),We&&"function"===typeof We.onPostCommitFiberRoot)try{We.onPostCommitFiberRoot(He,t)}catch(M){}n=!0}return n}finally{Pe=r,Ko.transition=e}}return!1}function Ws(t,e,r){gr(t,e=Ei(0,e=vi(r,e),1)),e=As(),null!==(t=Es(t,1))&&(Ce(t,1,e),xs(t,e))}function Vs(t,e,r){if(3===t.tag)Ws(t,t,r);else for(;null!==e;){if(3===e.tag){Ws(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ds||!ds.has(n))){gr(e,t=xi(e,t=vi(r,t),1)),t=As(),null!==(e=Es(e,1))&&(Ce(e,1,t),xs(e,t));break}}e=e.return}}function qs(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=As(),t.pingedLanes|=t.suspendedLanes&r,Xo===t&&(Qo&r)===r&&(4===ts||3===ts&&(130023424&Qo)===Qo&&500>De()-as?ks(t,0):is|=r),xs(t,e)}function Ks(t,e){0===e&&(0===(1&t.mode)?e=1:(e=Ee,0===(130023424&(Ee<<=1))&&(Ee=4194304)));var r=As();null!==(t=Es(t,e))&&(Ce(t,e,r),xs(t,r))}function Js(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),Ks(t,r)}function Xs(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(e),Ks(t,r)}function Ys(t,e){return Oe(t,e)}function Qs(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(t,e,r,n){return new Qs(t,e,r,n)}function $s(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ta(t,e){var r=t.alternate;return null===r?((r=Zs(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ea(t,e,r,n,i,o){var a=2;if(n=t,"function"===typeof t)$s(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case h:return ra(r.children,i,o,e);case c:a=8,i|=8;break;case f:return(t=Zs(12,r,e,2|i)).elementType=f,t.lanes=o,t;case g:return(t=Zs(13,r,e,i)).elementType=g,t.lanes=o,t;case v:return(t=Zs(19,r,e,i)).elementType=v,t.lanes=o,t;case b:return na(r,i,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case d:a=10;break t;case p:a=9;break t;case m:a=11;break t;case y:a=14;break t;case w:a=16,n=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Zs(a,r,e,i)).elementType=t,e.type=n,e.lanes=o,e}function ra(t,e,r,n){return(t=Zs(7,t,n,e)).lanes=r,t}function na(t,e,r,n){return(t=Zs(22,t,n,e)).elementType=b,t.lanes=r,t.stateNode={},t}function ia(t,e,r){return(t=Zs(6,t,null,e)).lanes=r,t}function oa(t,e,r){return(e=Zs(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sa(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Re(0),this.expirationTimes=Re(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.identifierPrefix=n,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function aa(t,e,r,n,i,o,s,a,u){return t=new sa(t,e,r,a,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Zs(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null},dr(o),t}function ua(t){if(!t)return le;t:{if(x(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var r=t.type;if(pe(r))return ve(t,r,e)}return e}function la(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return null===(t=T(e))?null:t.stateNode}function ha(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function ca(t,e){ha(t,e),(t=t.alternate)&&ha(t,e)}function fa(t){return null===(t=T(t))?null:t.stateNode}function da(){return null}return hs=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||ce.current)Li=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return Li=!1,function(t,e,r){switch(e.tag){case 3:qi(e),Zr();break;case 5:pn(e);break;case 1:pe(e.type)&&ye(e);break;case 4:fn(e,e.stateNode.containerInfo);break;case 10:sr(0,e.type._context,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(null!==n)return null!==n.dehydrated?(ue(gn,1&gn.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Yi(t,e,r):(ue(gn,1&gn.current),null!==(t=io(t,e,r))?t.sibling:null);ue(gn,1&gn.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return no(t,e,r);e.flags|=128}var i=e.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(gn,gn.current),n)break;return null;case 22:case 23:return e.lanes=0,zi(t,e,r)}return io(t,e,r)}(t,e,r);Li=0!==(131072&t.flags)}else Li=!1,Hr&&0!==(1048576&e.flags)&&Dr(e,Ir,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=de(e,he.current);lr(e,r),i=Pn(null,e,n,t,i,r);var o=kn();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pe(n)?(o=!0,ye(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,dr(e),i.updater=_r,e.stateNode=i,i._reactInternals=e,Nr(e,n,t,r),e=Vi(null,e,n,!0,o,r)):(e.tag=0,Hr&&o&&Fr(e),Bi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,n=(i=n._init)(n._payload),e.type=n,i=e.tag=function(t){if("function"===typeof t)return $s(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===m)return 11;if(t===y)return 14}return 2}(n),t=tr(n,t),i){case 0:e=Hi(null,e,n,t,r);break t;case 1:e=Wi(null,e,n,t,r);break t;case 11:e=Di(null,e,n,t,r);break t;case 14:e=Fi(null,e,n,tr(n.type,t),r);break t}throw Error(s(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,Hi(t,e,n,i=e.elementType===n?i:tr(n,i),r);case 1:return n=e.type,i=e.pendingProps,Wi(t,e,n,i=e.elementType===n?i:tr(n,i),r);case 3:t:{if(qi(e),null===t)throw Error(s(387));n=e.pendingProps,i=(o=e.memoizedState).element,pr(t,e),wr(e,n,null,r);var a=e.memoizedState;if(n=a.element,Y&&o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ki(t,e,n,r,i=Error(s(423)));break t}if(n!==i){e=Ki(t,e,n,r,i=Error(s(424)));break t}for(Y&&(jr=zt(e.stateNode.containerInfo),zr=e,Hr=!0,Vr=null,Wr=!1),r=sn(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Zr(),n===i){e=io(t,e,r);break t}Bi(t,e,n,r)}e=e.child}return e;case 5:return pn(e),null===t&&Xr(e),n=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,j(n,i)?a=null:null!==o&&j(n,o)&&(e.flags|=32),ji(t,e),Bi(t,e,a,r),e.child;case 6:return null===t&&Xr(e),null;case 13:return Yi(t,e,r);case 4:return fn(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=on(e,null,n,r):Bi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Di(t,e,n,i=e.elementType===n?i:tr(n,i),r);case 7:return Bi(t,e,e.pendingProps,r),e.child;case 8:case 12:return Bi(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,sr(0,n,a=i.value),null!==o)if(Ve(o.value,a)){if(o.children===i.children&&!ce.current){e=io(t,e,r);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var l=u.firstContext;null!==l;){if(l.context===n){if(1===o.tag){(l=mr(-1,r&-r)).tag=2;var h=o.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),h.pending=l}}o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),ur(o.return,r,e),u.lanes|=r;break}l=l.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),ur(a,r,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Bi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,lr(e,r),n=n(i=hr(i)),e.flags|=1,Bi(t,e,n,r),e.child;case 14:return i=tr(n=e.type,e.pendingProps),Fi(t,e,n,i=tr(n.type,i),r);case 15:return Gi(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tr(n,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,pe(n)?(t=!0,ye(e)):t=!1,lr(e,r),xr(e,n,i),Nr(e,n,i,r),Vi(null,e,n,!0,t,r);case 19:return no(t,e,r);case 22:return zi(t,e,r)}throw Error(s(156,e.tag))},e.attemptContinuousHydration=function(t){13===t.tag&&(_s(t,134217728,As()),ca(t,134217728))},e.attemptHydrationAtCurrentPriority=function(t){if(13===t.tag){var e=As(),r=Ms(t);_s(t,r,e),ca(t,r)}},e.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xe(e.pendingLanes);0!==r&&(Ie(e,1|r),xs(e,De()),0===(6&Jo)&&(ls(),Ye()))}break;case 13:var n=As();Is((function(){return _s(t,1,n)})),ca(t,1)}},e.batchedUpdates=function(t,e){var r=Jo;Jo|=1;try{return t(e)}finally{0===(Jo=r)&&(ls(),Ke&&Ye())}},e.createComponentSelector=function(t){return{$$typeof:ko,value:t}},e.createContainer=function(t,e,r,n,i,o,s){return aa(t,e,!1,null,0,n,0,o,s)},e.createHasPseudoClassSelector=function(t){return{$$typeof:Oo,value:t}},e.createHydrationContainer=function(t,e,r,n,i,o,s,a,u){return(t=aa(r,n,!0,t,0,o,0,a,u)).context=ua(null),r=t.current,(o=mr(n=As(),i=Ms(r))).callback=void 0!==e&&null!==e?e:null,gr(r,o),t.current.lanes=i,Ce(t,i,n),xs(t,n),t},e.createPortal=function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}},e.createRoleSelector=function(t){return{$$typeof:Uo,value:t}},e.createTestNameSelector=function(t){return{$$typeof:Lo,value:t}},e.createTextSelector=function(t){return{$$typeof:Bo,value:t}},e.deferredUpdates=function(t){var e=Pe,r=Ko.transition;try{return Ko.transition=null,Pe=16,t()}finally{Pe=e,Ko.transition=r}},e.discreteUpdates=function(t,e,r,n,i){var o=Pe,s=Ko.transition;try{return Ko.transition=null,Pe=1,t(e,r,n,i)}finally{Pe=o,Ko.transition=s,0===Jo&&ls()}},e.findAllNodes=Ho,e.findBoundingRects=function(t,e){if(!nt)throw Error(s(363));e=Ho(t,e),t=[];for(var r=0;r<e.length;r++)t.push(ot(e[r]));for(e=t.length-1;0<e;e--)for(var n=(r=t[e]).x,i=n+r.width,o=r.y,a=o+r.height,u=e-1;0<=u;u--)if(e!==u){var l=t[u],h=l.x,c=h+l.width,f=l.y,d=f+l.height;if(n>=h&&o>=f&&i<=c&&a<=d){t.splice(e,1);break}if(!(n!==h||r.width!==l.width||d<o||f>a)){f>o&&(l.height+=f-o,l.y=o),d<a&&(l.height=a-f),t.splice(e,1);break}if(!(o!==f||r.height!==l.height||c<n||h>i)){h>n&&(l.width+=h-n,l.x=n),c<i&&(l.width=i-h),t.splice(e,1);break}}return t},e.findHostInstance=la,e.findHostInstanceWithNoPortals=function(t){return null===(t=null!==(t=N(t))?C(t):null)?null:t.stateNode},e.findHostInstanceWithWarning=function(t){return la(t)},e.flushControlled=function(t){var e=Jo;Jo|=1;var r=Ko.transition,n=Pe;try{Ko.transition=null,Pe=1,t()}finally{Pe=n,Ko.transition=r,0===(Jo=e)&&(ls(),Ye())}},e.flushPassiveEffects=Hs,e.flushSync=Is,e.focusWithin=function(t,e){if(!nt)throw Error(s(363));for(e=jo(t=Fo(t),e),e=Array.from(e),t=0;t<e.length;){var r=e[t++];if(!at(r)){if(5===r.tag&&lt(r.stateNode))return!0;for(r=r.child;null!==r;)e.push(r),r=r.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Pe},e.getFindAllNodesFailureDescription=function(t,e){if(!nt)throw Error(s(363));var r=0,n=[];t=[Fo(t),0];for(var i=0;i<t.length;){var o=t[i++],a=t[i++],u=e[a];if((5!==o.tag||!at(o))&&(Go(o,u)&&(n.push(zo(u)),++a>r&&(r=a)),a<e.length))for(o=o.child;null!==o;)t.push(o,a),o=o.sibling}if(r<e.length){for(t=[];r<e.length;r++)t.push(zo(e[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+t.join(" > ")}return null},e.getPublicRootInstance=function(t){return(t=t.current).child?5===t.child.tag?k(t.child.stateNode):t.child.stateNode:null},e.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:fa,findFiberByHostInstance:t.findFiberByHostInstance||da,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{He=e.inject(t),We=e}catch(r){}t=!!e.checkDCE}}return t},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(t,e,r,n){if(!nt)throw Error(s(363));t=Ho(t,e);var i=ht(t,r,n).disconnect;return{disconnect:function(){i()}}},e.registerMutableSourceForHydration=function(t,e){var r=e._getVersion;r=r(e._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[e,r]:t.mutableSourceEagerHydrationData.push(e,r)},e.runWithPriority=function(t,e){var r=Pe;try{return Pe=t,e()}finally{Pe=r}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(t,e,r,n){var i=e.current,o=As(),s=Ms(i);return r=ua(r),null===e.context?e.context=r:e.pendingContext=r,(e=mr(o,s)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),gr(i,e),null!==(t=_s(i,s,o))&&vr(t,i,s),s},e}},80223:(t,e,r)=>{"use strict";t.exports=r(42354)},85914:(t,e,r)=>{"use strict";t.exports=r(68106)},35918:(t,e,r)=>{"use strict";var n=r(47313),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,r){var n,o={},l=null,h=null;for(n in void 0!==r&&(l=""+r),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(h=e.ref),e)s.call(e,n)&&!u.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:i,type:t,key:l,ref:h,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},80306:(t,e)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}function y(){}function w(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var A=Array.isArray,M=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function x(t,e,n){var i,o={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)M.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];o.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:t,key:s,ref:a,props:o,_owner:_.current}}function S(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var N=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function R(t,e,i,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case r:case n:u=!0}}if(u)return s=s(u=t),t=""===o?"."+T(u,0):o,A(s)?(i="",null!=t&&(i=t.replace(N,"$&/")+"/"),R(s,e,i,"",(function(t){return t}))):null!=s&&(S(s)&&(s=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+t)),e.push(s)),1;if(u=0,o=""===o?".":o+":",A(t))for(var l=0;l<t.length;l++){var h=o+T(a=t[l],l);u+=R(a,e,i,h,s)}else if(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof h)for(t=h.call(t),l=0;!(a=t.next()).done;)u+=R(a=a.value,e,i,h=o+T(a,l++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function C(t,e,r){if(null==t)return t;var n=[],i=0;return R(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},k={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:k,ReactCurrentOwner:_};e.Children={map:C,forEach:function(t,e,r){C(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=s,e.PureComponent=w,e.StrictMode=o,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=_.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)M.call(e,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:r,type:t.type,key:o,ref:s,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=x,e.createFactory=function(t){var e=x.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=k.transition;k.transition={};try{t()}finally{k.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,r){return P.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,r){return P.current.useReducer(t,e,r)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return P.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return P.current.useTransition()},e.version="18.2.0"},47313:(t,e,r)=>{"use strict";t.exports=r(80306)},46417:(t,e,r)=>{"use strict";t.exports=r(35918)},68937:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(k){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new C(n||[]);return i(s,"_invoke",{value:S(t,r,a)}),s}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=h;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function w(){}var b={};l(b,s,(function(){return this}));var A=Object.getPrototypeOf,M=A&&A(A(I([])));M&&M!==r&&n.call(M,s)&&(b=M);var _=w.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,o,s,a){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function S(t,e,r){var n=f;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=N(s,r);if(a){if(a===g)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(t,e,r);if("normal"===u.type){if(n=r.done?m:d,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=m,r.method="throw",r.arg=u.arg)}}}function N(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=c(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var s=o.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var r=t[s];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:e,done:!0}}return y.prototype=w,i(_,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new x(h(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(_),l(_,u,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},13095:(t,e)=>{"use strict";function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,i=t[n];if(!(0<o(i,e)))break t;t[n]=e,t[r]=i,r=n}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length,s=i>>>1;n<s;){var a=2*(n+1)-1,u=t[a],l=a+1,h=t[l];if(0>o(u,r))l<i&&0>o(h,u)?(t[n]=h,t[l]=r,n=l):(t[n]=u,t[a]=r,n=a);else{if(!(l<i&&0>o(h,r)))break t;t[n]=h,t[l]=r,n=l}}}return e}function o(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var l=[],h=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=n(h);null!==e;){if(null===e.callback)i(h);else{if(!(e.startTime<=t))break;i(h),e.sortIndex=e.expirationTime,r(l,e)}e=n(h)}}function A(t){if(g=!1,b(t),!m)if(null!==n(l))m=!0,k(M);else{var e=n(h);null!==e&&O(A,e.startTime-t)}}function M(t,r){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var o=d;try{for(b(r),f=n(l);null!==f&&(!(f.expirationTime>r)||t&&!R());){var s=f.callback;if("function"===typeof s){f.callback=null,d=f.priorityLevel;var a=s(f.expirationTime<=r);r=e.unstable_now(),"function"===typeof a?f.callback=a:f===n(l)&&i(l),b(r)}else i(l);f=n(l)}if(null!==f)var u=!0;else{var c=n(h);null!==c&&O(A,c.startTime-r),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,x=null,S=-1,N=5,T=-1;function R(){return!(e.unstable_now()-T<N)}function C(){if(null!==x){var t=e.unstable_now();T=t;var r=!0;try{r=x(!0,t)}finally{r?_():(E=!1,x=null)}}else E=!1}if("function"===typeof w)_=function(){w(C)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=C,_=function(){P.postMessage(null)}}else _=function(){v(C,0)};function k(t){x=t,E||(E=!0,_())}function O(t,r){S=v((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,k(M))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var r=d;d=e;try{return t()}finally{d=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=d;d=t;try{return e()}finally{d=r}},e.unstable_scheduleCallback=function(t,i,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:c++,callback:i,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,r(h,t),null===n(l)&&t===n(h)&&(g?(y(S),S=-1):g=!0,O(A,o-s))):(t.sortIndex=a,r(l,t),m||p||(m=!0,k(M))),t},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(t){var e=d;return function(){var r=d;d=e;try{return t.apply(this,arguments)}finally{d=r}}}},62224:(t,e,r)=>{"use strict";t.exports=r(13095)},46125:function(t){"use strict";!function(e){const r=2147483647;function n(t){const e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,u=528734635,l=1541459225;const h=new Uint32Array(64);function c(t){let c=0,f=t.length;for(;f>=64;){let d,p,m,g,v,y=r,w=n,b=i,A=o,M=s,_=a,E=u,x=l;for(p=0;p<16;p++)m=c+4*p,h[p]=(255&t[m])<<24|(255&t[m+1])<<16|(255&t[m+2])<<8|255&t[m+3];for(p=16;p<64;p++)d=h[p-2],g=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,d=h[p-15],v=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,h[p]=(g+h[p-7]|0)+(v+h[p-16]|0)|0;for(p=0;p<64;p++)g=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&_^~M&E)|0)+(x+(e[p]+h[p]|0)|0)|0,v=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&w^y&b^w&b)|0,x=E,E=_,_=M,M=A+g|0,A=b,b=w,w=y,y=g+v|0;r=r+y|0,n=n+w|0,i=i+b|0,o=o+A|0,s=s+M|0,a=a+_|0,u=u+E|0,l=l+x|0,c+=64,f-=64}}c(t);let f,d=t.length%64,p=t.length/536870912|0,m=t.length<<3,g=d<56?56:120,v=t.slice(t.length-d,t.length);for(v.push(128),f=d+1;f<g;f++)v.push(0);return v.push(p>>>24&255),v.push(p>>>16&255),v.push(p>>>8&255),v.push(p>>>0&255),v.push(m>>>24&255),v.push(m>>>16&255),v.push(m>>>8&255),v.push(m>>>0&255),c(v),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function i(t,e,r){t=t.length<=64?t:n(t);const i=64+e.length+4,o=new Array(i),s=new Array(64);let a,u=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<t.length;a++)o[a]^=t[a];for(a=0;a<e.length;a++)o[64+a]=e[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<t.length;a++)s[a]^=t[a];function l(){for(let t=i-1;t>=i-4;t--){if(o[t]++,o[t]<=255)return;o[t]=0}}for(;r>=32;)l(),u=u.concat(n(s.concat(n(o)))),r-=32;return r>0&&(l(),u=u.concat(n(s.concat(n(o))).slice(0,r))),u}function o(t,e,r,n,i){let o;for(l(t,16*(2*r-1),i,0,16),o=0;o<2*r;o++)u(t,16*o,i,16),a(i,n),l(i,0,t,e+16*o,16);for(o=0;o<r;o++)l(t,e+2*o*16,t,16*o,16);for(o=0;o<r;o++)l(t,e+16*(2*o+1),t,16*(o+r),16)}function s(t,e){return t<<e|t>>>32-e}function a(t,e){l(t,0,e,0,16);for(let r=8;r>0;r-=2)e[4]^=s(e[0]+e[12],7),e[8]^=s(e[4]+e[0],9),e[12]^=s(e[8]+e[4],13),e[0]^=s(e[12]+e[8],18),e[9]^=s(e[5]+e[1],7),e[13]^=s(e[9]+e[5],9),e[1]^=s(e[13]+e[9],13),e[5]^=s(e[1]+e[13],18),e[14]^=s(e[10]+e[6],7),e[2]^=s(e[14]+e[10],9),e[6]^=s(e[2]+e[14],13),e[10]^=s(e[6]+e[2],18),e[3]^=s(e[15]+e[11],7),e[7]^=s(e[3]+e[15],9),e[11]^=s(e[7]+e[3],13),e[15]^=s(e[11]+e[7],18),e[1]^=s(e[0]+e[3],7),e[2]^=s(e[1]+e[0],9),e[3]^=s(e[2]+e[1],13),e[0]^=s(e[3]+e[2],18),e[6]^=s(e[5]+e[4],7),e[7]^=s(e[6]+e[5],9),e[4]^=s(e[7]+e[6],13),e[5]^=s(e[4]+e[7],18),e[11]^=s(e[10]+e[9],7),e[8]^=s(e[11]+e[10],9),e[9]^=s(e[8]+e[11],13),e[10]^=s(e[9]+e[8],18),e[12]^=s(e[15]+e[14],7),e[13]^=s(e[12]+e[15],9),e[14]^=s(e[13]+e[12],13),e[15]^=s(e[14]+e[13],18);for(let r=0;r<16;++r)t[r]+=e[r]}function u(t,e,r,n){for(let i=0;i<n;i++)r[i]^=t[e+i]}function l(t,e,r,n,i){for(;i--;)r[n++]=t[e++]}function h(t){if(!t||"number"!==typeof t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function c(t,e){if("number"!==typeof t||t%1)throw new Error("invalid "+e);return t}function f(t,e,n,s,a,f,d){if(n=c(n,"N"),s=c(s,"r"),a=c(a,"p"),f=c(f,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>r/128/s)throw new Error("N too large");if(s>r/128/a)throw new Error("r too large");if(!h(t))throw new Error("password must be an array or buffer");if(t=Array.prototype.slice.call(t),!h(e))throw new Error("salt must be an array or buffer");e=Array.prototype.slice.call(e);let p=i(t,e,128*a*s);const m=new Uint32Array(32*a*s);for(let r=0;r<m.length;r++){const t=4*r;m[r]=(255&p[t+3])<<24|(255&p[t+2])<<16|(255&p[t+1])<<8|(255&p[t+0])<<0}const g=new Uint32Array(64*s),v=new Uint32Array(32*s*n),y=32*s,w=new Uint32Array(16),b=new Uint32Array(16),A=a*n*2;let M,_,E=0,x=null,S=!1,N=0,T=0;const R=d?parseInt(1e3/s):4294967295,C="undefined"!==typeof setImmediate?setImmediate:setTimeout,I=function(){if(S)return d(new Error("cancelled"),E/A);let e;switch(N){case 0:_=32*T*s,l(m,_,g,0,y),N=1,M=0;case 1:e=n-M,e>R&&(e=R);for(let t=0;t<e;t++)l(g,0,v,(M+t)*y,y),o(g,y,s,w,b);if(M+=e,E+=e,d){const t=parseInt(1e3*E/A);if(t!==x){if(S=d(null,E/A),S)break;x=t}}if(M<n)break;M=0,N=2;case 2:e=n-M,e>R&&(e=R);for(let t=0;t<e;t++){const t=g[16*(2*s-1)]&n-1;u(v,t*y,g,y),o(g,y,s,w,b)}if(M+=e,E+=e,d){const t=parseInt(1e3*E/A);if(t!==x){if(S=d(null,E/A),S)break;x=t}}if(M<n)break;if(l(g,0,m,_,y),T++,T<a){N=0;break}p=[];for(let t=0;t<m.length;t++)p.push(m[t]>>0&255),p.push(m[t]>>8&255),p.push(m[t]>>16&255),p.push(m[t]>>24&255);const r=i(t,p,f);return d&&d(null,1,r),r}d&&C(I)};if(!d)for(;;){const t=I();if(void 0!=t)return t}I()}const d={scrypt:function(t,e,r,n,i,o,s){return new Promise((function(a,u){let l=0;s&&s(0),f(t,e,r,n,i,o,(function(t,e,r){if(t)u(t);else if(r)s&&1!==l&&s(1),a(new Uint8Array(r));else if(s&&e!==l)return l=e,s(e)}))}))},syncScrypt:function(t,e,r,n,i,o){return new Uint8Array(f(t,e,r,n,i,o))}};t.exports=d}()},65249:function(t,e,r){var n;"undefined"!=typeof self&&self,n=t=>(()=>{var e={7403:(t,e,r)=>{"use strict";r.d(e,{default:()=>S});var n=r(4087),i=r.n(n);const o=function(t){return new RegExp(/<[a-z][\s\S]*>/i).test(t)},s=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var a="TYPE_CHARACTER",u="REMOVE_CHARACTER",l="REMOVE_ALL",h="REMOVE_LAST_VISIBLE_NODE",c="PAUSE_FOR",f="CALL_FUNCTION",d="ADD_HTML_TAG_ELEMENT",p="CHANGE_DELETE_SPEED",m="CHANGE_DELAY",g="CHANGE_CURSOR",v="PASTE_STRING",y="HTML_TAG";function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E(t,e,r){return(e=x(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===w(e)?e:String(e)}const S=function(){function t(e,r){var w=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),E(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),E(this,"setupWrapperElement",(function(){w.state.elements.container&&(w.state.elements.wrapper.className=w.options.wrapperClassName,w.state.elements.cursor.className=w.options.cursorClassName,w.state.elements.cursor.innerHTML=w.options.cursor,w.state.elements.container.innerHTML="",w.state.elements.container.appendChild(w.state.elements.wrapper),w.state.elements.container.appendChild(w.state.elements.cursor))})),E(this,"start",(function(){return w.state.eventLoopPaused=!1,w.runEventLoop(),w})),E(this,"pause",(function(){return w.state.eventLoopPaused=!0,w})),E(this,"stop",(function(){return w.state.eventLoop&&((0,n.cancel)(w.state.eventLoop),w.state.eventLoop=null),w})),E(this,"pauseFor",(function(t){return w.addEventToQueue(c,{ms:t}),w})),E(this,"typeOutAllStrings",(function(){return"string"==typeof w.options.strings?(w.typeString(w.options.strings).pauseFor(w.options.pauseFor),w):(w.options.strings.forEach((function(t){w.typeString(t).pauseFor(w.options.pauseFor).deleteAll(w.options.deleteSpeed)})),w)})),E(this,"typeString",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(o(t))return w.typeOutHTMLString(t,e);if(t){var r=(w.options||{}).stringSplitter,n="function"==typeof r?r(t):t.split("");w.typeCharacters(n,e)}return w})),E(this,"pasteString",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o(t)?w.typeOutHTMLString(t,e,!0):(t&&w.addEventToQueue(v,{character:t,node:e}),w)})),E(this,"typeOutHTMLString",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes}(t);if(n.length>0)for(var i=0;i<n.length;i++){var o=n[i],s=o.innerHTML;o&&3!==o.nodeType?(o.innerHTML="",w.addEventToQueue(d,{node:o,parentNode:e}),r?w.pasteString(s,o):w.typeString(s,o)):o.textContent&&(r?w.pasteString(o.textContent,e):w.typeString(o.textContent,e))}return w})),E(this,"deleteAll",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"natural";return w.addEventToQueue(l,{speed:t}),w})),E(this,"changeDeleteSpeed",(function(t){if(!t)throw new Error("Must provide new delete speed");return w.addEventToQueue(p,{speed:t}),w})),E(this,"changeDelay",(function(t){if(!t)throw new Error("Must provide new delay");return w.addEventToQueue(m,{delay:t}),w})),E(this,"changeCursor",(function(t){if(!t)throw new Error("Must provide new cursor");return w.addEventToQueue(g,{cursor:t}),w})),E(this,"deleteChars",(function(t){if(!t)throw new Error("Must provide amount of characters to delete");for(var e=0;e<t;e++)w.addEventToQueue(u);return w})),E(this,"callFunction",(function(t,e){if(!t||"function"!=typeof t)throw new Error("Callback must be a function");return w.addEventToQueue(f,{cb:t,thisArg:e}),w})),E(this,"typeCharacters",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!Array.isArray(t))throw new Error("Characters must be an array");return t.forEach((function(t){w.addEventToQueue(a,{character:t,node:e})})),w})),E(this,"removeCharacters",(function(t){if(!t||!Array.isArray(t))throw new Error("Characters must be an array");return t.forEach((function(){w.addEventToQueue(u)})),w})),E(this,"addEventToQueue",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w.addEventToStateProperty(t,e,r,"eventQueue")})),E(this,"addReverseCalledEvent",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w.options.loop?w.addEventToStateProperty(t,e,r,"reverseCalledEvents"):w})),E(this,"addEventToStateProperty",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,i={eventName:t,eventArgs:e||{}};return w.state[n]=r?[i].concat(M(w.state[n])):[].concat(M(w.state[n]),[i]),w})),E(this,"runEventLoop",(function(){w.state.lastFrameTime||(w.state.lastFrameTime=Date.now());var t=Date.now(),e=t-w.state.lastFrameTime;if(!w.state.eventQueue.length){if(!w.options.loop)return;w.state.eventQueue=M(w.state.calledEvents),w.state.calledEvents=[],w.options=A({},w.state.initialOptions)}if(w.state.eventLoop=i()(w.runEventLoop),!w.state.eventLoopPaused){if(w.state.pauseUntil){if(t<w.state.pauseUntil)return;w.state.pauseUntil=null}var r,n=M(w.state.eventQueue),o=n.shift();if(!(e<=(r=o.eventName===h||o.eventName===u?"natural"===w.options.deleteSpeed?s(40,80):w.options.deleteSpeed:"natural"===w.options.delay?s(120,160):w.options.delay))){var b=o.eventName,_=o.eventArgs;switch(w.logInDevMode({currentEvent:o,state:w.state,delay:r}),b){case v:case a:var E=_.character,x=_.node,S=document.createTextNode(E),N=S;w.options.onCreateTextNode&&"function"==typeof w.options.onCreateTextNode&&(N=w.options.onCreateTextNode(E,S)),N&&(x?x.appendChild(N):w.state.elements.wrapper.appendChild(N)),w.state.visibleNodes=[].concat(M(w.state.visibleNodes),[{type:"TEXT_NODE",character:E,node:N}]);break;case u:n.unshift({eventName:h,eventArgs:{removingCharacterNode:!0}});break;case c:var T=o.eventArgs.ms;w.state.pauseUntil=Date.now()+parseInt(T);break;case f:var R=o.eventArgs,C=R.cb,I=R.thisArg;C.call(I,{elements:w.state.elements});break;case d:var P=o.eventArgs,k=P.node,O=P.parentNode;O?O.appendChild(k):w.state.elements.wrapper.appendChild(k),w.state.visibleNodes=[].concat(M(w.state.visibleNodes),[{type:y,node:k,parentNode:O||w.state.elements.wrapper}]);break;case l:var U=w.state.visibleNodes,L=_.speed,B=[];L&&B.push({eventName:p,eventArgs:{speed:L,temp:!0}});for(var D=0,F=U.length;D<F;D++)B.push({eventName:h,eventArgs:{removingCharacterNode:!1}});L&&B.push({eventName:p,eventArgs:{speed:w.options.deleteSpeed,temp:!0}}),n.unshift.apply(n,B);break;case h:var G=o.eventArgs.removingCharacterNode;if(w.state.visibleNodes.length){var z=w.state.visibleNodes.pop(),j=z.type,H=z.node,W=z.character;w.options.onRemoveNode&&"function"==typeof w.options.onRemoveNode&&w.options.onRemoveNode({node:H,character:W}),H&&H.parentNode.removeChild(H),j===y&&G&&n.unshift({eventName:h,eventArgs:{}})}break;case p:w.options.deleteSpeed=o.eventArgs.speed;break;case m:w.options.delay=o.eventArgs.delay;break;case g:w.options.cursor=o.eventArgs.cursor,w.state.elements.cursor.innerHTML=o.eventArgs.cursor}w.options.loop&&(o.eventName===h||o.eventArgs&&o.eventArgs.temp||(w.state.calledEvents=[].concat(M(w.state.calledEvents),[o]))),w.state.eventQueue=n,w.state.lastFrameTime=t}}})),e)if("string"==typeof e){var b=document.querySelector(e);if(!b)throw new Error("Could not find container element");this.state.elements.container=b}else this.state.elements.container=e;r&&(this.options=A(A({},this.options),r)),this.state.initialOptions=A({},this.options),this.init()}var e,r;return e=t,(r=[{key:"init",value:function(){var t;this.setupWrapperElement(),this.addEventToQueue(g,{cursor:this.options.cursor},!0),this.addEventToQueue(l,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||((t=document.createElement("style")).appendChild(document.createTextNode(".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}")),document.head.appendChild(t),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),!0===this.options.autoStart&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(t){this.options.devMode&&console.log(t)}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),i=r(401),o=r(7667),s=r(1327),a=r(1866);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},8407:(t,e,r)=>{var n=r(7040),i=r(4125),o=r(2117),s=r(7518),a=r(4705);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),i=r(1285),o=r(6e3),s=r(9916),a=r(5265);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),i=r(619),o=r(2385);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},6384:(t,e,r)=>{var n=r(8407),i=r(7465),o=r(3779),s=r(7599),a=r(4758),u=r(4309);function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=u,t.exports=l},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},4636:(t,e,r)=>{var n=r(2545),i=r(5694),o=r(1469),s=r(4144),a=r(5776),u=r(6719),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),h=!r&&i(t),c=!r&&!h&&s(t),f=!r&&!h&&!c&&u(t),d=r||h||c||f,p=d?n(t.length,String):[],m=p.length;for(var g in t)!e&&!l.call(t,g)||d&&("length"==g||c&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||p.push(g);return p}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},2908:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},8866:(t,e,r)=>{var n=r(2488),i=r(1469);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},4239:(t,e,r)=>{var n=r(2705),i=r(9607),o=r(2333),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},9454:(t,e,r)=>{var n=r(4239),i=r(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},939:(t,e,r)=>{var n=r(2492),i=r(7005);t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,s,t,a))}},2492:(t,e,r)=>{var n=r(6384),i=r(7114),o=r(8351),s=r(6096),a=r(4160),u=r(1469),l=r(4144),h=r(6719),c="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,m,g,v){var y=u(t),w=u(e),b=y?f:a(t),A=w?f:a(e),M=(b=b==c?d:b)==d,_=(A=A==c?d:A)==d,E=b==A;if(E&&l(t)){if(!l(e))return!1;y=!0,M=!1}if(E&&!M)return v||(v=new n),y||h(t)?i(t,e,r,m,g,v):o(t,e,b,r,m,g,v);if(!(1&r)){var x=M&&p.call(t,"__wrapped__"),S=_&&p.call(e,"__wrapped__");if(x||S){var N=x?t.value():t,T=S?e.value():e;return v||(v=new n),g(N,T,r,m,v)}}return!!E&&(v||(v=new n),s(t,e,r,m,g,v))}},8458:(t,e,r)=>{var n=r(3560),i=r(5346),o=r(3218),s=r(346),a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,h=u.toString,c=l.hasOwnProperty,f=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?f:a).test(s(t))}},8749:(t,e,r)=>{var n=r(4239),i=r(1780),o=r(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},280:(t,e,r)=>{var n=r(5726),i=r(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},7114:(t,e,r)=>{var n=r(8668),i=r(2908),o=r(4757);t.exports=function(t,e,r,s,a,u){var l=1&r,h=t.length,c=e.length;if(h!=c&&!(l&&c>h))return!1;var f=u.get(t),d=u.get(e);if(f&&d)return f==e&&d==t;var p=-1,m=!0,g=2&r?new n:void 0;for(u.set(t,e),u.set(e,t);++p<h;){var v=t[p],y=e[p];if(s)var w=l?s(y,v,p,e,t,u):s(v,y,p,t,e,u);if(void 0!==w){if(w)continue;m=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(v===t||a(v,t,r,s,u)))return g.push(e)}))){m=!1;break}}else if(v!==y&&!a(v,y,r,s,u)){m=!1;break}}return u.delete(t),u.delete(e),m}},8351:(t,e,r)=>{var n=r(2705),i=r(1149),o=r(7813),s=r(7114),a=r(8776),u=r(1814),l=n?n.prototype:void 0,h=l?l.valueOf:void 0;t.exports=function(t,e,r,n,l,c,f){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!c(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=a;case"[object Set]":var p=1&n;if(d||(d=u),t.size!=e.size&&!p)return!1;var m=f.get(t);if(m)return m==e;n|=2,f.set(t,e);var g=s(d(t),d(e),n,l,c,f);return f.delete(t),g;case"[object Symbol]":if(h)return h.call(t)==h.call(e)}return!1}},6096:(t,e,r)=>{var n=r(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var u=1&r,l=n(t),h=l.length;if(h!=n(e).length&&!u)return!1;for(var c=h;c--;){var f=l[c];if(!(u?f in e:i.call(e,f)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=u;++c<h;){var v=t[f=l[c]],y=e[f];if(o)var w=u?o(y,v,f,e,t,a):o(v,y,f,t,e,a);if(!(void 0===w?v===y||s(v,y,r,o,a):w)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=t.constructor,A=e.constructor;b==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A||(m=!1)}return a.delete(t),a.delete(e),m}},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),i=r(9551),o=r(3674);t.exports=function(t){return n(t,o,i)}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:(t,e,r)=>{var n=r(8458),i=r(7801);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},9607:(t,e,r)=>{var n=r(2705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},9551:(t,e,r)=>{var n=r(4963),i=r(479),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},4160:(t,e,r)=>{var n=r(8552),i=r(7071),o=r(3818),s=r(8525),a=r(577),u=r(4239),l=r(346),h="[object Map]",c="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=l(n),g=l(i),v=l(o),y=l(s),w=l(a),b=u;(n&&b(new n(new ArrayBuffer(1)))!=p||i&&b(new i)!=h||o&&b(o.resolve())!=c||s&&b(new s)!=f||a&&b(new a)!=d)&&(b=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?l(r):"";if(n)switch(n){case m:return p;case g:return h;case v:return c;case y:return f;case w:return d}return e}),t.exports=b},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,i=r(4429),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),i=r(8407),o=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5639:(t,e,r)=>{var n=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),i=r(7071),o=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5694:(t,e,r)=>{var n=r(9454),i=r(7005),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),i=r(1780);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),i=r(5062),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u},8446:(t,e,r)=>{var n=r(939);t.exports=function(t,e){return n(t,e)}},3560:(t,e,r)=>{var n=r(4239),i=r(3218);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},6719:(t,e,r)=>{var n=r(8749),i=r(1717),o=r(1167),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},3674:(t,e,r)=>{var n=r(4636),i=r(280),o=r(8612);t.exports=function(t){return o(t)?n(t):i(t)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},75:function(t){(function(){var e,r,n,i,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-o)/1e6},r=process.hrtime,i=(e=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*process.uptime(),o=i-s):Date.now?(t.exports=function(){return Date.now()-n},n=Date.now()):(t.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)},4087:(t,e,r)=>{for(var n=r(75),i="undefined"==typeof window?r.g:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],u=i["cancel"+s]||i["cancelRequest"+s],l=0;!a&&l<o.length;l++)a=i[o[l]+"Request"+s],u=i[o[l]+"Cancel"+s]||i[o[l]+"CancelRequest"+s];if(!a||!u){var h=0,c=0,f=[];a=function(t){if(0===f.length){var e=n(),r=Math.max(0,16.666666666666668-(e-h));h=r+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(h)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(r))}return f.push({handle:++c,callback:t,cancelled:!1}),c},u=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return a.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=a,t.cancelAnimationFrame=u}},8156:e=>{"use strict";e.exports=t}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i={};return(()=>{"use strict";n.d(i,{default:()=>d});var t=n(8156),e=n.n(t),r=n(7403),o=n(8446),s=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function c(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(p,t);var n,i,o,f,d=(o=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(o);if(f){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}(this,t)});function p(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=l(t=d.call.apply(d,[this].concat(o))),n={instance:null},(r=c(r="state"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}return n=p,(i=[{key:"componentDidMount",value:function(){var t=this,e=new r.default(this.typewriter,this.props.options);this.setState({instance:e},(function(){var r=t.props.onInit;r&&r(e)}))}},{key:"componentDidUpdate",value:function(t){s()(this.props.options,t.options)||this.setState({instance:new r.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var t=this,r=this.props.component;return e().createElement(r,{ref:function(e){return t.typewriter=e},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),p}(t.Component);f.defaultProps={component:"div"};const d=f})(),i.default})(),t.exports=n(r(47313))},90042:(t,e,r)=>{"use strict";var n;r.r(e),r.d(e,{NIL:()=>P,parse:()=>g,stringify:()=>h,v1:()=>m,v3:()=>S,v4:()=>N,v5:()=>I,validate:()=>a,version:()=>k});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"===typeof t&&s.test(t)};for(var u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));const h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var c,f,d=0,p=0;const m=function(t,e,r){var n=e&&r||0,i=e||new Array(16),s=(t=t||{}).node||c,a=void 0!==t.clockseq?t.clockseq:f;if(null==s||null==a){var u=t.random||(t.rng||o)();null==s&&(s=c=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=f=16383&(u[6]<<8|u[7]))}var l=void 0!==t.msecs?t.msecs:Date.now(),m=void 0!==t.nsecs?t.nsecs:p+1,g=l-d+(m-p)/1e4;if(g<0&&void 0===t.clockseq&&(a=a+1&16383),(g<0||l>d)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=l,p=m,f=a;var v=(1e4*(268435455&(l+=122192928e5))+m)%4294967296;i[n++]=v>>>24&255,i[n++]=v>>>16&255,i[n++]=v>>>8&255,i[n++]=255&v;var y=l/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=255&y,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var w=0;w<6;++w)i[n+w]=s[w];return e||h(i)};const g=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};function v(t,e,r){function n(t,n,i,o){if("string"===typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"===typeof n&&(n=g(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(n),s.set(t,n.length),(s=r(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return h(s)}try{n.name=t}catch(i){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function y(t){return 14+(t+64>>>9<<4)+1}function w(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function b(t,e,r,n,i,o){return w((s=w(w(e,t),w(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function A(t,e,r,n,i,o,s){return b(e&r|~e&n,t,e,i,o,s)}function M(t,e,r,n,i,o,s){return b(e&n|r&~n,t,e,i,o,s)}function _(t,e,r,n,i,o,s){return b(e^r^n,t,e,i,o,s)}function E(t,e,r,n,i,o,s){return b(r^(e|~n),t,e,i,o,s)}const x=function(t){if("string"===typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[y(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=r,u=n,l=i,h=o;r=A(r,n,i,o,t[s],7,-680876936),o=A(o,r,n,i,t[s+1],12,-389564586),i=A(i,o,r,n,t[s+2],17,606105819),n=A(n,i,o,r,t[s+3],22,-1044525330),r=A(r,n,i,o,t[s+4],7,-176418897),o=A(o,r,n,i,t[s+5],12,1200080426),i=A(i,o,r,n,t[s+6],17,-1473231341),n=A(n,i,o,r,t[s+7],22,-45705983),r=A(r,n,i,o,t[s+8],7,1770035416),o=A(o,r,n,i,t[s+9],12,-1958414417),i=A(i,o,r,n,t[s+10],17,-42063),n=A(n,i,o,r,t[s+11],22,-1990404162),r=A(r,n,i,o,t[s+12],7,1804603682),o=A(o,r,n,i,t[s+13],12,-40341101),i=A(i,o,r,n,t[s+14],17,-1502002290),r=M(r,n=A(n,i,o,r,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=M(o,r,n,i,t[s+6],9,-1069501632),i=M(i,o,r,n,t[s+11],14,643717713),n=M(n,i,o,r,t[s],20,-373897302),r=M(r,n,i,o,t[s+5],5,-701558691),o=M(o,r,n,i,t[s+10],9,38016083),i=M(i,o,r,n,t[s+15],14,-660478335),n=M(n,i,o,r,t[s+4],20,-405537848),r=M(r,n,i,o,t[s+9],5,568446438),o=M(o,r,n,i,t[s+14],9,-1019803690),i=M(i,o,r,n,t[s+3],14,-187363961),n=M(n,i,o,r,t[s+8],20,1163531501),r=M(r,n,i,o,t[s+13],5,-1444681467),o=M(o,r,n,i,t[s+2],9,-51403784),i=M(i,o,r,n,t[s+7],14,1735328473),r=_(r,n=M(n,i,o,r,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=_(o,r,n,i,t[s+8],11,-2022574463),i=_(i,o,r,n,t[s+11],16,1839030562),n=_(n,i,o,r,t[s+14],23,-35309556),r=_(r,n,i,o,t[s+1],4,-1530992060),o=_(o,r,n,i,t[s+4],11,1272893353),i=_(i,o,r,n,t[s+7],16,-155497632),n=_(n,i,o,r,t[s+10],23,-1094730640),r=_(r,n,i,o,t[s+13],4,681279174),o=_(o,r,n,i,t[s],11,-358537222),i=_(i,o,r,n,t[s+3],16,-722521979),n=_(n,i,o,r,t[s+6],23,76029189),r=_(r,n,i,o,t[s+9],4,-640364487),o=_(o,r,n,i,t[s+12],11,-421815835),i=_(i,o,r,n,t[s+15],16,530742520),r=E(r,n=_(n,i,o,r,t[s+2],23,-995338651),i,o,t[s],6,-198630844),o=E(o,r,n,i,t[s+7],10,1126891415),i=E(i,o,r,n,t[s+14],15,-1416354905),n=E(n,i,o,r,t[s+5],21,-57434055),r=E(r,n,i,o,t[s+12],6,1700485571),o=E(o,r,n,i,t[s+3],10,-1894986606),i=E(i,o,r,n,t[s+10],15,-1051523),n=E(n,i,o,r,t[s+1],21,-2054922799),r=E(r,n,i,o,t[s+8],6,1873313359),o=E(o,r,n,i,t[s+15],10,-30611744),i=E(i,o,r,n,t[s+6],15,-1560198380),n=E(n,i,o,r,t[s+13],21,1309151649),r=E(r,n,i,o,t[s+4],6,-145523070),o=E(o,r,n,i,t[s+11],10,-1120210379),i=E(i,o,r,n,t[s+2],15,718787259),n=E(n,i,o,r,t[s+9],21,-343485551),r=w(r,a),n=w(n,u),i=w(i,l),o=w(o,h)}return[r,n,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(y(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))};const S=v("v3",48,x);const N=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return h(n)};function T(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function R(t,e){return t<<e|t>>>32-e}const C=function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),u=0;u<s;++u){for(var l=new Uint32Array(16),h=0;h<16;++h)l[h]=t[64*u+4*h]<<24|t[64*u+4*h+1]<<16|t[64*u+4*h+2]<<8|t[64*u+4*h+3];a[u]=l}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var c=0;c<s;++c){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=a[c][d];for(var p=16;p<80;++p)f[p]=R(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=r[0],g=r[1],v=r[2],y=r[3],w=r[4],b=0;b<80;++b){var A=Math.floor(b/20),M=R(m,5)+T(A,g,v,y)+w+e[A]+f[b]>>>0;w=y,y=v,v=R(g,30)>>>0,g=m,m=M}r[0]=r[0]+m>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};const I=v("v5",80,C),P="00000000-0000-0000-0000-000000000000";const k=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},88677:()=>{},62808:()=>{},46601:()=>{},42480:()=>{},57765:()=>{},5761:()=>{},33485:()=>{},9337:()=>{},41699:()=>{},22750:()=>{},48797:()=>{},54148:()=>{},15355:()=>{},18496:()=>{},52021:()=>{},45433:()=>{},76576:(t,e,r)=>{"use strict";var n=r(84666);t.exports=n},71257:(t,e,r)=>{"use strict";var n=r(26355);t.exports=n},99742:(t,e,r)=>{"use strict";var n=r(72794);t.exports=n},38633:(t,e,r)=>{"use strict";var n=r(15906);t.exports=n},5705:(t,e,r)=>{"use strict";var n=r(80036);t.exports=n},69962:(t,e,r)=>{"use strict";var n=r(1910);t.exports=n},704:(t,e,r)=>{"use strict";var n=r(69718);r(68505),t.exports=n},15711:(t,e,r)=>{"use strict";var n=r(36317);t.exports=n},84346:(t,e,r)=>{"use strict";var n=r(48675);t.exports=n},13034:(t,e,r)=>{"use strict";var n=r(29568);t.exports=n},1515:(t,e,r)=>{"use strict";var n=r(54613);t.exports=n},75709:(t,e,r)=>{"use strict";var n=r(19159);t.exports=n},2908:(t,e,r)=>{"use strict";var n=r(28386);r(90654),t.exports=n},34279:(t,e,r)=>{"use strict";var n=r(64814);t.exports=n},43490:(t,e,r)=>{"use strict";var n=r(91326);t.exports=n},69286:(t,e,r)=>{"use strict";var n=r(78362);r(17840),r(60863),r(68705),r(13961),t.exports=n},94902:(t,e,r)=>{"use strict";var n=r(61033);t.exports=n},38241:(t,e,r)=>{"use strict";r(30306),r(1284);var n=r(47639);t.exports=n.Array.from},18705:(t,e,r)=>{"use strict";r(71711);var n=r(47639);t.exports=n.Array.isArray},17552:(t,e,r)=>{"use strict";r(47463);var n=r(26083);t.exports=n("Array","concat")},26536:(t,e,r)=>{"use strict";r(26539),r(2883);var n=r(26083);t.exports=n("Array","entries")},37560:(t,e,r)=>{"use strict";r(49202);var n=r(26083);t.exports=n("Array","every")},45880:(t,e,r)=>{"use strict";r(69753);var n=r(26083);t.exports=n("Array","filter")},28515:(t,e,r)=>{"use strict";r(94956);var n=r(26083);t.exports=n("Array","find")},32742:(t,e,r)=>{"use strict";r(79653);var n=r(26083);t.exports=n("Array","forEach")},33957:(t,e,r)=>{"use strict";r(69853);var n=r(26083);t.exports=n("Array","includes")},67500:(t,e,r)=>{"use strict";r(80827);var n=r(26083);t.exports=n("Array","indexOf")},53405:(t,e,r)=>{"use strict";r(26539),r(2883);var n=r(26083);t.exports=n("Array","keys")},61051:(t,e,r)=>{"use strict";r(41132);var n=r(26083);t.exports=n("Array","map")},55293:(t,e,r)=>{"use strict";r(39845);var n=r(26083);t.exports=n("Array","reduce")},95190:(t,e,r)=>{"use strict";r(60617);var n=r(26083);t.exports=n("Array","slice")},81030:(t,e,r)=>{"use strict";r(24759);var n=r(26083);t.exports=n("Array","sort")},15832:(t,e,r)=>{"use strict";r(93279);var n=r(26083);t.exports=n("Array","splice")},74334:(t,e,r)=>{"use strict";r(26539),r(2883);var n=r(26083);t.exports=n("Array","values")},33941:(t,e,r)=>{"use strict";r(8888);var n=r(26083);t.exports=n("Function","bind")},84145:(t,e,r)=>{"use strict";r(26539),r(30306);var n=r(73871);t.exports=n},42108:(t,e,r)=>{"use strict";var n=r(29746),i=r(33941),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||n(o,t)&&e===o.bind?i:e}},43414:(t,e,r)=>{"use strict";var n=r(29746),i=r(17552),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||n(o,t)&&e===o.concat?i:e}},52888:(t,e,r)=>{"use strict";var n=r(29746),i=r(37560),o=Array.prototype;t.exports=function(t){var e=t.every;return t===o||n(o,t)&&e===o.every?i:e}},83766:(t,e,r)=>{"use strict";var n=r(29746),i=r(45880),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||n(o,t)&&e===o.filter?i:e}},63122:(t,e,r)=>{"use strict";var n=r(29746),i=r(28515),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||n(o,t)&&e===o.find?i:e}},69082:(t,e,r)=>{"use strict";var n=r(29746),i=r(33957),o=r(16133),s=Array.prototype,a=String.prototype;t.exports=function(t){var e=t.includes;return t===s||n(s,t)&&e===s.includes?i:"string"==typeof t||t===a||n(a,t)&&e===a.includes?o:e}},39257:(t,e,r)=>{"use strict";var n=r(29746),i=r(67500),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||n(o,t)&&e===o.indexOf?i:e}},33706:(t,e,r)=>{"use strict";var n=r(29746),i=r(61051),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||n(o,t)&&e===o.map?i:e}},40881:(t,e,r)=>{"use strict";var n=r(29746),i=r(67034),o=String.prototype;t.exports=function(t){var e=t.padStart;return"string"==typeof t||t===o||n(o,t)&&e===o.padStart?i:e}},87240:(t,e,r)=>{"use strict";var n=r(29746),i=r(55293),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||n(o,t)&&e===o.reduce?i:e}},95522:(t,e,r)=>{"use strict";var n=r(29746),i=r(95190),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||n(o,t)&&e===o.slice?i:e}},38477:(t,e,r)=>{"use strict";var n=r(29746),i=r(81030),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||n(o,t)&&e===o.sort?i:e}},32579:(t,e,r)=>{"use strict";var n=r(29746),i=r(15832),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||n(o,t)&&e===o.splice?i:e}},27844:(t,e,r)=>{"use strict";var n=r(29746),i=r(10952),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||n(o,t)&&e===o.startsWith?i:e}},52811:(t,e,r)=>{"use strict";var n=r(29746),i=r(69669),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||n(o,t)&&e===o.trim?i:e}},11249:(t,e,r)=>{"use strict";r(51110),r(88947);var n=r(47639),i=r(61654);n.JSON||(n.JSON={stringify:JSON.stringify}),t.exports=function(t,e,r){return i(n.JSON.stringify,null,arguments)}},19288:(t,e,r)=>{"use strict";r(26539),r(23354),r(49156),r(2883),r(30306);var n=r(47639);t.exports=n.Map},29533:(t,e,r)=>{"use strict";r(77451);var n=r(47639);t.exports=n.Number.isInteger},56648:(t,e,r)=>{"use strict";r(24985);var n=r(47639);t.exports=n.Number.isNaN},74806:(t,e,r)=>{"use strict";r(15827);var n=r(47639).Object;t.exports=function(t,e){return n.create(t,e)}},92933:(t,e,r)=>{"use strict";r(70577);var n=r(47639).Object,i=t.exports=function(t,e){return n.defineProperties(t,e)};n.defineProperties.sham&&(i.sham=!0)},23145:(t,e,r)=>{"use strict";r(72469);var n=r(47639).Object,i=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(i.sham=!0)},46862:(t,e,r)=>{"use strict";r(27577);var n=r(47639);t.exports=n.Object.entries},4149:(t,e,r)=>{"use strict";r(18166);var n=r(47639);t.exports=n.Object.freeze},42306:(t,e,r)=>{"use strict";r(26448);var n=r(47639).Object,i=t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)};n.getOwnPropertyDescriptor.sham&&(i.sham=!0)},31690:(t,e,r)=>{"use strict";r(51586);var n=r(47639);t.exports=n.Object.getOwnPropertyDescriptors},41228:(t,e,r)=>{"use strict";r(79838);var n=r(47639);t.exports=n.Object.getOwnPropertySymbols},90392:(t,e,r)=>{"use strict";r(86221);var n=r(47639);t.exports=n.Object.getPrototypeOf},1585:(t,e,r)=>{"use strict";r(81211);var n=r(47639);t.exports=n.Object.keys},86269:(t,e,r)=>{"use strict";r(54354);var n=r(47639);t.exports=n.Object.setPrototypeOf},33565:(t,e,r)=>{"use strict";r(7324);var n=r(47639);t.exports=n.Object.values},92003:(t,e,r)=>{"use strict";r(61257);var n=r(47639);t.exports=n.parseInt},58640:(t,e,r)=>{"use strict";r(65905),r(26539),r(2883),r(37718),r(74755),r(78412),r(24261),r(13939),r(30306);var n=r(47639);t.exports=n.Promise},75574:(t,e,r)=>{"use strict";r(3888);var n=r(47639);t.exports=n.Reflect.construct},58780:(t,e,r)=>{"use strict";r(90476);var n=r(47639);t.exports=n.Reflect.get},66471:(t,e,r)=>{"use strict";r(26539),r(2883),r(88061),r(30306);var n=r(47639);t.exports=n.Set},16133:(t,e,r)=>{"use strict";r(77481);var n=r(26083);t.exports=n("String","includes")},67034:(t,e,r)=>{"use strict";r(65077);var n=r(26083);t.exports=n("String","padStart")},10952:(t,e,r)=>{"use strict";r(31074);var n=r(26083);t.exports=n("String","startsWith")},69669:(t,e,r)=>{"use strict";r(16257);var n=r(26083);t.exports=n("String","trim")},36710:(t,e,r)=>{"use strict";r(47463),r(2883),r(79838),r(94501),r(9684),r(8607),r(25265),r(19854),r(55221),r(84613),r(20595),r(10117),r(60689),r(72487),r(88913),r(89078),r(4518),r(92085),r(90566),r(86640);var n=r(47639);t.exports=n.Symbol},24380:(t,e,r)=>{"use strict";r(26539),r(2883),r(30306),r(19854);var n=r(33610);t.exports=n.f("iterator")},26861:(t,e,r)=>{"use strict";r(1316),r(20595),r(77898);var n=r(33610);t.exports=n.f("replace")},65934:(t,e,r)=>{"use strict";r(26539),r(2883),r(96064);var n=r(47639);t.exports=n.WeakMap},58364:(t,e,r)=>{"use strict";t.exports=r(53990)},43796:(t,e,r)=>{"use strict";t.exports=r(26207)},14603:(t,e,r)=>{"use strict";t.exports=r(32682)},38925:(t,e,r)=>{"use strict";t.exports=r(10240)},79417:(t,e,r)=>{"use strict";t.exports=r(76329)},20970:(t,e,r)=>{"use strict";t.exports=r(19218)},12389:(t,e,r)=>{"use strict";t.exports=r(51212)},76661:(t,e,r)=>{"use strict";t.exports=r(34927)},7333:(t,e,r)=>{"use strict";t.exports=r(19543)},16139:(t,e,r)=>{"use strict";t.exports=r(95421)},62565:(t,e,r)=>{"use strict";t.exports=r(99352)},42948:(t,e,r)=>{"use strict";t.exports=r(97724)},51539:(t,e,r)=>{"use strict";t.exports=r(49326)},53570:(t,e,r)=>{"use strict";t.exports=r(77754)},76530:(t,e,r)=>{"use strict";t.exports=r(83089)},73560:(t,e,r)=>{"use strict";t.exports=r(48285)},38378:(t,e,r)=>{"use strict";t.exports=r(67343)},53990:(t,e,r)=>{"use strict";var n=r(76576);t.exports=n},26207:(t,e,r)=>{"use strict";var n=r(71257);t.exports=n},32682:(t,e,r)=>{"use strict";var n=r(99742);t.exports=n},10240:(t,e,r)=>{"use strict";var n=r(38633);t.exports=n},76329:(t,e,r)=>{"use strict";var n=r(5705);t.exports=n},19218:(t,e,r)=>{"use strict";var n=r(69962);t.exports=n},51212:(t,e,r)=>{"use strict";var n=r(704);r(83578),r(45772),r(78055),r(97507),r(505),r(77183),r(5661),r(80192),r(66439),r(36124),r(41528),r(80448),r(52944),r(47223),r(67727),r(62564),r(95487),r(18399),r(39653),t.exports=n},34927:(t,e,r)=>{"use strict";var n=r(15711);t.exports=n},19543:(t,e,r)=>{"use strict";var n=r(84346);t.exports=n},95421:(t,e,r)=>{"use strict";var n=r(13034);t.exports=n},99352:(t,e,r)=>{"use strict";var n=r(1515);t.exports=n},97724:(t,e,r)=>{"use strict";var n=r(75709);t.exports=n},49326:(t,e,r)=>{"use strict";var n=r(2908);r(20901),r(71203),r(78098),r(20311),t.exports=n},77754:(t,e,r)=>{"use strict";var n=r(34279);t.exports=n},83089:(t,e,r)=>{"use strict";var n=r(43490);t.exports=n},48285:(t,e,r)=>{"use strict";var n=r(69286);r(78922),r(22347),r(39880),r(8368),r(22034),r(80309),r(19177),r(38675),r(3489),t.exports=n},67343:(t,e,r)=>{"use strict";var n=r(94902);t.exports=n},94200:(t,e,r)=>{"use strict";var n=r(62955),i=r(49275),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a function")}},35434:(t,e,r)=>{"use strict";var n=r(53053),i=r(49275),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a constructor")}},82946:(t,e,r)=>{"use strict";var n=r(49275),i=TypeError;t.exports=function(t){if("object"==typeof t&&"size"in t&&"has"in t&&"get"in t&&"set"in t&&"delete"in t&&"entries"in t)return t;throw new i(n(t)+" is not a map")}},5551:(t,e,r)=>{"use strict";var n=r(66338),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},99438:t=>{"use strict";t.exports=function(){}},64923:(t,e,r)=>{"use strict";var n=r(29746),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},84719:(t,e,r)=>{"use strict";var n=r(10402),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not an object")}},69218:(t,e,r)=>{"use strict";var n=r(71843);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},63996:(t,e,r)=>{"use strict";var n=r(79944).forEach,i=r(82892)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},75624:(t,e,r)=>{"use strict";var n=r(51508),i=r(30626),o=r(15238),s=r(96361),a=r(85849),u=r(53053),l=r(40110),h=r(55546),c=r(556),f=r(73871),d=Array;t.exports=function(t){var e=o(t),r=u(this),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m;g&&(m=n(m,p>2?arguments[2]:void 0));var v,y,w,b,A,M,_=f(e),E=0;if(!_||this===d&&a(_))for(v=l(e),y=r?new this(v):d(v);v>E;E++)M=g?m(e[E],E):e[E],h(y,E,M);else for(A=(b=c(e,_)).next,y=r?new this:[];!(w=i(A,b)).done;E++)M=g?s(b,m,[w.value,E],!0):w.value,h(y,E,M);return y.length=E,y}},19262:(t,e,r)=>{"use strict";var n=r(53922),i=r(87073),o=r(40110),s=function(t){return function(e,r,s){var a=n(e),u=o(a);if(0===u)return!t&&-1;var l,h=i(s,u);if(t&&r!==r){for(;u>h;)if((l=a[h++])!==l)return!0}else for(;u>h;h++)if((t||h in a)&&a[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},79944:(t,e,r)=>{"use strict";var n=r(51508),i=r(40943),o=r(30099),s=r(15238),a=r(40110),u=r(11146),l=i([].push),h=function(t){var e=1===t,r=2===t,i=3===t,h=4===t,c=6===t,f=7===t,d=5===t||c;return function(p,m,g,v){for(var y,w,b=s(p),A=o(b),M=a(A),_=n(m,g),E=0,x=v||u,S=e?x(p,M):r||f?x(p,0):void 0;M>E;E++)if((d||E in A)&&(w=_(y=A[E],E,b),t))if(e)S[E]=w;else if(w)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:l(S,y)}else switch(t){case 4:return!1;case 7:l(S,y)}return c?-1:i||h?h:S}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},45604:(t,e,r)=>{"use strict";var n=r(71843),i=r(30359),o=r(95155),s=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},82892:(t,e,r)=>{"use strict";var n=r(71843);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},74:(t,e,r)=>{"use strict";var n=r(94200),i=r(15238),o=r(30099),s=r(40110),a=TypeError,u="Reduce of empty array with no initial value",l=function(t){return function(e,r,l,h){var c=i(e),f=o(c),d=s(c);if(n(r),0===d&&l<2)throw new a(u);var p=t?d-1:0,m=t?-1:1;if(l<2)for(;;){if(p in f){h=f[p],p+=m;break}if(p+=m,t?p<0:d<=p)throw new a(u)}for(;t?p>=0:d>p;p+=m)p in f&&(h=r(h,f[p],p,c));return h}};t.exports={left:l(!1),right:l(!0)}},17734:(t,e,r)=>{"use strict";var n=r(38328),i=r(18145),o=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},32637:(t,e,r)=>{"use strict";var n=r(40943);t.exports=n([].slice)},95122:(t,e,r)=>{"use strict";var n=r(32637),i=Math.floor,o=function(t,e){var r=t.length;if(r<8)for(var s,a,u=1;u<r;){for(a=u,s=t[u];a&&e(t[a-1],s)>0;)t[a]=t[--a];a!==u++&&(t[a]=s)}else for(var l=i(r/2),h=o(n(t,0,l),e),c=o(n(t,l),e),f=h.length,d=c.length,p=0,m=0;p<f||m<d;)t[p+m]=p<f&&m<d?e(h[p],c[m])<=0?h[p++]:c[m++]:p<f?h[p++]:c[m++];return t};t.exports=o},74210:(t,e,r)=>{"use strict";var n=r(18145),i=r(53053),o=r(10402),s=r(30359)("species"),a=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===a||n(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?a:e}},11146:(t,e,r)=>{"use strict";var n=r(74210);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},96361:(t,e,r)=>{"use strict";var n=r(84719),i=r(11831);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(s){i(t,"throw",s)}}},58497:t=>{"use strict";t.exports=function(t,e){return 1===e?function(e,r){return e[t](r)}:function(e,r,n){return e[t](r,n)}}},20925:(t,e,r)=>{"use strict";var n=r(30359)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(a){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(a){return!1}var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(a){}return r}},59485:(t,e,r)=>{"use strict";var n=r(40943),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},27694:(t,e,r)=>{"use strict";var n=r(63824),i=r(62955),o=r(59485),s=r(30359)("toStringTag"),a=Object,u="Arguments"===o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=a(t),s))?r:u?o(e):"Object"===(n=o(e))&&i(e.callee)?"Arguments":n}},51371:(t,e,r)=>{"use strict";var n=r(51508),i=r(84719),o=r(15238),s=r(28431);t.exports=function(t,e,r){return function(a){var u=o(a),l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,f=c?n(h,l>2?arguments[2]:void 0):void 0,d=new t,p=0;return s(u,(function(t){var n=c?f(t,p++):t;r?e(d,i(n)[0],n[1]):e(d,n)})),d}}},79557:(t,e,r)=>{"use strict";var n=r(84719);t.exports=function(t,e,r){return function(){for(var i=new t,o=arguments.length,s=0;s<o;s++){var a=arguments[s];r?e(i,n(a)[0],a[1]):e(i,a)}return i}}},98885:(t,e,r)=>{"use strict";var n=r(79098),i=r(143),o=r(20725),s=r(51508),a=r(64923),u=r(99238),l=r(28431),h=r(3892),c=r(60528),f=r(82494),d=r(38328),p=r(69939).fastKey,m=r(18858),g=m.set,v=m.getterFor;t.exports={getConstructor:function(t,e,r,h){var c=t((function(t,i){a(t,f),g(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),d||(t.size=0),u(i)||l(i,t[h],{that:t,AS_ENTRIES:r})})),f=c.prototype,m=v(e),y=function(t,e,r){var n,i,o=m(t),s=w(t,e);return s?s.value=r:(o.last=s={index:i=p(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=s),n&&(n.next=s),d?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},w=function(t,e){var r,n=m(t),i=p(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===e)return r};return o(f,{clear:function(){for(var t=m(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;t.first=t.last=void 0,t.index=n(null),d?t.size=0:this.size=0},delete:function(t){var e=this,r=m(e),n=w(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first===n&&(r.first=i),r.last===n&&(r.last=o),d?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=m(this),n=s(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!w(this,t)}}),o(f,r?{get:function(t){var e=w(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),d&&i(f,"size",{configurable:!0,get:function(){return m(this).size}}),c},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);h(t,e,(function(t,e){g(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?c("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=void 0,c(void 0,!0))}),r?"entries":"values",!r,!0),f(e)}}},11603:(t,e,r)=>{"use strict";var n=r(40943),i=r(20725),o=r(69939).getWeakData,s=r(64923),a=r(84719),u=r(99238),l=r(10402),h=r(28431),c=r(79944),f=r(58890),d=r(18858),p=d.set,m=d.getterFor,g=c.find,v=c.findIndex,y=n([].splice),w=0,b=function(t){return t.frozen||(t.frozen=new A)},A=function(){this.entries=[]},M=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};A.prototype={get:function(t){var e=M(this,t);if(e)return e[1]},has:function(t){return!!M(this,t)},set:function(t,e){var r=M(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var c=t((function(t,i){s(t,d),p(t,{type:e,id:w++,frozen:void 0}),u(i)||h(i,t[n],{that:t,AS_ENTRIES:r})})),d=c.prototype,g=m(e),v=function(t,e,r){var n=g(t),i=o(a(e),!0);return!0===i?b(n).set(e,r):i[n.id]=r,t};return i(d,{delete:function(t){var e=g(this);if(!l(t))return!1;var r=o(t);return!0===r?b(e).delete(t):r&&f(r,e.id)&&delete r[e.id]},has:function(t){var e=g(this);if(!l(t))return!1;var r=o(t);return!0===r?b(e).has(t):r&&f(r,e.id)}}),i(d,r?{get:function(t){var e=g(this);if(l(t)){var r=o(t);return!0===r?b(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),c}}},56470:(t,e,r)=>{"use strict";var n=r(27916),i=r(65069),o=r(69939),s=r(71843),a=r(16135),u=r(28431),l=r(64923),h=r(62955),c=r(10402),f=r(99238),d=r(46465),p=r(69494).f,m=r(79944).forEach,g=r(38328),v=r(18858),y=v.set,w=v.getterFor;t.exports=function(t,e,r){var v,b=-1!==t.indexOf("Map"),A=-1!==t.indexOf("Weak"),M=b?"set":"add",_=i[t],E=_&&_.prototype,x={};if(g&&h(_)&&(A||E.forEach&&!s((function(){(new _).entries().next()})))){var S=(v=e((function(e,r){y(l(e,S),{type:t,collection:new _}),f(r)||u(r,e[M],{that:e,AS_ENTRIES:b})}))).prototype,N=w(t);m(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in E)||A&&"clear"===t||a(S,t,(function(r,n){var i=N(this).collection;if(!e&&A&&!c(r))return"get"===t&&void 0;var o=i[t](0===r?0:r,n);return e?this:o}))})),A||p(S,"size",{configurable:!0,get:function(){return N(this).collection.size}})}else v=r.getConstructor(e,t,b,M),o.enable();return d(v,t,!1,!0),x[t]=v,n({global:!0,forced:!0},x),A||r.setStrong(v,t,b),v}},34491:(t,e,r)=>{"use strict";var n=r(58890),i=r(56338),o=r(55043),s=r(69494);t.exports=function(t,e,r){for(var a=i(e),u=s.f,l=o.f,h=0;h<a.length;h++){var c=a[h];n(t,c)||r&&n(r,c)||u(t,c,l(e,c))}}},71316:(t,e,r)=>{"use strict";var n=r(30359)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},84506:(t,e,r)=>{"use strict";var n=r(71843);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},60528:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},16135:(t,e,r)=>{"use strict";var n=r(38328),i=r(69494),o=r(46688);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},46688:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},55546:(t,e,r)=>{"use strict";var n=r(38328),i=r(69494),o=r(46688);t.exports=function(t,e,r){n?i.f(t,e,o(0,r)):t[e]=r}},91467:(t,e,r)=>{"use strict";var n=r(40943),i=r(71843),o=r(12622).start,s=RangeError,a=isFinite,u=Math.abs,l=Date.prototype,h=l.toISOString,c=n(l.getTime),f=n(l.getUTCDate),d=n(l.getUTCFullYear),p=n(l.getUTCHours),m=n(l.getUTCMilliseconds),g=n(l.getUTCMinutes),v=n(l.getUTCMonth),y=n(l.getUTCSeconds);t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==h.call(new Date(-50000000000001))}))||!i((function(){h.call(new Date(NaN))}))?function(){if(!a(c(this)))throw new s("Invalid time value");var t=this,e=d(t),r=m(t),n=e<0?"-":e>9999?"+":"";return n+o(u(e),n?6:4,0)+"-"+o(v(t)+1,2,0)+"-"+o(f(t),2,0)+"T"+o(p(t),2,0)+":"+o(g(t),2,0)+":"+o(y(t),2,0)+"."+o(r,3,0)+"Z"}:h},143:(t,e,r)=>{"use strict";var n=r(69494);t.exports=function(t,e,r){return n.f(t,e,r)}},71516:(t,e,r)=>{"use strict";var n=r(16135);t.exports=function(t,e,r,i){return i&&i.enumerable?t[e]=r:n(t,e,r),t}},20725:(t,e,r)=>{"use strict";var n=r(71516);t.exports=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:n(t,i,e[i],r);return t}},39841:(t,e,r)=>{"use strict";var n=r(65069),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},79738:(t,e,r)=>{"use strict";var n=r(49275),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},38328:(t,e,r)=>{"use strict";var n=r(71843);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},35539:(t,e,r)=>{"use strict";var n=r(65069),i=r(10402),o=n.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},89824:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},65044:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},66063:(t,e,r)=>{"use strict";var n=r(51361).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},43132:(t,e,r)=>{"use strict";var n=r(55802),i=r(36982);t.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},55882:t=>{"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},55802:t=>{"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},59591:(t,e,r)=>{"use strict";var n=r(51361);t.exports=/MSIE|Trident/.test(n)},29915:(t,e,r)=>{"use strict";var n=r(51361);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},22962:(t,e,r)=>{"use strict";var n=r(51361);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},36982:(t,e,r)=>{"use strict";var n=r(65069),i=r(59485);t.exports="process"===i(n.process)},47077:(t,e,r)=>{"use strict";var n=r(51361);t.exports=/web0s(?!.*chrome)/i.test(n)},51361:t=>{"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},95155:(t,e,r)=>{"use strict";var n,i,o=r(65069),s=r(51361),a=o.process,u=o.Deno,l=a&&a.versions||u&&u.version,h=l&&l.v8;h&&(i=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},87641:(t,e,r)=>{"use strict";var n=r(51361).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},15348:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},36461:(t,e,r)=>{"use strict";var n=r(40943),i=Error,o=n("".replace),s=String(new i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,u=a.test(s);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,a,"");return t}},9193:(t,e,r)=>{"use strict";var n=r(16135),i=r(36461),o=r(20625),s=Error.captureStackTrace;t.exports=function(t,e,r,a){o&&(s?s(t,e):n(t,"stack",i(r,a)))}},20625:(t,e,r)=>{"use strict";var n=r(71843),i=r(46688);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},27916:(t,e,r)=>{"use strict";var n=r(65069),i=r(61654),o=r(15321),s=r(62955),a=r(55043).f,u=r(43969),l=r(47639),h=r(51508),c=r(16135),f=r(58890);r(48916);var d=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,i,p,m,g,v,y,w,b,A=t.target,M=t.global,_=t.stat,E=t.proto,x=M?n:_?n[A]:n[A]&&n[A].prototype,S=M?l:l[A]||c(l,A,{})[A],N=S.prototype;for(m in e)i=!(r=u(M?m:A+(_?".":"#")+m,t.forced))&&x&&f(x,m),v=S[m],i&&(y=t.dontCallGetSet?(b=a(x,m))&&b.value:x[m]),g=i&&y?y:e[m],(r||E||typeof v!=typeof g)&&(w=t.bind&&i?h(g,n):t.wrap&&i?d(g):E&&s(g)?o(g):g,(t.sham||g&&g.sham||v&&v.sham)&&c(w,"sham",!0),c(S,m,w),E&&(f(l,p=A+"Prototype")||c(l,p,{}),c(l[p],m,g),t.real&&N&&(r||!N[m])&&c(N,m,g)))}},71843:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},95100:(t,e,r)=>{"use strict";var n=r(71843);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},61654:(t,e,r)=>{"use strict";var n=r(77713),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},51508:(t,e,r)=>{"use strict";var n=r(15321),i=r(94200),o=r(77713),s=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},77713:(t,e,r)=>{"use strict";var n=r(71843);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},22363:(t,e,r)=>{"use strict";var n=r(40943),i=r(94200),o=r(10402),s=r(58890),a=r(32637),u=r(77713),l=Function,h=n([].concat),c=n([].join),f={};t.exports=u?l.bind:function(t){var e=i(this),r=e.prototype,n=a(arguments,1),u=function(){var r=h(n,a(arguments));return this instanceof u?function(t,e,r){if(!s(f,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";f[e]=l("C,a","return new C("+c(n,",")+")")}return f[e](t,r)}(e,r.length,r):e.apply(t,r)};return o(r)&&(u.prototype=r),u}},30626:(t,e,r)=>{"use strict";var n=r(77713),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},29656:(t,e,r)=>{"use strict";var n=r(38328),i=r(58890),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,l=a&&(!n||n&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:l}},53189:(t,e,r)=>{"use strict";var n=r(40943),i=r(94200);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(o){}}},15321:(t,e,r)=>{"use strict";var n=r(59485),i=r(40943);t.exports=function(t){if("Function"===n(t))return i(t)}},40943:(t,e,r)=>{"use strict";var n=r(77713),i=Function.prototype,o=i.call,s=n&&i.bind.bind(o,o);t.exports=n?s:function(t){return function(){return o.apply(t,arguments)}}},26083:(t,e,r)=>{"use strict";var n=r(65069),i=r(47639);t.exports=function(t,e){var r=i[t+"Prototype"],o=r&&r[e];if(o)return o;var s=n[t],a=s&&s.prototype;return a&&a[e]}},8583:(t,e,r)=>{"use strict";var n=r(47639),i=r(65069),o=r(62955),s=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t])||s(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},73871:(t,e,r)=>{"use strict";var n=r(27694),i=r(58919),o=r(99238),s=r(8239),a=r(30359)("iterator");t.exports=function(t){if(!o(t))return i(t,a)||i(t,"@@iterator")||s[n(t)]}},556:(t,e,r)=>{"use strict";var n=r(30626),i=r(94200),o=r(84719),s=r(49275),a=r(73871),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(i(r))return o(n(r,t));throw new u(s(t)+" is not iterable")}},38966:(t,e,r)=>{"use strict";var n=r(40943),i=r(18145),o=r(62955),s=r(59485),a=r(91072),u=n([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,r=[],n=0;n<e;n++){var l=t[n];"string"==typeof l?u(r,l):"number"!=typeof l&&"Number"!==s(l)&&"String"!==s(l)||u(r,a(l))}var h=r.length,c=!0;return function(t,e){if(c)return c=!1,e;if(i(this))return e;for(var n=0;n<h;n++)if(r[n]===t)return e}}}},58919:(t,e,r)=>{"use strict";var n=r(94200),i=r(99238);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},65069:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},58890:(t,e,r)=>{"use strict";var n=r(40943),i=r(15238),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},49451:t=>{"use strict";t.exports={}},14752:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(r){}}},28642:(t,e,r)=>{"use strict";var n=r(8583);t.exports=n("document","documentElement")},46418:(t,e,r)=>{"use strict";var n=r(38328),i=r(71843),o=r(35539);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},30099:(t,e,r)=>{"use strict";var n=r(40943),i=r(71843),o=r(59485),s=Object,a=n("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},7337:(t,e,r)=>{"use strict";var n=r(40943),i=r(62955),o=r(48916),s=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},17171:(t,e,r)=>{"use strict";var n=r(10402),i=r(16135);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},69939:(t,e,r)=>{"use strict";var n=r(27916),i=r(40943),o=r(49451),s=r(10402),a=r(58890),u=r(69494).f,l=r(62459),h=r(30748),c=r(21284),f=r(11021),d=r(95100),p=!1,m=f("meta"),g=0,v=function(t){u(t,m,{value:{objectID:"O"+g++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=l.f,e=i([].splice),r={};r[m]=1,t(r).length&&(l.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===m){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,m)){if(!c(t))return"F";if(!e)return"E";v(t)}return t[m].objectID},getWeakData:function(t,e){if(!a(t,m)){if(!c(t))return!0;if(!e)return!1;v(t)}return t[m].weakData},onFreeze:function(t){return d&&p&&c(t)&&!a(t,m)&&v(t),t}};o[m]=!0},18858:(t,e,r)=>{"use strict";var n,i,o,s=r(42464),a=r(65069),u=r(10402),l=r(16135),h=r(58890),c=r(48916),f=r(20436),d=r(49451),p="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||c.state){var v=c.state||(c.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new m(p);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var y=f("state");d[y]=!0,n=function(t,e){if(h(t,y))throw new m(p);return e.facade=t,l(t,y,e),e},i=function(t){return h(t,y)?t[y]:{}},o=function(t){return h(t,y)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return r}}}},85849:(t,e,r)=>{"use strict";var n=r(30359),i=r(8239),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},18145:(t,e,r)=>{"use strict";var n=r(59485);t.exports=Array.isArray||function(t){return"Array"===n(t)}},62955:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},53053:(t,e,r)=>{"use strict";var n=r(40943),i=r(71843),o=r(62955),s=r(27694),a=r(8583),u=r(7337),l=function(){},h=a("Reflect","construct"),c=/^\s*(?:class|function)\b/,f=n(c.exec),d=!c.test(l),p=function(t){if(!o(t))return!1;try{return h(l,[],t),!0}catch(e){return!1}},m=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(c,u(t))}catch(e){return!0}};m.sham=!0,t.exports=!h||i((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?m:p},84926:(t,e,r)=>{"use strict";var n=r(58890);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},43969:(t,e,r)=>{"use strict";var n=r(71843),i=r(62955),o=/#|\.prototype\./,s=function(t,e){var r=u[a(t)];return r===h||r!==l&&(i(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=s.data={},l=s.NATIVE="N",h=s.POLYFILL="P";t.exports=s},91402:(t,e,r)=>{"use strict";var n=r(10402),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},99238:t=>{"use strict";t.exports=function(t){return null===t||void 0===t}},10402:(t,e,r)=>{"use strict";var n=r(62955);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},66338:(t,e,r)=>{"use strict";var n=r(10402);t.exports=function(t){return n(t)||null===t}},33995:t=>{"use strict";t.exports=!0},88215:(t,e,r)=>{"use strict";var n=r(10402),i=r(59485),o=r(30359)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},64550:(t,e,r)=>{"use strict";var n=r(8583),i=r(62955),o=r(29746),s=r(3229),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,a(t))}},73391:(t,e,r)=>{"use strict";var n=r(30626);t.exports=function(t,e,r){for(var i,o,s=r?t:t.iterator,a=t.next;!(i=n(a,s)).done;)if(void 0!==(o=e(i.value)))return o}},28431:(t,e,r)=>{"use strict";var n=r(51508),i=r(30626),o=r(84719),s=r(49275),a=r(85849),u=r(40110),l=r(29746),h=r(556),c=r(73871),f=r(11831),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,r){var g,v,y,w,b,A,M,_=r&&r.that,E=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),N=!(!r||!r.INTERRUPTED),T=n(e,_),R=function(t){return g&&f(g,"normal",t),new p(!0,t)},C=function(t){return E?(o(t),N?T(t[0],t[1],R):T(t[0],t[1])):N?T(t,R):T(t)};if(x)g=t.iterator;else if(S)g=t;else{if(!(v=c(t)))throw new d(s(t)+" is not iterable");if(a(v)){for(y=0,w=u(t);w>y;y++)if((b=C(t[y]))&&l(m,b))return b;return new p(!1)}g=h(t,v)}for(A=x?t.next:g.next;!(M=i(A,g)).done;){try{b=C(M.value)}catch(I){f(g,"throw",I)}if("object"==typeof b&&b&&l(m,b))return b}return new p(!1)}},11831:(t,e,r)=>{"use strict";var n=r(30626),i=r(84719),o=r(58919);t.exports=function(t,e,r){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw r;return r}s=n(s,t)}catch(u){a=!0,s=u}if("throw"===e)throw r;if(a)throw s;return i(s),r}},9889:(t,e,r)=>{"use strict";var n=r(85059).IteratorPrototype,i=r(79098),o=r(46688),s=r(46465),a=r(8239),u=function(){return this};t.exports=function(t,e,r,l){var h=e+" Iterator";return t.prototype=i(n,{next:o(+!l,r)}),s(t,h,!1,!0),a[h]=u,t}},3892:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(33995),s=r(29656),a=r(62955),u=r(9889),l=r(59668),h=r(69051),c=r(46465),f=r(16135),d=r(71516),p=r(30359),m=r(8239),g=r(85059),v=s.PROPER,y=s.CONFIGURABLE,w=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,A=p("iterator"),M="keys",_="values",E="entries",x=function(){return this};t.exports=function(t,e,r,s,p,g,S){u(r,e,s);var N,T,R,C=function(t){if(t===p&&U)return U;if(!b&&t&&t in k)return k[t];switch(t){case M:case _:case E:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",P=!1,k=t.prototype,O=k[A]||k["@@iterator"]||p&&k[p],U=!b&&O||C(p),L="Array"===e&&k.entries||O;if(L&&(N=l(L.call(new t)))!==Object.prototype&&N.next&&(o||l(N)===w||(h?h(N,w):a(N[A])||d(N,A,x)),c(N,I,!0,!0),o&&(m[I]=x)),v&&p===_&&O&&O.name!==_&&(!o&&y?f(k,"name",_):(P=!0,U=function(){return i(O,this)})),p)if(T={values:C(_),keys:g?U:C(M),entries:C(E)},S)for(R in T)(b||P||!(R in k))&&d(k,R,T[R]);else n({target:e,proto:!0,forced:b||P},T);return o&&!S||k[A]===U||d(k,A,U,{name:p}),m[e]=U,T}},85059:(t,e,r)=>{"use strict";var n,i,o,s=r(71843),a=r(62955),u=r(10402),l=r(79098),h=r(59668),c=r(71516),f=r(30359),d=r(33995),p=f("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=h(h(o)))!==Object.prototype&&(n=i):m=!0),!u(n)||s((function(){var t={};return n[p].call(t)!==t}))?n={}:d&&(n=l(n)),a(n[p])||c(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},8239:t=>{"use strict";t.exports={}},40110:(t,e,r)=>{"use strict";var n=r(21678);t.exports=function(t){return n(t.length)}},9624:(t,e,r)=>{"use strict";var n=r(8583),i=r(58497),o=n("Map");t.exports={Map:o,set:i("set",2),get:i("get",1),has:i("has",1),remove:i("delete",1),proto:o.prototype}},43193:(t,e,r)=>{"use strict";var n=r(73391);t.exports=function(t,e,r){return r?n(t.entries(),(function(t){return e(t[1],t[0])}),!0):t.forEach(e)}},77278:(t,e,r)=>{"use strict";var n=r(30626),i=r(94200),o=r(62955),s=r(84719),a=TypeError;t.exports=function(t,e){var r,u=s(this),l=i(u.get),h=i(u.has),c=i(u.set),f=arguments.length>2?arguments[2]:void 0;if(!o(e)&&!o(f))throw new a("At least one callback required");return n(h,u,t)?(r=n(l,u,t),o(e)&&(r=e(r),n(c,u,t,r))):o(f)&&(r=f(),n(c,u,t,r)),r}},6598:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},72080:(t,e,r)=>{"use strict";var n,i,o,s,a,u=r(65069),l=r(58430),h=r(51508),c=r(74760).set,f=r(21788),d=r(22962),p=r(29915),m=r(47077),g=r(36982),v=u.MutationObserver||u.WebKitMutationObserver,y=u.document,w=u.process,b=u.Promise,A=l("queueMicrotask");if(!A){var M=new f,_=function(){var t,e;for(g&&(t=w.domain)&&t.exit();e=M.get();)try{e()}catch(r){throw M.head&&n(),r}t&&t.enter()};d||g||m||!v||!y?!p&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,a=h(s.then,s),n=function(){a(_)}):g?n=function(){w.nextTick(_)}:(c=h(c,u),n=function(){c(_)}):(i=!0,o=y.createTextNode(""),new v(_).observe(o,{characterData:!0}),n=function(){o.data=i=!i}),A=function(t){M.head||n(),M.add(t)}}t.exports=A},16454:(t,e,r)=>{"use strict";var n=r(94200),i=TypeError,o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},86731:(t,e,r)=>{"use strict";var n=r(91072);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},71156:(t,e,r)=>{"use strict";var n=r(88215),i=TypeError;t.exports=function(t){if(n(t))throw new i("The method doesn't accept regular expressions");return t}},76318:(t,e,r)=>{"use strict";var n=r(65069),i=r(71843),o=r(40943),s=r(91072),a=r(39450).trim,u=r(73343),l=n.parseInt,h=n.Symbol,c=h&&h.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==l(u+"08")||22!==l(u+"0x16")||c&&!i((function(){l(Object(c))}));t.exports=p?function(t,e){var r=a(s(t));return l(r,e>>>0||(d(f,r)?16:10))}:l},52707:(t,e,r)=>{"use strict";var n=r(38328),i=r(40943),o=r(30626),s=r(71843),a=r(25500),u=r(33413),l=r(70527),h=r(15238),c=r(30099),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||s((function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!==f({},t)[r]||a(f({},e)).join("")!==i}))?function(t,e){for(var r=h(t),i=arguments.length,s=1,f=u.f,d=l.f;i>s;)for(var m,g=c(arguments[s++]),v=f?p(a(g),f(g)):a(g),y=v.length,w=0;y>w;)m=v[w++],n&&!o(d,g,m)||(r[m]=g[m]);return r}:f},79098:(t,e,r)=>{"use strict";var n,i=r(84719),o=r(92067),s=r(15348),a=r(49451),u=r(28642),l=r(35539),h=r(20436),c="prototype",f="script",d=h("IE_PROTO"),p=function(){},m=function(t){return"<"+f+">"+t+"</"+f+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&n?g(n):function(){var t,e=l("iframe"),r="java"+f+":";return e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F}():g(n);for(var t=s.length;t--;)delete v[c][s[t]];return v()};a[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[c]=i(t),r=new p,p[c]=null,r[d]=t):r=v(),void 0===e?r:o.f(r,e)}},92067:(t,e,r)=>{"use strict";var n=r(38328),i=r(95535),o=r(69494),s=r(84719),a=r(53922),u=r(25500);e.f=n&&!i?Object.defineProperties:function(t,e){s(t);for(var r,n=a(e),i=u(e),l=i.length,h=0;l>h;)o.f(t,r=i[h++],n[r]);return t}},69494:(t,e,r)=>{"use strict";var n=r(38328),i=r(46418),o=r(95535),s=r(84719),a=r(58536),u=TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",d="writable";e.f=n?o?function(t,e,r){if(s(t),e=a(e),s(r),"function"===typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=h(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:c in r?r[c]:n[c],writable:!1})}return l(t,e,r)}:l:function(t,e,r){if(s(t),e=a(e),s(r),i)try{return l(t,e,r)}catch(n){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},55043:(t,e,r)=>{"use strict";var n=r(38328),i=r(30626),o=r(70527),s=r(46688),a=r(53922),u=r(58536),l=r(58890),h=r(46418),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=a(t),e=u(e),h)try{return c(t,e)}catch(r){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},30748:(t,e,r)=>{"use strict";var n=r(59485),i=r(53922),o=r(62459).f,s=r(32637),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===n(t)?function(t){try{return o(t)}catch(e){return s(a)}}(t):o(i(t))}},62459:(t,e,r)=>{"use strict";var n=r(12868),i=r(15348).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},33413:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},59668:(t,e,r)=>{"use strict";var n=r(58890),i=r(62955),o=r(15238),s=r(20436),a=r(84506),u=s("IE_PROTO"),l=Object,h=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(n(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof l?h:null}},21284:(t,e,r)=>{"use strict";var n=r(71843),i=r(10402),o=r(59485),s=r(69218),a=Object.isExtensible,u=n((function(){a(1)}));t.exports=u||s?function(t){return!!i(t)&&((!s||"ArrayBuffer"!==o(t))&&(!a||a(t)))}:a},29746:(t,e,r)=>{"use strict";var n=r(40943);t.exports=n({}.isPrototypeOf)},12868:(t,e,r)=>{"use strict";var n=r(40943),i=r(58890),o=r(53922),s=r(19262).indexOf,a=r(49451),u=n([].push);t.exports=function(t,e){var r,n=o(t),l=0,h=[];for(r in n)!i(a,r)&&i(n,r)&&u(h,r);for(;e.length>l;)i(n,r=e[l++])&&(~s(h,r)||u(h,r));return h}},25500:(t,e,r)=>{"use strict";var n=r(12868),i=r(15348);t.exports=Object.keys||function(t){return n(t,i)}},70527:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},69051:(t,e,r)=>{"use strict";var n=r(53189),i=r(84719),o=r(5551);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(s){}return function(r,n){return i(r),o(n),e?t(r,n):r.__proto__=n,r}}():void 0)},61507:(t,e,r)=>{"use strict";var n=r(38328),i=r(71843),o=r(40943),s=r(59668),a=r(25500),u=r(53922),l=o(r(70527).f),h=o([].push),c=n&&i((function(){var t=Object.create(null);return t[2]=2,!l(t,2)})),f=function(t){return function(e){for(var r,i=u(e),o=a(i),f=c&&null===s(i),d=o.length,p=0,m=[];d>p;)r=o[p++],n&&!(f?r in i:l(i,r))||h(m,t?[r,i[r]]:i[r]);return m}};t.exports={entries:f(!0),values:f(!1)}},13168:(t,e,r)=>{"use strict";var n=r(63824),i=r(27694);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},15999:(t,e,r)=>{"use strict";var n=r(30626),i=r(62955),o=r(10402),s=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&i(r=t.toString)&&!o(a=n(r,t)))return a;if(i(r=t.valueOf)&&!o(a=n(r,t)))return a;if("string"!==e&&i(r=t.toString)&&!o(a=n(r,t)))return a;throw new s("Can't convert object to primitive value")}},56338:(t,e,r)=>{"use strict";var n=r(8583),i=r(40943),o=r(62459),s=r(33413),a=r(84719),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),r=s.f;return r?u(e,r(t)):e}},47639:t=>{"use strict";t.exports={}},21223:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},95483:(t,e,r)=>{"use strict";var n=r(65069),i=r(80939),o=r(62955),s=r(43969),a=r(7337),u=r(30359),l=r(43132),h=r(55802),c=r(33995),f=r(95155),d=i&&i.prototype,p=u("species"),m=!1,g=o(n.PromiseRejectionEvent),v=s("Promise",(function(){var t=a(i),e=t!==String(i);if(!e&&66===f)return!0;if(c&&(!d.catch||!d.finally))return!0;if(!f||f<51||!/native code/.test(t)){var r=new i((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[p]=n,!(m=r.then((function(){}))instanceof n))return!0}return!e&&(l||h)&&!g}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},80939:(t,e,r)=>{"use strict";var n=r(65069);t.exports=n.Promise},54088:(t,e,r)=>{"use strict";var n=r(84719),i=r(10402),o=r(16454);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},57902:(t,e,r)=>{"use strict";var n=r(80939),i=r(20925),o=r(95483).CONSTRUCTOR;t.exports=o||!i((function(t){n.all(t).then(void 0,(function(){}))}))},21788:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},7451:(t,e,r)=>{"use strict";var n=r(99238),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},58430:(t,e,r)=>{"use strict";var n=r(65069),i=r(38328),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=o(n,t);return e&&e.value}},85859:t=>{"use strict";t.exports=function(t,e){return t===e||t!==t&&e!==e}},30173:(t,e,r)=>{"use strict";var n=r(65069),i=r(61654),o=r(62955),s=r(55882),a=r(51361),u=r(32637),l=r(49940),h=n.Function,c=/MSIE .\./.test(a)||s&&function(){var t=n.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}();t.exports=function(t,e){var r=e?2:1;return c?function(n,s){var a=l(arguments.length,1)>r,c=o(n)?n:h(n),f=a?u(arguments,r):[],d=a?function(){i(c,this,f)}:c;return e?t(d,s):t(d)}:t}},82494:(t,e,r)=>{"use strict";var n=r(8583),i=r(143),o=r(30359),s=r(38328),a=o("species");t.exports=function(t){var e=n(t);s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},46465:(t,e,r)=>{"use strict";var n=r(63824),i=r(69494).f,o=r(16135),s=r(58890),a=r(13168),u=r(30359)("toStringTag");t.exports=function(t,e,r,l){var h=r?t:t&&t.prototype;h&&(s(h,u)||i(h,u,{configurable:!0,value:e}),l&&!n&&o(h,"toString",a))}},20436:(t,e,r)=>{"use strict";var n=r(26149),i=r(11021),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},48916:(t,e,r)=>{"use strict";var n=r(33995),i=r(65069),o=r(39841),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.36.0",mode:n?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"})},26149:(t,e,r)=>{"use strict";var n=r(48916);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},18920:(t,e,r)=>{"use strict";var n=r(84719),i=r(35434),o=r(99238),s=r(30359)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||o(r=n(a)[s])?e:i(r)}},27251:(t,e,r)=>{"use strict";var n=r(40943),i=r(31422),o=r(91072),s=r(7451),a=n("".charAt),u=n("".charCodeAt),l=n("".slice),h=function(t){return function(e,r){var n,h,c=o(s(e)),f=i(r),d=c.length;return f<0||f>=d?t?"":void 0:(n=u(c,f))<55296||n>56319||f+1===d||(h=u(c,f+1))<56320||h>57343?t?a(c,f):n:t?l(c,f,f+2):h-56320+(n-55296<<10)+65536}};t.exports={codeAt:h(!1),charAt:h(!0)}},55226:(t,e,r)=>{"use strict";var n=r(51361);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},12622:(t,e,r)=>{"use strict";var n=r(40943),i=r(21678),o=r(91072),s=r(25470),a=r(7451),u=n(s),l=n("".slice),h=Math.ceil,c=function(t){return function(e,r,n){var s,c,f=o(a(e)),d=i(r),p=f.length,m=void 0===n?" ":o(n);return d<=p||""===m?f:((c=u(m,h((s=d-p)/m.length))).length>s&&(c=l(c,0,s)),t?f+c:c+f)}};t.exports={start:c(!1),end:c(!0)}},11117:(t,e,r)=>{"use strict";var n=r(40943),i=2147483647,o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,l=n(s.exec),h=Math.floor,c=String.fromCharCode,f=n("".charCodeAt),d=n([].join),p=n([].push),m=n("".replace),g=n("".split),v=n("".toLowerCase),y=function(t){return t+22+75*(t<26)},w=function(t,e,r){var n=0;for(t=r?h(t/700):t>>1,t+=h(t/e);t>455;)t=h(t/35),n+=36;return h(n+36*t/(t+38))},b=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=f(t,r++);if(i>=55296&&i<=56319&&r<n){var o=f(t,r++);56320===(64512&o)?p(e,((1023&i)<<10)+(1023&o)+65536):(p(e,i),r--)}else p(e,i)}return e}(t);var r,n,o=t.length,s=128,l=0,m=72;for(r=0;r<t.length;r++)(n=t[r])<128&&p(e,c(n));var g=e.length,v=g;for(g&&p(e,"-");v<o;){var b=i;for(r=0;r<t.length;r++)(n=t[r])>=s&&n<b&&(b=n);var A=v+1;if(b-s>h((i-l)/A))throw new u(a);for(l+=(b-s)*A,s=b,r=0;r<t.length;r++){if((n=t[r])<s&&++l>i)throw new u(a);if(n===s){for(var M=l,_=36;;){var E=_<=m?1:_>=m+26?26:_-m;if(M<E)break;var x=M-E,S=36-E;p(e,c(y(E+x%S))),M=h(x/S),_+=36}p(e,c(y(M))),m=w(l,A,v===g),l=0,v++}}l++,s++}return d(e,"")};t.exports=function(t){var e,r,n=[],i=g(m(v(t),s,"."),".");for(e=0;e<i.length;e++)r=i[e],p(n,l(o,r)?"xn--"+b(r):r);return d(n,".")}},25470:(t,e,r)=>{"use strict";var n=r(31422),i=r(91072),o=r(7451),s=RangeError;t.exports=function(t){var e=i(o(this)),r="",a=n(t);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},48294:(t,e,r)=>{"use strict";var n=r(29656).PROPER,i=r(71843),o=r(73343);t.exports=function(t){return i((function(){return!!o[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||n&&o[t].name!==t}))}},39450:(t,e,r)=>{"use strict";var n=r(40943),i=r(7451),o=r(91072),s=r(73343),a=n("".replace),u=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),h=function(t){return function(e){var r=o(i(e));return 1&t&&(r=a(r,u,"")),2&t&&(r=a(r,l,"$1")),r}};t.exports={start:h(1),end:h(2),trim:h(3)}},49920:(t,e,r)=>{"use strict";var n=r(95155),i=r(71843),o=r(65069).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},14930:(t,e,r)=>{"use strict";var n=r(30626),i=r(8583),o=r(30359),s=r(71516);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=o("toPrimitive");e&&!e[a]&&s(e,a,(function(t){return n(r,this)}),{arity:1})}},4482:(t,e,r)=>{"use strict";var n=r(8583),i=r(40943),o=n("Symbol"),s=o.keyFor,a=i(o.prototype.valueOf);t.exports=o.isRegisteredSymbol||function(t){try{return void 0!==s(a(t))}catch(e){return!1}}},20112:(t,e,r)=>{"use strict";for(var n=r(26149),i=r(8583),o=r(40943),s=r(64550),a=r(30359),u=i("Symbol"),l=u.isWellKnownSymbol,h=i("Object","getOwnPropertyNames"),c=o(u.prototype.valueOf),f=n("wks"),d=0,p=h(u),m=p.length;d<m;d++)try{var g=p[d];s(u[g])&&a(g)}catch(v){}t.exports=function(t){if(l&&l(t))return!0;try{for(var e=c(t),r=0,n=h(f),i=n.length;r<i;r++)if(f[n[r]]==e)return!0}catch(v){}return!1}},504:(t,e,r)=>{"use strict";var n=r(49920);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},74760:(t,e,r)=>{"use strict";var n,i,o,s,a=r(65069),u=r(61654),l=r(51508),h=r(62955),c=r(58890),f=r(71843),d=r(28642),p=r(32637),m=r(35539),g=r(49940),v=r(22962),y=r(36982),w=a.setImmediate,b=a.clearImmediate,A=a.process,M=a.Dispatch,_=a.Function,E=a.MessageChannel,x=a.String,S=0,N={},T="onreadystatechange";f((function(){n=a.location}));var R=function(t){if(c(N,t)){var e=N[t];delete N[t],e()}},C=function(t){return function(){R(t)}},I=function(t){R(t.data)},P=function(t){a.postMessage(x(t),n.protocol+"//"+n.host)};w&&b||(w=function(t){g(arguments.length,1);var e=h(t)?t:_(t),r=p(arguments,1);return N[++S]=function(){u(e,void 0,r)},i(S),S},b=function(t){delete N[t]},y?i=function(t){A.nextTick(C(t))}:M&&M.now?i=function(t){M.now(C(t))}:E&&!v?(s=(o=new E).port2,o.port1.onmessage=I,i=l(s.postMessage,s)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!f(P)?(i=P,a.addEventListener("message",I,!1)):i=T in m("script")?function(t){d.appendChild(m("script"))[T]=function(){d.removeChild(this),R(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:w,clear:b}},87073:(t,e,r)=>{"use strict";var n=r(31422),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},53922:(t,e,r)=>{"use strict";var n=r(30099),i=r(7451);t.exports=function(t){return n(i(t))}},31422:(t,e,r)=>{"use strict";var n=r(6598);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},21678:(t,e,r)=>{"use strict";var n=r(31422),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},15238:(t,e,r)=>{"use strict";var n=r(7451),i=Object;t.exports=function(t){return i(n(t))}},52849:(t,e,r)=>{"use strict";var n=r(30626),i=r(10402),o=r(64550),s=r(58919),a=r(15999),u=r(30359),l=TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,u=s(t,h);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!i(r)||o(r))return r;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},58536:(t,e,r)=>{"use strict";var n=r(52849),i=r(64550);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},63824:(t,e,r)=>{"use strict";var n={};n[r(30359)("toStringTag")]="z",t.exports="[object z]"===String(n)},91072:(t,e,r)=>{"use strict";var n=r(27694),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},49275:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},11021:(t,e,r)=>{"use strict";var n=r(40943),i=0,o=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},45631:(t,e,r)=>{"use strict";var n=r(71843),i=r(30359),o=r(38328),s=r(33995),a=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),r.delete("a",2),r.delete("b",void 0),s&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(s||!o)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},3229:(t,e,r)=>{"use strict";var n=r(49920);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},95535:(t,e,r)=>{"use strict";var n=r(38328),i=r(71843);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},49940:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},42464:(t,e,r)=>{"use strict";var n=r(65069),i=r(62955),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},44298:(t,e,r)=>{"use strict";var n=r(47639),i=r(58890),o=r(33610),s=r(69494).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},33610:(t,e,r)=>{"use strict";var n=r(30359);e.f=n},30359:(t,e,r)=>{"use strict";var n=r(65069),i=r(26149),o=r(58890),s=r(11021),a=r(49920),u=r(3229),l=n.Symbol,h=i("wks"),c=u?l.for||l:l&&l.withoutSetter||s;t.exports=function(t){return o(h,t)||(h[t]=a&&o(l,t)?l[t]:c("Symbol."+t)),h[t]}},73343:t=>{"use strict";t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},71053:(t,e,r)=>{"use strict";var n=r(27916),i=r(29746),o=r(59668),s=r(69051),a=r(34491),u=r(79098),l=r(16135),h=r(46688),c=r(17171),f=r(9193),d=r(28431),p=r(86731),m=r(30359)("toStringTag"),g=Error,v=[].push,y=function(t,e){var r,n=i(w,this);s?r=s(new g,n?o(this):w):(r=n?this:u(w),l(r,m,"Error")),void 0!==e&&l(r,"message",p(e)),f(r,y,r.stack,1),arguments.length>2&&c(r,arguments[2]);var a=[];return d(t,v,{that:a}),l(r,"errors",a),r};s?s(y,g):a(y,g,{name:!0});var w=y.prototype=u(g.prototype,{constructor:h(1,y),message:h(1,""),name:h(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:y})},65905:(t,e,r)=>{"use strict";r(71053)},47463:(t,e,r)=>{"use strict";var n=r(27916),i=r(71843),o=r(18145),s=r(10402),a=r(15238),u=r(40110),l=r(89824),h=r(55546),c=r(11146),f=r(45604),d=r(30359),p=r(95155),m=d("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,arity:1,forced:!g||!f("concat")},{concat:function(t){var e,r,n,i,o,s=a(this),f=c(s,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(v(o=-1===e?s:arguments[e]))for(i=u(o),l(d+i),r=0;r<i;r++,d++)r in o&&h(f,d,o[r]);else l(d+1),h(f,d++,o);return f.length=d,f}})},49202:(t,e,r)=>{"use strict";var n=r(27916),i=r(79944).every;n({target:"Array",proto:!0,forced:!r(82892)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},69753:(t,e,r)=>{"use strict";var n=r(27916),i=r(79944).filter;n({target:"Array",proto:!0,forced:!r(45604)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},94956:(t,e,r)=>{"use strict";var n=r(27916),i=r(79944).find,o=r(99438),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},79653:(t,e,r)=>{"use strict";var n=r(27916),i=r(63996);n({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},1284:(t,e,r)=>{"use strict";var n=r(27916),i=r(75624);n({target:"Array",stat:!0,forced:!r(20925)((function(t){Array.from(t)}))},{from:i})},69853:(t,e,r)=>{"use strict";var n=r(27916),i=r(19262).includes,o=r(71843),s=r(99438);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},80827:(t,e,r)=>{"use strict";var n=r(27916),i=r(15321),o=r(19262).indexOf,s=r(82892),a=i([].indexOf),u=!!a&&1/a([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!s("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?a(this,t,e)||0:o(this,t,e)}})},71711:(t,e,r)=>{"use strict";r(27916)({target:"Array",stat:!0},{isArray:r(18145)})},26539:(t,e,r)=>{"use strict";var n=r(53922),i=r(99438),o=r(8239),s=r(18858),a=r(69494).f,u=r(3892),l=r(60528),h=r(33995),c=r(38328),f="Array Iterator",d=s.set,p=s.getterFor(f);t.exports=u(Array,"Array",(function(t,e){d(this,{type:f,target:n(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,l(void 0,!0);switch(t.kind){case"keys":return l(r,!1);case"values":return l(e[r],!1)}return l([r,e[r]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!h&&c&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(g){}},41132:(t,e,r)=>{"use strict";var n=r(27916),i=r(79944).map;n({target:"Array",proto:!0,forced:!r(45604)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},39845:(t,e,r)=>{"use strict";var n=r(27916),i=r(74).left,o=r(82892),s=r(95155);n({target:"Array",proto:!0,forced:!r(36982)&&s>79&&s<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},60617:(t,e,r)=>{"use strict";var n=r(27916),i=r(18145),o=r(53053),s=r(10402),a=r(87073),u=r(40110),l=r(53922),h=r(55546),c=r(30359),f=r(45604),d=r(32637),p=f("slice"),m=c("species"),g=Array,v=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var r,n,c,f=l(this),p=u(f),y=a(t,p),w=a(void 0===e?p:e,p);if(i(f)&&(r=f.constructor,(o(r)&&(r===g||i(r.prototype))||s(r)&&null===(r=r[m]))&&(r=void 0),r===g||void 0===r))return d(f,y,w);for(n=new(void 0===r?g:r)(v(w-y,0)),c=0;y<w;y++,c++)y in f&&h(n,c,f[y]);return n.length=c,n}})},24759:(t,e,r)=>{"use strict";var n=r(27916),i=r(40943),o=r(94200),s=r(15238),a=r(40110),u=r(79738),l=r(91072),h=r(71843),c=r(95122),f=r(82892),d=r(66063),p=r(59591),m=r(95155),g=r(87641),v=[],y=i(v.sort),w=i(v.push),b=h((function(){v.sort(void 0)})),A=h((function(){v.sort(null)})),M=f("sort"),_=!h((function(){if(m)return m<70;if(!(d&&d>3)){if(p)return!0;if(g)return g<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:e+n,v:r})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:b||!A||!M||!_},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(_)return void 0===t?y(e):y(e,t);var r,n,i=[],h=a(e);for(n=0;n<h;n++)n in e&&w(i,e[n]);for(c(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:l(e)>l(r)?1:-1}}(t)),r=a(i),n=0;n<r;)e[n]=i[n++];for(;n<h;)u(e,n++);return e}})},93279:(t,e,r)=>{"use strict";var n=r(27916),i=r(15238),o=r(87073),s=r(31422),a=r(40110),u=r(17734),l=r(89824),h=r(11146),c=r(55546),f=r(79738),d=r(45604)("splice"),p=Math.max,m=Math.min;n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,n,d,g,v,y,w=i(this),b=a(w),A=o(t,b),M=arguments.length;for(0===M?r=n=0:1===M?(r=0,n=b-A):(r=M-2,n=m(p(s(e),0),b-A)),l(b+r-n),d=h(w,n),g=0;g<n;g++)(v=A+g)in w&&c(d,g,w[v]);if(d.length=n,r<n){for(g=A;g<b-n;g++)y=g+r,(v=g+n)in w?w[y]=w[v]:f(w,y);for(g=b;g>b-n+r;g--)f(w,g-1)}else if(r>n)for(g=b-n;g>A;g--)y=g+r-1,(v=g+n-1)in w?w[y]=w[v]:f(w,y);for(g=0;g<r;g++)w[g+A]=arguments[g+2];return u(w,b-n+r),d}})},51110:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(15238),s=r(52849),a=r(91467),u=r(59485);n({target:"Date",proto:!0,forced:r(71843)((function(){return null!==new Date(NaN).toJSON()||1!==i(Date.prototype.toJSON,{toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),r=s(e,"number");return"number"!=typeof r||isFinite(r)?"toISOString"in e||"Date"!==u(e)?e.toISOString():i(a,e):null}})},8888:(t,e,r)=>{"use strict";var n=r(27916),i=r(22363);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},88947:(t,e,r)=>{"use strict";var n=r(27916),i=r(8583),o=r(61654),s=r(30626),a=r(40943),u=r(71843),l=r(62955),h=r(64550),c=r(32637),f=r(38966),d=r(49920),p=String,m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),w=a("".replace),b=a(1..toString),A=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,E=!d||u((function(){var t=i("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))})),x=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),S=function(t,e){var r=c(arguments),n=f(e);if(l(n)||void 0!==t&&!h(t))return r[1]=function(t,e){if(l(n)&&(e=s(n,this,p(t),e)),!h(e))return e},o(m,null,r)},N=function(t,e,r){var n=v(r,e-1),i=v(r,e+1);return g(M,t)&&!g(_,i)||g(_,t)&&!g(M,n)?"\\u"+b(y(t,0),16):t};m&&n({target:"JSON",stat:!0,arity:3,forced:E||x},{stringify:function(t,e,r){var n=c(arguments),i=o(E?S:m,null,n);return x&&"string"==typeof i?w(i,A,N):i}})},92085:(t,e,r)=>{"use strict";var n=r(65069);r(46465)(n.JSON,"JSON",!0)},81298:(t,e,r)=>{"use strict";r(56470)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(98885))},49156:(t,e,r)=>{"use strict";var n=r(27916),i=r(40943),o=r(94200),s=r(7451),a=r(28431),u=r(9624),l=r(33995),h=u.Map,c=u.has,f=u.get,d=u.set,p=i([].push);n({target:"Map",stat:!0,forced:l},{groupBy:function(t,e){s(t),o(e);var r=new h,n=0;return a(t,(function(t){var i=e(t,n++);c(r,i)?p(f(r,i),t):d(r,i,[t])})),r}})},23354:(t,e,r)=>{"use strict";r(81298)},90566:()=>{},77451:(t,e,r)=>{"use strict";r(27916)({target:"Number",stat:!0},{isInteger:r(91402)})},24985:(t,e,r)=>{"use strict";r(27916)({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})},15827:(t,e,r)=>{"use strict";r(27916)({target:"Object",stat:!0,sham:!r(38328)},{create:r(79098)})},70577:(t,e,r)=>{"use strict";var n=r(27916),i=r(38328),o=r(92067).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},72469:(t,e,r)=>{"use strict";var n=r(27916),i=r(38328),o=r(69494).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},27577:(t,e,r)=>{"use strict";var n=r(27916),i=r(61507).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},18166:(t,e,r)=>{"use strict";var n=r(27916),i=r(95100),o=r(71843),s=r(10402),a=r(69939).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&s(t)?u(a(t)):t}})},26448:(t,e,r)=>{"use strict";var n=r(27916),i=r(71843),o=r(53922),s=r(55043).f,a=r(38328);n({target:"Object",stat:!0,forced:!a||i((function(){s(1)})),sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},51586:(t,e,r)=>{"use strict";var n=r(27916),i=r(38328),o=r(56338),s=r(53922),a=r(55043),u=r(55546);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=s(t),i=a.f,l=o(n),h={},c=0;l.length>c;)void 0!==(r=i(n,e=l[c++]))&&u(h,e,r);return h}})},71474:(t,e,r)=>{"use strict";var n=r(27916),i=r(49920),o=r(71843),s=r(33413),a=r(15238);n({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},86221:(t,e,r)=>{"use strict";var n=r(27916),i=r(71843),o=r(15238),s=r(59668),a=r(84506);n({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},81211:(t,e,r)=>{"use strict";var n=r(27916),i=r(15238),o=r(25500);n({target:"Object",stat:!0,forced:r(71843)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},54354:(t,e,r)=>{"use strict";r(27916)({target:"Object",stat:!0},{setPrototypeOf:r(69051)})},2883:()=>{},7324:(t,e,r)=>{"use strict";var n=r(27916),i=r(61507).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},61257:(t,e,r)=>{"use strict";var n=r(27916),i=r(76318);n({global:!0,forced:parseInt!==i},{parseInt:i})},74755:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(94200),s=r(16454),a=r(21223),u=r(28431);n({target:"Promise",stat:!0,forced:r(57902)},{allSettled:function(t){var e=this,r=s.f(e),n=r.resolve,l=r.reject,h=a((function(){var r=o(e.resolve),s=[],a=0,l=1;u(t,(function(t){var o=a++,u=!1;l++,i(r,e,t).then((function(t){u||(u=!0,s[o]={status:"fulfilled",value:t},--l||n(s))}),(function(t){u||(u=!0,s[o]={status:"rejected",reason:t},--l||n(s))}))})),--l||n(s)}));return h.error&&l(h.value),r.promise}})},75567:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(94200),s=r(16454),a=r(21223),u=r(28431);n({target:"Promise",stat:!0,forced:r(57902)},{all:function(t){var e=this,r=s.f(e),n=r.resolve,l=r.reject,h=a((function(){var r=o(e.resolve),s=[],a=0,h=1;u(t,(function(t){var o=a++,u=!1;h++,i(r,e,t).then((function(t){u||(u=!0,s[o]=t,--h||n(s))}),l)})),--h||n(s)}));return h.error&&l(h.value),r.promise}})},78412:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(94200),s=r(8583),a=r(16454),u=r(21223),l=r(28431),h=r(57902),c="No one promise resolved";n({target:"Promise",stat:!0,forced:h},{any:function(t){var e=this,r=s("AggregateError"),n=a.f(e),h=n.resolve,f=n.reject,d=u((function(){var n=o(e.resolve),s=[],a=0,u=1,d=!1;l(t,(function(t){var o=a++,l=!1;u++,i(n,e,t).then((function(t){l||d||(d=!0,h(t))}),(function(t){l||d||(l=!0,s[o]=t,--u||f(new r(s,c)))}))})),--u||f(new r(s,c))}));return d.error&&f(d.value),n.promise}})},41025:(t,e,r)=>{"use strict";var n=r(27916),i=r(33995),o=r(95483).CONSTRUCTOR,s=r(80939),a=r(8583),u=r(62955),l=r(71516),h=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(s)){var c=a("Promise").prototype.catch;h.catch!==c&&l(h,"catch",c,{unsafe:!0})}},68713:(t,e,r)=>{"use strict";var n,i,o,s=r(27916),a=r(33995),u=r(36982),l=r(65069),h=r(30626),c=r(71516),f=r(69051),d=r(46465),p=r(82494),m=r(94200),g=r(62955),v=r(10402),y=r(64923),w=r(18920),b=r(74760).set,A=r(72080),M=r(14752),_=r(21223),E=r(21788),x=r(18858),S=r(80939),N=r(95483),T=r(16454),R="Promise",C=N.CONSTRUCTOR,I=N.REJECTION_EVENT,P=N.SUBCLASSING,k=x.getterFor(R),O=x.set,U=S&&S.prototype,L=S,B=U,D=l.TypeError,F=l.document,G=l.process,z=T.f,j=z,H=!!(F&&F.createEvent&&l.dispatchEvent),W="unhandledrejection",V=function(t){var e;return!(!v(t)||!g(e=t.then))&&e},q=function(t,e){var r,n,i,o=e.value,s=1===e.state,a=s?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{a?(s||(2===e.rejection&&Q(e),e.rejection=1),!0===a?r=o:(c&&c.enter(),r=a(o),c&&(c.exit(),i=!0)),r===t.promise?l(new D("Promise-chain cycle")):(n=V(r))?h(n,r,u,l):u(r)):l(o)}catch(f){c&&!i&&c.exit(),l(f)}},K=function(t,e){t.notified||(t.notified=!0,A((function(){for(var r,n=t.reactions;r=n.get();)q(r,t);t.notified=!1,e&&!t.rejection&&X(t)})))},J=function(t,e,r){var n,i;H?((n=F.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),l.dispatchEvent(n)):n={promise:e,reason:r},!I&&(i=l["on"+t])?i(n):t===W&&M("Unhandled promise rejection",r)},X=function(t){h(b,l,(function(){var e,r=t.facade,n=t.value;if(Y(t)&&(e=_((function(){u?G.emit("unhandledRejection",n,r):J(W,r,n)})),t.rejection=u||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){h(b,l,(function(){var e=t.facade;u?G.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},Z=function(t,e,r){return function(n){t(e,n,r)}},$=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new D("Promise can't be resolved itself");var n=V(e);n?A((function(){var r={done:!1};try{h(n,e,Z(tt,r,t),Z($,r,t))}catch(i){$(r,i,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(i){$({done:!1},i,t)}}};if(C&&(B=(L=function(t){y(this,B),m(t),h(n,this);var e=k(this);try{t(Z(tt,e),Z($,e))}catch(r){$(e,r)}}).prototype,(n=function(t){O(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=c(B,"then",(function(t,e){var r=k(this),n=z(w(this,L));return r.parent=!0,n.ok=!g(t)||t,n.fail=g(e)&&e,n.domain=u?G.domain:void 0,0===r.state?r.reactions.add(n):A((function(){q(n,r)})),n.promise})),i=function(){var t=new n,e=k(t);this.promise=t,this.resolve=Z(tt,e),this.reject=Z($,e)},T.f=z=function(t){return t===L||undefined===t?new i(t):j(t)},!a&&g(S)&&U!==Object.prototype)){o=U.then,P||c(U,"then",(function(t,e){var r=this;return new L((function(t,e){h(o,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete U.constructor}catch(et){}f&&f(U,B)}s({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:L}),d(L,R,!1,!0),p(R)},13939:(t,e,r)=>{"use strict";var n=r(27916),i=r(33995),o=r(80939),s=r(71843),a=r(8583),u=r(62955),l=r(18920),h=r(54088),c=r(71516),f=o&&o.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,a("Promise")),r=u(t);return this.then(r?function(r){return h(e,t()).then((function(){return r}))}:t,r?function(r){return h(e,t()).then((function(){throw r}))}:t)}}),!i&&u(o)){var d=a("Promise").prototype.finally;f.finally!==d&&c(f,"finally",d,{unsafe:!0})}},37718:(t,e,r)=>{"use strict";r(68713),r(75567),r(41025),r(91296),r(91304),r(37212)},91296:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(94200),s=r(16454),a=r(21223),u=r(28431);n({target:"Promise",stat:!0,forced:r(57902)},{race:function(t){var e=this,r=s.f(e),n=r.reject,l=a((function(){var s=o(e.resolve);u(t,(function(t){i(s,e,t).then(r.resolve,n)}))}));return l.error&&n(l.value),r.promise}})},91304:(t,e,r)=>{"use strict";var n=r(27916),i=r(16454);n({target:"Promise",stat:!0,forced:r(95483).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},37212:(t,e,r)=>{"use strict";var n=r(27916),i=r(8583),o=r(33995),s=r(80939),a=r(95483).CONSTRUCTOR,u=r(54088),l=i("Promise"),h=o&&!a;n({target:"Promise",stat:!0,forced:o||a},{resolve:function(t){return u(h&&this===l?s:this,t)}})},24261:(t,e,r)=>{"use strict";var n=r(27916),i=r(16454);n({target:"Promise",stat:!0},{withResolvers:function(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},3888:(t,e,r)=>{"use strict";var n=r(27916),i=r(8583),o=r(61654),s=r(22363),a=r(35434),u=r(84719),l=r(10402),h=r(79098),c=r(71843),f=i("Reflect","construct"),d=Object.prototype,p=[].push,m=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),g=!c((function(){f((function(){}))})),v=m||g;n({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){a(t),u(e);var r=arguments.length<3?t:a(arguments[2]);if(g&&!m)return f(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return o(p,n,e),new(o(s,t,n))}var i=r.prototype,c=h(l(i)?i:d),v=o(t,c,e);return l(v)?v:c}})},90476:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(10402),s=r(84719),a=r(84926),u=r(55043),l=r(59668);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,h,c=arguments.length<3?e:arguments[2];return s(e)===c?e[r]:(n=u.f(e,r))?a(n)?n.value:void 0===n.get?void 0:i(n.get,c):o(h=l(e))?t(h,r,c):void 0}})},86640:()=>{},1316:()=>{},77643:(t,e,r)=>{"use strict";r(56470)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(98885))},88061:(t,e,r)=>{"use strict";r(77643)},77481:(t,e,r)=>{"use strict";var n=r(27916),i=r(40943),o=r(71156),s=r(7451),a=r(91072),u=r(71316),l=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~l(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},30306:(t,e,r)=>{"use strict";var n=r(27251).charAt,i=r(91072),o=r(18858),s=r(3892),a=r(60528),u="String Iterator",l=o.set,h=o.getterFor(u);s(String,"String",(function(t){l(this,{type:u,string:i(t),index:0})}),(function(){var t,e=h(this),r=e.string,i=e.index;return i>=r.length?a(void 0,!0):(t=n(r,i),e.index+=t.length,a(t,!1))}))},65077:(t,e,r)=>{"use strict";var n=r(27916),i=r(12622).start;n({target:"String",proto:!0,forced:r(55226)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},77898:()=>{},31074:(t,e,r)=>{"use strict";var n=r(27916),i=r(15321),o=r(55043).f,s=r(21678),a=r(91072),u=r(71156),l=r(7451),h=r(71316),c=r(33995),f=i("".slice),d=Math.min,p=h("startsWith");n({target:"String",proto:!0,forced:!(!c&&!p&&!!function(){var t=o(String.prototype,"startsWith");return t&&!t.writable}())&&!p},{startsWith:function(t){var e=a(l(this));u(t);var r=s(d(arguments.length>1?arguments[1]:void 0,e.length)),n=a(t);return f(e,r,r+n.length)===n}})},16257:(t,e,r)=>{"use strict";var n=r(27916),i=r(39450).trim;n({target:"String",proto:!0,forced:r(48294)("trim")},{trim:function(){return i(this)}})},94501:(t,e,r)=>{"use strict";r(44298)("asyncIterator")},84207:(t,e,r)=>{"use strict";var n=r(27916),i=r(65069),o=r(30626),s=r(40943),a=r(33995),u=r(38328),l=r(49920),h=r(71843),c=r(58890),f=r(29746),d=r(84719),p=r(53922),m=r(58536),g=r(91072),v=r(46688),y=r(79098),w=r(25500),b=r(62459),A=r(30748),M=r(33413),_=r(55043),E=r(69494),x=r(92067),S=r(70527),N=r(71516),T=r(143),R=r(26149),C=r(20436),I=r(49451),P=r(11021),k=r(30359),O=r(33610),U=r(44298),L=r(14930),B=r(46465),D=r(18858),F=r(79944).forEach,G=C("hidden"),z="Symbol",j="prototype",H=D.set,W=D.getterFor(z),V=Object[j],q=i.Symbol,K=q&&q[j],J=i.RangeError,X=i.TypeError,Y=i.QObject,Q=_.f,Z=E.f,$=A.f,tt=S.f,et=s([].push),rt=R("symbols"),nt=R("op-symbols"),it=R("wks"),ot=!Y||!Y[j]||!Y[j].findChild,st=function(t,e,r){var n=Q(V,e);n&&delete V[e],Z(t,e,r),n&&t!==V&&Z(V,e,n)},at=u&&h((function(){return 7!==y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?st:Z,ut=function(t,e){var r=rt[t]=y(K);return H(r,{type:z,tag:t,description:e}),u||(r.description=e),r},lt=function(t,e,r){t===V&&lt(nt,e,r),d(t);var n=m(e);return d(r),c(rt,n)?(r.enumerable?(c(t,G)&&t[G][n]&&(t[G][n]=!1),r=y(r,{enumerable:v(0,!1)})):(c(t,G)||Z(t,G,v(1,y(null))),t[G][n]=!0),at(t,n,r)):Z(t,n,r)},ht=function(t,e){d(t);var r=p(e),n=w(r).concat(pt(r));return F(n,(function(e){u&&!o(ct,r,e)||lt(t,e,r[e])})),t},ct=function(t){var e=m(t),r=o(tt,this,e);return!(this===V&&c(rt,e)&&!c(nt,e))&&(!(r||!c(this,e)||!c(rt,e)||c(this,G)&&this[G][e])||r)},ft=function(t,e){var r=p(t),n=m(e);if(r!==V||!c(rt,n)||c(nt,n)){var i=Q(r,n);return!i||!c(rt,n)||c(r,G)&&r[G][n]||(i.enumerable=!0),i}},dt=function(t){var e=$(p(t)),r=[];return F(e,(function(t){c(rt,t)||c(I,t)||et(r,t)})),r},pt=function(t){var e=t===V,r=$(e?nt:p(t)),n=[];return F(r,(function(t){!c(rt,t)||e&&!c(V,t)||et(n,rt[t])})),n};l||(N(K=(q=function(){if(f(K,this))throw new X("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=P(t),r=function(t){var n=void 0===this?i:this;n===V&&o(r,nt,t),c(n,G)&&c(n[G],e)&&(n[G][e]=!1);var s=v(1,t);try{at(n,e,s)}catch(a){if(!(a instanceof J))throw a;st(n,e,s)}};return u&&ot&&at(V,e,{configurable:!0,set:r}),ut(e,t)})[j],"toString",(function(){return W(this).tag})),N(q,"withoutSetter",(function(t){return ut(P(t),t)})),S.f=ct,E.f=lt,x.f=ht,_.f=ft,b.f=A.f=dt,M.f=pt,O.f=function(t){return ut(k(t),t)},u&&(T(K,"description",{configurable:!0,get:function(){return W(this).description}}),a||N(V,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),F(w(it),(function(t){U(t)})),n({target:z,stat:!0,forced:!l},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!u},{create:function(t,e){return void 0===e?y(t):ht(y(t),e)},defineProperty:lt,defineProperties:ht,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:dt}),L(),B(q,z),I[G]=!0},9684:()=>{},3558:(t,e,r)=>{"use strict";var n=r(27916),i=r(8583),o=r(58890),s=r(91072),a=r(26149),u=r(504),l=a("string-to-symbol-registry"),h=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=s(t);if(o(l,e))return l[e];var r=i("Symbol")(e);return l[e]=r,h[r]=e,r}})},8607:(t,e,r)=>{"use strict";r(44298)("hasInstance")},25265:(t,e,r)=>{"use strict";r(44298)("isConcatSpreadable")},19854:(t,e,r)=>{"use strict";r(44298)("iterator")},79838:(t,e,r)=>{"use strict";r(84207),r(3558),r(48625),r(88947),r(71474)},48625:(t,e,r)=>{"use strict";var n=r(27916),i=r(58890),o=r(64550),s=r(49275),a=r(26149),u=r(504),l=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw new TypeError(s(t)+" is not a symbol");if(i(l,t))return l[t]}})},84613:(t,e,r)=>{"use strict";r(44298)("matchAll")},55221:(t,e,r)=>{"use strict";r(44298)("match")},20595:(t,e,r)=>{"use strict";r(44298)("replace")},10117:(t,e,r)=>{"use strict";r(44298)("search")},60689:(t,e,r)=>{"use strict";r(44298)("species")},72487:(t,e,r)=>{"use strict";r(44298)("split")},88913:(t,e,r)=>{"use strict";var n=r(44298),i=r(14930);n("toPrimitive"),i()},89078:(t,e,r)=>{"use strict";var n=r(8583),i=r(44298),o=r(46465);i("toStringTag"),o(n("Symbol"),"Symbol")},4518:(t,e,r)=>{"use strict";r(44298)("unscopables")},85775:(t,e,r)=>{"use strict";var n,i=r(95100),o=r(65069),s=r(40943),a=r(20725),u=r(69939),l=r(56470),h=r(11603),c=r(10402),f=r(18858).enforce,d=r(71843),p=r(42464),m=Object,g=Array.isArray,v=m.isExtensible,y=m.isFrozen,w=m.isSealed,b=m.freeze,A=m.seal,M=!o.ActiveXObject&&"ActiveXObject"in o,_=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},E=l("WeakMap",_,h),x=E.prototype,S=s(x.set);if(p)if(M){n=h.getConstructor(_,"WeakMap",!0),u.enable();var N=s(x.delete),T=s(x.has),R=s(x.get);a(x,{delete:function(t){if(c(t)&&!v(t)){var e=f(this);return e.frozen||(e.frozen=new n),N(this,t)||e.frozen.delete(t)}return N(this,t)},has:function(t){if(c(t)&&!v(t)){var e=f(this);return e.frozen||(e.frozen=new n),T(this,t)||e.frozen.has(t)}return T(this,t)},get:function(t){if(c(t)&&!v(t)){var e=f(this);return e.frozen||(e.frozen=new n),T(this,t)?R(this,t):e.frozen.get(t)}return R(this,t)},set:function(t,e){if(c(t)&&!v(t)){var r=f(this);r.frozen||(r.frozen=new n),T(this,t)?S(this,t,e):r.frozen.set(t,e)}else S(this,t,e);return this}})}else i&&d((function(){var t=b([]);return S(new E,t,1),!y(t)}))&&a(x,{set:function(t,e){var r;return g(t)&&(y(t)?r=b:w(t)&&(r=A)),S(this,t,e),r&&r(t),this}})},96064:(t,e,r)=>{"use strict";r(85775)},20901:(t,e,r)=>{"use strict";r(65905)},17840:(t,e,r)=>{"use strict";var n=r(30359),i=r(69494).f,o=n("metadata"),s=Function.prototype;void 0===s[o]&&i(s,o,{value:null})},78055:(t,e,r)=>{"use strict";var n=r(27916),i=r(82946),o=r(9624).remove;n({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),r=!0,n=0,s=arguments.length;n<s;n++)t=o(e,arguments[n]),r=r&&t;return!!r}})},97507:(t,e,r)=>{"use strict";var n=r(27916),i=r(82946),o=r(9624),s=o.get,a=o.has,u=o.set;n({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,e){var r,n,o=i(this);return a(o,t)?(r=s(o,t),"update"in e&&(r=e.update(r,t,o),u(o,t,r)),r):(n=e.insert(t,o),u(o,t,n),n)}})},505:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(43193);n({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!1!==s(e,(function(t,n){if(!r(t,n,e))return!1}),!0)}})},77183:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(9624),a=r(43193),u=s.Map,l=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new u;return a(e,(function(t,i){r(t,i,e)&&l(n,i,t)})),n}})},80192:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(43193);n({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=s(e,(function(t,n){if(r(t,n,e))return{key:n}}),!0);return n&&n.key}})},5661:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(43193);n({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=s(e,(function(t,n){if(r(t,n,e))return{value:t}}),!0);return n&&n.value}})},83578:(t,e,r)=>{"use strict";var n=r(27916),i=r(9624);n({target:"Map",stat:!0,forced:!0},{from:r(51371)(i.Map,i.set,!0)})},68505:(t,e,r)=>{"use strict";r(49156)},66439:(t,e,r)=>{"use strict";var n=r(27916),i=r(85859),o=r(82946),s=r(43193);n({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===s(o(this),(function(e){if(i(e,t))return!0}),!0)}})},36124:(t,e,r)=>{"use strict";var n=r(27916),i=r(30626),o=r(28431),s=r(62955),a=r(94200),u=r(9624).Map;n({target:"Map",stat:!0,forced:!0},{keyBy:function(t,e){var r=new(s(this)?this:u);a(e);var n=a(r.set);return o(t,(function(t){i(n,r,e(t),t)})),r}})},41528:(t,e,r)=>{"use strict";var n=r(27916),i=r(82946),o=r(43193);n({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=o(i(this),(function(e,r){if(e===t)return{key:r}}),!0);return e&&e.key}})},80448:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(9624),a=r(43193),u=s.Map,l=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new u;return a(e,(function(t,i){l(n,r(t,i,e),t)})),n}})},52944:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(9624),a=r(43193),u=s.Map,l=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new u;return a(e,(function(t,i){l(n,i,r(t,i,e))})),n}})},47223:(t,e,r)=>{"use strict";var n=r(27916),i=r(82946),o=r(28431),s=r(9624).set;n({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var e=i(this),r=arguments.length,n=0;n<r;)o(arguments[n++],(function(t,r){s(e,t,r)}),{AS_ENTRIES:!0});return e}})},45772:(t,e,r)=>{"use strict";var n=r(27916),i=r(9624);n({target:"Map",stat:!0,forced:!0},{of:r(79557)(i.Map,i.set,!0)})},67727:(t,e,r)=>{"use strict";var n=r(27916),i=r(94200),o=r(82946),s=r(43193),a=TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(t),s(e,(function(i,o){r?(r=!1,n=i):n=t(n,i,o,e)})),r)throw new a("Reduce of empty map with no initial value");return n}})},62564:(t,e,r)=>{"use strict";var n=r(27916),i=r(51508),o=r(82946),s=r(43193);n({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!0===s(e,(function(t,n){if(r(t,n,e))return!0}),!0)}})},39653:(t,e,r)=>{"use strict";r(27916)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:r(77278)})},95487:(t,e,r)=>{"use strict";var n=r(27916),i=r(94200),o=r(82946),s=r(9624),a=TypeError,u=s.get,l=s.has,h=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var r=o(this),n=arguments.length;i(e);var s=l(r,t);if(!s&&n<3)throw new a("Updating absent value");var c=s?u(r,t):i(n>2?arguments[2]:void 0)(t,r);return h(r,t,e(c,t,r)),r}})},18399:(t,e,r)=>{"use strict";r(27916)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:r(77278)})},71203:(t,e,r)=>{"use strict";r(74755)},20311:(t,e,r)=>{"use strict";r(78412)},78098:(t,e,r)=>{"use strict";var n=r(27916),i=r(16454),o=r(21223);n({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=i.f(this),r=o(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}})},90654:(t,e,r)=>{"use strict";r(24261)},60863:(t,e,r)=>{"use strict";r(44298)("asyncDispose")},68705:(t,e,r)=>{"use strict";r(44298)("dispose")},78922:(t,e,r)=>{"use strict";r(27916)({target:"Symbol",stat:!0},{isRegisteredSymbol:r(4482)})},22034:(t,e,r)=>{"use strict";r(27916)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:r(4482)})},22347:(t,e,r)=>{"use strict";r(27916)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:r(20112)})},80309:(t,e,r)=>{"use strict";r(27916)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:r(20112)})},39880:(t,e,r)=>{"use strict";r(44298)("matcher")},19177:(t,e,r)=>{"use strict";r(44298)("metadataKey")},13961:(t,e,r)=>{"use strict";r(44298)("metadata")},8368:(t,e,r)=>{"use strict";r(44298)("observable")},38675:(t,e,r)=>{"use strict";r(44298)("patternMatch")},3489:(t,e,r)=>{"use strict";r(44298)("replaceAll")},87049:()=>{},32069:(t,e,r)=>{"use strict";r(26539);var n=r(65044),i=r(65069),o=r(46465),s=r(8239);for(var a in n)o(i[a],a),s[a]=s.Array},99708:(t,e,r)=>{"use strict";var n=r(27916),i=r(65069),o=r(30173)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},12529:(t,e,r)=>{"use strict";var n=r(27916),i=r(65069),o=r(30173)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},88701:(t,e,r)=>{"use strict";r(99708),r(12529)},6171:(t,e,r)=>{"use strict";r(26539);var n=r(27916),i=r(65069),o=r(58430),s=r(30626),a=r(40943),u=r(38328),l=r(45631),h=r(71516),c=r(143),f=r(20725),d=r(46465),p=r(9889),m=r(18858),g=r(64923),v=r(62955),y=r(58890),w=r(51508),b=r(27694),A=r(84719),M=r(10402),_=r(91072),E=r(79098),x=r(46688),S=r(556),N=r(73871),T=r(60528),R=r(49940),C=r(30359),I=r(95122),P=C("iterator"),k="URLSearchParams",O=k+"Iterator",U=m.set,L=m.getterFor(k),B=m.getterFor(O),D=o("fetch"),F=o("Request"),G=o("Headers"),z=F&&F.prototype,j=G&&G.prototype,H=i.RegExp,W=i.TypeError,V=i.decodeURIComponent,q=i.encodeURIComponent,K=a("".charAt),J=a([].join),X=a([].push),Y=a("".replace),Q=a([].shift),Z=a([].splice),$=a("".split),tt=a("".slice),et=/\+/g,rt=Array(4),nt=function(t){return rt[t-1]||(rt[t-1]=H("((?:%[\\da-f]{2}){"+t+"})","gi"))},it=function(t){try{return V(t)}catch(e){return t}},ot=function(t){var e=Y(t,et," "),r=4;try{return V(e)}catch(n){for(;r;)e=Y(e,nt(r--),it);return e}},st=/[!'()~]|%20/g,at={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ut=function(t){return at[t]},lt=function(t){return Y(q(t),st,ut)},ht=p((function(t,e){U(this,{type:O,target:L(t).entries,index:0,kind:e})}),k,(function(){var t=B(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,T(void 0,!0);var n=e[r];switch(t.kind){case"keys":return T(n.key,!1);case"values":return T(n.value,!1)}return T([n.key,n.value],!1)}),!0),ct=function(t){this.entries=[],this.url=null,void 0!==t&&(M(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?tt(t,1):t:_(t)))};ct.prototype={type:k,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,a,u,l=this.entries,h=N(t);if(h)for(r=(e=S(t,h)).next;!(n=s(r,e)).done;){if(o=(i=S(A(n.value))).next,(a=s(o,i)).done||(u=s(o,i)).done||!s(o,i).done)throw new W("Expected sequence with length 2");X(l,{key:_(a.value),value:_(u.value)})}else for(var c in t)y(t,c)&&X(l,{key:c,value:_(t[c])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,i=$(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(r=$(e,"="),X(n,{key:ot(Q(r)),value:ot(J(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],X(r,lt(t.key)+"="+lt(t.value));return J(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ft=function(){g(this,dt);var t=U(this,new ct(arguments.length>0?arguments[0]:void 0));u||(this.size=t.entries.length)},dt=ft.prototype;if(f(dt,{append:function(t,e){var r=L(this);R(arguments.length,2),X(r.entries,{key:_(t),value:_(e)}),u||this.length++,r.updateURL()},delete:function(t){for(var e=L(this),r=R(arguments.length,1),n=e.entries,i=_(t),o=r<2?void 0:arguments[1],s=void 0===o?o:_(o),a=0;a<n.length;){var l=n[a];if(l.key!==i||void 0!==s&&l.value!==s)a++;else if(Z(n,a,1),void 0!==s)break}u||(this.size=n.length),e.updateURL()},get:function(t){var e=L(this).entries;R(arguments.length,1);for(var r=_(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=L(this).entries;R(arguments.length,1);for(var r=_(t),n=[],i=0;i<e.length;i++)e[i].key===r&&X(n,e[i].value);return n},has:function(t){for(var e=L(this).entries,r=R(arguments.length,1),n=_(t),i=r<2?void 0:arguments[1],o=void 0===i?i:_(i),s=0;s<e.length;){var a=e[s++];if(a.key===n&&(void 0===o||a.value===o))return!0}return!1},set:function(t,e){var r=L(this);R(arguments.length,1);for(var n,i=r.entries,o=!1,s=_(t),a=_(e),l=0;l<i.length;l++)(n=i[l]).key===s&&(o?Z(i,l--,1):(o=!0,n.value=a));o||X(i,{key:s,value:a}),u||(this.size=i.length),r.updateURL()},sort:function(){var t=L(this);I(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=L(this).entries,n=w(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new ht(this,"keys")},values:function(){return new ht(this,"values")},entries:function(){return new ht(this,"entries")}},{enumerable:!0}),h(dt,P,dt.entries,{name:"entries"}),h(dt,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),u&&c(dt,"size",{get:function(){return L(this).entries.length},configurable:!0,enumerable:!0}),d(ft,k),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:ft}),!l&&v(G)){var pt=a(j.has),mt=a(j.set),gt=function(t){if(M(t)){var e,r=t.body;if(b(r)===k)return e=t.headers?new G(t.headers):new G,pt(e,"content-type")||mt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(t,{body:x(0,_(r)),headers:x(0,e)})}return t};if(v(D)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return D(t,arguments.length>1?gt(arguments[1]):{})}}),v(F)){var vt=function(t){return g(this,z),new F(t,arguments.length>1?gt(arguments[1]):{})};z.constructor=vt,vt.prototype=z,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vt})}}t.exports={URLSearchParams:ft,getState:L}},29610:()=>{},16206:()=>{},19374:(t,e,r)=>{"use strict";r(6171)},98800:()=>{},91766:(t,e,r)=>{"use strict";var n=r(27916),i=r(8583),o=r(71843),s=r(49940),a=r(91072),u=r(45631),l=i("URL");n({target:"URL",stat:!0,forced:!(u&&o((function(){l.canParse()})))},{canParse:function(t){var e=s(arguments.length,1),r=a(t),n=e<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new l(r,n)}catch(i){return!1}}})},41140:(t,e,r)=>{"use strict";r(30306);var n,i=r(27916),o=r(38328),s=r(45631),a=r(65069),u=r(51508),l=r(40943),h=r(71516),c=r(143),f=r(64923),d=r(58890),p=r(52707),m=r(75624),g=r(32637),v=r(27251).codeAt,y=r(11117),w=r(91072),b=r(46465),A=r(49940),M=r(6171),_=r(18858),E=_.set,x=_.getterFor("URL"),S=M.URLSearchParams,N=M.getState,T=a.URL,R=a.TypeError,C=a.parseInt,I=Math.floor,P=Math.pow,k=l("".charAt),O=l(/./.exec),U=l([].join),L=l(1..toString),B=l([].pop),D=l([].push),F=l("".replace),G=l([].shift),z=l("".split),j=l("".slice),H=l("".toLowerCase),W=l([].unshift),V="Invalid scheme",q="Invalid host",K="Invalid port",J=/[a-z]/i,X=/[\d+-.a-z]/i,Y=/\d/,Q=/^0x/i,Z=/^[0-7]+$/,$=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ot=/[\t\n\r]/g,st=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)W(e,t%256),t=I(t/256);return U(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=L(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},at={},ut=p({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=p({},ut,{"#":1,"?":1,"{":1,"}":1}),ht=p({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ct=function(t,e){var r=v(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var r;return 2===t.length&&O(J,k(t,0))&&(":"===(r=k(t,1))||!e&&"|"===r)},pt=function(t){var e;return t.length>1&&dt(j(t,0,2))&&(2===t.length||"/"===(e=k(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){return"."===t||"%2e"===H(t)},gt={},vt={},yt={},wt={},bt={},At={},Mt={},_t={},Et={},xt={},St={},Nt={},Tt={},Rt={},Ct={},It={},Pt={},kt={},Ot={},Ut={},Lt={},Bt=function(t,e,r){var n,i,o,s=w(t);if(e){if(i=this.parse(s))throw new R(i);this.searchParams=null}else{if(void 0!==r&&(n=new Bt(r,!0)),i=this.parse(s,null,n))throw new R(i);(o=N(new S)).bindURL(this),this.searchParams=o}};Bt.prototype={type:"URL",parse:function(t,e,r){var i,o,s,a,u,l=this,h=e||gt,c=0,f="",p=!1,v=!1,y=!1;for(t=w(t),e||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=F(t,nt,""),t=F(t,it,"$1")),t=F(t,ot,""),i=m(t);c<=i.length;){switch(o=i[c],h){case gt:if(!o||!O(J,o)){if(e)return V;h=yt;continue}f+=H(o),h=vt;break;case vt:if(o&&(O(X,o)||"+"===o||"-"===o||"."===o))f+=H(o);else{if(":"!==o){if(e)return V;f="",h=yt,c=0;continue}if(e&&(l.isSpecial()!==d(ft,f)||"file"===f&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=f,e)return void(l.isSpecial()&&ft[l.scheme]===l.port&&(l.port=null));f="","file"===l.scheme?h=Rt:l.isSpecial()&&r&&r.scheme===l.scheme?h=wt:l.isSpecial()?h=_t:"/"===i[c+1]?(h=bt,c++):(l.cannotBeABaseURL=!0,D(l.path,""),h=Ot)}break;case yt:if(!r||r.cannotBeABaseURL&&"#"!==o)return V;if(r.cannotBeABaseURL&&"#"===o){l.scheme=r.scheme,l.path=g(r.path),l.query=r.query,l.fragment="",l.cannotBeABaseURL=!0,h=Lt;break}h="file"===r.scheme?Rt:At;continue;case wt:if("/"!==o||"/"!==i[c+1]){h=At;continue}h=Et,c++;break;case bt:if("/"===o){h=xt;break}h=kt;continue;case At:if(l.scheme=r.scheme,o===n)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=g(r.path),l.query=r.query;else if("/"===o||"\\"===o&&l.isSpecial())h=Mt;else if("?"===o)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=g(r.path),l.query="",h=Ut;else{if("#"!==o){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=g(r.path),l.path.length--,h=kt;continue}l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=g(r.path),l.query=r.query,l.fragment="",h=Lt}break;case Mt:if(!l.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,h=kt;continue}h=xt}else h=Et;break;case _t:if(h=Et,"/"!==o||"/"!==k(f,c+1))continue;c++;break;case Et:if("/"!==o&&"\\"!==o){h=xt;continue}break;case xt:if("@"===o){p&&(f="%40"+f),p=!0,s=m(f);for(var b=0;b<s.length;b++){var A=s[b];if(":"!==A||y){var M=ct(A,ht);y?l.password+=M:l.username+=M}else y=!0}f=""}else if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()){if(p&&""===f)return"Invalid authority";c-=m(f).length+1,f="",h=St}else f+=o;break;case St:case Nt:if(e&&"file"===l.scheme){h=It;continue}if(":"!==o||v){if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()){if(l.isSpecial()&&""===f)return q;if(e&&""===f&&(l.includesCredentials()||null!==l.port))return;if(a=l.parseHost(f))return a;if(f="",h=Pt,e)return;continue}"["===o?v=!0:"]"===o&&(v=!1),f+=o}else{if(""===f)return q;if(a=l.parseHost(f))return a;if(f="",h=Tt,e===Nt)return}break;case Tt:if(!O(Y,o)){if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()||e){if(""!==f){var _=C(f,10);if(_>65535)return K;l.port=l.isSpecial()&&_===ft[l.scheme]?null:_,f=""}if(e)return;h=Pt;continue}return K}f+=o;break;case Rt:if(l.scheme="file","/"===o||"\\"===o)h=Ct;else{if(!r||"file"!==r.scheme){h=kt;continue}switch(o){case n:l.host=r.host,l.path=g(r.path),l.query=r.query;break;case"?":l.host=r.host,l.path=g(r.path),l.query="",h=Ut;break;case"#":l.host=r.host,l.path=g(r.path),l.query=r.query,l.fragment="",h=Lt;break;default:pt(U(g(i,c),""))||(l.host=r.host,l.path=g(r.path),l.shortenPath()),h=kt;continue}}break;case Ct:if("/"===o||"\\"===o){h=It;break}r&&"file"===r.scheme&&!pt(U(g(i,c),""))&&(dt(r.path[0],!0)?D(l.path,r.path[0]):l.host=r.host),h=kt;continue;case It:if(o===n||"/"===o||"\\"===o||"?"===o||"#"===o){if(!e&&dt(f))h=kt;else if(""===f){if(l.host="",e)return;h=Pt}else{if(a=l.parseHost(f))return a;if("localhost"===l.host&&(l.host=""),e)return;f="",h=Pt}continue}f+=o;break;case Pt:if(l.isSpecial()){if(h=kt,"/"!==o&&"\\"!==o)continue}else if(e||"?"!==o)if(e||"#"!==o){if(o!==n&&(h=kt,"/"!==o))continue}else l.fragment="",h=Lt;else l.query="",h=Ut;break;case kt:if(o===n||"/"===o||"\\"===o&&l.isSpecial()||!e&&("?"===o||"#"===o)){if(".."===(u=H(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(l.shortenPath(),"/"===o||"\\"===o&&l.isSpecial()||D(l.path,"")):mt(f)?"/"===o||"\\"===o&&l.isSpecial()||D(l.path,""):("file"===l.scheme&&!l.path.length&&dt(f)&&(l.host&&(l.host=""),f=k(f,0)+":"),D(l.path,f)),f="","file"===l.scheme&&(o===n||"?"===o||"#"===o))for(;l.path.length>1&&""===l.path[0];)G(l.path);"?"===o?(l.query="",h=Ut):"#"===o&&(l.fragment="",h=Lt)}else f+=ct(o,lt);break;case Ot:"?"===o?(l.query="",h=Ut):"#"===o?(l.fragment="",h=Lt):o!==n&&(l.path[0]+=ct(o,at));break;case Ut:e||"#"!==o?o!==n&&("'"===o&&l.isSpecial()?l.query+="%27":l.query+="#"===o?"%23":ct(o,at)):(l.fragment="",h=Lt);break;case Lt:o!==n&&(l.fragment+=ct(o,ut))}c++}},parseHost:function(t){var e,r,n;if("["===k(t,0)){if("]"!==k(t,t.length-1))return q;if(e=function(t){var e,r,n,i,o,s,a,u=[0,0,0,0,0,0,0,0],l=0,h=null,c=0,f=function(){return k(t,c)};if(":"===f()){if(":"!==k(t,1))return;c+=2,h=++l}for(;f();){if(8===l)return;if(":"!==f()){for(e=r=0;r<4&&O(tt,f());)e=16*e+C(f(),16),c++,r++;if("."===f()){if(0===r)return;if(c-=r,l>6)return;for(n=0;f();){if(i=null,n>0){if(!("."===f()&&n<4))return;c++}if(!O(Y,f()))return;for(;O(Y,f());){if(o=C(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;c++}u[l]=256*u[l]+i,2!==++n&&4!==n||l++}if(4!==n)return;break}if(":"===f()){if(c++,!f())return}else if(f())return;u[l++]=e}else{if(null!==h)return;c++,h=++l}}if(null!==h)for(s=l-h,l=7;0!==l&&s>0;)a=u[l],u[l--]=u[h+s-1],u[h+--s]=a;else if(8!==l)return;return u}(j(t,1,-1)),!e)return q;this.host=e}else if(this.isSpecial()){if(t=y(t),O(et,t))return q;if(e=function(t){var e,r,n,i,o,s,a,u=z(t,".");if(u.length&&""===u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(i=u[n]))return t;if(o=10,i.length>1&&"0"===k(i,0)&&(o=O(Q,i)?16:8,i=j(i,8===o?1:2)),""===i)s=0;else{if(!O(10===o?$:8===o?Z:tt,i))return t;s=C(i,o)}D(r,s)}for(n=0;n<e;n++)if(s=r[n],n===e-1){if(s>=P(256,5-e))return null}else if(s>255)return null;for(a=B(r),n=0;n<r.length;n++)a+=r[n]*P(256,3-n);return a}(t),null===e)return q;this.host=e}else{if(O(rt,t))return q;for(e="",r=m(t),n=0;n<r.length;n++)e+=ct(r[n],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,s=t.path,a=t.query,u=t.fragment,l=e+":";return null!==i?(l+="//",t.includesCredentials()&&(l+=r+(n?":"+n:"")+"@"),l+=st(i),null!==o&&(l+=":"+o)):"file"===e&&(l+="//"),l+=t.cannotBeABaseURL?s[0]:s.length?"/"+U(s,"/"):"",null!==a&&(l+="?"+a),null!==u&&(l+="#"+u),l},setHref:function(t){var e=this.parse(t);if(e)throw new R(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Dt(t.path[0]).origin}catch(r){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+st(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(w(t)+":",gt)},getUsername:function(){return this.username},setUsername:function(t){var e=m(w(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ct(e[r],ht)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(w(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ct(e[r],ht)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?st(t):st(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,St)},getHostname:function(){var t=this.host;return null===t?"":st(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Nt)},getPort:function(){var t=this.port;return null===t?"":w(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=w(t))?this.port=null:this.parse(t,Tt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+U(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Pt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=w(t))?this.query=null:("?"===k(t,0)&&(t=j(t,1)),this.query="",this.parse(t,Ut)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=w(t))?("#"===k(t,0)&&(t=j(t,1)),this.fragment="",this.parse(t,Lt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Dt=function(t){var e=f(this,Ft),r=A(arguments.length,1)>1?arguments[1]:void 0,n=E(e,new Bt(t,!1,r));o||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Ft=Dt.prototype,Gt=function(t,e){return{get:function(){return x(this)[t]()},set:e&&function(t){return x(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(c(Ft,"href",Gt("serialize","setHref")),c(Ft,"origin",Gt("getOrigin")),c(Ft,"protocol",Gt("getProtocol","setProtocol")),c(Ft,"username",Gt("getUsername","setUsername")),c(Ft,"password",Gt("getPassword","setPassword")),c(Ft,"host",Gt("getHost","setHost")),c(Ft,"hostname",Gt("getHostname","setHostname")),c(Ft,"port",Gt("getPort","setPort")),c(Ft,"pathname",Gt("getPathname","setPathname")),c(Ft,"search",Gt("getSearch","setSearch")),c(Ft,"searchParams",Gt("getSearchParams")),c(Ft,"hash",Gt("getHash","setHash"))),h(Ft,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),h(Ft,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),T){var zt=T.createObjectURL,jt=T.revokeObjectURL;zt&&h(Dt,"createObjectURL",u(zt,T)),jt&&h(Dt,"revokeObjectURL",u(jt,T))}b(Dt,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!o},{URL:Dt})},87072:(t,e,r)=>{"use strict";r(41140)},93223:()=>{},84666:(t,e,r)=>{"use strict";var n=r(38241);t.exports=n},26355:(t,e,r)=>{"use strict";var n=r(18705);t.exports=n},53960:(t,e,r)=>{"use strict";var n=r(26536);t.exports=n},78023:(t,e,r)=>{"use strict";var n=r(32742);t.exports=n},84573:(t,e,r)=>{"use strict";var n=r(53405);t.exports=n},19427:(t,e,r)=>{"use strict";var n=r(74334);t.exports=n},72794:(t,e,r)=>{"use strict";var n=r(84145);r(32069),t.exports=n},15906:(t,e,r)=>{"use strict";var n=r(42108);t.exports=n},73478:(t,e,r)=>{"use strict";var n=r(43414);t.exports=n},22668:(t,e,r)=>{"use strict";r(32069);var n=r(27694),i=r(58890),o=r(29746),s=r(53960),a=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===a||o(a,t)&&e===a.entries||i(u,n(t))?s:e}},38119:(t,e,r)=>{"use strict";var n=r(52888);t.exports=n},31030:(t,e,r)=>{"use strict";var n=r(83766);t.exports=n},51017:(t,e,r)=>{"use strict";var n=r(63122);t.exports=n},90337:(t,e,r)=>{"use strict";var n=r(27694),i=r(58890),o=r(29746),s=r(78023);r(87049);var a=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===a||o(a,t)&&e===a.forEach||i(u,n(t))?s:e}},93045:(t,e,r)=>{"use strict";var n=r(69082);t.exports=n},80036:(t,e,r)=>{"use strict";var n=r(39257);t.exports=n},78064:(t,e,r)=>{"use strict";r(32069);var n=r(27694),i=r(58890),o=r(29746),s=r(84573),a=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===a||o(a,t)&&e===a.keys||i(u,n(t))?s:e}},40021:(t,e,r)=>{"use strict";var n=r(33706);t.exports=n},79577:(t,e,r)=>{"use strict";var n=r(40881);t.exports=n},48829:(t,e,r)=>{"use strict";var n=r(87240);t.exports=n},1910:(t,e,r)=>{"use strict";var n=r(95522);t.exports=n},74219:(t,e,r)=>{"use strict";var n=r(38477);t.exports=n},49460:(t,e,r)=>{"use strict";var n=r(32579);t.exports=n},9950:(t,e,r)=>{"use strict";var n=r(27844);t.exports=n},10314:(t,e,r)=>{"use strict";var n=r(52811);t.exports=n},43851:(t,e,r)=>{"use strict";r(32069);var n=r(27694),i=r(58890),o=r(29746),s=r(19427),a=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.values;return t===a||o(a,t)&&e===a.values||i(u,n(t))?s:e}},41371:(t,e,r)=>{"use strict";var n=r(11249);t.exports=n},69718:(t,e,r)=>{"use strict";var n=r(19288);r(32069),t.exports=n},98081:(t,e,r)=>{"use strict";var n=r(29533);t.exports=n},58405:(t,e,r)=>{"use strict";var n=r(56648);t.exports=n},36317:(t,e,r)=>{"use strict";var n=r(74806);t.exports=n},398:(t,e,r)=>{"use strict";var n=r(92933);t.exports=n},48675:(t,e,r)=>{"use strict";var n=r(23145);t.exports=n},86723:(t,e,r)=>{"use strict";var n=r(46862);t.exports=n},65574:(t,e,r)=>{"use strict";var n=r(4149);t.exports=n},29568:(t,e,r)=>{"use strict";var n=r(42306);t.exports=n},86282:(t,e,r)=>{"use strict";var n=r(31690);t.exports=n},28036:(t,e,r)=>{"use strict";var n=r(41228);t.exports=n},54613:(t,e,r)=>{"use strict";var n=r(90392);t.exports=n},1845:(t,e,r)=>{"use strict";var n=r(1585);t.exports=n},19159:(t,e,r)=>{"use strict";var n=r(86269);t.exports=n},70900:(t,e,r)=>{"use strict";var n=r(33565);t.exports=n},1533:(t,e,r)=>{"use strict";var n=r(92003);t.exports=n},28386:(t,e,r)=>{"use strict";var n=r(58640);r(32069),t.exports=n},64814:(t,e,r)=>{"use strict";var n=r(75574);t.exports=n},91326:(t,e,r)=>{"use strict";var n=r(58780);t.exports=n},52795:(t,e,r)=>{"use strict";r(88701);var n=r(47639);t.exports=n.setTimeout},48370:(t,e,r)=>{"use strict";var n=r(66471);r(32069),t.exports=n},78362:(t,e,r)=>{"use strict";var n=r(36710);r(32069),t.exports=n},61033:(t,e,r)=>{"use strict";var n=r(24380);r(32069),t.exports=n},59005:(t,e,r)=>{"use strict";var n=r(26861);t.exports=n},20547:(t,e,r)=>{"use strict";var n=r(76680);t.exports=n},34850:(t,e,r)=>{"use strict";var n=r(65934);r(32069),t.exports=n},71984:(t,e,r)=>{"use strict";r(19374),r(29610),r(16206),r(98800);var n=r(47639);t.exports=n.URLSearchParams},76680:(t,e,r)=>{"use strict";r(71984),r(87072),r(91766),r(93223);var n=r(47639);t.exports=n.URL}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.amdO={},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,r.d(o,s),o}})(),r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r.p="/",(()=>{"use strict";var t={};r.r(t),r.d(t,{ACESFilmicToneMapping:()=>Mu,AddEquation:()=>za,AddOperation:()=>vu,AdditiveAnimationBlendMode:()=>rh,AdditiveBlending:()=>Ba,AgXToneMapping:()=>Eu,AlphaFormat:()=>nl,AlwaysCompare:()=>Wh,AlwaysDepth:()=>uu,AlwaysStencilFunc:()=>Lh,AmbientLight:()=>TA,AnimationAction:()=>vM,AnimationClip:()=>Zb,AnimationLoader:()=>aA,AnimationMixer:()=>wM,AnimationObjectGroup:()=>gM,AnimationUtils:()=>Fb,ArcCurve:()=>nw,ArrayCamera:()=>lv,ArrowHelper:()=>h_,AttachedBindMode:()=>xu,Audio:()=>eM,AudioAnalyser:()=>aM,AudioContext:()=>jA,AudioListener:()=>tM,AudioLoader:()=>HA,AxesHelper:()=>c_,BackSide:()=>ka,BasicDepthPacking:()=>uh,BasicShadowMap:()=>Ta,BatchedMesh:()=>Cy,Bone:()=>ty,BooleanKeyframeTrack:()=>Vb,Box2:()=>IM,Box3:()=>ef,Box3Helper:()=>o_,BoxGeometry:()=>fp,BoxHelper:()=>i_,BufferAttribute:()=>Td,BufferGeometry:()=>qd,BufferGeometryLoader:()=>UA,ByteType:()=>Ku,Cache:()=>tA,Camera:()=>yp,CameraHelper:()=>e_,CanvasTexture:()=>tw,CapsuleGeometry:()=>Ew,CatmullRomCurve3:()=>lw,CineonToneMapping:()=>Au,CircleGeometry:()=>xw,ClampToEdgeWrapping:()=>Ou,Clock:()=>JA,Color:()=>gd,ColorKeyframeTrack:()=>qb,ColorManagement:()=>kc,CompressedArrayTexture:()=>Zy,CompressedCubeTexture:()=>$y,CompressedTexture:()=>Qy,CompressedTextureLoader:()=>uA,ConeGeometry:()=>Nw,ConstantAlphaFactor:()=>ou,ConstantColorFactor:()=>nu,CubeCamera:()=>Ep,CubeReflectionMapping:()=>Tu,CubeRefractionMapping:()=>Ru,CubeTexture:()=>xp,CubeTextureLoader:()=>hA,CubeUVReflectionMapping:()=>Pu,CubicBezierCurve:()=>dw,CubicBezierCurve3:()=>pw,CubicInterpolant:()=>zb,CullFaceBack:()=>xa,CullFaceFront:()=>Sa,CullFaceFrontBack:()=>Na,CullFaceNone:()=>Ea,Curve:()=>ew,CurvePath:()=>Aw,CustomBlending:()=>Ga,CustomToneMapping:()=>_u,CylinderGeometry:()=>Sw,Cylindrical:()=>RM,Data3DTexture:()=>Jc,DataArrayTexture:()=>qc,DataTexture:()=>ey,DataTextureLoader:()=>cA,DataUtils:()=>xd,DecrementStencilOp:()=>xh,DecrementWrapStencilOp:()=>Nh,DefaultLoadingManager:()=>rA,DepthFormat:()=>al,DepthStencilFormat:()=>ul,DepthTexture:()=>ym,DetachedBindMode:()=>Su,DirectionalLight:()=>NA,DirectionalLightHelper:()=>ZM,DiscreteInterpolant:()=>Hb,DisplayP3ColorSpace:()=>mh,DodecahedronGeometry:()=>Rw,DoubleSide:()=>Oa,DstAlphaFactor:()=>Za,DstColorFactor:()=>tu,DynamicCopyUsage:()=>Zh,DynamicDrawUsage:()=>qh,DynamicReadUsage:()=>Xh,EdgesGeometry:()=>Ow,EllipseCurve:()=>rw,EqualCompare:()=>Fh,EqualDepth:()=>cu,EqualStencilFunc:()=>Ih,EquirectangularReflectionMapping:()=>Cu,EquirectangularRefractionMapping:()=>Iu,Euler:()=>Ff,EventDispatcher:()=>oc,ExtrudeGeometry:()=>hb,FileLoader:()=>sA,Float16BufferAttribute:()=>Ld,Float32BufferAttribute:()=>Bd,Float64BufferAttribute:()=>Dd,FloatType:()=>Zu,Fog:()=>bv,FogExp2:()=>wv,FramebufferTexture:()=>Yy,FrontSide:()=>Pa,Frustum:()=>kp,GLBufferAttribute:()=>EM,GLSL1:()=>tc,GLSL3:()=>ec,GreaterCompare:()=>zh,GreaterDepth:()=>du,GreaterEqualCompare:()=>Hh,GreaterEqualDepth:()=>fu,GreaterEqualStencilFunc:()=>Uh,GreaterStencilFunc:()=>kh,GridHelper:()=>KM,Group:()=>hv,HalfFloatType:()=>$u,HemisphereLight:()=>pA,HemisphereLightHelper:()=>qM,IcosahedronGeometry:()=>fb,ImageBitmapLoader:()=>GA,ImageLoader:()=>lA,ImageUtils:()=>Bc,IncrementStencilOp:()=>Eh,IncrementWrapStencilOp:()=>Sh,InstancedBufferAttribute:()=>oy,InstancedBufferGeometry:()=>OA,InstancedInterleavedBuffer:()=>_M,InstancedMesh:()=>dy,Int16BufferAttribute:()=>Pd,Int32BufferAttribute:()=>Od,Int8BufferAttribute:()=>Rd,IntType:()=>Yu,InterleavedBuffer:()=>Mv,InterleavedBufferAttribute:()=>Ev,Interpolant:()=>Gb,InterpolateDiscrete:()=>Xl,InterpolateLinear:()=>Yl,InterpolateSmooth:()=>Ql,InvertStencilOp:()=>Th,KeepStencilOp:()=>Mh,KeyframeTrack:()=>Wb,LOD:()=>Hv,LatheGeometry:()=>_w,Layers:()=>Gf,LessCompare:()=>Dh,LessDepth:()=>lu,LessEqualCompare:()=>Gh,LessEqualDepth:()=>hu,LessEqualStencilFunc:()=>Ph,LessStencilFunc:()=>Ch,Light:()=>dA,LightProbe:()=>IA,Line:()=>By,Line3:()=>OM,LineBasicMaterial:()=>Iy,LineCurve:()=>mw,LineCurve3:()=>gw,LineDashedMaterial:()=>kb,LineLoop:()=>zy,LineSegments:()=>Gy,LinearDisplayP3ColorSpace:()=>gh,LinearEncoding:()=>sh,LinearFilter:()=>zu,LinearInterpolant:()=>jb,LinearMipMapLinearFilter:()=>Vu,LinearMipMapNearestFilter:()=>Hu,LinearMipmapLinearFilter:()=>Wu,LinearMipmapNearestFilter:()=>ju,LinearSRGBColorSpace:()=>ph,LinearToneMapping:()=>wu,LinearTransfer:()=>vh,Loader:()=>nA,LoaderUtils:()=>kA,LoadingManager:()=>eA,LoopOnce:()=>ql,LoopPingPong:()=>Jl,LoopRepeat:()=>Kl,LuminanceAlphaFormat:()=>sl,LuminanceFormat:()=>ol,MOUSE:()=>Ma,Material:()=>wd,MaterialLoader:()=>PA,MathUtils:()=>yc,Matrix3:()=>bc,Matrix4:()=>Rf,MaxEquation:()=>Va,Mesh:()=>hp,MeshBasicMaterial:()=>bd,MeshDepthMaterial:()=>nv,MeshDistanceMaterial:()=>iv,MeshLambertMaterial:()=>Ib,MeshMatcapMaterial:()=>Pb,MeshNormalMaterial:()=>Cb,MeshPhongMaterial:()=>Tb,MeshPhysicalMaterial:()=>Nb,MeshStandardMaterial:()=>Sb,MeshToonMaterial:()=>Rb,MinEquation:()=>Wa,MirroredRepeatWrapping:()=>Uu,MixOperation:()=>gu,MultiplyBlending:()=>Fa,MultiplyOperation:()=>mu,NearestFilter:()=>Lu,NearestMipMapLinearFilter:()=>Gu,NearestMipMapNearestFilter:()=>Du,NearestMipmapLinearFilter:()=>Fu,NearestMipmapNearestFilter:()=>Bu,NeverCompare:()=>Bh,NeverDepth:()=>au,NeverStencilFunc:()=>Rh,NoBlending:()=>Ua,NoColorSpace:()=>fh,NoToneMapping:()=>yu,NormalAnimationBlendMode:()=>eh,NormalBlending:()=>La,NotEqualCompare:()=>jh,NotEqualDepth:()=>pu,NotEqualStencilFunc:()=>Oh,NumberKeyframeTrack:()=>Kb,Object3D:()=>td,ObjectLoader:()=>LA,ObjectSpaceNormalMap:()=>ch,OctahedronGeometry:()=>db,OneFactor:()=>Ka,OneMinusConstantAlphaFactor:()=>su,OneMinusConstantColorFactor:()=>iu,OneMinusDstAlphaFactor:()=>$a,OneMinusDstColorFactor:()=>eu,OneMinusSrcAlphaFactor:()=>Qa,OneMinusSrcColorFactor:()=>Xa,OrthographicCamera:()=>Kp,P3Primaries:()=>bh,PCFShadowMap:()=>Ra,PCFSoftShadowMap:()=>Ca,PMREMGenerator:()=>im,Path:()=>Mw,PerspectiveCamera:()=>Mp,Plane:()=>Cp,PlaneGeometry:()=>Lp,PlaneHelper:()=>s_,PointLight:()=>xA,PointLightHelper:()=>jM,Points:()=>Ky,PointsMaterial:()=>jy,PolarGridHelper:()=>JM,PolyhedronGeometry:()=>Tw,PositionalAudio:()=>sM,PropertyBinding:()=>mM,PropertyMixer:()=>uM,QuadraticBezierCurve:()=>vw,QuadraticBezierCurve3:()=>yw,Quaternion:()=>Qc,QuaternionKeyframeTrack:()=>Xb,QuaternionLinearInterpolant:()=>Jb,RED_GREEN_RGTC2_Format:()=>Wl,RED_RGTC1_Format:()=>jl,REVISION:()=>Aa,RGBADepthPacking:()=>lh,RGBAFormat:()=>il,RGBAIntegerFormat:()=>dl,RGBA_ASTC_10x10_Format:()=>Ll,RGBA_ASTC_10x5_Format:()=>kl,RGBA_ASTC_10x6_Format:()=>Ol,RGBA_ASTC_10x8_Format:()=>Ul,RGBA_ASTC_12x10_Format:()=>Bl,RGBA_ASTC_12x12_Format:()=>Dl,RGBA_ASTC_4x4_Format:()=>xl,RGBA_ASTC_5x4_Format:()=>Sl,RGBA_ASTC_5x5_Format:()=>Nl,RGBA_ASTC_6x5_Format:()=>Tl,RGBA_ASTC_6x6_Format:()=>Rl,RGBA_ASTC_8x5_Format:()=>Cl,RGBA_ASTC_8x6_Format:()=>Il,RGBA_ASTC_8x8_Format:()=>Pl,RGBA_BPTC_Format:()=>Fl,RGBA_ETC2_EAC_Format:()=>El,RGBA_PVRTC_2BPPV1_Format:()=>Al,RGBA_PVRTC_4BPPV1_Format:()=>bl,RGBA_S3TC_DXT1_Format:()=>ml,RGBA_S3TC_DXT3_Format:()=>gl,RGBA_S3TC_DXT5_Format:()=>vl,RGB_BPTC_SIGNED_Format:()=>Gl,RGB_BPTC_UNSIGNED_Format:()=>zl,RGB_ETC1_Format:()=>Ml,RGB_ETC2_Format:()=>_l,RGB_PVRTC_2BPPV1_Format:()=>wl,RGB_PVRTC_4BPPV1_Format:()=>yl,RGB_S3TC_DXT1_Format:()=>pl,RGFormat:()=>cl,RGIntegerFormat:()=>fl,RawShaderMaterial:()=>xb,Ray:()=>Tf,Raycaster:()=>xM,Rec709Primaries:()=>wh,RectAreaLight:()=>RA,RedFormat:()=>ll,RedIntegerFormat:()=>hl,ReinhardToneMapping:()=>bu,RenderTarget:()=>Wc,RepeatWrapping:()=>ku,ReplaceStencilOp:()=>_h,ReverseSubtractEquation:()=>Ha,RingGeometry:()=>pb,SIGNED_RED_GREEN_RGTC2_Format:()=>Vl,SIGNED_RED_RGTC1_Format:()=>Hl,SRGBColorSpace:()=>dh,SRGBTransfer:()=>yh,Scene:()=>Av,ShaderChunk:()=>Bp,ShaderLib:()=>Fp,ShaderMaterial:()=>vp,ShadowMaterial:()=>Eb,Shape:()=>Uw,ShapeGeometry:()=>mb,ShapePath:()=>f_,ShapeUtils:()=>ab,ShortType:()=>Ju,Skeleton:()=>iy,SkeletonHelper:()=>GM,SkinnedMesh:()=>$v,Source:()=>Fc,Sphere:()=>bf,SphereGeometry:()=>gb,Spherical:()=>TM,SphericalHarmonics3:()=>CA,SplineCurve:()=>ww,SpotLight:()=>bA,SpotLightHelper:()=>LM,Sprite:()=>Fv,SpriteMaterial:()=>xv,SrcAlphaFactor:()=>Ya,SrcAlphaSaturateFactor:()=>ru,SrcColorFactor:()=>Ja,StaticCopyUsage:()=>Qh,StaticDrawUsage:()=>Vh,StaticReadUsage:()=>Jh,StereoCamera:()=>KA,StreamCopyUsage:()=>$h,StreamDrawUsage:()=>Kh,StreamReadUsage:()=>Yh,StringKeyframeTrack:()=>Yb,SubtractEquation:()=>ja,SubtractiveBlending:()=>Da,TOUCH:()=>_a,TangentSpaceNormalMap:()=>hh,TetrahedronGeometry:()=>vb,Texture:()=>jc,TextureLoader:()=>fA,TorusGeometry:()=>yb,TorusKnotGeometry:()=>wb,Triangle:()=>cd,TriangleFanDrawMode:()=>oh,TriangleStripDrawMode:()=>ih,TrianglesDrawMode:()=>nh,TubeGeometry:()=>bb,UVMapping:()=>Nu,Uint16BufferAttribute:()=>kd,Uint32BufferAttribute:()=>Ud,Uint8BufferAttribute:()=>Cd,Uint8ClampedBufferAttribute:()=>Id,Uniform:()=>bM,UniformsGroup:()=>MM,UniformsLib:()=>Dp,UniformsUtils:()=>gp,UnsignedByteType:()=>qu,UnsignedInt248Type:()=>rl,UnsignedIntType:()=>Qu,UnsignedShort4444Type:()=>tl,UnsignedShort5551Type:()=>el,UnsignedShortType:()=>Xu,VSMShadowMap:()=>Ia,Vector2:()=>wc,Vector3:()=>Zc,Vector4:()=>Hc,VectorKeyframeTrack:()=>Qb,VideoTexture:()=>Xy,WebGL1Renderer:()=>yv,WebGL3DRenderTarget:()=>Xc,WebGLArrayRenderTarget:()=>Kc,WebGLCoordinateSystem:()=>nc,WebGLCubeRenderTarget:()=>Sp,WebGLMultipleRenderTargets:()=>Yc,WebGLRenderTarget:()=>Vc,WebGLRenderer:()=>vv,WebGLUtils:()=>uv,WebGPUCoordinateSystem:()=>ic,WireframeGeometry:()=>Ab,WrapAroundEnding:()=>th,ZeroCurvatureEnding:()=>Zl,ZeroFactor:()=>qa,ZeroSlopeEnding:()=>$l,ZeroStencilOp:()=>Ah,_SRGBAFormat:()=>rc,createCanvasElement:()=>Sc,sRGBEncoding:()=>ah});var e,n=r(47313),i=r.t(n,2),o=r(21739),s=r(1168),a=r.t(s,2);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(e||(e={}));const l="popstate";function h(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function c(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(r){}}}function f(t,e){return{usr:t.state,key:t.key,idx:e}}function d(t,e,r,n){return void 0===r&&(r=null),u({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?m(e):e,{state:r,key:e&&e.key||n||Math.random().toString(36).substr(2,8)})}function p(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&"?"!==r&&(e+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function m(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function g(t,r,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,c=e.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){c=e.Pop;let t=v(),r=null==t?null:t-g;g=t,m&&m({action:c,location:b.location,delta:r})}function w(t){let e="null"!==o.location.origin?o.location.origin:o.location.href,r="string"===typeof t?t:p(t);return h(e,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,e)}null==g&&(g=0,a.replaceState(u({},a.state,{idx:g}),""));let b={get action(){return c},get location(){return t(o,a)},listen(t){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,y),m=t,()=>{o.removeEventListener(l,y),m=null}},createHref:t=>r(o,t),createURL:w,encodeLocation(t){let e=w(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,r){c=e.Push;let i=d(b.location,t,r);n&&n(i,t),g=v()+1;let u=f(i,g),l=b.createHref(i);try{a.pushState(u,"",l)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(l)}s&&m&&m({action:c,location:b.location,delta:1})},replace:function(t,r){c=e.Replace;let i=d(b.location,t,r);n&&n(i,t),g=v();let o=f(i,g),u=b.createHref(i);a.replaceState(o,"",u),s&&m&&m({action:c,location:b.location,delta:0})},go:t=>a.go(t)};return b}var v;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(t,e,r){void 0===r&&(r="/");let n=P(("string"===typeof e?m(e):e).pathname||"/",r);if(null==n)return null;let i=w(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let r=t.length===e.length&&t.slice(0,-1).every(((t,r)=>t===e[r]));return r?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=R(i[s],I(n));return o}function w(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(t,i,o)=>{let s={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};s.relativePath.startsWith("/")&&(h(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let a=B([n,s.relativePath]),u=r.concat(s);t.children&&t.children.length>0&&(h(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(t.children,e,u,a)),(null!=t.path||t.index)&&e.push({path:a,score:T(a,t.index),routesMeta:u})};return t.forEach(((t,e)=>{var r;if(""!==t.path&&null!=(r=t.path)&&r.includes("?"))for(let n of b(t.path))i(t,e,n);else i(t,e)})),e}function b(t){let e=t.split("/");if(0===e.length)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===n.length)return i?[o,""]:[o];let s=b(n.join("/")),a=[];return a.push(...s.map((t=>""===t?o:[o,t].join("/")))),i&&a.push(...s),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const A=/^:[\w-]+$/,M=3,_=2,E=1,x=10,S=-2,N=t=>"*"===t;function T(t,e){let r=t.split("/"),n=r.length;return r.some(N)&&(n+=S),e&&(n+=_),r.filter((t=>!N(t))).reduce(((t,e)=>t+(A.test(e)?M:""===e?E:x)),n)}function R(t,e){let{routesMeta:r}=t,n={},i="/",o=[];for(let s=0;s<r.length;++s){let t=r[s],a=s===r.length-1,u="/"===i?e:e.slice(i.length)||"/",l=C({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},u);if(!l)return null;Object.assign(n,l.params);let h=t.route;o.push({params:n,pathname:B([i,l.pathname]),pathnameBase:D(B([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return o}function C(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=function(t,e,r){void 0===e&&(e=!1);void 0===r&&(r=!0);c("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,r)=>(n.push({paramName:e,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(n.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,n]}(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce(((t,e,r)=>{let{paramName:n,isOptional:i}=e;if("*"===n){let t=a[r]||"";s=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const u=a[r];return t[n]=i&&!u?void 0:function(t,e){try{return decodeURIComponent(t)}catch(r){return c(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),t}}(u||"",n),t}),{}),pathname:o,pathnameBase:s,pattern:t}}function I(t){try{return decodeURI(t)}catch(e){return c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function P(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&"/"!==n?null:t.slice(r)||"/"}function k(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function U(t,e){let r=O(t);return e?r.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)):r.map((t=>t.pathnameBase))}function L(t,e,r,n){let i;void 0===n&&(n=!1),"string"===typeof t?i=m(t):(i=u({},t),h(!i.pathname||!i.pathname.includes("?"),k("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),k("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),k("#","search","hash",i)));let o,s=""===t||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=r;else{let t=e.length-1;if(!n&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}o=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:r,search:n="",hash:i=""}="string"===typeof t?m(t):t,o=r?r.startsWith("/")?r:function(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?r.length>1&&r.pop():"."!==t&&r.push(t)})),r.length>1?r.join("/"):"/"}(r,e):e;return{pathname:o,search:F(n),hash:G(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),f=(s||"."===a)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!f||(l.pathname+="/"),l}const B=t=>t.join("/").replace(/\/\/+/g,"/"),D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",G=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function z(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const j=["post","put","patch","delete"],H=(new Set(j),["get",...j]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W.apply(this,arguments)}const V=n.createContext(null);const q=n.createContext(null);const K=n.createContext(null);const J=n.createContext(null);const X=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=n.createContext(null);function Q(){return null!=n.useContext(J)}function Z(){return Q()||h(!1),n.useContext(J).location}function $(t){n.useContext(K).static||n.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=n.useContext(X);return t?function(){let{router:t}=ht(ut.UseNavigateStable),e=ft(lt.UseNavigateStable),r=n.useRef(!1);$((()=>{r.current=!0}));let i=n.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"===typeof n?t.navigate(n):t.navigate(n,W({fromRouteId:e},i)))}),[t,e]);return i}():function(){Q()||h(!1);let t=n.useContext(V),{basename:e,future:r,navigator:i}=n.useContext(K),{matches:o}=n.useContext(X),{pathname:s}=Z(),a=JSON.stringify(U(o,r.v7_relativeSplatPath)),u=n.useRef(!1);return $((()=>{u.current=!0})),n.useCallback((function(r,n){if(void 0===n&&(n={}),!u.current)return;if("number"===typeof r)return void i.go(r);let o=L(r,JSON.parse(a),s,"path"===n.relative);null==t&&"/"!==e&&(o.pathname="/"===o.pathname?e:B([e,o.pathname])),(n.replace?i.replace:i.push)(o,n.state,n)}),[e,i,a,s,t])}()}function et(t,e){let{relative:r}=void 0===e?{}:e,{future:i}=n.useContext(K),{matches:o}=n.useContext(X),{pathname:s}=Z(),a=JSON.stringify(U(o,i.v7_relativeSplatPath));return n.useMemo((()=>L(t,JSON.parse(a),s,"path"===r)),[t,a,s,r])}function rt(t,r,i,o){Q()||h(!1);let{navigator:s}=n.useContext(K),{matches:a}=n.useContext(X),u=a[a.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,d=Z();if(r){var p;let t="string"===typeof r?m(r):r;"/"===c||(null==(p=t.pathname)?void 0:p.startsWith(c))||h(!1),f=t}else f=d;let g=f.pathname||"/",v=y(t,{pathname:"/"===c?g:g.slice(c.length)||"/"});let w=at(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:B([c,s.encodeLocation?s.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:B([c,s.encodeLocation?s.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,i,o);return r&&w?n.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},w):w}function nt(){let t=function(){var t;let e=n.useContext(Y),r=ct(lt.UseRouteError),i=ft(lt.UseRouteError);if(void 0!==e)return e;return null==(t=r.errors)?void 0:t[i]}(),e=z(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},e),r?n.createElement("pre",{style:o},r):null,null)}const it=n.createElement(nt,null);class ot extends n.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?n.createElement(X.Provider,{value:this.props.routeContext},n.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function st(t){let{routeContext:e,match:r,children:i}=t,o=n.useContext(V);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(X.Provider,{value:e},i)}function at(t,e,r,i){var o;if(void 0===e&&(e=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var s;if(null==(s=r)||!s.errors)return null;t=r.matches}let a=t,u=null==(o=r)?void 0:o.errors;if(null!=u){let t=a.findIndex((t=>t.route.id&&(null==u?void 0:u[t.route.id])));t>=0||h(!1),a=a.slice(0,Math.min(a.length,t+1))}let l=!1,c=-1;if(r&&i&&i.v7_partialHydration)for(let n=0;n<a.length;n++){let t=a[n];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=n),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((t,i,o)=>{let s,h=!1,f=null,d=null;r&&(s=u&&i.route.id?u[i.route.id]:void 0,f=i.route.errorElement||it,l&&(c<0&&0===o?(!function(t,e,r){e||dt[t]||(dt[t]=!0)}("route-fallback",!1),h=!0,d=null):c===o&&(h=!0,d=i.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,o+1)),m=()=>{let e;return e=s?f:h?d:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:t,n.createElement(st,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:e})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?n.createElement(ot,{location:r.location,revalidation:r.revalidation,component:f,error:s,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}var ut=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ut||{}),lt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lt||{});function ht(t){let e=n.useContext(V);return e||h(!1),e}function ct(t){let e=n.useContext(q);return e||h(!1),e}function ft(t){let e=function(t){let e=n.useContext(X);return e||h(!1),e}(),r=e.matches[e.matches.length-1];return r.route.id||h(!1),r.route.id}const dt={};i.startTransition;function pt(t){h(!1)}function mt(t){let{basename:r="/",children:i=null,location:o,navigationType:s=e.Pop,navigator:a,static:u=!1,future:l}=t;Q()&&h(!1);let c=r.replace(/^\/*/,"/"),f=n.useMemo((()=>({basename:c,navigator:a,static:u,future:W({v7_relativeSplatPath:!1},l)})),[c,l,a,u]);"string"===typeof o&&(o=m(o));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,w=n.useMemo((()=>{let t=P(d,c);return null==t?null:{location:{pathname:t,search:p,hash:g,state:v,key:y},navigationType:s}}),[c,d,p,g,v,y,s]);return null==w?null:n.createElement(K.Provider,{value:f},n.createElement(J.Provider,{children:i,value:w}))}function gt(t){let{children:e,location:r}=t;return rt(vt(e),r)}new Promise((()=>{}));n.Component;function vt(t,e){void 0===e&&(e=[]);let r=[];return n.Children.forEach(t,((t,i)=>{if(!n.isValidElement(t))return;let o=[...e,i];if(t.type===n.Fragment)return void r.push.apply(r,vt(t.props.children,o));t.type!==pt&&h(!1),t.props.index&&t.props.children&&h(!1);let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=vt(t.props.children,o)),r.push(s)})),r}function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yt.apply(this,arguments)}function wt(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const bt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const At=i.startTransition;a.flushSync,i.useId;function Mt(t){let{basename:e,children:r,future:i,window:o}=t,s=n.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),g((function(t,e){let{pathname:r,search:n,hash:i}=t.location;return d("",{pathname:r,search:n,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:p(e)}),null,a)));let u=s.current,[l,h]=n.useState({action:u.action,location:u.location}),{v7_startTransition:c}=i||{},f=n.useCallback((t=>{c&&At?At((()=>h(t))):h(t)}),[h,c]);return n.useLayoutEffect((()=>u.listen(f)),[u,f]),n.createElement(mt,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:u,future:i})}const _t="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=n.forwardRef((function(t,e){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:u,target:l,to:c,preventScrollReset:f,unstable_viewTransition:d}=t,m=wt(t,bt),{basename:g}=n.useContext(K),v=!1;if("string"===typeof c&&Et.test(c)&&(r=c,_t))try{let t=new URL(window.location.href),e=c.startsWith("//")?new URL(t.protocol+c):new URL(c),r=P(e.pathname,g);e.origin===t.origin&&null!=r?c=r+e.search+e.hash:v=!0}catch(b){}let y=function(t,e){let{relative:r}=void 0===e?{}:e;Q()||h(!1);let{basename:i,navigator:o}=n.useContext(K),{hash:s,pathname:a,search:u}=et(t,{relative:r}),l=a;return"/"!==i&&(l="/"===a?i:B([i,a])),o.createHref({pathname:l,search:u,hash:s})}(c,{relative:o}),w=function(t,e){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:u}=void 0===e?{}:e,l=tt(),h=Z(),c=et(t,{relative:a});return n.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,r)){e.preventDefault();let r=void 0!==i?i:p(h)===p(c);l(t,{replace:r,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:u})}}),[h,l,c,i,o,r,t,s,a,u])}(c,{replace:a,state:u,target:l,preventScrollReset:f,relative:o,unstable_viewTransition:d});return n.createElement("a",yt({},m,{href:r||y,onClick:v||s?i:function(t){i&&i(t),t.defaultPrevented||w(t)},ref:e,target:l}))}));var St,Nt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(St||(St={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Nt||(Nt={}));const Tt=r.p+"static/media/hyperland.5c19222da41bc32fbdf5.png",Rt=r.p+"static/media/arcave.19b99409f8b11b478f4c.png",Ct=r.p+"static/media/warfield.ff07c264ea496aa6d0f2.png",It=(r.p,r.p+"static/media/intro1.0dd1ccdc2d8f34d3f55b.mp4"),Pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAABRCAYAAABG87pMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABkYSURBVHgB7Z0JuF1DtsdXgicIYk7Qcs1TzGMTxEwbuj3P3I0O3bQhkn6tBU2Mr5t4nqcb3QjxEK098jxzDLmJIaYmZtG4lwiZTElMiWT1/5/ah33r7KH2mc8+9fu+9d27965aVXuffepU1Vq1SqQMVHV1zcbmKfpGZ9B1nXg8Hk8C3cXj8Xhyim/gPB5PbvENnMfjyS2+gfN4PLnFN3Aejye3+AbO4/HkFt/A5RRV/R3k05AcLjkA9zHGuq/VpYFAfXpb9XtAPHVjUXwAw/F3eymNnpKN61De1wnX+4k720DXcfj7Urdu3Z6XJgF17oU/j2fJApkF6YQ8AnkA9zvNId/ikF7WcR5YQrreVyPSK+b/pgDvKN+VuXjPVJod/sJo8/O5mvs4GtJDGhjUb0Utjy8gV0F6ppRzoZXvGMkBuI/HrftqxB5cmAnSJKCuawTPdx5kDuQP0uTkZYi6DGQfyE2QN/DBHA9ZRPLJkpCTIPfgHruJx1M5DoH0hywKWQpyBt6xraSJyeMcXBuEy7jexofzU2kOpibIdMi3EXkGQM4Uj6dyLON4rmnIs5GhDXIzGrkrpfHZAvMdfWJkFVznsJtGgk4r329xf039AnoaChpEwnPkHZCXpIlpBSvqqWgE7ub8gjQpaOTmQ27HvwdDFoQuLQvZWjyeCoB37Gn82RAyDDIIsiXOfSJNzKLSGhwI6YdGbid8YB9Kk4K6v4B7+AD/hhvrH0iFQRnL4c+/QtaHrCTGksvh8rOQCY5W3DjdvfHnoEA3y/kGwnsaDxlXScudGot1lGX+9bgvLvLwO7EjZFvIumKsz0z7GqQd+d6W7PXgXOkOYn6MeN+c35onpofEe35CSiQwNnH+eTPIqmI6Lfx8XoQ8Cd0fIM0G+H/FULaXcX5WhK5/wR8abR4LTq0n5jOPKnd5/NkodOp9MdMpe0EYNYjvJfV9DnmDOlHmJKk1mg8rqiv/K3VGo62ovR3zdldjRQ2zX0zazFZUpNkAci9kbsIz5LUbIW2SAaTfGjJWk3kPMoj3maDHyYqK86tC3ogo40aNMEDhHF2mfgN5V5Nph+yeUD/bijoZ8mSKztcg/SXb81we8nvIZym6r4c8Y53bOEZnPyvdKwnlH2elfRoyQ5PhlFGb1BJtrQaO/KfUES2xgVPTuF0akfcHMekzNXC4fiZkgWZjkKTXexHInzQbbOh2jNGX2sDhXF/IOxF6h8XoXBPSodm4CbJyhK7eWjpniANItydkppZONRo4V76ElOp3m5lWGaKG+TUe8D3oLrdL40Bz/JyE6xzK7QtZyzo/BvcxWcoEZZ8nZt4lCg6l2KOKcrv5b+Tl/OBVEs/lkJNjrs0VM4yx4RD8CujeAbrnSQaQZ00xQ6w269KF0HV+RPq2mPQLL4u5/6g6Hg2ZCPkvyU7cfbNH9hTqGesIjuu74M+9Mfnni6lzI3yv4+pCR+3bcR+b4j4/lyqT9UG8LN+Pz+sF5xw4j7GdRH/ILvBF30Uah8GSndmQX0mZBL/mQ63TnZCLIA+LmR/ji8rJ5wGQ06VrYzAcOp6JWk2C878QM1kd5gXIZZCxyDMVaRbD/9tA2MM8Xkxj+nfIISU0bpwzekCKG6tzoOuimGx3WulpxGGjdR/kaeT7Sk0vkXUcAtkpSDcU17I0bqMhI8TMudGJdjUx7+DFofI5V3d5UFYRyMN5tJHS9b3nDyMdcnnfr0I3pxD4Q8geMN/zNaW2XCBmxc2zqMs3aub/joScJd//SPIHbHBQv+qi2Yaof5QGAXVZBjJQsw8tCuwqdUDLX8lQ4P6UcpyGqDj/mJWOQ7veCXrp7T7ZyjMqIh2Hph1WOv5yL56geyPI3zTB9UVjhqj4uxnkIy3mNwm69opI/2tJIHiuZyVcjxqiXp2QfseI9OvHpB1qpZvOZ5aguwfk9Qj91RqinpaQ/mQrbafUAm3SBq4A6tQLcqVm5xGpA1q5Bo7smlBOagOHc2tZaearwyQw0uxu5aPho5eV5hArzRSNmLPKikY0cJDttbjR5fK941N0jbLylL3PhxY3cOxRrS7Z7umImHS2AeQESa8PDUezrXzVaOASv09qjCK28WppqTJNPweHbvBn+EPLG/+ekyHrbsizMvJPl/rDxufjhOv0d+McnL0yg138sVI6tuWOc5OdaZmQ5lE8O84/FTYR4vIxDt3uCSXbzcr2SJWeNX0DOUQLr0Gms+pAlHdnSl67jqXMp6XxIl01UtK8JV0/i6KpFzW9uvBwczr0/kVSQJo3kZdTDQdJdXk8pR6foB50t1kldJruMrOliuTGyIAHeK4a68yerlkgP4FcK/WHxoKpKWnY26BX+fDQuZ1wjqsdPpLSWMc6nijucJ4svEvaatZ12yDyjFQHzlnZbiXPiZnzigXPjV+u8JftazzH16XyLKhQGvv5viLu8LOqdgP3rUOamkcnydtKhmPFOI668kNpIvAF5OT8TOv0ACkd2zKa5QW00y5mHdtf2qQwWeUQ9Q6zNzkqJZ9979WqX6Wwn28WA8x8aVFy1cAFqxSyDNk2k+bDfrHL+QynWMeriTt276/DOrZ7pBtKdfnUOj4MvbQhCek5NAq75nAut+w5wirynnW8kbhT7WffsORxLeq7GdI28gtdBL6AbFT6WKffk9KxXTtoGFg+LZMaN4QB1ulXreMXrWM2ONUK78RlVFuKcW0Jc5maoKhFBEvC7GVIZbvdVBH+gHwWOqY1e0BapsDAkZour2Rt4I5SY+o/ArKqNCZZJrKXkiZBzfpQe16JvaSSAyriS84v+JuhU7SEXpPUEKnxW7NdVMZFGCf+B/Jl6JgrLi6QBKB7BchtallkU3gSwjXGnRAamf4/dI3vN4ODxvVgbrOOGZ1lU0mu40FqHKNrCn3KxPjAhRmhMStZQrDRb9pAE+WStYHjl+xQMfMbNPuPg/Cl4GR3o/QGszRac6UxoJvDHjGyL+QUMQYAe+H4tYw0IuXxH9YxP9+HUGaX+UkcL67GLYVTALaf1ghbaWDdvtw6zX0iGLa+n6W7J+QwMZPhDAv1CI77ihvHoqzw8JTBQDtDx/S7u0+j3V9ugYSDL9AaPBZpj1HjiBuu49pqlvndBRmmjsuqKswV0nUozp70eNSFHgFdDIY4Zkj/kWIs9K2LVm4tKs3Af6t37w5l/1+GOj8rNUYr5wc3KaUc57WouHZ/TBkfq1kozigmn8akGZ6gdzEtXuhdYEqg+1UtDiBAuAC9V4RO17WoU6x0kzRi+K2mcZiv0bwQ1PH9mOtDIvRlDlmuptEPk/RZDY6pC1dcTFCz6H26JlMNP7izJf0+bUdspyAT5VDJXhd7dwx5XOjd8ZeFayw3lRqhxvSfZQlWqe4V9YYhe/aWysGlNFFL8NggMMzPFhK9eQpdbGJ7MsFSK/bMOiIurxro5pdtyYjrtwS9wMwgH+clj7JOcxnXhRFped9cV/pVhKotgjpGDQN5Tw9JjUF92Ys7L+IS/QDpJsUljCuJZyHVHFbSVE8HzJeC1voJNaFwqmm55NwRJ5xd3R3GSHNBZ2D2GtZzcch1hQ0JhCGATpXiqMFRsIHlWtETIAtSdHNujEMpLm+a46Cba0DXQp7fSxkEwRROsk6fhPfvkoi0t4qxSrqE02Kjy8AE61TJby6VIGjAJmI+hzT4zN+SFqWWjr47BsKeFie2GeCQUWrH4wNzcRJMhYuY8ac/9K+Av3uICdq4MySuK9wutYcT70MzpGcDwi8VrZITMzwreq+HG5S/p2WAboY1Yq+MTqF0gqbn/BpBHWaIsTpyEv+hrJ8ZGyzovlFMQET29Dm05OfCedB3IAz6eB/SpTkEXyMmmkaBWQll0mAyKyjrOzTCOTr4waAVmT29n4tZ8M55QAZ3oEsJ50A5/zgqJQoGn3n483UZJdB4FG6sXD4rWq3XRX3Zk2cvmYYU9jT5I893jD/0dHjmOtitAikwI0btNKvucekk0B1O67IVJgMLhOfIXX7wyqKbmo1p95H6wZeHD4dfnofxwT0lFUaNOZ1DZS534vIcLoXhEpotxePx5BY2cCOlsSwtDH08TkwYG4Y5ruhaNTX7prJXNxW6XxaPx5NbFvo7qTHb80vPdZyMRd8oPm4cBnFYwHkZdskf65aH3bY9Hk9NiHToRIPHzTE4f8V5rG2kceAke7uYOYtHHRaoezyeFiZ16YyaZTns3XHSmROaPaRx4HwdGztGh02dmPV4PK1F5rWBgZMgjRIHSGOF/WasKVr4LkJj9454PB5POajx2uYi6lu1vF1+Kk3ttyfzeDwNR8WiO6hZoE0/N/rbcChLx9FSN4WpBPQFotc3e3RficfjaT3QMG0iVQB6l4bsB7lBzT6X9YKbqLRsNAWPp5UpOPqy19UOeVTMdl8vSoVBOVzX92Mx6/u4jGs5qR2dkN1xX1lixXk8nmZHo6OJsNdzLWR/NY6xlS5zUciuEC6leVNrAyNjbCwej6d10PRwSXOCND/XKg31oHc9NWFgHtHq8g/NFkzR4/E0M9qA+6Kq2efyYsjzWnnqsh+qx+OpPQ25JwPmyp6GnA3higo6GnMDX+65+aWUDzctTt0w1+Px5IBG7MEl1LUHZC/I6WoCapbKNK3C3KLH42ksmmpXLfTouDkvN0keDuHyMcYru12yw920jhCPx5NrmnrbwCBaLDcpGSjZN5A5XjweT66pZUTfqoFG7kYMObla4bYM2XZAnk2Q9xVpAFAXrvpYV8zOWcuKWQXCaLTcnPk1HznF48lOLho4ggbgr2q2uhuUIRu3watrA4c6MwbfYDHOz0snpCuEzP4L7nWS5BDcI8ODrw3pTAkL7olAzcbgb1inl+bUTkIedgzC7cBWdiBYpGEI92ulsgxiSHmrnP7484C4UwilTwf+O8SE0n9fLKVNY2RIA/VbVuO3t4tilNQJlL2zxm9Hl0aH5swSjPs5ETIvdI8nSx1AuauHRZoI1HediHelR0qeeVb6zSPSHKeV5+SIcvpr+XTZXLyp5+Bsgl/9+zNk6Sd1QM1WindL9HZ0LrRB/gw94yU/cAOTcE/iHKkP3Md0ciAd4mk2zsH34obCQW6GqCFmZkhby/WwC8HDZ6PGRtheUcGhAvfZ5PCA824M184hK1eP0B9wZys95+ROkvzQ0zquhM+jpzIw1mJ7wnW2I/2tc5xSSdrX9j1xoz3hGjto9JO1e9pcdfXywj1kNUdDVII6npfhfqZJjUGZv42oB3tjy6Xk45CJQ4WOIM/hkiNwP6daz+REqQMod3KoDvOkidAqDVEdyt0gotxS9NhD1E8z5Jtm5V24F2yuhqgBWXb1niW15wDrmOHWT4Qkfpi4/gFkhBhL6wAaVSRH4H7448l7o3/iFjj+s3g8DuBd4Z66Z1qn+6KRWyKPQ9T1MqR12ZS30tj1yzSPFmy4PE4yomZD4/0g3Au2TcyP2xdihsTcwCeL9crWzeE2e5QMhcVGagkxm/py53fuhHa3gw7+4hc2J94Kx92R7wVxIOj9/iwov29QPu+NG4zT8jwauhbE5N0yyFdgmdD/3dlrlnio95MYPZ/h2p3iVn9u8BTuwU8KvrQed+z9lOlmtWzerKhtmo3rpMagzA+tOlwlVQT614TcDfk25Vl0QDI5PyP9chDuWD/bQffJKbrOtvIMcyh/Fcj1kK8dyh8Yo2OYlk7/kJ4oC+BODvcQ9c4eJCWgLTpEDfIeEnXvuRmiqgmZPjpbLhkjtcfebJruEWdBlpcKA52n4A834DkQskhK8jbIdcgzEZK6L64aSzB9CGn97Omg+09q4gy2SQVQs7UlnyV7WItLevkjkOd6qRJBj+sx6/RAh6x2Y9YBXVnf45YGn+v2+HOpdfoV+v/laYh6GSTLrwY3kK7HMIAOk3uHjvkjczFkmJpQTuxqPwuhw+JbpW50DV3/hj9RPe65gW4O4ehUazdOm0HuQv4fxpWtZitJ1jVqvpO6aT2jtdg2nDAfG9srpQyC8sdE6P9GjGsHy+dQtY91nUYazmWeJ9XhfMhuoeMjUR6j4nwYlRjX+NkPitDhMTC4xh0paTaERAWyNT8S2uRDVNRpJTVDsKzcKnVC3YdFX0KegNyvGQKOqhn2fGLp4r4Y3AGtl5V2O8jIiLLPjNHNaMwdVlo6V7MX2sdKuy3kj0GaBZCfJNTZeYiKaw9baT+C/AiybET5d1hpOSTbKZRmecjaIZlspV07QZaJqNt9VnkjEu5joJW2Q02jVxKavyFqqYz/7r61SRs41GVFNS4hWVYuhNlG6gjK/6UWNxQucBjZlqLbbiymOOQZbuXhvFqviHQHRdRptxTddI35mWSr87CYdEXzNGp6dHF6ue/Is1aeqxPSl+UmoiZYaxg2IGvEpO2w0h4nZaC+gSP8Qfvuhy7rEHVvZL5Z6sti8r21rtRtD8dj2PCc1BGUzz0vRuLfI8W4jvCe1nTISkMAY+L9CjriVm0cZR2fw8grkszZkP0hGwTHHLoeK2brxSTdl0P3Y5IArl8qleNoKS7/3YSy+dKzQbsxdHprqRIM1oryOMWwbXCK3zEaWM4Ip0Mafu5toVO0OpcS+qvVmS9m1Uk75K94/g91uarZenB5YR1pQFCvzSCHQ65QMwybknAP3Gh71QgdK1vpvoCkGRgKeS+w8t4ckcZ2qNxAKoC69+AmWOnYA/nKQcK8l1CPsh19kW83qzz2Mu2pgXusNGVb9DWHVlQ1I7WCDIso55IknXl09E3jPLTyb0sDgnq9RAdeyGDInpDVxPRUaY3rtJKvABkSocZetvI69MwXNz5I0oWXib2RlUOn5kL3m1Jb7PtjnXo4SJiqbgQe9GjD/o1s3L4zJqiZLtjfynaxeIrAs5xZEBxyIf1YKwmnPw6Oy99qDRxDDTWVlYqNMePdQTh8tYekUfNa31jHS4o7dk/PngKw3xf+gtb6HVog5VMLB2+7Bzok1Iuzr410mEJoeQKrPhsze0riFo0ZleVxJUMcXPw7VJobDhl/FDrmcLS75aU/w8rTF2mWRBqXxeu9reMuDQF0zFWzfneV4BT9zzhEfV1qB91QwpP23IzoHcnGa1Jl8Kza8aza8e+A4BQbt9Nw7iYpnkf0riGOcEkjniF7w/eGTrOHTuPCDrjepXfeKg0c1zWegZuvx9rTItQEEHy0KDhfOn2t4zn2EiQcT1cTHLMwB7KUmKgjl0lyndjTs794D0Yk5TKxQ0PH1H2K1A4O/cKRK77APQ+RxoTGjQGh49PENM7hXu9DvvcWS+TUCp4XXXEulK4htfi+cx7zp10Sa76NDPS9ulAaCNTn0KBunKy/RB09+9X4dNkT/A/EpLUn7D+HbJygm2sur7Xy8JdylYi0u0c858NS6s55kqtT0rgaGTaNKP+EFN2MxMIe1faSAtK8beleWUpEjYvKREufvWTuAKkQmj8jw4yU9I9GlHuqnSivDdyTGlor2AioccCdadVzPmQMZCjkCDUWuK3VfJH3gBwLuSZIZ3NwTDl9IDOstLQODoZsFErHtaQHqnEmtjk7RndPLW4EWDc69HKfi26hdPtA7gql42be3WP0ZnH0HRVR38sgm1jpNlHjgFx4FnR2bpPkz+hOS++oQh41DVY/yABxBGkP1njekAqirdfARb3n/DFfP5wobw3c85rgMV9PtLyF3TbXpJRFz/75MXm5QuJjNT3cKJ5L0c0v0rSYvJyn40sXt7j/yhidWRo4vtidMfrZ85wEmRpznasekva+ODwmH5/XrFAZzvvqarFrS4GDpYJoizVwQZ4DI8rmVgB9Cgny0MCxdzISsqsGPYhGRc1KgAlaHrQapX7BkOYYNX5wWaD/XeqwTM1L3aHZaNd4r/5M0UTU9IY7NBtslPdL0cue5yQHXc4GK43+Ev5DKozmr4FzCkirxf6bhGulFxoZnoR8LaVBK9q+GdK3S3IYY86R9BY3uCidXvbjOLEuTUIQKWK0mmHPL8WYvV1i2NFEzgl+Lt5+yiE9y7oJ5TAPG4tjU5J3BLqdtl6k/xt0byfGMk2jSa+E5LSyXuSq27F89uA4FDkdwui/SRvE8J3ju3JF2m5duD5HzVzd5ZL8zNhQ/kHcYGAArlQIBzZoqLnhBsXJJQif2blqdqcLz7Fyrvj8sno7anYdmpwhCyO1TkzQxy+/6/Dyeuj6heQANfNihYCP9OcpLOL+WMzeCwwLdDfut+QQ60GDugdkR/nezYI/DPQp4hdwfBmRS/ijNACyi5j6LxbopvvGg9CbGqAzaKzCqyImuToRIy/L+zGE20byWdIizEaNKxbGBnXI7NwLvVxuxegnWwY6Z4txuL4P+h7MoIdfvAmhU3w2GwfOqxVDjZ/dLtbpe7rFBPsM8vD+wu0AOwxJnRDXckvVE+5hz3EJlhrkbRMTCadyqLFOZWHzFH2jM+iqebBKj6cU8K6OsN7d34mnJrTiUi2Pp2YEPYuwfyF7NTeIpyb4Bs7jqS70ywo71F8fFwDTU3l8A+fxVAn03hjx+BjrdMNvvZknfAPn8VQP7rewQuj4rhKW53nKwDdwHk/1+Hfr+Fzx1BTfwHk8VQDD032kq38jXVWqHsXE05V/Au98dH9fjqZmAAAAAElFTkSuQmCC",kt=r.p+"static/media/tablelandIcon.9f3522a3ffcef8dced44.png",Ot=r.p+"static/media/unfold23.4f527e2c20ac4b20d25a.png",Ut=r.p+"static/media/ETHIndia.337d96db13c8d108ee8f.png",Lt=r.p+"static/media/sky.6163e64dec8f95516465.png";const Bt=r.p+"static/media/logo.20527fbb57ea755d0d77ed506cceb4e0.svg",Dt=r.p+"static/media/dataverseOS.cb7d863b9237d527c64d.png";const Ft=r.p+"static/media/XIcon.b6a76d1cb663f48ed681e3f8df5266b0.svg";const Gt=r.p+"static/media/linkedinIcon.fb62e4b940c40fcd2ecc4334f29735c0.svg";const zt=r.p+"static/media/discordIcon1.362af2527a5b3c01ab7468535264154a.svg",jt=r.p+"static/media/shivam.d2b01cce2485ba1d46be.png",Ht=r.p+"static/media/omkar.82c207d45846e05079ed.png",Wt=r.p+"static/media/vansh.e58afe24b9565b66f657.png",Vt=r.p+"static/media/alok.39e1947f3b7fc3432e0f.png",qt=r.p+"static/media/niiku.10e9206405c4dca2ae73.png",Kt=r.p+"static/media/aryaPic.56b8f01b6f6ed4c0eac1.png",Jt=r.p+"static/media/riglabtemp.982a9e1c5d72a6ddbc9f.png";var Xt=r(46417),Yt=r(694),Qt=r.n(Yt),Zt=function(t,e){return Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Zt(t,e)};function $t(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var te=function(){return te=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},te.apply(this,arguments)};function ee(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function re(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function ne(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var ie;!function(t){t.ONE_INCH="oneInch",t.OPEN_SEA="opensea",t.FIAT="fiat",t.RARIBLE="rarible"}(ie||(ie={}));new Intl.NumberFormat("en-us",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-us",{style:"decimal",minimumSignificantDigits:1,maximumSignificantDigits:4});var oe=(0,n.createContext)(null),se=function(t){function e(e){var r=t.call(this,"[react-moralis]: ".concat(e))||this;return r.name="ReactMoralisError",r.message=e,r}return $t(e,t),e.isReactMoraliserrpr=!0,e}(Error),ae=function(t){function e(e){var r=t.call(this,e)||this;return r.name="NoMoralisContextProviderError",r}return $t(e,t),e}(se),ue=function(t){function e(e){var r=t.call(this,e)||this;return r.name="NotAuthenticatedError",r}return $t(e,t),e}(se),le=function(t){function e(e){var r=t.call(this,e)||this;return r.name="ValidationError",r}return $t(e,t),e}(se),he=function(){var t=(0,n.useContext)(oe);if(!t)throw new ae("Make sure to only call useMoralis within a  <MoralisProvider>");return t};function ce(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function fe(t){return!!t&&!!t[Qe]}function de(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Ze}(t)||Array.isArray(t)||!!t[Ye]||!!t.constructor[Ye]||ye(t)||we(t))}function pe(t,e,r){void 0===r&&(r=!1),0===me(t)?(r?Object.keys:$e)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function me(t){var e=t[Qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ye(t)?2:we(t)?3:0}function ge(t,e){return 2===me(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ve(t,e,r){var n=me(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function ye(t){return qe&&t instanceof Map}function we(t){return Ke&&t instanceof Set}function be(t){return t.o||t.t}function Ae(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=tr(t);delete e[Qe];for(var r=$e(e),n=0;n<r.length;n++){var i=r[n],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Me(t,e){return void 0===e&&(e=!1),Ee(t)||fe(t)||!de(t)||(me(t)>1&&(t.set=t.add=t.clear=t.delete=_e),Object.freeze(t),e&&pe(t,(function(t,e){return Me(e,!0)}),!0)),t}function _e(){ce(2)}function Ee(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function xe(t){var e=er[t];return e||ce(18,t),e}function Se(){return We}function Ne(t,e){e&&(xe("Patches"),t.u=[],t.s=[],t.v=e)}function Te(t){Re(t),t.p.forEach(Ie),t.p=null}function Re(t){t===We&&(We=t.l)}function Ce(t){return We={p:[],l:We,h:t,m:!0,_:0}}function Ie(t){var e=t[Qe];0===e.i||1===e.i?e.j():e.O=!0}function Pe(t,e){e._=e.p.length;var r=e.p[0],n=void 0!==t&&t!==r;return e.h.g||xe("ES5").S(e,t,n),n?(r[Qe].P&&(Te(e),ce(4)),de(t)&&(t=ke(e,t),e.l||Ue(e,t)),e.u&&xe("Patches").M(r[Qe],t,e.u,e.s)):t=ke(e,r,[]),Te(e),e.u&&e.v(e.u,e.s),t!==Xe?t:void 0}function ke(t,e,r){if(Ee(e))return e;var n=e[Qe];if(!n)return pe(e,(function(i,o){return Oe(t,n,e,i,o,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return Ue(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=Ae(n.k):n.o;pe(3===n.i?new Set(i):i,(function(e,o){return Oe(t,n,i,e,o,r)})),Ue(t,i,!1),r&&t.u&&xe("Patches").R(n,r,t.u,t.s)}return n.o}function Oe(t,e,r,n,i,o){if(fe(i)){var s=ke(t,i,o&&e&&3!==e.i&&!ge(e.D,n)?o.concat(n):void 0);if(ve(r,n,s),!fe(s))return;t.m=!1}if(de(i)&&!Ee(i)){if(!t.h.F&&t._<1)return;ke(t,i),e&&e.A.l||Ue(t,i)}}function Ue(t,e,r){void 0===r&&(r=!1),t.h.F&&t.m&&Me(e,r)}function Le(t,e){var r=t[Qe];return(r?be(r):t)[e]}function Be(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function De(t){t.P||(t.P=!0,t.l&&De(t.l))}function Fe(t){t.o||(t.o=Ae(t.t))}function Ge(t,e,r){var n=ye(e)?xe("MapSet").N(e,r):we(e)?xe("MapSet").T(e,r):t.g?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:Se(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=n,o=rr;r&&(i=[n],o=nr);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return n.k=u,n.j=a,u}(e,r):xe("ES5").J(e,r);return(r?r.A:Se()).p.push(n),n}function ze(t){return fe(t)||ce(22,t),function t(e){if(!de(e))return e;var r,n=e[Qe],i=me(e);if(n){if(!n.P&&(n.i<4||!xe("ES5").K(n)))return n.t;n.I=!0,r=je(e,i),n.I=!1}else r=je(e,i);return pe(r,(function(e,i){n&&function(t,e){return 2===me(t)?t.get(e):t[e]}(n.t,e)===i||ve(r,e,t(i))})),3===i?new Set(r):r}(t)}function je(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Ae(t)}var He,We,Ve="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),qe="undefined"!=typeof Map,Ke="undefined"!=typeof Set,Je="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Xe=Ve?Symbol.for("immer-nothing"):((He={})["immer-nothing"]=!0,He),Ye=Ve?Symbol.for("immer-draftable"):"__$immer_draftable",Qe=Ve?Symbol.for("immer-state"):"__$immer_state",Ze=""+Object.prototype.constructor,$e="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,tr=Object.getOwnPropertyDescriptors||function(t){var e={};return $e(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},er={},rr={get:function(t,e){if(e===Qe)return t;var r=be(t);if(!ge(r,e))return function(t,e,r){var n,i=Be(e,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(t.k):void 0}(t,r,e);var n=r[e];return t.I||!de(n)?n:n===Le(t.t,e)?(Fe(t),t.o[e]=Ge(t.A.h,n,t)):n},has:function(t,e){return e in be(t)},ownKeys:function(t){return Reflect.ownKeys(be(t))},set:function(t,e,r){var n=Be(be(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=Le(be(t),e),o=null==i?void 0:i[Qe];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(r,i)&&(void 0!==r||ge(t.t,e)))return!0;Fe(t),De(t)}return t.o[e]===r&&"number"!=typeof r&&(void 0!==r||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Le(t.t,e)||e in t.t?(t.D[e]=!1,Fe(t),De(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=be(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){ce(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ce(12)}},nr={};pe(rr,(function(t,e){nr[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),nr.deleteProperty=function(t,e){return rr.deleteProperty.call(this,t[0],e)},nr.set=function(t,e,r){return rr.set.call(this,t[0],e,r,t[0])};var ir=function(){function t(t){var e=this;this.g=Je,this.F=!0,this.produce=function(t,r,n){if("function"==typeof t&&"function"!=typeof r){var i=r;r=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return o.produce(t,(function(t){var n;return(n=r).call.apply(n,[e,t].concat(s))}))}}var s;if("function"!=typeof r&&ce(6),void 0!==n&&"function"!=typeof n&&ce(7),de(t)){var a=Ce(e),u=Ge(e,t,void 0),l=!0;try{s=r(u),l=!1}finally{l?Te(a):Re(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(t){return Ne(a,n),Pe(t,a)}),(function(t){throw Te(a),t})):(Ne(a,n),Pe(s,a))}if(!t||"object"!=typeof t){if((s=r(t))===Xe)return;return void 0===s&&(s=t),e.F&&Me(s,!0),s}ce(21,t)},this.produceWithPatches=function(t,r){return"function"==typeof t?function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,r,(function(t,e){n=t,i=e})),n,i];var n,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){de(t)||ce(8),fe(t)&&(t=ze(t));var e=Ce(this),r=Ge(this,t,void 0);return r[Qe].C=!0,Re(e),r},e.finishDraft=function(t,e){var r=(t&&t[Qe]).A;return Ne(r,e),Pe(void 0,r)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Je&&ce(20),this.g=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}r>-1&&(e=e.slice(r+1));var i=xe("Patches").$;return fe(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),or=new ir;or.produce;or.produceWithPatches.bind(or),or.setAutoFreeze.bind(or),or.setUseProxies.bind(or),or.applyPatches.bind(or),or.createDraft.bind(or),or.finishDraft.bind(or);var sr,ar=function(t,e){var r=t.password,n=t.email,i=t.username,o=ee(t,["password","email","username"]);if(void 0!==r){if("string"!==typeof r)throw new le("password can only be a string type");e.setPassword(r)}if(void 0!==n){if("string"!==typeof n)throw new le("email can only be a string type");e.setEmail(n)}if(void 0!==i){if("string"!==typeof i)throw new le("username can only be a string type");e.setUsername(i)}Object.entries(o).filter((function(t){return void 0!==t[1]})).forEach((function(t){var r=t[0],n=t[1];e.set(r,n)}))};!function(t){t.UNDEFINED="undefined",t.UNAUTHENTICATED="unauthenticated",t.AUTHENTICATED="authenticated",t.AUTHENTICATING="authenticating",t.LOGGING_OUT="logging_out",t.ERROR="error"}(sr||(sr={}));var ur={state:sr.UNDEFINED,error:null},lr=function(t){var e=t.children,r=t.appId,i=t.serverUrl,o=t.jsKey,s=t.dangerouslyUseOfMasterKey,a=t.plugins,u=t.environment,l=t.getMoralis,h=t.options,c=(void 0===h?{}:h).onAccountChanged,f=t.initializeOnMount,d=void 0===f||f,p=(0,n.useState)(null!==r&&void 0!==r?r:null),m=p[0],g=p[1],v=(0,n.useState)(null!==i&&void 0!==i?i:null),y=v[0],w=function(t){var e=t.appId,r=t.serverUrl,i=t.jsKey,o=t.dangerouslyUseOfMasterKey,s=t.plugins,a=t.environment,u=void 0===a?"browser":a,l=t.getMoralis,h=void 0===l?function(){return Qt()}:l,c=t.initializeOnMount,f=t.setAppId,d=t.setServerUrl,p=(0,n.useState)(!1),m=p[0],g=p[1],v=(0,n.useState)(!1),y=v[0],w=v[1],b=(0,n.useState)(!1),A=b[0],M=b[1],_=(0,n.useRef)(h()),E=(0,n.useCallback)((function(t){var e=t.serverUrl,r=t.appId,n=t.javascriptKey,i=t.masterKey,o=t.plugins;return re(void 0,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:if(m)return[2];if(!r)throw new se('Provide a "appId" provided to <MoralisProvider>');if(!e)throw new se('Provide a "serverUrl" provided to <MoralisProvider>');return w(!0),[4,_.current.start({serverUrl:e,appId:r,javascriptKey:n,masterKey:i,plugins:o})];case 1:return t.sent(),w(!1),g(!0),[2]}}))}))}),[]);(0,n.useEffect)((function(){m||(c||A)&&(E({appId:e,serverUrl:r,masterKey:o,javascriptKey:i,plugins:s}),g(!0))}),[e,r,o,i,s,m,c,A]);var x=(0,n.useCallback)((function(t){var n=void 0===t?{}:t,i=n.appId,o=n.serverUrl;if(i&&f(i),o&&d(o),!i&&!e)throw new Error("No appId is provided. Please provide an appId to the Moralis.Provider or as argument in initialize()");if(!o&&!r)throw new Error("No serverUrl is provided. Please provide an serverUrl to the Moralis.Provider or as argument in initialize()");M(!0)}),[e,r]);return{isInitialized:m,isInitializing:y,initialize:x,Moralis:_.current,environment:u}}({appId:m,serverUrl:y,jsKey:o,dangerouslyUseOfMasterKey:s,plugins:a,environment:u,getMoralis:l,initializeOnMount:d,setAppId:g,setServerUrl:v[1]}),b=function(t){var e=(0,n.useState)(!1),r=e[0],i=e[1],o=(0,n.useState)(null),s=o[0],a=o[1],u=(0,n.useState)(!1),l=u[0],h=u[1],c=(0,n.useState)(null),f=c[0],d=c[1],p=(0,n.useState)(null),m=p[0],g=p[1],v=(0,n.useState)(null),y=v[0],w=v[1],b=(0,n.useState)(null),A=b[0],M=b[1],_=(0,n.useState)(null),E=_[0],x=_[1];(0,n.useEffect)((function(){var e=function(){d(null),i(!1),g(null),w(null),M(null),x(null)},r=t.onChainChanged((function(e){g(e),d(t.web3)})),n=t.onAccountChanged(w),o=t.onWeb3Enabled((function(t){var e=t.web3,r=t.chainId,n=t.account,i=t.connector,o=t.provider;d(e),g(r),w(n),M(i),x(o)})),s=t.onWeb3Deactivated(e),a=t.onDisconnect(e);return function(){r(),n(),o(),s(),a()}}),[t]);var S=(0,n.useCallback)((function(e){return void 0===e&&(e={}),re(void 0,void 0,void 0,(function(){var r,n,o=e.throwOnError,s=e.onComplete,u=e.onError,l=e.onSuccess,c=ee(e,["throwOnError","onComplete","onError","onSuccess"]);return ne(this,(function(e){switch(e.label){case 0:h(!0),a(null),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,t.enableWeb3(c)];case 2:return r=e.sent(),i(!0),l&&l(r),[2,r];case 3:if(n=e.sent(),a(n),o)throw n;return u&&u(n),[3,5];case 4:return h(!1),s&&s(),[7];case 5:return[2]}}))}))}),[]),N=(0,n.useCallback)((function(){return re(void 0,void 0,void 0,(function(){return ne(this,(function(e){switch(e.label){case 0:return[4,t.deactivateWeb3()];case 1:return e.sent(),[2]}}))}))}),[]),T=(0,n.useMemo)((function(){var t;return null!==(t=null===A||void 0===A?void 0:A.network)&&void 0!==t?t:null}),[A]),R=(0,n.useMemo)((function(){var t;return null!==(t=null===A||void 0===A?void 0:A.type)&&void 0!==t?t:null}),[A]);return{enableWeb3:S,web3:f,isWeb3Enabled:r,web3EnableError:s,isWeb3EnableLoading:l,_setIsWeb3Enabled:i,_setIsWeb3EnableLoading:h,chainId:m,account:y,network:T,connector:A,connectorType:R,deactivateWeb3:N,provider:E}}(w.Moralis),A=b._setIsWeb3Enabled,M=b._setIsWeb3EnableLoading,_=ee(b,["_setIsWeb3Enabled","_setIsWeb3EnableLoading"]),E=function(t){var e=(0,n.useState)(null),r=e[0],i=e[1],o=(0,n.useState)(!1),s=o[0],a=o[1],u=(0,n.useState)(null),l=u[0],h=u[1],c=(0,n.useCallback)((function(e,n){var o=void 0===n?{}:n,s=o.throwOnError,u=o.onComplete,l=o.onError,c=o.onSuccess;return re(void 0,void 0,void 0,(function(){var n,o,f;return ne(this,(function(d){switch(d.label){case 0:if(!r)throw new ue("User needs to be authenticated before setting new data");a(!0),h(null),n=!1,d.label=1;case 1:return d.trys.push([1,3,4,5]),ar(e,r),n=!0,[4,r.save()];case 2:if(d.sent(),!(o=t.User.current()))throw new se("No user data found after save");return i(o),c&&c(r),[2,r];case 3:if(f=d.sent(),n&&r.revert(),h(f),s)throw f;return l&&l(f),[3,5];case 4:return a(!1),u&&u(),[7];case 5:return[2]}}))}))}),[r]),f=(0,n.useCallback)((function(t){var e=void 0===t?{}:t,n=e.throwOnError,o=e.onComplete,s=e.onError,u=e.onSuccess;return re(void 0,void 0,void 0,(function(){var t,e;return ne(this,(function(l){switch(l.label){case 0:if(!r)throw new ue("User needs to be authenticated before refetching");a(!0),h(null),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,r.fetch()];case 2:if(!(t=l.sent()))throw new se("No user data found after refetch");return i(t),u&&u(t),[2,t];case 3:if(e=l.sent(),h(e),n)throw e;return s&&s(e),[3,5];case 4:return a(!1),o&&o(),[7];case 5:return[2]}}))}))}),[r]);return{setUserData:c,setUser:i,refetchUserData:f,user:r,_setUser:i,isUserUpdating:s,userError:l}}(w.Moralis),x=E.setUser,S=ee(E,["setUser"]),N=function(t){var e=te(te({},{setUser:function(){},Moralis:t.Moralis,environment:"browser"}),t),r=e.onAccountChanged,i=e.Moralis,o=e.environment,s=e._setIsWeb3Enabled,a=e._setIsWeb3EnableLoading,u=t.setUser,l=(0,n.useState)(ur),h=l[0],c=l[1],f=(0,n.useState)(!1),d=f[0],p=f[1],m=(0,n.useCallback)((function(t){return void 0===t&&(t={}),re(void 0,void 0,void 0,(function(){var e,r,n=t.onComplete,o=t.onError,l=t.onSuccess,h=t.throwOnError,f=ee(t,["onComplete","onError","onSuccess","throwOnError"]);return ne(this,(function(t){switch(t.label){case 0:c({state:sr.AUTHENTICATING,error:null}),a&&a(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,i.authenticate(f)];case 2:return e=t.sent(),u(e),s&&s(!0),c({state:sr.AUTHENTICATED,error:null}),l&&l(e),[2,e];case 3:if(r=t.sent(),c({state:sr.ERROR,error:r}),u(null),o&&o(r),h)throw r;return[3,5];case 4:return a&&a(!1),n&&n(),[7];case 5:return[2]}}))}))}),[s,a]),g=(0,n.useCallback)((function(t,e,r,n,o){void 0===n&&(n={});var s=void 0===o?{}:o,a=s.throwOnError,l=s.onSuccess,h=s.onError,f=s.onComplete;return re(void 0,void 0,void 0,(function(){var o,s,d;return ne(this,(function(p){switch(p.label){case 0:c({state:sr.AUTHENTICATING,error:null}),o=new i.User,ar(te({username:t,password:e,email:r},n),o),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,o.signUp()];case 2:return s=p.sent(),c({state:sr.AUTHENTICATED,error:null}),u(s),l&&l(s),[2,s];case 3:if(d=p.sent(),c({state:sr.ERROR,error:d}),a)throw d;return h&&h(d),[3,5];case 4:return f&&f(),[7];case 5:return[2]}}))}))}),[]),v=(0,n.useCallback)((function(t,e,r){var n=void 0===r?{}:r,o=n.usePost,s=n.throwOnError,a=n.onError,l=n.onSuccess,h=n.onComplete;return re(void 0,void 0,void 0,(function(){var r,n;return ne(this,(function(f){switch(f.label){case 0:c({state:sr.AUTHENTICATING,error:null}),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,i.User.logIn(t,e,{usePost:o})];case 2:return r=f.sent(),c({state:sr.AUTHENTICATED,error:null}),u(r),l&&l(r),[2,r];case 3:if(n=f.sent(),c({state:sr.ERROR,error:n}),s)throw n;return a&&a(n),[3,5];case 4:return h&&h(),[7];case 5:return[2]}}))}))}),[]),y=(0,n.useCallback)((function(t){var e=void 0===t?{}:t,r=e.throwOnError,n=e.onError,o=e.onSuccess,s=e.onComplete;return re(void 0,void 0,void 0,(function(){var t,e;return ne(this,(function(a){switch(a.label){case 0:c({state:sr.AUTHENTICATING,error:null}),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,i.User.logOut()];case 2:return a.sent(),c({state:sr.UNAUTHENTICATED,error:null}),u(null),o&&o(),[3,5];case 3:if(t=a.sent(),c({state:sr.ERROR,error:t}),u(null!==(e=i.User.current())&&void 0!==e?e:null),r)throw t;return n&&n(t),[3,5];case 4:return s&&s(),[7];case 5:return[2]}}))}))}),[]);(0,n.useEffect)((function(){try{var t=i.User.current();if(!t)throw new Error("Let it catch");c({state:sr.AUTHENTICATED,error:null}),u(t)}catch(e){c({state:sr.UNAUTHENTICATED,error:null}),u(null)}}),[]),(0,n.useEffect)((function(){if(!d&&"browser"===o)if(window){try{var t=window.ethereum;if(!t)return void console.warn("No window.ethereum found");t.on("accountsChanged",(function(t){return re(void 0,void 0,void 0,(function(){var e;return ne(this,(function(n){return e=t[0],r&&r(e),[2]}))}))}))}catch(e){console.warn(e.message)}p(!0)}else console.warn("No window object found")}),[d]);var w=h.state===sr.AUTHENTICATED,b=h.state===sr.UNAUTHENTICATED,A=h.state===sr.AUTHENTICATING,M=h.state===sr.ERROR,_=h.state===sr.LOGGING_OUT,E=h.state===sr.UNDEFINED;return{auth:h,authenticate:m,signup:g,login:v,logout:y,authError:h.error,isAuthenticated:w,isUnauthenticated:b,isAuthenticating:A,hasAuthError:M,isLoggingOut:_,isAuthUndefined:E}}({onAccountChanged:c,setUser:x,Moralis:w.Moralis,environment:w.environment,_setIsWeb3Enabled:A,_setIsWeb3EnableLoading:M});return(0,Xt.jsx)(oe.Provider,te({value:te(te(te(te(te({},w),N),S),_),{appId:m,serverUrl:y})},{children:e}),void 0)};let hr=!1,cr=!1;const fr={debug:1,default:2,info:2,warning:3,error:4,off:5};let dr=fr.default,pr=null;const mr=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var gr,vr;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(gr||(gr={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(vr||(vr={}));const yr="0123456789abcdef";class wr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==fr[r]&&this.throwArgumentError("invalid log level name","logLevel",t),dr>fr[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(wr.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(wr.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(wr.levels.WARNING,e)}makeError(t,e,r){if(cr)return this.makeError("censored error",e,{});e||(e=wr.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=yr[e[t]>>4],r+=yr[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push("code=".concat(e)),n.push("version=".concat(this.version));const i=t;let o="";switch(e){case vr.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case vr.CALL_EXCEPTION:case vr.INSUFFICIENT_FUNDS:case vr.MISSING_NEW:case vr.NONCE_EXPIRED:case vr.REPLACEMENT_UNDERPRICED:case vr.TRANSACTION_REPLACED:case vr.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,wr.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),mr&&this.throwError("platform missing String.prototype.normalize",wr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mr})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,wr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,wr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,wr.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,wr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",wr.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",wr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",wr.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return pr||(pr=new wr("logger/5.7.0")),pr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",wr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),hr){if(!t)return;this.globalLogger().throwError("error censorship permanent",wr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cr=!!t,hr=!!e}static setLogLevel(t){const e=fr[t.toLowerCase()];null!=e?dr=e:wr.globalLogger().warn("invalid log level - "+t)}static from(t){return new wr(t)}}wr.errors=vr,wr.levels=gr;var br=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Ar=new wr("properties/5.7.0");function Mr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function _r(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!==typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Er(t){return br(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function xr(t){const e={};for(const r in t)e[r]=t[r];return e}const Sr={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Nr(t){if(void 0===t||null===t||Sr[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;const r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!Nr(i))return!1}return!0}return Ar.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Tr(t){if(Nr(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Rr(t))));if("object"===typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Mr(e,r,Rr(n))}return e}return Ar.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function Rr(t){return Tr(t)}class Cr{constructor(t){for(const e in t)this[e]=Rr(t[e])}}const Ir="providers/5.7.2";var Pr=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const kr=new wr("abstract-signer/5.7.0"),Or=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ur=[wr.errors.INSUFFICIENT_FUNDS,wr.errors.NONCE_EXPIRED,wr.errors.REPLACEMENT_UNDERPRICED];class Lr{constructor(){kr.checkAbstract(new.target,Lr),Mr(this,"_isSigner",!0)}getBalance(t){return Pr(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Pr(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Pr(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield Er(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Pr(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield Er(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Pr(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Pr(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Pr(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Pr(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Pr(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const r in t)-1===Or.indexOf(r)&&kr.throwArgumentError("invalid transaction key: "+r,"transaction",t);const e=xr(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&kr.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Pr(this,void 0,void 0,(function*(){const e=yield Er(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Pr(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&kr.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||kr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):kr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&kr.throwError("network does not support EIP-1559",wr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):kr.throwError("failed to get consistent fee data",wr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(Ur.indexOf(t.code)>=0)throw t;return kr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&kr.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield Er(e)}))}_checkProvider(t){this.provider||kr.throwError("missing provider",wr.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}var Br=r(48725),Dr=r.n(Br);const Fr=new wr("bytes/5.7.0");function Gr(t){return!!t.toHexString}function zr(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return zr(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jr(t){return Jr(t)&&!(t.length%2)||Wr(t)}function Hr(t){return"number"===typeof t&&t==t&&t%1===0}function Wr(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Hr(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Hr(r)||r<0||r>=256)return!1}return!0}function Vr(t,e){if(e||(e={}),"number"===typeof t){Fr.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),zr(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Gr(t)&&(t=t.toHexString()),Jr(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Fr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return zr(new Uint8Array(n))}return Wr(t)?zr(new Uint8Array(t)):Fr.throwArgumentError("invalid arrayify value","value",t)}function qr(t){const e=t.map((t=>Vr(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),zr(n)}function Kr(t){let e=Vr(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Jr(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Xr="0123456789abcdef";function Yr(t,e){if(e||(e={}),"number"===typeof t){Fr.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Xr[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Gr(t))return t.toHexString();if(Jr(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Fr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Wr(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Xr[(240&n)>>4]+Xr[15&n]}return e}return Fr.throwArgumentError("invalid hexlify value","value",t)}function Qr(t){if("string"!==typeof t)t=Yr(t);else if(!Jr(t)||t.length%2)return null;return(t.length-2)/2}function Zr(t,e,r){return"string"!==typeof t?t=Yr(t):(!Jr(t)||t.length%2)&&Fr.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function $r(t){let e="0x";return t.forEach((t=>{e+=Yr(t).substring(2)})),e}function tn(t){const e=function(t){"string"!==typeof t&&(t=Yr(t));Jr(t)||Fr.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(Yr(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function en(t,e){for("string"!==typeof t?t=Yr(t):Jr(t)||Fr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Fr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function rn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(jr(t)){let r=Vr(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Yr(r.slice(0,32)),e.s=Yr(r.slice(32,64))):65===r.length?(e.r=Yr(r.slice(0,32)),e.s=Yr(r.slice(32,64)),e.v=r[64]):Fr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Fr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Yr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Vr(t)).length>e&&Fr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),zr(r)}(Vr(e._vs),32);e._vs=Yr(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Fr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=Yr(r);null==e.s?e.s=i:e.s!==i&&Fr.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Fr.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Fr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Jr(e.r)?e.r=en(e.r,32):Fr.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Jr(e.s)?e.s=en(e.s,32):Fr.throwArgumentError("signature missing or invalid s","signature",t);const r=Vr(e.s);r[0]>=128&&Fr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Yr(r);e._vs&&(Jr(e._vs)||Fr.throwArgumentError("signature invalid _vs","signature",t),e._vs=en(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Fr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const nn="bignumber/5.7.0";var on=Dr().BN;const sn=new wr(nn),an={},un=9007199254740991;let ln=!1;class hn{constructor(t,e){t!==an&&sn.throwError("cannot call constructor directly; use BigNumber.from",wr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return fn(dn(this).fromTwos(t))}toTwos(t){return fn(dn(this).toTwos(t))}abs(){return"-"===this._hex[0]?hn.from(this._hex.substring(1)):this}add(t){return fn(dn(this).add(dn(t)))}sub(t){return fn(dn(this).sub(dn(t)))}div(t){return hn.from(t).isZero()&&pn("division-by-zero","div"),fn(dn(this).div(dn(t)))}mul(t){return fn(dn(this).mul(dn(t)))}mod(t){const e=dn(t);return e.isNeg()&&pn("division-by-zero","mod"),fn(dn(this).umod(e))}pow(t){const e=dn(t);return e.isNeg()&&pn("negative-power","pow"),fn(dn(this).pow(e))}and(t){const e=dn(t);return(this.isNegative()||e.isNeg())&&pn("unbound-bitwise-result","and"),fn(dn(this).and(e))}or(t){const e=dn(t);return(this.isNegative()||e.isNeg())&&pn("unbound-bitwise-result","or"),fn(dn(this).or(e))}xor(t){const e=dn(t);return(this.isNegative()||e.isNeg())&&pn("unbound-bitwise-result","xor"),fn(dn(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&pn("negative-width","mask"),fn(dn(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&pn("negative-width","shl"),fn(dn(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&pn("negative-width","shr"),fn(dn(this).shrn(t))}eq(t){return dn(this).eq(dn(t))}lt(t){return dn(this).lt(dn(t))}lte(t){return dn(this).lte(dn(t))}gt(t){return dn(this).gt(dn(t))}gte(t){return dn(this).gte(dn(t))}isNegative(){return"-"===this._hex[0]}isZero(){return dn(this).isZero()}toNumber(){try{return dn(this).toNumber()}catch(t){pn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return sn.throwError("this platform does not support BigInt",wr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?ln||(ln=!0,sn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?sn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",wr.errors.UNEXPECTED_ARGUMENT,{}):sn.throwError("BigNumber.toString does not accept parameters",wr.errors.UNEXPECTED_ARGUMENT,{})),dn(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof hn)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new hn(an,cn(t)):t.match(/^-?[0-9]+$/)?new hn(an,cn(new on(t))):sn.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&pn("underflow","BigNumber.from",t),(t>=un||t<=-un)&&pn("overflow","BigNumber.from",t),hn.from(String(t));const e=t;if("bigint"===typeof e)return hn.from(e.toString());if(Wr(e))return hn.from(Yr(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"===typeof t)return hn.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"===typeof t&&(Jr(t)||"-"===t[0]&&Jr(t.substring(1))))return hn.from(t)}return sn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function cn(t){if("string"!==typeof t)return cn(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&sn.throwArgumentError("invalid hex","value",t),"0x00"===(t=cn(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function fn(t){return hn.from(cn(t))}function dn(t){const e=hn.from(t).toHexString();return"-"===e[0]?new on("-"+e.substring(3),16):new on(e.substring(2),16)}function pn(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),sn.throwError(t,wr.errors.NUMERIC_FAULT,n)}var mn=r(37676),gn=r.n(mn);function vn(t){return"0x"+gn().keccak_256(Vr(t))}const yn=new wr("rlp/5.7.0");function wn(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function bn(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function An(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(An(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=wn(e.length);return r.unshift(247+r.length),r.concat(e)}jr(t)||yn.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Vr(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=wn(e.length);return r.unshift(183+r.length),r.concat(e)}function Mn(t){return Yr(An(t))}function _n(t,e,r,n){const i=[];for(;r<e+1+n;){const o=En(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&yn.throwError("child data too short",wr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function En(t,e){if(0===t.length&&yn.throwError("data too short",wr.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&yn.throwError("data short segment too short",wr.errors.BUFFER_OVERRUN,{});const n=bn(t,e+1,r);return e+1+r+n>t.length&&yn.throwError("data long segment too short",wr.errors.BUFFER_OVERRUN,{}),_n(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&yn.throwError("data array too short",wr.errors.BUFFER_OVERRUN,{}),_n(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&yn.throwError("data array too short",wr.errors.BUFFER_OVERRUN,{});const n=bn(t,e+1,r);e+1+r+n>t.length&&yn.throwError("data array too short",wr.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:Yr(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&yn.throwError("data too short",wr.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:Yr(t.slice(e+1,e+1+r))}}return{consumed:1,result:Yr(t[e])}}function xn(t){const e=Vr(t),r=En(e,0);return r.consumed!==e.length&&yn.throwArgumentError("invalid rlp data","data",t),r.result}const Sn=new wr("address/5.7.0");function Nn(t){Jr(t,20)||Sn.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Vr(vn(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Tn={};for(let r=0;r<10;r++)Tn[String(r)]=String(r);for(let r=0;r<26;r++)Tn[String.fromCharCode(65+r)]=String(10+r);const Rn=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Cn(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Tn[t])).join("");for(;e.length>=Rn;){let t=e.substring(0,Rn);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function In(t){let e=null;if("string"!==typeof t&&Sn.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Nn(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Sn.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Cn(t)&&Sn.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new on(r,36).toString(16);e.length<40;)e="0"+e;e=Nn("0x"+e)}else Sn.throwArgumentError("invalid address","address",t);var r;return e}const Pn="hash/5.7.0",kn=new wr("strings/5.7.0");var On,Un;function Ln(t,e,r,n,i){if(t===Un.BAD_PREFIX||t===Un.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6===2;n++)t++;return t}return t===Un.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(On||(On={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Un||(Un={}));const Bn=Object.freeze({error:function(t,e,r,n,i){return kn.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:Ln,replace:function(t,e,r,n,i){return t===Un.OVERLONG?(n.push(i),0):(n.push(65533),Ln(t,e,r))}});function Dn(t,e){null==e&&(e=Bn.error),t=Vr(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?Un.UNEXPECTED_CONTINUE:Un.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(Un.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let i=t[n];if(128!=(192&i)){n+=e(Un.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Un.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(Un.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(Un.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function Fn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On.current;e!=On.current&&(kn.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);if(n>=t.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&e)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return Vr(r)}function Gn(t,e){return Dn(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function zn(t){return vn(Fn(t))}var jn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Hn=new wr(Pn),Wn=new Uint8Array(32);Wn.fill(0);const Vn=hn.from(-1),qn=hn.from(0),Kn=hn.from(1),Jn=hn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Xn=en(Kn.toHexString(),32),Yn=en(qn.toHexString(),32),Qn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Zn=["name","version","chainId","verifyingContract","salt"];function $n(t){return function(e){return"string"!==typeof e&&Hn.throwArgumentError("invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}const ti={name:$n("name"),version:$n("version"),chainId:function(t){try{return hn.from(t).toString()}catch(e){}return Hn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return In(t).toLowerCase()}catch(e){}return Hn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Vr(t);if(32!==e.length)throw new Error("bad length");return Yr(e)}catch(e){}return Hn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ei(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Hn.throwArgumentError("invalid numeric width","type",t);const i=Jn.mask(r?n-1:n),o=r?i.add(Kn).mul(Vn):qn;return function(e){const r=hn.from(e);return(r.lt(o)||r.gt(i))&&Hn.throwArgumentError("value out-of-bounds for ".concat(t),"value",e),en(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&Hn.throwArgumentError("invalid bytes width","type",t),function(e){return Vr(e).length!==r&&Hn.throwArgumentError("invalid length for ".concat(t),"value",e),function(t){const e=Vr(t),r=e.length%32;return r?$r([e,Wn.slice(r)]):Yr(e)}(e)}}}switch(t){case"address":return function(t){return en(In(t),32)};case"bool":return function(t){return t?Xn:Yn};case"bytes":return function(t){return vn(t)};case"string":return function(t){return zn(t)}}return null}function ri(t,e){return"".concat(t,"(").concat(e.map((t=>{let{name:e,type:r}=t;return r+" "+e})).join(","),")")}class ni{constructor(t){Mr(this,"types",Object.freeze(Rr(t))),Mr(this,"_encoderCache",{}),Mr(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const o in t){const n={};t[o].forEach((i=>{n[i.name]&&Hn.throwArgumentError("duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(o)),"types",t),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&Hn.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",t);ei(s)||(r[s]||Hn.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",t),r[s].push(o),e[o][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?Hn.throwArgumentError("missing primary type","types",t):i.length>1&&Hn.throwArgumentError("ambiguous primary types or unused types: ".concat(i.map((t=>JSON.stringify(t))).join(", ")),"types",t),Mr(this,"primaryType",i[0]),function i(o,s){s[o]&&Hn.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const e=Object.keys(n[o]);e.sort(),this._types[o]=ri(o,t[o])+e.map((e=>ri(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=ei(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&Hn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(vn)),vn($r(i))}}const r=this.types[t];if(r){const e=zn(this._types[t]);return t=>{const n=r.map((e=>{let{name:r,type:n}=e;const i=this.getEncoder(n)(t[r]);return this._types[n]?vn(i):i}));return n.unshift(e),$r(n)}}return Hn.throwArgumentError("unknown type: ".concat(t),"type",t)}encodeType(t){const e=this._types[t];return e||Hn.throwArgumentError("unknown type: ".concat(JSON.stringify(t)),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return vn(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(ei(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&Hn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,n)=>{let{name:i,type:o}=n;return t[i]=this._visit(o,e[i],r),t}),{}):Hn.throwArgumentError("unknown type: ".concat(t),"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new ni(t)}static getPrimaryType(t){return ni.from(t).primaryType}static hashStruct(t,e,r){return ni.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Qn[r];n||Hn.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Zn.indexOf(t.name)-Zn.indexOf(e.name))),ni.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return $r(["0x1901",ni.hashDomain(t),ni.from(e).hash(r)])}static hash(t,e,r){return vn(ni.encode(t,e,r))}static resolveNames(t,e,r,n){return jn(this,void 0,void 0,(function*(){t=xr(t);const i={};t.verifyingContract&&!Jr(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=ni.from(e);o.visit(r,((t,e)=>("address"!==t||Jr(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){ni.hashDomain(t);const n={},i=[];Zn.forEach((e=>{const r=t[e];null!=r&&(n[e]=ti[e](r),i.push({name:e,type:Qn[e]}))}));const o=ni.from(e),s=xr(e);return s.EIP712Domain?Hn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Yr(Vr(e));if(t.match(/^u?int/))return hn.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!==typeof e&&Hn.throwArgumentError("invalid string","value",e),e}return Hn.throwArgumentError("unsupported type","type",t)}))}}}const ii=hn.from(0);var oi=r(83431),si=r.n(oi),ai=r(37553),ui=r.n(ai);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function li(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var hi=ci;function ci(t,e){if(!t)throw new Error(e||"Assertion failed")}ci.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var fi=li((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),di=li((function(t,e){var r=e;r.assert=hi,r.toArray=fi.toArray,r.zero2=fi.zero2,r.toHex=fi.toHex,r.encode=fi.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(si())(t,"hex","le")}})),pi=di.getNAF,mi=di.getJSF,gi=di.assert;function vi(t,e){this.type=t,this.p=new(si())(e.p,16),this.red=e.prime?si().red(e.prime):si().mont(this.p),this.zero=new(si())(0).toRed(this.red),this.one=new(si())(1).toRed(this.red),this.two=new(si())(2).toRed(this.red),this.n=e.n&&new(si())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var yi=vi;function wi(t,e){this.curve=t,this.type=e,this.precomputed=null}vi.prototype.point=function(){throw new Error("Not implemented")},vi.prototype.validate=function(){throw new Error("Not implemented")},vi.prototype._fixedNafMul=function(t,e){gi(t.precomputed);var r=t._getDoubles(),n=pi(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<a.length;o++)(s=a[o])===c?h=h.mixedAdd(r.points[o]):s===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},vi.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=pi(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];gi(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},vi.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=mi(r[d],r[p]);for(c=Math.max(v[0].length,c),h[d]=new Array(c),h[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],w=0|v[1][s];h[d][s]=g[3*(y+1)+(w+1)],h[p][s]=0,l[d]=m}}else h[d]=pi(r[d],u[d],this._bitLength),h[p]=pi(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(o=c;o>=0;o--){for(var M=0;o>=0;){var _=!0;for(s=0;s<n;s++)A[s]=0|h[s][o],0!==A[s]&&(_=!1);if(!_)break;M++,o--}if(o>=0&&M++,b=b.dblp(M),o<0)break;for(s=0;s<n;s++){var E=A[s];0!==E&&(E>0?a=l[s][E-1>>1]:E<0&&(a=l[s][-E-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},vi.BasePoint=wi,wi.prototype.eq=function(){throw new Error("Not implemented")},wi.prototype.validate=function(){return this.curve.validate(this)},vi.prototype.decodePoint=function(t,e){t=di.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?gi(t[t.length-1]%2===0):7===t[0]&&gi(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},wi.prototype.encodeCompressed=function(t){return this.encode(t,!0)},wi.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},wi.prototype.encode=function(t,e){return di.encode(this._encode(e),t)},wi.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},wi.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},wi.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},wi.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},wi.prototype._getBeta=function(){return null},wi.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var bi=li((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Ai=di.assert;function Mi(t){yi.call(this,"short",t),this.a=new(si())(t.a,16).toRed(this.red),this.b=new(si())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}bi(Mi,yi);var _i=Mi;function Ei(t,e,r,n){yi.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(si())(e,16),this.y=new(si())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function xi(t,e,r,n){yi.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(si())(0)):(this.x=new(si())(e,16),this.y=new(si())(r,16),this.z=new(si())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Mi.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(si())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(si())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Ai(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(si())(t.a,16),b:new(si())(t.b,16)}})):this._getEndoBasis(r)}}},Mi.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:si().mont(t),r=new(si())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(si())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Mi.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(si())(1),p=new(si())(0),m=new(si())(0),g=new(si())(1),v=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=m.sub(y.mul(d));var w=g.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;a=u,f=c,c=u,m=d,d=l,g=p,p=w}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Mi.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},Mi.prototype.pointFromX=function(t,e){(t=new(si())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Mi.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Mi.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},bi(Ei,yi.BasePoint),Mi.prototype.point=function(t,e,r){return new Ei(this,t,e,r)},Mi.prototype.pointFromJSON=function(t,e){return Ei.fromJSON(this,t,e)},Ei.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ei.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ei.prototype.isInfinity=function(){return this.inf},Ei.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Ei.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Ei.prototype.getX=function(){return this.x.fromRed()},Ei.prototype.getY=function(){return this.y.fromRed()},Ei.prototype.mul=function(t){return t=new(si())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Ei.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Ei.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Ei.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Ei.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Ei.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},bi(xi,yi.BasePoint),Mi.prototype.jpoint=function(t,e,r){return new xi(this,t,e,r)},xi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},xi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},xi.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},xi.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},xi.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=y,l=v}return this.curve.jpoint(o,l.redMul(i),a)},xi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},xi.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},xi.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},xi.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},xi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,f,d)},xi.prototype.mul=function(t,e){return t=new(si())(t,e),this.curve._wnafMul(this,t)},xi.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},xi.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},xi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},xi.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Si=li((function(t,e){var r=e;r.base=yi,r.short=_i,r.mont=null,r.edwards=null})),Ni=li((function(t,e){var r,n=e,i=di.assert;function o(t){"short"===t.type?this.curve=new Si.short(t):"edwards"===t.type?this.curve=new Si.edwards(t):this.curve=new Si.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ui().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ui().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ui().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ui().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ui().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ui().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ui().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ui().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Ti(t){if(!(this instanceof Ti))return new Ti(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fi.toArray(t.entropy,t.entropyEnc||"hex"),r=fi.toArray(t.nonce,t.nonceEnc||"hex"),n=fi.toArray(t.pers,t.persEnc||"hex");hi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Ri=Ti;Ti.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Ti.prototype._hmac=function(){return new(ui().hmac)(this.hash,this.K)},Ti.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Ti.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=fi.toArray(t,e),r=fi.toArray(r,n),hi(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Ti.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=fi.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,fi.encode(o,e)};var Ci=di.assert;function Ii(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Pi=Ii;Ii.fromPublic=function(t,e,r){return e instanceof Ii?e:new Ii(t,{pub:e,pubEnc:r})},Ii.fromPrivate=function(t,e,r){return e instanceof Ii?e:new Ii(t,{priv:e,privEnc:r})},Ii.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ii.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Ii.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Ii.prototype._importPrivate=function(t,e){this.priv=new(si())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Ii.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Ci(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Ci(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Ii.prototype.derive=function(t){return t.validate()||Ci(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Ii.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Ii.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Ii.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ki=di.assert;function Oi(t,e){if(t instanceof Oi)return t;this._importDER(t,e)||(ki(t.r&&t.s,"Signature without r or s"),this.r=new(si())(t.r,16),this.s=new(si())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ui=Oi;function Li(){this.place=0}function Bi(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Di(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Fi(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Oi.prototype._importDER=function(t,e){t=di.toArray(t,e);var r=new Li;if(48!==t[r.place++])return!1;var n=Bi(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Bi(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Bi(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(si())(o),this.s=new(si())(a),this.recoveryParam=null,!0},Oi.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Di(e),r=Di(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Fi(n,e.length),(n=n.concat(e)).push(2),Fi(n,r.length);var i=n.concat(r),o=[48];return Fi(o,i.length),o=o.concat(i),di.encode(o,t)};var Gi=function(){throw new Error("unsupported")},zi=di.assert;function ji(t){if(!(this instanceof ji))return new ji(t);"string"===typeof t&&(zi(Object.prototype.hasOwnProperty.call(Ni,t),"Unknown curve "+t),t=Ni[t]),t instanceof Ni.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Hi=ji;ji.prototype.keyPair=function(t){return new Pi(this,t)},ji.prototype.keyFromPrivate=function(t,e){return Pi.fromPrivate(this,t,e)},ji.prototype.keyFromPublic=function(t,e){return Pi.fromPublic(this,t,e)},ji.prototype.genKeyPair=function(t){t||(t={});for(var e=new Ri({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Gi(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(si())(2));;){var i=new(si())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ji.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},ji.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(si())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new Ri({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(si())(1)),l=0;;l++){var h=n.k?n.k(l):new(si())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Ui({r:d,s:p,recoveryParam:m})}}}}}},ji.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(si())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Ui(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},ji.prototype.recoverPubKey=function(t,e,r,n){zi((3&r)===r,"The recovery param is more than two bits"),e=new Ui(e,n);var i=this.n,o=new(si())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=a.mul(h).umod(i);return this.g.mulAdd(c,s,f)},ji.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Ui(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Wi=li((function(t,e){var r=e;r.version="6.5.4",r.utils=di,r.rand=function(){throw new Error("unsupported")},r.curve=Si,r.curves=Ni,r.ec=Hi,r.eddsa=null})).ec;const Vi=new wr("signing-key/5.7.0");let qi=null;function Ki(){return qi||(qi=new Wi("secp256k1")),qi}class Ji{constructor(t){Mr(this,"curve","secp256k1"),Mr(this,"privateKey",Yr(t)),32!==Qr(this.privateKey)&&Vi.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Ki().keyFromPrivate(Vr(this.privateKey));Mr(this,"publicKey","0x"+e.getPublic(!1,"hex")),Mr(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Mr(this,"_isSigningKey",!0)}_addPoint(t){const e=Ki().keyFromPublic(Vr(this.publicKey)),r=Ki().keyFromPublic(Vr(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Ki().keyFromPrivate(Vr(this.privateKey)),r=Vr(t);32!==r.length&&Vi.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return rn({recoveryParam:n.recoveryParam,r:en("0x"+n.r.toString(16),32),s:en("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Ki().keyFromPrivate(Vr(this.privateKey)),r=Ki().keyFromPublic(Vr(Xi(t)));return en("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Xi(t,e){const r=Vr(t);if(32===r.length){const t=new Ji(r);return e?"0x"+Ki().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Yr(r):"0x"+Ki().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Ki().keyFromPublic(r).getPublic(!0,"hex"):Yr(r):Vi.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Yi=new wr("transactions/5.7.0");var Qi;function Zi(t){return"0x"===t?null:In(t)}function $i(t){return"0x"===t?ii:hn.from(t)}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Qi||(Qi={}));function to(t,e){return function(t){return In(Zr(vn(Zr(Xi(t),1)),12))}(function(t,e){const r=rn(e),n={r:Vr(r.r),s:Vr(r.s)};return"0x"+Ki().recoverPubKey(Vr(t),n,r.recoveryParam).encode("hex",!1)}(Vr(t),e))}function eo(t,e){const r=Kr(hn.from(t).toHexString());return r.length>32&&Yi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function ro(t,e){return{address:In(t),storageKeys:(e||[]).map(((e,r)=>(32!==Qr(e)&&Yi.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase())))}}function no(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Yi.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),ro(t[0],t[1])):ro(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return ro(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function io(t){return no(t).map((t=>[t.address,t.storageKeys]))}function oo(t,e){if(null!=t.gasPrice){const e=hn.from(t.gasPrice),r=hn.from(t.maxFeePerGas||0);e.eq(r)||Yi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[eo(t.chainId||0,"chainId"),eo(t.nonce||0,"nonce"),eo(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),eo(t.maxFeePerGas||0,"maxFeePerGas"),eo(t.gasLimit||0,"gasLimit"),null!=t.to?In(t.to):"0x",eo(t.value||0,"value"),t.data||"0x",io(t.accessList||[])];if(e){const t=rn(e);r.push(eo(t.recoveryParam,"recoveryParam")),r.push(Kr(t.r)),r.push(Kr(t.s))}return $r(["0x02",Mn(r)])}function so(t,e){const r=[eo(t.chainId||0,"chainId"),eo(t.nonce||0,"nonce"),eo(t.gasPrice||0,"gasPrice"),eo(t.gasLimit||0,"gasLimit"),null!=t.to?In(t.to):"0x",eo(t.value||0,"value"),t.data||"0x",io(t.accessList||[])];if(e){const t=rn(e);r.push(eo(t.recoveryParam,"recoveryParam")),r.push(Kr(t.r)),r.push(Kr(t.s))}return $r(["0x01",Mn(r)])}function ao(t,e,r){try{const r=$i(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(n){Yi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=en(e[1],32),t.s=en(e[2],32);try{const e=vn(r(t));t.from=to(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(n){}}function uo(t){const e=Vr(t);if(e[0]>127)return function(t){const e=xn(t);9!==e.length&&6!==e.length&&Yi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:$i(e[0]).toNumber(),gasPrice:$i(e[1]),gasLimit:$i(e[2]),to:Zi(e[3]),value:$i(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=hn.from(e[6]).toNumber()}catch(n){return r}if(r.r=en(e[7],32),r.s=en(e[8],32),hn.from(r.r).isZero()&&hn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27;const o=e.slice(0,6);0!==r.chainId&&(o.push(Yr(r.chainId)),o.push("0x"),o.push("0x"),i-=2*r.chainId+8);const s=vn(Mn(o));try{r.from=to(s,{r:Yr(r.r),s:Yr(r.s),recoveryParam:i})}catch(n){}r.hash=vn(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=xn(t.slice(1));8!==e.length&&11!==e.length&&Yi.throwArgumentError("invalid component count for transaction type: 1","payload",Yr(t));const r={type:1,chainId:$i(e[0]).toNumber(),nonce:$i(e[1]).toNumber(),gasPrice:$i(e[2]),gasLimit:$i(e[3]),to:Zi(e[4]),value:$i(e[5]),data:e[6],accessList:no(e[7])};return 8===e.length||(r.hash=vn(t),ao(r,e.slice(8),so)),r}(e);case 2:return function(t){const e=xn(t.slice(1));9!==e.length&&12!==e.length&&Yi.throwArgumentError("invalid component count for transaction type: 2","payload",Yr(t));const r=$i(e[2]),n=$i(e[3]),i={type:2,chainId:$i(e[0]).toNumber(),nonce:$i(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:$i(e[4]),to:Zi(e[5]),value:$i(e[6]),data:e[7],accessList:no(e[8])};return 9===e.length||(i.hash=vn(t),ao(i,e.slice(9),oo)),i}(e)}return Yi.throwError("unsupported transaction type: ".concat(e[0]),wr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}function lo(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Vr(e)}function ho(t){t=Vr(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var co=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function fo(t,e){return co(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=e.fetchOptions){const t=e.fetchOptions;t.mode&&(r.mode=t.mode),t.cache&&(r.cache=t.cache),t.credentials&&(r.credentials=t.credentials),t.redirect&&(r.redirect=t.redirect),t.referrer&&(r.referrer=t.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Vr(new Uint8Array(i))}}))}var po=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const mo=new wr("web/5.7.1");function go(t){return new Promise((e=>{setTimeout(e,t)}))}function vo(t,e){if(null==t)return null;if("string"===typeof t)return t;if(jr(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Gn(t)}catch(r){}return Yr(t)}return t}function yo(t,e,r){let n=null;if(null!=e){n=Fn(e);const r="string"===typeof t?{url:t}:xr(t);if(r.headers){const t=0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length;t||(r.headers=xr(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"===typeof t&&null!=t.throttleLimit?t.throttleLimit:12;mo.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"===typeof t?t.throttleCallback:null,o="object"===typeof t&&"number"===typeof t.throttleSlotInterval?t.throttleSlotInterval:100;mo.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"===typeof t&&!!t.errorPassThrough,a={};let u=null;const l={method:"GET"};let h=!1,c=12e4;if("string"===typeof t)u=t;else if("object"===typeof t){if(null!=t&&null!=t.url||mo.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"===typeof t.timeout&&t.timeout>0&&(c=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&mo.throwError("basic authentication requires a secure https url",wr.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+ho(Fn(e))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup),null!=t.fetchOptions&&(l.fetchOptions=xr(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=u?u.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?lo(d[3]):(p=d[3],Fn(p.replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(y){mo.throwError("processing response error",wr.errors.SERVER_ERROR,{body:vo(d[1],d[2]),error:y,requestBody:null,requestMethod:"GET",url:u})}var p;e&&(l.method="POST",l.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach((t=>{const e=a[t];m[e.key]=e.value})),l.headers=m;const g=function(){let t=null;return{promise:new Promise((function(e,r){c&&(t=setTimeout((()=>{null!=t&&(t=null,r(mo.makeError("timeout",wr.errors.TIMEOUT,{requestBody:vo(l.body,m["content-type"]),requestMethod:l.method,timeout:c,url:u})))}),c))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),v=function(){return po(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield fo(u,l),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===l.method&&t.match(/^https:/)){u=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,u)),r){let r=0;const n=e.headers["retry-after"];r="string"===typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield go(r);continue}}}catch(y){e=y.response,null==e&&(g.cancel(),mo.throwError("missing response",wr.errors.SERVER_ERROR,{requestBody:vo(l.body,m["content-type"]),requestMethod:l.method,serverError:y,url:u}))}let a=e.body;if(h&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(g.cancel(),mo.throwError("bad response",wr.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:vo(a,e.headers?e.headers["content-type"]:null),requestBody:vo(l.body,m["content-type"]),requestMethod:l.method,url:u})),r)try{const t=yield r(a,e);return g.cancel(),t}catch(y){if(y.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,u)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield go(e);continue}}g.cancel(),mo.throwError("processing response error",wr.errors.SERVER_ERROR,{body:vo(a,e.headers?e.headers["content-type"]:null),error:y,requestBody:vo(l.body,m["content-type"]),requestMethod:l.method,url:u})}return g.cancel(),a}return mo.throwError("failed response",wr.errors.SERVER_ERROR,{requestBody:vo(l.body,m["content-type"]),requestMethod:l.method,url:u})}))}();return Promise.race([g.promise,v])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(Gn(t))}catch(i){mo.throwError("invalid JSON",wr.errors.SERVER_ERROR,{body:t,error:i})}return r&&(n=r(n,e)),n}))}function wo(t,e){return e||(e={}),null==(e=xr(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}var bo=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Ao=new wr("abstract-provider/5.7.0");class Mo extends Cr{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class _o{constructor(){Ao.checkAbstract(new.target,_o),Mr(this,"_isProvider",!0)}getFeeData(){return bo(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield Er({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null,i=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,i=hn.from("1500000000"),n=t.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}class Eo{constructor(t){Mr(this,"alphabet",t),Mr(this,"base",t.length),Mr(this,"_alphabetMap",{}),Mr(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Vr(t);if(0===e.length)return"";let r=[0];for(let i=0;i<e.length;++i){let t=e[i];for(let e=0;e<r.length;++e)t+=r[e]<<8,r[e]=t%this.base,t=t/this.base|0;for(;t>0;)r.push(t%this.base),t=t/this.base|0}let n="";for(let i=0;0===e[i]&&i<e.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(t){if("string"!==typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Vr(new Uint8Array(e.reverse()))}}new Eo("abcdefghijklmnopqrstuvwxyz234567");const xo=new Eo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function So(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function No(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let b=1;b<n;b++)o.push(i+=r());let s=r(),a=e;e+=s;let u=0,l=0;function h(){return 0==u&&(l=l<<8|t[e++],u=8),l>>--u&1}const c=Math.pow(2,31),f=c>>>1,d=f>>1,p=c-1;let m=0;for(let b=0;b<31;b++)m=m<<1|h();let g=[],v=0,y=c;for(;;){let t=Math.floor(((m-v+1)*i-1)/y),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<o[n]?r=n:e=n}if(0==e)break;g.push(e);let s=v+Math.floor(y*o[e]/i),a=v+Math.floor(y*o[e+1]/i)-1;for(;0==((s^a)&f);)m=m<<1&p|h(),s=s<<1&p,a=a<<1&p|1;for(;s&~a&d;)m=m&f|m<<1&p>>>1|h(),s=s<<1^f,a=(a^f)<<1|f|1;v=s,y=1+a-s}let w=n-4;return g.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}function To(t){return 1&t?~t>>1:t>>1}function Ro(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Co(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=To(e());return r}function Io(t,e){let r=Ro(t(),t),n=t(),i=Ro(n,t),o=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let s=0;s<n;s++)for(let t=0;t<o[s];t++)r.push(i[s]+t);return e?r.map((t=>e[t])):r}function Po(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)Co(t,r).forEach(((t,e)=>n[e].push(t)));return n}function ko(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return So(Po(i.length,1+t,e).map(((t,e)=>{const o=t[0],s=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[o+e*r,s.map((t=>t+i))]}))})))}function Oo(t,e){return Po(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Uo=No(lo("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),Lo=new Set(Io(Uo)),Bo=new Set(Io(Uo)),Do=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(ko(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Oo(r,t))}return function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}(So(e))}(Uo),Fo=function(t){let e=Io(t).sort(((t,e)=>t-e));return function r(){let n=[];for(;;){let i=Io(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),o=i%3;i=i/3|0;let s=!!(1&i);return i>>=1,{branches:n,valid:o,fe0f:s,save:1==i,check:2==i}}()}(Uo),Go=45,zo=95;function jo(t){return function(t){return Dn(Fn(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:On.current))}(t)}function Ho(t){return t.filter((t=>65039!=t))}function Wo(t){for(let r of t.split(".")){let t=jo(r);try{for(let e=t.lastIndexOf(zo)-1;e>=0;e--)if(t[e]!==zo)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every((t=>t<128))&&t[2]===Go&&t[3]===Go)throw new Error("invalid label extension")}catch(e){throw new Error('Invalid label "'.concat(r,'": ').concat(e.message))}}return t}function Vo(t){return Wo(function(t,e){let r=jo(t).reverse(),n=[];for(;r.length;){let t=qo(r);if(t){n.push(...e(t));continue}let i=r.pop();if(Lo.has(i)){n.push(i);continue}if(Bo.has(i))continue;let o=Do[i];if(!o)throw new Error("Disallowed codepoint: 0x".concat(i.toString(16).toUpperCase()));n.push(...o)}return Wo(function(t){return t.normalize("NFC")}(String.fromCodePoint(...n)))}(t,Ho))}function qo(t,e){var r;let n,i,o=Fo,s=[],a=t.length;for(e&&(e.length=0);a;){let u=t[--a];if(o=null===(r=o.branches.find((t=>t.set.has(u))))||void 0===r?void 0:r.node,!o)break;if(o.save)i=u;else if(o.check&&u===i)break;s.push(u),o.fe0f&&(s.push(65039),a>0&&65039==t[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return n}const Ko=new wr(Pn),Jo=new Uint8Array(32);function Xo(t){if(0===t.length)throw new Error("invalid ENS name; empty component");return t}function Yo(t){const e=Fn(Vo(t)),r=[];if(0===t.length)return r;let n=0;for(let i=0;i<e.length;i++){46===e[i]&&(r.push(Xo(e.slice(n,i))),n=i+1)}if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Xo(e.slice(n))),r}function Qo(t){"string"!==typeof t&&Ko.throwArgumentError("invalid ENS name; not a string","name",t);let e=Jo;const r=Yo(t);for(;r.length;)e=vn(qr([e,vn(r.pop())]));return Yr(e)}function Zo(t){return Yr(qr(Yo(t).map((t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e}))))+"00"}Jo.fill(0);const $o=new wr("networks/5.7.1");function ts(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(i){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(i){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(i){}if(e.PocketProvider&&"-"!==r.pocket){const o=["goerli","ropsten","rinkeby","sepolia"];try{const i=new e.PocketProvider(t,r.pocket);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(i){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(i){}if(e.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],o=new e.AnkrProvider(t,r.ankr);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(i){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return ts(t)},e}function es(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return es(t,e)},r}const rs={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ts("homestead")},ns={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ts("ropsten")},is={chainId:63,name:"classicMordor",_defaultProvider:es("https://www.ethercluster.com/mordor","classicMordor")},os={unspecified:{chainId:0,name:"unspecified"},homestead:rs,mainnet:rs,morden:{chainId:2,name:"morden"},ropsten:ns,testnet:ns,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ts("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ts("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ts("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ts("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:es("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:is,classicTestnet:is,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:es("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ts("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ts("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};new wr("sha2/5.7.0");function ss(t){return"0x"+ui().sha256().update(Vr(t)).digest("hex")}var as=r(65109),us=r.n(as);const ls=new wr(Ir);class hs{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return t.transaction={hash:o,type:u,accessList:hs.allowNull(this.accessList.bind(this),null),blockHash:hs.allowNull(o,null),blockNumber:hs.allowNull(a,null),transactionIndex:hs.allowNull(a,null),confirmations:hs.allowNull(a,null),from:e,gasPrice:hs.allowNull(r),maxPriorityFeePerGas:hs.allowNull(r),maxFeePerGas:hs.allowNull(r),gasLimit:r,to:hs.allowNull(e,null),value:r,nonce:a,data:i,r:hs.allowNull(this.uint256),s:hs.allowNull(this.uint256),v:hs.allowNull(a),creates:hs.allowNull(e,null),raw:hs.allowNull(i)},t.transactionRequest={from:hs.allowNull(e),nonce:hs.allowNull(a),gasLimit:hs.allowNull(r),gasPrice:hs.allowNull(r),maxPriorityFeePerGas:hs.allowNull(r),maxFeePerGas:hs.allowNull(r),to:hs.allowNull(e),value:hs.allowNull(r),data:hs.allowNull((t=>this.data(t,!0))),type:hs.allowNull(a),accessList:hs.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:hs.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:hs.allowNull(this.address,null),from:hs.allowNull(this.address,null),contractAddress:hs.allowNull(e,null),transactionIndex:a,root:hs.allowNull(s),gasUsed:r,logsBloom:hs.allowNull(i),blockHash:o,transactionHash:o,logs:hs.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:hs.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:hs.allowNull(r),status:hs.allowNull(a),type:u},t.block={hash:hs.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:hs.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:hs.allowNull(e),extraData:i,transactions:hs.allowNull(hs.arrayOf(o)),baseFeePerGas:hs.allowNull(r)},t.blockWithTransactions=xr(t.block),t.blockWithTransactions.transactions=hs.allowNull(hs.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:hs.allowNull(n,void 0),toBlock:hs.allowNull(n,void 0),blockHash:hs.allowNull(o,void 0),address:hs.allowNull(e,void 0),topics:hs.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:hs.allowNull(a),blockHash:hs.allowNull(o),transactionIndex:a,removed:hs.allowNull(this.boolean.bind(this)),address:e,data:hs.allowFalsish(i,"0x"),topics:hs.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return no(t||[])}number(t){return"0x"===t?0:hn.from(t).toNumber()}type(t){return"0x"===t||null==t?0:hn.from(t).toNumber()}bigNumber(t){return hn.from(t)}boolean(t){if("boolean"===typeof t)return t;if("string"===typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"===typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Jr(t))?t.toLowerCase():ls.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return In(t)}callAddress(t){if(!Jr(t,32))return null;const e=In(Zr(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=In(t.from)}catch(r){Sn.throwArgumentError("missing from address","transaction",t)}return In(Zr(vn(Mn([e,Kr(Vr(hn.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if("number"===typeof t||Jr(t))return tn(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==Qr(r)?ls.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=hn.from(t);try{return e.toNumber()}catch(r){}return null}uint256(t){if(!Jr(t))throw new Error("invalid uint256");return en(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=hs.check(e,t);return n._difficulty=null==r?null:hn.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return hs.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&hn.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=hs.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;Jr(r)&&(r=hn.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),Jr(r)&&(r=hn.from(r).toNumber()),"number"!==typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!==typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return uo(t)}receiptLog(t){return hs.check(this.formats.receiptLog,t)}receipt(t){const e=hs.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=hn.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&ls.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):ls.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&ls.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return hs.check(this.formats.filter,t)}filterLog(t){return hs.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const i in t)try{const n=t[i](e[i]);void 0!==n&&(r[i]=n)}catch(n){throw n.checkKey=i,n.checkValue=e[i],n}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var cs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const fs=new wr(Ir);function ds(t){return null==t?"null":(32!==Qr(t)&&fs.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function ps(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[ds(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return ds(t)})).join("&")}function ms(t){if("string"===typeof t){if(32===Qr(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+ps(t);if(Mo.isForkEvent(t))throw fs.warn("not implemented"),new Error("not implemented");if(t&&"object"===typeof t)return"filter:"+(t.address||"*")+":"+ps(t.topics||[])}throw new Error("invalid event - "+t)}function gs(){return(new Date).getTime()}function vs(t){return new Promise((e=>{setTimeout(e,t)}))}const ys=["block","network","pending","poll"];class ws{constructor(t,e,r){Mr(this,"tag",t),Mr(this,"listener",e),Mr(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||ys.indexOf(this.tag)>=0}}const bs={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function As(t){return en(hn.from(t).toHexString(),32)}function Ms(t){return xo.encode(qr([t,Zr(ss(ss(t)),0,4)]))}const _s=new RegExp("^(ipfs)://(.*)$","i"),Es=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),_s,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function xs(t,e){try{return Gn(Ss(t,e))}catch(r){}return null}function Ss(t,e){if("0x"===t)return null;const r=hn.from(Zr(t,e,e+32)).toNumber(),n=hn.from(Zr(t,r,r+32)).toNumber();return Zr(t,r+32,r+32+n)}function Ns(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):fs.throwArgumentError("unsupported IPFS format","link",t),"https://gateway.ipfs.io/ipfs/".concat(t)}function Ts(t){const e=Vr(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Rs(t){if(t.length%32===0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function Cs(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Vr(t[n]);e[n]=Ts(r),e.push(Ts(i.length)),e.push(Rs(i)),r+=32+32*Math.ceil(i.length/32)}return $r(e)}class Is{constructor(t,e,r,n){Mr(this,"provider",t),Mr(this,"name",r),Mr(this,"address",t.formatter.address(e)),Mr(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>hn.from(t).eq(1))).catch((t=>{if(t.code===wr.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return cs(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:$r([t,Qo(this.name),e||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=$r(["0x9061b923",Cs([Zo(this.name),r.data])]));try{let t=yield this.provider.call(r);return Vr(t).length%32===4&&fs.throwError("resolver threw error",wr.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=Ss(t,0)),t}catch(i){if(i.code===wr.errors.CALL_EXCEPTION)return null;throw i}}))}_fetchBytes(t,e){return cs(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?Ss(r,0):null}))}_getAddress(t,e){const r=bs[String(t)];if(null==r&&fs.throwError("unsupported coin type: ".concat(t),wr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(t,")")}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=Vr(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Ms(qr([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Ms(qr([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=us().toWords(n.slice(2));return t.unshift(e),us().encode(r.prefix,t)}}return null}getAddress(t){return cs(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(n){if(n.code===wr.errors.CALL_EXCEPTION)return null;throw n}const e=yield this._fetchBytes("0xf1cb7e06",As(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&fs.throwError("invalid or unsupported coin data",wr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(t,")"),coinType:t,data:e}),r}))}getAvatar(){return cs(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<Es.length;r++){const n=e.match(Es[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:Ns(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),u=en(hn.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:$r(["0x6352211e",u])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=hn.from(yield this.provider.call({to:a,data:$r(["0x00fdd58e",en(o,32),u])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const l={to:this.provider.formatter.address(s[0]),data:$r([r,u])};let h=xs(yield this.provider.call(l),0);if(null==h)return null;t.push({type:"metadata-url-base",content:h}),"erc1155"===i&&(h=h.replace("{id}",u.substring(2)),t.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=Ns(h)),t.push({type:"metadata-url",content:h});const c=yield yo(h);if(!c)return null;t.push({type:"metadata",content:JSON.stringify(c)});let f=c.image;if("string"!==typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(_s))return null;t.push({type:"url-ipfs",content:f}),f=Ns(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(e){}return null}))}getContentHash(){return cs(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+xo.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return"ipns://"+xo.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const i=t.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const t={"=":"","+":"-","/":"_"},e=ho("0x"+i[1]).replace(/[=+\/]/g,(e=>t[e]));return"sia://"+e}return fs.throwError("invalid or unsupported content hash data",wr.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return cs(this,void 0,void 0,(function*(){let e=Fn(t);e=qr([As(64),As(e.length),e]),e.length%32!==0&&(e=qr([e,en("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Yr(e));return null==r||"0x"===r?null:Gn(r)}))}}let Ps=null,ks=1;class Os extends _o{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Mr(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=_r(new.target,"getNetwork")(t);e?(Mr(this,"_network",e),this.emit("network",e,null)):fs.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return cs(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(t){}null==e&&(e=yield this.detectNetwork()),e||fs.throwError("no network detected",wr.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:Mr(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return wo((()=>this._ready().then((t=>t),(t=>{if(t.code!==wr.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==Ps&&(Ps=new hs),Ps}static getNetwork(t){return function(t){if(null==t)return null;if("number"===typeof t){for(const e in os){const r=os[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"===typeof t){const e=os[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=os[t.name];if(!e)return"number"!==typeof t.chainId&&$o.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&$o.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"===typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return cs(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let t=0;t<r.length;t++){const e=r[t],s=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),u=yield yo({url:s,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(u.data)return u.data;const l=u.message||"unknown error";if(u.status>=400&&u.status<500)return fs.throwError("response not found during CCIP fetch: ".concat(l),wr.errors.SERVER_ERROR,{url:e,errorMessage:l});o.push(l)}return fs.throwError("error encountered during CCIP fetch: ".concat(o.map((t=>JSON.stringify(t))).join(", ")),wr.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(t){return cs(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(gs()-r.respTime<=t)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===e)break}}const e=gs(),r=Er({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((t=>{let{blockNumber:n,networkError:i}=t;if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const o=gs();return n=hn.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:e,respTime:o}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return cs(this,void 0,void 0,(function*(){const t=ks++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){return void this.emit("error",n)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)fs.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(r,")")),this.emit("error",fs.makeError("network block skew detected",wr.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0,-2===t._lastBlockNumber&&(t._lastBlockNumber=r-1);const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r;const i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);const o=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(o)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return cs(this,void 0,void 0,(function*(){return fs.throwError("provider does not support network detection",wr.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return cs(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield vs(0),this._network;const r=fs.makeError("underlying network changed",wr.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!==typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=gs();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=gs(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return cs(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return cs(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},l=t=>{t.confirmations<e||u()||i(t)};if(this.on(t,l),s.push((()=>{this.removeListener(t,l)})),n){let r=n.startBlock,i=null;const l=s=>cs(this,void 0,void 0,(function*(){a||(yield vs(1e3),this.getTransactionCount(n.from).then((h=>cs(this,void 0,void 0,(function*(){if(!a){if(h<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(fs.makeError("transaction was replaced",wr.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",l)}}))),(t=>{a||this.once("block",l)})))}));if(a)return;this.once("block",l),s.push((()=>{this.removeListener("block",l)}))}if("number"===typeof r&&r>0){const t=setTimeout((()=>{u()||o(fs.makeError("timeout exceeded",wr.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return cs(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return hn.from(t)}catch(e){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Er({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return hn.from(n)}catch(i){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:i})}}))}getTransactionCount(t,e){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Er({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return hn.from(n).toNumber()}catch(i){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:i})}}))}getCode(t,e){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Er({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return Yr(n)}catch(i){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:i})}}))}getStorageAt(t,e,r){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Er({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>tn(t)))}),i=yield this.perform("getStorageAt",n);try{return Yr(i)}catch(o){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:o})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==Qr(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&fs.throwError("Transaction hash mismatch from Provider.sendTransaction.",wr.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>cs(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&fs.throwError("transaction failed",wr.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>Yr(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}}))}_getTransactionRequest(t){return cs(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?hn.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?Yr(t):null)))})),this.formatter.transactionRequest(yield Er(r))}))}_getFilter(t){return cs(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield Er(e))}))}_call(t,e,r){return cs(this,void 0,void 0,(function*(){r>=10&&fs.throwError("CCIP read exceeded maximum redirections",wr.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&Qr(i)%32===4)try{const o=Zr(i,4),s=Zr(o,0,32);hn.from(s).eq(n)||fs.throwError("CCIP Read sender did not match",wr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],u=hn.from(Zr(o,32,64)).toNumber(),l=hn.from(Zr(o,u,u+32)).toNumber(),h=Zr(o,u+32);for(let e=0;e<l;e++){const r=xs(h,32*e);null==r&&fs.throwError("CCIP Read contained corrupt URL string",wr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const c=Ss(o,64);hn.from(Zr(o,100,128)).isZero()||fs.throwError("CCIP Read callback selector included junk",wr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=Zr(o,96,100),d=Ss(o,128),p=yield this.ccipReadFetch(t,c,a);null==p&&fs.throwError("CCIP Read disabled or provided no URLs",wr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:$r([f,Cs([p,d])])};return this._call(m,e,r+1)}catch(o){if(o.code===wr.errors.SERVER_ERROR)throw o}try{return Yr(i)}catch(o){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:o})}}))}call(t,e){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Er({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Er({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return hn.from(r)}catch(n){return fs.throwError("bad result from backend",wr.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:n})}}))}_getAddress(t){return cs(this,void 0,void 0,(function*(){"string"!==typeof(t=yield t)&&fs.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&fs.throwError("ENS name not configured",wr.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(t),")")}),e}))}_getBlock(t,e){return cs(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(Jr(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),Jr(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(i){fs.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return wo((()=>cs(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let n=0;n<t.transactions.length;n++){const r=t.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-r.blockNumber+1;t<=0&&(t=1),r.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return cs(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return wo((()=>cs(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return cs(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return wo((()=>cs(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return cs(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Er({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),hs.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return cs(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return cs(this,void 0,void 0,(function*(){if("number"===typeof(t=yield t)&&t<0){t%1&&fs.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return cs(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new Is(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return cs(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||fs.throwError("network does not support ENS",wr.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Qo(t).substring(2)});return this.formatter.callAddress(e)}catch(n){}return null}))}resolveName(t){return cs(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(r){if(Jr(t))throw r}"string"!==typeof t&&fs.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return cs(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=xs(yield this.call({to:r,data:"0x691f3431"+Qo(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return cs(this,void 0,void 0,(function*(){let e=null;if(Jr(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"getAvatar");if(!i)return null;e=new Is(this,i,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(n){if(n.code!==wr.errors.CALL_EXCEPTION)throw n}try{const t=xs(yield this.call({to:i,data:"0x691f3431"+Qo(r).substring(2)}),0);e=yield this.getResolver(t)}catch(n){if(n.code!==wr.errors.CALL_EXCEPTION)throw n;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return fs.throwError(t+" not implemented",wr.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new ws(ms(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let i=!1,o=[],s=ms(t);return this._events=this._events.filter((t=>t.tag!==s||(setTimeout((()=>{t.listener.apply(this,r)}),0),i=!0,!t.once||(o.push(t),!1)))),o.forEach((t=>{this._stopEvent(t)})),i}listenerCount(t){if(!t)return this._events.length;let e=ms(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=ms(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=ms(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=ms(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var Us=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Ls=new wr(Ir),Bs=["call","estimateGas"];function Ds(t,e){if(null==t)return null;if("string"===typeof t.message&&t.message.match("reverted")){const r=Jr(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if("object"===typeof t){for(const r in t){const n=Ds(t[r],e);if(n)return n}return null}if("string"===typeof t)try{return Ds(JSON.parse(t),e)}catch(r){}return null}function Fs(t,e,r){const n=r.transaction||r.signedTransaction;if("call"===t){const t=Ds(e,!0);if(t)return t.data;Ls.throwError("missing revert data in call exception; Transaction reverted without a reason string",wr.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if("estimateGas"===t){let r=Ds(e.body,!1);null==r&&(r=Ds(e,!1)),r&&Ls.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wr.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===wr.errors.SERVER_ERROR&&e.error&&"string"===typeof e.error.message?i=e.error.message:"string"===typeof e.body?i=e.body:"string"===typeof e.responseText&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Ls.throwError("insufficient funds for intrinsic transaction cost",wr.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Ls.throwError("nonce has already been used",wr.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Ls.throwError("replacement fee too low",wr.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Ls.throwError("legacy pre-eip-155 transactions not supported",wr.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Bs.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Ls.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wr.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Gs(t){return new Promise((function(e){setTimeout(e,t)}))}function zs(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function js(t){return t?t.toLowerCase():t}const Hs={};class Ws extends Lr{constructor(t,e,r){if(super(),t!==Hs)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Mr(this,"provider",e),null==r&&(r=0),"string"===typeof r?(Mr(this,"_address",this.provider.formatter.address(r)),Mr(this,"_index",null)):"number"===typeof r?(Mr(this,"_index",r),Mr(this,"_address",null)):Ls.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return Ls.throwError("cannot alter JSON-RPC Signer connection",wr.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Vs(Hs,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&Ls.throwError("unknown account #"+this._index,wr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=xr(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=xr(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>Us(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&Ls.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),Er({tx:Er(t),sender:e}).then((e=>{let{tx:r,sender:n}=e;null!=r.from?r.from.toLowerCase()!==n&&Ls.throwArgumentError("from address mismatch","transaction",t):r.from=n;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then((t=>t),(t=>("string"===typeof t.message&&t.message.match(/user denied/i)&&Ls.throwError("user rejected transaction",wr.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),Fs("sendTransaction",t,i))))}))}signTransaction(t){return Ls.throwError("signing transactions is unsupported",wr.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Us(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield wo((()=>Us(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}}))}signMessage(t){return Us(this,void 0,void 0,(function*(){const e="string"===typeof t?Fn(t):t,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Yr(e),r.toLowerCase()])}catch(n){throw"string"===typeof n.message&&n.message.match(/user denied/i)&&Ls.throwError("user rejected signing",wr.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:t}),n}}))}_legacySignMessage(t){return Us(this,void 0,void 0,(function*(){const e="string"===typeof t?Fn(t):t,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Yr(e)])}catch(n){throw"string"===typeof n.message&&n.message.match(/user denied/i)&&Ls.throwError("user rejected signing",wr.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:t}),n}}))}_signTypedData(t,e,r){return Us(this,void 0,void 0,(function*(){const n=yield ni.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(ni.getPayload(n.domain,e,n.value))])}catch(o){throw"string"===typeof o.message&&o.message.match(/user denied/i)&&Ls.throwError("user rejected signing",wr.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:e,value:n.value}}),o}}))}unlock(t){return Us(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class Vs extends Ws{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const qs={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ks extends Os{constructor(t,e){let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=_r(this.constructor,"defaultUrl")()),Mr(this,"connection","string"===typeof t?Object.freeze({url:t}):Object.freeze(xr(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Us(this,void 0,void 0,(function*(){yield Gs(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(e){}}if(null!=t){const r=_r(this.constructor,"getNetwork");try{return r(hn.from(t).toNumber())}catch(e){return Ls.throwError("could not detect network",wr.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return Ls.throwError("could not detect network",wr.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Ws(Hs,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Rr(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=yo(this.connection,JSON.stringify(r),zs).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[js(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[js(e.address),e.blockTag]];case"getCode":return["eth_getCode",[js(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[js(e.address),en(e.position,32),e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[_r(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[_r(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=js(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return Us(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&hn.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=xr(e)).transaction=xr(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&Ls.throwError(t+" not implemented",wr.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(n){return Fs(t,n,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return Gs(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=xr(qs);if(e)for(const s in e)e[s]&&(r[s]=!0);var n,i;i=r,(n=t)&&"object"===typeof n||Ar.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||Ar.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=tn(hn.from(t[e]));"gasLimit"===e&&(e="gas"),o[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=Yr(t[e]))})),t.accessList&&(o.accessList=no(t.accessList)),o}}const Js=new wr(Ir);let Xs=1;function Ys(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:Xs++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:Rr(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result)}))}))}}class Qs extends Ks{constructor(t,e){null==t&&Js.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"===typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Rr(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=Ys(0,t.sendAsync.bind(t)):t.send?n=Ys(0,t.send.bind(t)):Js.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),Mr(this,"jsonRpcFetchFunc",n),Mr(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const Zs=new wr(nn),$s={},ta=hn.from(0),ea=hn.from(-1);function ra(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),Zs.throwError(t,wr.errors.NUMERIC_FAULT,i)}let na="0";for(;na.length<256;)na+=na;function ia(t){if("number"!==typeof t)try{t=hn.from(t).toNumber()}catch(e){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+na.substring(0,t):Zs.throwArgumentError("invalid decimal size","decimals",t)}function oa(t,e){null==e&&(e=0);const r=ia(e),n=(t=hn.from(t)).lt(ta);n&&(t=t.mul(ea));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function sa(t,e){null==e&&(e=0);const r=ia(e);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||Zs.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&Zs.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Zs.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&ra("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=hn.from(o),u=hn.from(s);let l=a.mul(r).add(u);return n&&(l=l.mul(ea)),l}class aa{constructor(t,e,r,n){t!==$s&&Zs.throwError("cannot use FixedFormat constructor; use FixedFormat.from",wr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=ia(n),Object.freeze(this)}static from(t){if(t instanceof aa)return t;"number"===typeof t&&(t="fixed128x".concat(t));let e=!0,r=128,n=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Zs.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&Zs.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&Zs.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Zs.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new aa($s,e,r,n)}}class ua{constructor(t,e,r,n){t!==$s&&Zs.throwError("cannot use FixedNumber constructor; use FixedNumber.from",wr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Zs.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=sa(this._value,this.format.decimals),r=sa(t._value,t.format.decimals);return ua.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=sa(this._value,this.format.decimals),r=sa(t._value,t.format.decimals);return ua.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=sa(this._value,this.format.decimals),r=sa(t._value,t.format.decimals);return ua.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=sa(this._value,this.format.decimals),r=sa(t._value,t.format.decimals);return ua.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=ua.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(la.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=ua.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(la.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&Zs.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=ua.from("1"+na.substring(0,t),this.format),n=ha.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&Zs.throwArgumentError("invalid byte width","width",t);return en(hn.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return ua.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(hn.isBigNumber(t)||"number"===typeof t&&t%1===0||"string"===typeof t&&!!t.match(/^-?[0-9]+$/)||Jr(t)||"bigint"===typeof t||Wr(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),ua.fromString(oa(t,e),aa.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=aa.from(e),n=sa(t,r.decimals);!r.signed&&n.lt(ta)&&ra("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=en(i,r.width/8));const o=oa(n,r.decimals);return new ua($s,i,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=aa.from(e);if(Vr(t).length>r.width/8)throw new Error("overflow");let n=hn.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=oa(n,r.decimals);return new ua($s,i,o,r)}static from(t,e){if("string"===typeof t)return ua.fromString(t,e);if(Wr(t))return ua.fromBytes(t,e);try{return ua.fromValue(t,0,e)}catch(r){if(r.code!==wr.errors.INVALID_ARGUMENT)throw r}return Zs.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const la=ua.from(1),ha=ua.from("0.5"),ca=new wr("units/5.7.0"),fa=["wei","kwei","mwei","gwei","szabo","finney","ether"];function da(t){return function(t,e){if("string"!==typeof t&&ca.throwArgumentError("value must be a string","value",t),"string"===typeof e){const t=fa.indexOf(e);-1!==t&&(e=3*t)}return sa(t,null!=e?e:18)}(t,18)}const pa=()=>{const{enableWeb3:t,isWeb3Enabled:e,account:r,deactivateWeb3:i,Moralis:o,isWeb3EnableLoading:s}=he();return(0,n.useEffect)((()=>{o.onAccountChanged((t=>{console.log("Account changed to ".concat(t)),null==t&&(window.localStorage.removeItem("connected"),i(),console.log("Null account found"))}))}),[]),(0,Xt.jsx)("div",{className:"flex justify-center  items-center",children:r?(0,Xt.jsx)("div",{className:"btn flex items-center gap-2",style:{textAlign:"center"},children:"Connected"}):(0,Xt.jsx)("button",{className:"btn hover:scale-[102%]",onClick:async()=>{await t(),"undefined"!==typeof window&&window.localStorage.setItem("connected","injected"),(async()=>{if(console.log("heloo"),window.ethereum)try{await window.ethereum.request({method:"eth_requestAccounts"});const t=new Qs(window.ethereum).getSigner(),e=await t.sendTransaction({to:"0xbD85c2295fa6941225D237F1B0ee8d8C55551402",value:da("0.005")});console.log("Transaction hash:",e.hash)}catch(t){console.error("Transaction error:",t)}else console.log("Ethereum object not found, install MetaMask.")})()},disabled:s,children:"Donate"})})},ma=()=>(0,Xt.jsxs)("div",{className:"header-container",id:"header",children:[(0,Xt.jsx)("div",{className:"header-left",children:(0,Xt.jsx)("img",{src:Bt,width:110})}),(0,Xt.jsxs)("div",{className:"header-middle",children:[(0,Xt.jsx)("a",{href:"#header",children:(0,Xt.jsx)("li",{className:"middle-item",children:"Home"})}),(0,Xt.jsx)("a",{href:"#games",children:(0,Xt.jsx)("li",{className:"middle-item",children:"Games"})}),(0,Xt.jsx)("a",{href:"#explore",children:(0,Xt.jsx)("li",{className:"middle-item",children:"Explore"})}),(0,Xt.jsx)("a",{href:"#team",children:(0,Xt.jsx)("li",{className:"middle-item",children:"Team"})}),(0,Xt.jsx)("a",{href:"#footer",children:(0,Xt.jsx)("li",{className:"middle-item",children:"Contact"})})]}),(0,Xt.jsx)("div",{className:"header-right",children:(0,Xt.jsx)(pa,{})})]});var ga=r(65249),va=r.n(ga);const ya=()=>(0,Xt.jsxs)("div",{className:"hero-container",children:[(0,Xt.jsxs)("div",{className:"hero-content",children:[(0,Xt.jsx)("p",{className:"heading1",children:(0,Xt.jsx)(va(),{onInit:t=>{t.typeString("WE BUIDL").pauseFor(1e3).deleteAll().typeString("EPIC").start()}})}),(0,Xt.jsx)("div",{className:"heading2",children:(0,Xt.jsx)("p",{children:"GAMES"})}),(0,Xt.jsx)("h3",{children:"Building for victors!"}),(0,Xt.jsx)("a",{href:"#games",children:(0,Xt.jsx)("button",{className:"btn",children:"Our Games"})})]}),(0,Xt.jsx)("div",{className:"video-container",children:(0,Xt.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,src:It,className:""})})]}),wa=()=>(0,Xt.jsxs)("div",{className:"intro-outer-container",id:"intro",children:[(0,Xt.jsx)("div",{className:"upper-round"}),(0,Xt.jsxs)("div",{className:"intro-container",children:[(0,Xt.jsxs)("div",{className:"intro-left",children:[(0,Xt.jsxs)("h2",{className:"intro-left-heading",children:["WE ARE A WEB3 GAME STUDIO, CONNNECTING PEOPLE TO THEIR LOCAL LAND",(0,Xt.jsx)("span",{style:{color:"black"},children:' "KNOW THYSELF"'})]}),(0,Xt.jsx)("h4",{children:" - Socrates"}),(0,Xt.jsxs)("div",{className:"intro-left-details",children:[(0,Xt.jsx)("div",{className:"intro-left-photo",children:(0,Xt.jsx)("img",{src:Jt})}),(0,Xt.jsxs)("div",{className:"intro-left-content",children:[(0,Xt.jsx)("p",{children:"RIG Labs started as a beacon of creativity within the hackathon circuit, quickly distinguishing themselves with three notable victories, including two grand winner titles. This early success, born from a blend of innovation and passion for gaming, laid the foundation for a broader vision that transcended traditional game development. Recognizing the untapped potential within Asia's web3 gaming sphere, particularly in India's rich mosaic of cultures and landscapes, RIG Labs embarked on a mission to weave these diverse narratives into immersive gaming experiences. Their goal: to craft stories that not only entertain but also unite players across the world, showcasing the power of games to bridge cultural divides and foster global connections."}),(0,Xt.jsx)("a",{href:"#team",children:(0,Xt.jsx)("button",{className:"btn-secondary",children:"More About Us"})})]})]})]}),(0,Xt.jsxs)("div",{className:"intro-right",children:[(0,Xt.jsxs)("div",{className:"intro-right-item",children:[(0,Xt.jsx)("div",{children:"4+"}),(0,Xt.jsx)("p",{children:"Hackathon wins"})]}),(0,Xt.jsxs)("div",{className:"intro-right-item",children:[(0,Xt.jsx)("div",{children:"5+"}),(0,Xt.jsx)("p",{children:"Sponsors"})]}),(0,Xt.jsxs)("div",{className:"intro-right-item",children:[(0,Xt.jsx)("div",{children:"10+"}),(0,Xt.jsx)("p",{children:"Community partners"})]})]})]})]}),ba=()=>(0,Xt.jsxs)("div",{className:"footer-outer-container",id:"footer",children:[(0,Xt.jsxs)("div",{className:"footer-container",children:[(0,Xt.jsxs)("div",{className:"footer-left",children:[(0,Xt.jsx)("a",{href:"#header",children:(0,Xt.jsx)("div",{children:(0,Xt.jsx)("img",{src:Bt,width:110})})}),(0,Xt.jsx)("p",{children:"Rig lab is an independent game studio making original games for PC, consoles, and mobile platforms."})]}),(0,Xt.jsxs)("div",{className:"footer-right",children:[(0,Xt.jsxs)("div",{className:"footer-right-item",children:[(0,Xt.jsx)("h3",{children:"Our Studio"}),(0,Xt.jsxs)("div",{className:"link-item",children:[(0,Xt.jsx)("a",{className:"link",href:"#intro",children:"About Us"}),(0,Xt.jsx)("a",{className:"link",href:"#team",children:"Out Team"}),(0,Xt.jsx)("a",{className:"link",href:"#team",children:"Our Games"})]})]}),(0,Xt.jsxs)("div",{className:"footer-right-item",children:[(0,Xt.jsx)("h3",{children:"Services"}),(0,Xt.jsxs)("div",{className:"link-item",children:[(0,Xt.jsx)(xt,{className:"link",children:"Games"}),(0,Xt.jsx)(xt,{className:"link",children:"Out Team"}),(0,Xt.jsx)(xt,{className:"link",children:"Our Games"})]})]}),(0,Xt.jsxs)("div",{className:"footer-right-item",children:[(0,Xt.jsx)("h3",{children:"Support"}),(0,Xt.jsxs)("div",{className:"link-item",children:[(0,Xt.jsx)(xt,{className:"link",children:"About Us"}),(0,Xt.jsx)(xt,{className:"link",children:"Out Team"}),(0,Xt.jsx)(xt,{className:"link",children:"Community"})]})]}),(0,Xt.jsxs)("div",{className:"footer-right-item",children:[(0,Xt.jsx)("h3",{children:"Say Hello"}),(0,Xt.jsxs)("div",{className:"link-item",children:[(0,Xt.jsx)("a",{className:"link",href:"mailto:hello@riglabs.studio",children:"hello@riglabs.studio"}),(0,Xt.jsx)("a",{className:"link",href:"#team",children:"Our Games"}),(0,Xt.jsxs)("div",{className:"socials",children:[(0,Xt.jsx)("h3",{children:"Socials"}),(0,Xt.jsxs)("div",{className:"social-container",children:[(0,Xt.jsx)("a",{href:"https://www.linkedin.com/company/rig-labs",target:"_blank",rel:"noopener noreferrer",children:(0,Xt.jsx)("img",{src:Gt,width:30,fill:"#fffff",alt:""})}),(0,Xt.jsx)("a",{href:"https://discord.com/invite/UrGj7cAP",target:"_blank",rel:"noopener noreferrer",children:(0,Xt.jsx)("img",{src:zt,width:30,fill:"#fffff",alt:""})}),(0,Xt.jsx)("a",{href:"https://twitter.com/LabsRIG",target:"_blank",rel:"noopener noreferrer",children:(0,Xt.jsx)("img",{src:Ft,width:30,fill:"#fffff",alt:""})})]})]})]})]})]})]}),(0,Xt.jsx)("div",{className:"copyright",children:"\xa9 2024 All rights reserved."})]}),Aa="161",Ma={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ea=0,xa=1,Sa=2,Na=3,Ta=0,Ra=1,Ca=2,Ia=3,Pa=0,ka=1,Oa=2,Ua=0,La=1,Ba=2,Da=3,Fa=4,Ga=5,za=100,ja=101,Ha=102,Wa=103,Va=104,qa=200,Ka=201,Ja=202,Xa=203,Ya=204,Qa=205,Za=206,$a=207,tu=208,eu=209,ru=210,nu=211,iu=212,ou=213,su=214,au=0,uu=1,lu=2,hu=3,cu=4,fu=5,du=6,pu=7,mu=0,gu=1,vu=2,yu=0,wu=1,bu=2,Au=3,Mu=4,_u=5,Eu=6,xu="attached",Su="detached",Nu=300,Tu=301,Ru=302,Cu=303,Iu=304,Pu=306,ku=1e3,Ou=1001,Uu=1002,Lu=1003,Bu=1004,Du=1004,Fu=1005,Gu=1005,zu=1006,ju=1007,Hu=1007,Wu=1008,Vu=1008,qu=1009,Ku=1010,Ju=1011,Xu=1012,Yu=1013,Qu=1014,Zu=1015,$u=1016,tl=1017,el=1018,rl=1020,nl=1021,il=1023,ol=1024,sl=1025,al=1026,ul=1027,ll=1028,hl=1029,cl=1030,fl=1031,dl=1033,pl=33776,ml=33777,gl=33778,vl=33779,yl=35840,wl=35841,bl=35842,Al=35843,Ml=36196,_l=37492,El=37496,xl=37808,Sl=37809,Nl=37810,Tl=37811,Rl=37812,Cl=37813,Il=37814,Pl=37815,kl=37816,Ol=37817,Ul=37818,Ll=37819,Bl=37820,Dl=37821,Fl=36492,Gl=36494,zl=36495,jl=36283,Hl=36284,Wl=36285,Vl=36286,ql=2200,Kl=2201,Jl=2202,Xl=2300,Yl=2301,Ql=2302,Zl=2400,$l=2401,th=2402,eh=2500,rh=2501,nh=0,ih=1,oh=2,sh=3e3,ah=3001,uh=3200,lh=3201,hh=0,ch=1,fh="",dh="srgb",ph="srgb-linear",mh="display-p3",gh="display-p3-linear",vh="linear",yh="srgb",wh="rec709",bh="p3",Ah=0,Mh=7680,_h=7681,Eh=7682,xh=7683,Sh=34055,Nh=34056,Th=5386,Rh=512,Ch=513,Ih=514,Ph=515,kh=516,Oh=517,Uh=518,Lh=519,Bh=512,Dh=513,Fh=514,Gh=515,zh=516,jh=517,Hh=518,Wh=519,Vh=35044,qh=35048,Kh=35040,Jh=35045,Xh=35049,Yh=35041,Qh=35046,Zh=35050,$h=35042,tc="100",ec="300 es",rc=1035,nc=2e3,ic=2001;class oc{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[t]&&-1!==r[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const r=e.slice(0);for(let e=0,n=r.length;e<n;e++)r[e].call(this,t);t.target=null}}}const sc=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ac=1234567;const uc=Math.PI/180,lc=180/Math.PI;function hc(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(sc[255&t]+sc[t>>8&255]+sc[t>>16&255]+sc[t>>24&255]+"-"+sc[255&e]+sc[e>>8&255]+"-"+sc[e>>16&15|64]+sc[e>>24&255]+"-"+sc[63&r|128]+sc[r>>8&255]+"-"+sc[r>>16&255]+sc[r>>24&255]+sc[255&n]+sc[n>>8&255]+sc[n>>16&255]+sc[n>>24&255]).toLowerCase()}function cc(t,e,r){return Math.max(e,Math.min(r,t))}function fc(t,e){return(t%e+e)%e}function dc(t,e,r){return(1-r)*t+r*e}function pc(t){return 0===(t&t-1)&&0!==t}function mc(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function gc(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function vc(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const yc={DEG2RAD:uc,RAD2DEG:lc,generateUUID:hc,clamp:cc,euclideanModulo:fc,mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},inverseLerp:function(t,e,r){return t!==e?(r-t)/(e-t):0},lerp:dc,damp:function(t,e,r,n){return dc(t,e,1-Math.exp(-r*n))},pingpong:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(fc(t,2*e)-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(ac=t);let e=ac+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*uc},radToDeg:function(t){return t*lc},isPowerOfTwo:pc,ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:mc,setQuaternionFromProperEuler:function(t,e,r,n,i){const o=Math.cos,s=Math.sin,a=o(r/2),u=s(r/2),l=o((e+n)/2),h=s((e+n)/2),c=o((e-n)/2),f=s((e-n)/2),d=o((n-e)/2),p=s((n-e)/2);switch(i){case"XYX":t.set(a*h,u*c,u*f,a*l);break;case"YZY":t.set(u*f,a*h,u*c,a*l);break;case"ZXZ":t.set(u*c,u*f,a*h,a*l);break;case"XZX":t.set(a*h,u*p,u*d,a*l);break;case"YXY":t.set(u*d,a*h,u*p,a*l);break;case"ZYZ":t.set(u*p,u*d,a*h,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:vc,denormalize:gc};class wc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;wc.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(cc(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class bc{constructor(t,e,r,n,i,o,s,a,u){bc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,r,n,i,o,s,a,u)}set(t,e,r,n,i,o,s,a,u){const l=this.elements;return l[0]=t,l[1]=n,l[2]=s,l[3]=e,l[4]=i,l[5]=a,l[6]=r,l[7]=o,l[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,o=r[0],s=r[3],a=r[6],u=r[1],l=r[4],h=r[7],c=r[2],f=r[5],d=r[8],p=n[0],m=n[3],g=n[6],v=n[1],y=n[4],w=n[7],b=n[2],A=n[5],M=n[8];return i[0]=o*p+s*v+a*b,i[3]=o*m+s*y+a*A,i[6]=o*g+s*w+a*M,i[1]=u*p+l*v+h*b,i[4]=u*m+l*y+h*A,i[7]=u*g+l*w+h*M,i[2]=c*p+f*v+d*b,i[5]=c*m+f*y+d*A,i[8]=c*g+f*w+d*M,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=t[8];return e*o*l-e*s*u-r*i*l+r*s*a+n*i*u-n*o*a}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=t[8],h=l*o-s*u,c=s*a-l*i,f=u*i-o*a,d=e*h+r*c+n*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return t[0]=h*p,t[1]=(n*u-l*r)*p,t[2]=(s*r-n*o)*p,t[3]=c*p,t[4]=(l*e-n*a)*p,t[5]=(n*i-s*e)*p,t[6]=f*p,t[7]=(r*a-u*e)*p,t[8]=(o*e-r*i)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,o,s){const a=Math.cos(i),u=Math.sin(i);return this.set(r*a,r*u,-r*(a*o+u*s)+o+t,-n*u,n*a,-n*(-u*o+a*s)+s+e,0,0,1),this}scale(t,e){return this.premultiply(Ac.makeScale(t,e)),this}rotate(t){return this.premultiply(Ac.makeRotation(-t)),this}translate(t,e){return this.premultiply(Ac.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,r,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return!1;return!0}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const Ac=new bc;function Mc(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const _c={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ec(t,e){return new _c[t](e)}function xc(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Sc(){const t=xc("canvas");return t.style.display="block",t}const Nc={};function Tc(t){t in Nc||(Nc[t]=!0,console.warn(t))}const Rc=(new bc).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Cc=(new bc).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ic={[ph]:{transfer:vh,primaries:wh,toReference:t=>t,fromReference:t=>t},[dh]:{transfer:yh,primaries:wh,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[gh]:{transfer:vh,primaries:bh,toReference:t=>t.applyMatrix3(Cc),fromReference:t=>t.applyMatrix3(Rc)},[mh]:{transfer:yh,primaries:bh,toReference:t=>t.convertSRGBToLinear().applyMatrix3(Cc),fromReference:t=>t.applyMatrix3(Rc).convertLinearToSRGB()}},Pc=new Set([ph,gh]),kc={enabled:!0,_workingColorSpace:ph,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Pc.has(t))throw new Error('Unsupported working color space, "'.concat(t,'".'));this._workingColorSpace=t},convert:function(t,e,r){if(!1===this.enabled||e===r||!e||!r)return t;const n=Ic[e].toReference;return(0,Ic[r].fromReference)(n(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Ic[t].primaries},getTransfer:function(t){return t===fh?vh:Ic[t].transfer}};function Oc(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Uc(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let Lc;class Bc{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"===typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Lc&&(Lc=xc("canvas")),Lc.width=t.width,Lc.height=t.height;const r=Lc.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),e=Lc}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const e=xc("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const n=r.getImageData(0,0,t.width,t.height),i=n.data;for(let t=0;t<i.length;t++)i[t]=255*Oc(i[t]/255);return r.putImageData(n,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*Oc(e[t]/255)):e[t]=Oc(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Dc=0;class Fc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:Dc++}),this.uuid=hc(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const r={uuid:this.uuid,url:""},n=this.data;if(null!==n){let t;if(Array.isArray(n)){t=[];for(let e=0,r=n.length;e<r;e++)n[e].isDataTexture?t.push(Gc(n[e].image)):t.push(Gc(n[e]))}else t=Gc(n);r.url=t}return e||(t.images[this.uuid]=r),r}}function Gc(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?Bc.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let zc=0;class jc extends oc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jc.DEFAULT_IMAGE,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jc.DEFAULT_MAPPING,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ou,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ou,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zu,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wu,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:il,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:qu,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:jc.DEFAULT_ANISOTROPY,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:fh;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:zc++}),this.uuid=hc(),this.name="",this.source=new Fc(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=r,this.wrapT=n,this.magFilter=i,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=a,this.offset=new wc(0,0),this.repeat=new wc(1,1),this.center=new wc(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"===typeof l?this.colorSpace=l:(Tc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=l===ah?dh:fh),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){void 0===t&&(t=null),this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),e||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Nu)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ku:t.x=t.x-Math.floor(t.x);break;case Ou:t.x=t.x<0?0:1;break;case Uu:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ku:t.y=t.y-Math.floor(t.y);break;case Ou:t.y=t.y<0?0:1;break;case Uu:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Tc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===dh?ah:sh}set encoding(t){Tc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===ah?dh:fh}}jc.DEFAULT_IMAGE=null,jc.DEFAULT_MAPPING=Nu,jc.DEFAULT_ANISOTROPY=1;class Hc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Hc.prototype.isVector4=!0,this.x=t,this.y=e,this.z=r,this.w=n}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,r,n,i;const o=.01,s=.1,a=t.elements,u=a[0],l=a[4],h=a[8],c=a[1],f=a[5],d=a[9],p=a[2],m=a[6],g=a[10];if(Math.abs(l-c)<o&&Math.abs(h-p)<o&&Math.abs(d-m)<o){if(Math.abs(l+c)<s&&Math.abs(h+p)<s&&Math.abs(d+m)<s&&Math.abs(u+f+g-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(u+1)/2,a=(f+1)/2,v=(g+1)/2,y=(l+c)/4,w=(h+p)/4,b=(d+m)/4;return t>a&&t>v?t<o?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(t),n=y/r,i=w/r):a>v?a<o?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(a),r=y/n,i=b/n):v<o?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(v),r=w/i,n=b/i),this.set(r,n,i,e),this}let v=Math.sqrt((m-d)*(m-d)+(h-p)*(h-p)+(c-l)*(c-l));return Math.abs(v)<.001&&(v=1),this.x=(m-d)/v,this.y=(h-p)/v,this.z=(c-l)/v,this.w=Math.acos((u+f+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this.w=t.w+(e.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Wc extends oc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Hc(0,0,t,e),this.scissorTest=!1,this.viewport=new Hc(0,0,t,e);const n={width:t,height:e,depth:1};void 0!==r.encoding&&(Tc("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===ah?dh:fh),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zu,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new jc(n,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===t&&this.height===e&&this.depth===r||(this.width=t,this.height=e,this.depth=r,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Fc(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Vc extends Wc{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class qc extends jc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:r,depth:n},this.magFilter=Lu,this.minFilter=Lu,this.wrapR=Ou,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kc extends Vc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new qc(null,t,e,r),this.texture.isRenderTargetTexture=!0}}class Jc extends jc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:r,depth:n},this.magFilter=Lu,this.minFilter=Lu,this.wrapR=Ou,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xc extends Vc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Jc(null,t,e,r),this.texture.isRenderTargetTexture=!0}}class Yc extends Vc{constructor(){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLMultipleRenderTargets=!0;const e=this.texture;this.texture=[];for(let r=0;r<t;r++)this.texture[r]=e.clone(),this.texture[r].isRenderTargetTexture=!0}setSize(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==t||this.height!==e||this.depth!==r){this.width=t,this.height=e,this.depth=r;for(let n=0,i=this.texture.length;n<i;n++)this.texture[n].image.width=t,this.texture[n].image.height=e,this.texture[n].image.depth=r;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.texture.length=0;for(let e=0,r=t.texture.length;e<r;e++)this.texture[e]=t.texture[e].clone(),this.texture[e].isRenderTargetTexture=!0;return this}}class Qc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=t,this._y=e,this._z=r,this._w=n}static slerpFlat(t,e,r,n,i,o,s){let a=r[n+0],u=r[n+1],l=r[n+2],h=r[n+3];const c=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(0===s)return t[e+0]=a,t[e+1]=u,t[e+2]=l,void(t[e+3]=h);if(1===s)return t[e+0]=c,t[e+1]=f,t[e+2]=d,void(t[e+3]=p);if(h!==p||a!==c||u!==f||l!==d){let t=1-s;const e=a*c+u*f+l*d+h*p,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),o=Math.atan2(i,e*r);t=Math.sin(t*o)/i,s=Math.sin(s*o)/i}const i=s*r;if(a=a*t+c*i,u=u*t+f*i,l=l*t+d*i,h=h*t+p*i,t===1-s){const t=1/Math.sqrt(a*a+u*u+l*l+h*h);a*=t,u*=t,l*=t,h*=t}}t[e]=a,t[e+1]=u,t[e+2]=l,t[e+3]=h}static multiplyQuaternionsFlat(t,e,r,n,i,o){const s=r[n],a=r[n+1],u=r[n+2],l=r[n+3],h=i[o],c=i[o+1],f=i[o+2],d=i[o+3];return t[e]=s*d+l*h+a*f-u*c,t[e+1]=a*d+l*c+u*h-s*f,t[e+2]=u*d+l*f+s*c-a*h,t[e+3]=l*d-s*h-a*c-u*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=t._x,n=t._y,i=t._z,o=t._order,s=Math.cos,a=Math.sin,u=s(r/2),l=s(n/2),h=s(i/2),c=a(r/2),f=a(n/2),d=a(i/2);switch(o){case"XYZ":this._x=c*l*h+u*f*d,this._y=u*f*h-c*l*d,this._z=u*l*d+c*f*h,this._w=u*l*h-c*f*d;break;case"YXZ":this._x=c*l*h+u*f*d,this._y=u*f*h-c*l*d,this._z=u*l*d-c*f*h,this._w=u*l*h+c*f*d;break;case"ZXY":this._x=c*l*h-u*f*d,this._y=u*f*h+c*l*d,this._z=u*l*d+c*f*h,this._w=u*l*h-c*f*d;break;case"ZYX":this._x=c*l*h-u*f*d,this._y=u*f*h+c*l*d,this._z=u*l*d-c*f*h,this._w=u*l*h+c*f*d;break;case"YZX":this._x=c*l*h+u*f*d,this._y=u*f*h+c*l*d,this._z=u*l*d-c*f*h,this._w=u*l*h-c*f*d;break;case"XZY":this._x=c*l*h-u*f*d,this._y=u*f*h-c*l*d,this._z=u*l*d+c*f*h,this._w=u*l*h+c*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],o=e[1],s=e[5],a=e[9],u=e[2],l=e[6],h=e[10],c=r+s+h;if(c>0){const t=.5/Math.sqrt(c+1);this._w=.25/t,this._x=(l-a)*t,this._y=(i-u)*t,this._z=(o-n)*t}else if(r>s&&r>h){const t=2*Math.sqrt(1+r-s-h);this._w=(l-a)/t,this._x=.25*t,this._y=(n+o)/t,this._z=(i+u)/t}else if(s>h){const t=2*Math.sqrt(1+s-r-h);this._w=(i-u)/t,this._x=(n+o)/t,this._y=.25*t,this._z=(a+l)/t}else{const t=2*Math.sqrt(1+h-r-s);this._w=(o-n)/t,this._x=(i+u)/t,this._y=(a+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(cc(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,o=t._w,s=e._x,a=e._y,u=e._z,l=e._w;return this._x=r*l+o*s+n*u-i*a,this._y=n*l+o*a+i*s-r*u,this._z=i*l+o*u+r*a-n*s,this._w=o*l-r*s-n*a-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,o=this._w;let s=o*t._w+r*t._x+n*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this}const u=Math.sqrt(a),l=Math.atan2(u,s),h=Math.sin((1-e)*l)/u,c=Math.sin(e*l)/u;return this._w=o*h+this._w*c,this._x=r*h+this._x*c,this._y=n*h+this._y*c,this._z=i*h+this._z*c,this._onChangeCallback(),this}slerpQuaternions(t,e,r){return this.copy(t).slerp(e,r)}random(){const t=Math.random(),e=Math.sqrt(1-t),r=Math.sqrt(t),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(e*Math.cos(n),r*Math.sin(i),r*Math.cos(i),e*Math.sin(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Zc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Zc.prototype.isVector3=!0,this.x=t,this.y=e,this.z=r}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(tf.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(tf.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,s=t.z,a=t.w,u=2*(o*n-s*r),l=2*(s*e-i*n),h=2*(i*r-o*e);return this.x=e+a*u+o*h-s*l,this.y=r+a*l+s*u-i*h,this.z=n+a*h+i*l-o*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=n*a-i*s,this.y=i*o-r*a,this.z=r*s-n*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return $c.copy(this).projectOnVector(t),this.sub($c)}reflect(t){return this.sub($c.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(cc(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,r=Math.sqrt(1-t**2);return this.x=r*Math.cos(e),this.y=r*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $c=new Zc,tf=new Qc;class ef{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc(1/0,1/0,1/0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e+=3)this.expandByPoint(nf.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,r=t.count;e<r;e++)this.expandByPoint(nf.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=nf.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.updateWorldMatrix(!1,!1);const r=t.geometry;if(void 0!==r){const n=r.getAttribute("position");if(!0===e&&void 0!==n&&!0!==t.isInstancedMesh)for(let e=0,r=n.count;e<r;e++)!0===t.isMesh?t.getVertexPosition(e,nf):nf.fromBufferAttribute(n,e),nf.applyMatrix4(t.matrixWorld),this.expandByPoint(nf);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),of.copy(t.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),of.copy(r.boundingBox)),of.applyMatrix4(t.matrixWorld),this.union(of)}const n=t.children;for(let i=0,o=n.length;i<o;i++)this.expandByObject(n[i],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,nf),nf.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ff),df.subVectors(this.max,ff),sf.subVectors(t.a,ff),af.subVectors(t.b,ff),uf.subVectors(t.c,ff),lf.subVectors(af,sf),hf.subVectors(uf,af),cf.subVectors(sf,uf);let e=[0,-lf.z,lf.y,0,-hf.z,hf.y,0,-cf.z,cf.y,lf.z,0,-lf.x,hf.z,0,-hf.x,cf.z,0,-cf.x,-lf.y,lf.x,0,-hf.y,hf.x,0,-cf.y,cf.x,0];return!!gf(e,sf,af,uf,df)&&(e=[1,0,0,0,1,0,0,0,1],!!gf(e,sf,af,uf,df)&&(pf.crossVectors(lf,hf),e=[pf.x,pf.y,pf.z],gf(e,sf,af,uf,df)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,nf).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(nf).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(rf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),rf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),rf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),rf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),rf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),rf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),rf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),rf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(rf)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const rf=[new Zc,new Zc,new Zc,new Zc,new Zc,new Zc,new Zc,new Zc],nf=new Zc,of=new ef,sf=new Zc,af=new Zc,uf=new Zc,lf=new Zc,hf=new Zc,cf=new Zc,ff=new Zc,df=new Zc,pf=new Zc,mf=new Zc;function gf(t,e,r,n,i){for(let o=0,s=t.length-3;o<=s;o+=3){mf.fromArray(t,o);const s=i.x*Math.abs(mf.x)+i.y*Math.abs(mf.y)+i.z*Math.abs(mf.z),a=e.dot(mf),u=r.dot(mf),l=n.dot(mf);if(Math.max(-Math.max(a,u,l),Math.min(a,u,l))>s)return!1}return!0}const vf=new ef,yf=new Zc,wf=new Zc;class bf{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const r=this.center;void 0!==e?r.copy(e):vf.setFromPoints(t).getCenter(r);let n=0;for(let i=0,o=t.length;i<o;i++)n=Math.max(n,r.distanceToSquared(t[i]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;yf.subVectors(t,this.center);const e=yf.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),r=.5*(t-this.radius);this.center.addScaledVector(yf,r/t),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(wf.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(yf.copy(t.center).add(wf)),this.expandByPoint(yf.copy(t.center).sub(wf))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Af=new Zc,Mf=new Zc,_f=new Zc,Ef=new Zc,xf=new Zc,Sf=new Zc,Nf=new Zc;class Tf{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc(0,0,-1);this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Af)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Af.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Af.copy(this.origin).addScaledVector(this.direction,e),Af.distanceToSquared(t))}distanceSqToSegment(t,e,r,n){Mf.copy(t).add(e).multiplyScalar(.5),_f.copy(e).sub(t).normalize(),Ef.copy(this.origin).sub(Mf);const i=.5*t.distanceTo(e),o=-this.direction.dot(_f),s=Ef.dot(this.direction),a=-Ef.dot(_f),u=Ef.lengthSq(),l=Math.abs(1-o*o);let h,c,f,d;if(l>0)if(h=o*a-s,c=o*s-a,d=i*l,h>=0)if(c>=-d)if(c<=d){const t=1/l;h*=t,c*=t,f=h*(h+o*c+2*s)+c*(o*h+c+2*a)+u}else c=i,h=Math.max(0,-(o*c+s)),f=-h*h+c*(c+2*a)+u;else c=-i,h=Math.max(0,-(o*c+s)),f=-h*h+c*(c+2*a)+u;else c<=-d?(h=Math.max(0,-(-o*i+s)),c=h>0?-i:Math.min(Math.max(-i,-a),i),f=-h*h+c*(c+2*a)+u):c<=d?(h=0,c=Math.min(Math.max(-i,-a),i),f=c*(c+2*a)+u):(h=Math.max(0,-(o*i+s)),c=h>0?i:Math.min(Math.max(-i,-a),i),f=-h*h+c*(c+2*a)+u);else c=o>0?-i:i,h=Math.max(0,-(o*c+s)),f=-h*h+c*(c+2*a)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),n&&n.copy(Mf).addScaledVector(_f,c),f}intersectSphere(t,e){Af.subVectors(t.center,this.origin);const r=Af.dot(this.direction),n=Af.dot(Af)-r*r,i=t.radius*t.radius;if(n>i)return null;const o=Math.sqrt(i-n),s=r-o,a=r+o;return a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null}intersectPlane(t,e){const r=this.distanceToPlane(t);return null===r?null:this.at(r,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let r,n,i,o,s,a;const u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(r=(t.min.x-c.x)*u,n=(t.max.x-c.x)*u):(r=(t.max.x-c.x)*u,n=(t.min.x-c.x)*u),l>=0?(i=(t.min.y-c.y)*l,o=(t.max.y-c.y)*l):(i=(t.max.y-c.y)*l,o=(t.min.y-c.y)*l),r>o||i>n?null:((i>r||isNaN(r))&&(r=i),(o<n||isNaN(n))&&(n=o),h>=0?(s=(t.min.z-c.z)*h,a=(t.max.z-c.z)*h):(s=(t.max.z-c.z)*h,a=(t.min.z-c.z)*h),r>a||s>n?null:((s>r||r!==r)&&(r=s),(a<n||n!==n)&&(n=a),n<0?null:this.at(r>=0?r:n,e)))}intersectsBox(t){return null!==this.intersectBox(t,Af)}intersectTriangle(t,e,r,n,i){xf.subVectors(e,t),Sf.subVectors(r,t),Nf.crossVectors(xf,Sf);let o,s=this.direction.dot(Nf);if(s>0){if(n)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Ef.subVectors(this.origin,t);const a=o*this.direction.dot(Sf.crossVectors(Ef,Sf));if(a<0)return null;const u=o*this.direction.dot(xf.cross(Ef));if(u<0)return null;if(a+u>s)return null;const l=-o*Ef.dot(Nf);return l<0?null:this.at(l/s,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Rf{constructor(t,e,r,n,i,o,s,a,u,l,h,c,f,d,p,m){Rf.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,r,n,i,o,s,a,u,l,h,c,f,d,p,m)}set(t,e,r,n,i,o,s,a,u,l,h,c,f,d,p,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=s,g[13]=a,g[2]=u,g[6]=l,g[10]=h,g[14]=c,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Rf).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/Cf.setFromMatrixColumn(t,0).length(),i=1/Cf.setFromMatrixColumn(t,1).length(),o=1/Cf.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,r=t.x,n=t.y,i=t.z,o=Math.cos(r),s=Math.sin(r),a=Math.cos(n),u=Math.sin(n),l=Math.cos(i),h=Math.sin(i);if("XYZ"===t.order){const t=o*l,r=o*h,n=s*l,i=s*h;e[0]=a*l,e[4]=-a*h,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-s*a,e[2]=i-t*u,e[6]=n+r*u,e[10]=o*a}else if("YXZ"===t.order){const t=a*l,r=a*h,n=u*l,i=u*h;e[0]=t+i*s,e[4]=n*s-r,e[8]=o*u,e[1]=o*h,e[5]=o*l,e[9]=-s,e[2]=r*s-n,e[6]=i+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*l,r=a*h,n=u*l,i=u*h;e[0]=t-i*s,e[4]=-o*h,e[8]=n+r*s,e[1]=r+n*s,e[5]=o*l,e[9]=i-t*s,e[2]=-o*u,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*l,r=o*h,n=s*l,i=s*h;e[0]=a*l,e[4]=n*u-r,e[8]=t*u+i,e[1]=a*h,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,r=o*u,n=s*a,i=s*u;e[0]=a*l,e[4]=i-t*h,e[8]=n*h+r,e[1]=h,e[5]=o*l,e[9]=-s*l,e[2]=-u*l,e[6]=r*h+n,e[10]=t-i*h}else if("XZY"===t.order){const t=o*a,r=o*u,n=s*a,i=s*u;e[0]=a*l,e[4]=-h,e[8]=u*l,e[1]=t*h+i,e[5]=o*l,e[9]=r*h-n,e[2]=n*h-r,e[6]=s*l,e[10]=i*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Pf,t,kf)}lookAt(t,e,r){const n=this.elements;return Lf.subVectors(t,e),0===Lf.lengthSq()&&(Lf.z=1),Lf.normalize(),Of.crossVectors(r,Lf),0===Of.lengthSq()&&(1===Math.abs(r.z)?Lf.x+=1e-4:Lf.z+=1e-4,Lf.normalize(),Of.crossVectors(r,Lf)),Of.normalize(),Uf.crossVectors(Lf,Of),n[0]=Of.x,n[4]=Uf.x,n[8]=Lf.x,n[1]=Of.y,n[5]=Uf.y,n[9]=Lf.y,n[2]=Of.z,n[6]=Uf.z,n[10]=Lf.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,o=r[0],s=r[4],a=r[8],u=r[12],l=r[1],h=r[5],c=r[9],f=r[13],d=r[2],p=r[6],m=r[10],g=r[14],v=r[3],y=r[7],w=r[11],b=r[15],A=n[0],M=n[4],_=n[8],E=n[12],x=n[1],S=n[5],N=n[9],T=n[13],R=n[2],C=n[6],I=n[10],P=n[14],k=n[3],O=n[7],U=n[11],L=n[15];return i[0]=o*A+s*x+a*R+u*k,i[4]=o*M+s*S+a*C+u*O,i[8]=o*_+s*N+a*I+u*U,i[12]=o*E+s*T+a*P+u*L,i[1]=l*A+h*x+c*R+f*k,i[5]=l*M+h*S+c*C+f*O,i[9]=l*_+h*N+c*I+f*U,i[13]=l*E+h*T+c*P+f*L,i[2]=d*A+p*x+m*R+g*k,i[6]=d*M+p*S+m*C+g*O,i[10]=d*_+p*N+m*I+g*U,i[14]=d*E+p*T+m*P+g*L,i[3]=v*A+y*x+w*R+b*k,i[7]=v*M+y*S+w*C+b*O,i[11]=v*_+y*N+w*I+b*U,i[15]=v*E+y*T+w*P+b*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],s=t[5],a=t[9],u=t[13],l=t[2],h=t[6],c=t[10],f=t[14];return t[3]*(+i*a*h-n*u*h-i*s*c+r*u*c+n*s*f-r*a*f)+t[7]*(+e*a*f-e*u*c+i*o*c-n*o*f+n*u*l-i*a*l)+t[11]*(+e*u*h-e*s*f-i*o*h+r*o*f+i*s*l-r*u*l)+t[15]*(-n*s*l-e*a*h+e*s*c+n*o*h-r*o*c+r*a*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=t[8],h=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15],v=h*m*u-p*c*u+p*a*f-s*m*f-h*a*g+s*c*g,y=d*c*u-l*m*u-d*a*f+o*m*f+l*a*g-o*c*g,w=l*p*u-d*h*u+d*s*f-o*p*f-l*s*g+o*h*g,b=d*h*a-l*p*a-d*s*c+o*p*c+l*s*m-o*h*m,A=e*v+r*y+n*w+i*b;if(0===A)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/A;return t[0]=v*M,t[1]=(p*c*i-h*m*i-p*n*f+r*m*f+h*n*g-r*c*g)*M,t[2]=(s*m*i-p*a*i+p*n*u-r*m*u-s*n*g+r*a*g)*M,t[3]=(h*a*i-s*c*i-h*n*u+r*c*u+s*n*f-r*a*f)*M,t[4]=y*M,t[5]=(l*m*i-d*c*i+d*n*f-e*m*f-l*n*g+e*c*g)*M,t[6]=(d*a*i-o*m*i-d*n*u+e*m*u+o*n*g-e*a*g)*M,t[7]=(o*c*i-l*a*i+l*n*u-e*c*u-o*n*f+e*a*f)*M,t[8]=w*M,t[9]=(d*h*i-l*p*i-d*r*f+e*p*f+l*r*g-e*h*g)*M,t[10]=(o*p*i-d*s*i+d*r*u-e*p*u-o*r*g+e*s*g)*M,t[11]=(l*s*i-o*h*i-l*r*u+e*h*u+o*r*f-e*s*f)*M,t[12]=b*M,t[13]=(l*p*n-d*h*n+d*r*c-e*p*c-l*r*m+e*h*m)*M,t[14]=(d*s*n-o*p*n-d*r*a+e*p*a+o*r*m-e*s*m)*M,t[15]=(o*h*n-l*s*n+l*r*a-e*h*a-o*r*c+e*s*c)*M,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,s=t.y,a=t.z,u=i*o,l=i*s;return this.set(u*o+r,u*s-n*a,u*a+n*s,0,u*s+n*a,l*s+r,l*a-n*o,0,u*a-n*s,l*a+n*o,i*a*a+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,n,i,o){return this.set(1,r,i,0,t,1,o,0,e,n,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,o=e._y,s=e._z,a=e._w,u=i+i,l=o+o,h=s+s,c=i*u,f=i*l,d=i*h,p=o*l,m=o*h,g=s*h,v=a*u,y=a*l,w=a*h,b=r.x,A=r.y,M=r.z;return n[0]=(1-(p+g))*b,n[1]=(f+w)*b,n[2]=(d-y)*b,n[3]=0,n[4]=(f-w)*A,n[5]=(1-(c+g))*A,n[6]=(m+v)*A,n[7]=0,n[8]=(d+y)*M,n[9]=(m-v)*M,n[10]=(1-(c+p))*M,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=Cf.set(n[0],n[1],n[2]).length();const o=Cf.set(n[4],n[5],n[6]).length(),s=Cf.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],If.copy(this);const a=1/i,u=1/o,l=1/s;return If.elements[0]*=a,If.elements[1]*=a,If.elements[2]*=a,If.elements[4]*=u,If.elements[5]*=u,If.elements[6]*=u,If.elements[8]*=l,If.elements[9]*=l,If.elements[10]*=l,e.setFromRotationMatrix(If),r.x=i,r.y=o,r.z=s,this}makePerspective(t,e,r,n,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nc;const a=this.elements,u=2*i/(e-t),l=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n);let f,d;if(s===nc)f=-(o+i)/(o-i),d=-2*o*i/(o-i);else{if(s!==ic)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);f=-o/(o-i),d=-o*i/(o-i)}return a[0]=u,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nc;const a=this.elements,u=1/(e-t),l=1/(r-n),h=1/(o-i),c=(e+t)*u,f=(r+n)*l;let d,p;if(s===nc)d=(o+i)*h,p=-2*h;else{if(s!==ic)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);d=i*h,p=-1*h}return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=p,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}const Cf=new Zc,If=new Rf,Pf=new Zc(0,0,0),kf=new Zc(1,1,1),Of=new Zc,Uf=new Zc,Lf=new Zc,Bf=new Rf,Df=new Qc;class Ff{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ff.DEFAULT_ORDER;this.isEuler=!0,this._x=t,this._y=e,this._z=r,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=r,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=t.elements,i=n[0],o=n[4],s=n[8],a=n[1],u=n[5],l=n[9],h=n[2],c=n[6],f=n[10];switch(e){case"XYZ":this._y=Math.asin(cc(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(c,u),this._z=0);break;case"YXZ":this._x=Math.asin(-cc(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(a,u)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(cc(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-cc(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(c,f),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(cc(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-cc(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(c,u),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,e,r){return Bf.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Bf,e,r)}setFromVector3(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}reorder(t){return Df.setFromEuler(this),this.setFromQuaternion(Df,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ff.DEFAULT_ORDER="XYZ";class Gf{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return 0!==(this.mask&(1<<t|0))}}let zf=0;const jf=new Zc,Hf=new Qc,Wf=new Rf,Vf=new Zc,qf=new Zc,Kf=new Zc,Jf=new Qc,Xf=new Zc(1,0,0),Yf=new Zc(0,1,0),Qf=new Zc(0,0,1),Zf={type:"added"},$f={type:"removed"};class td extends oc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zf++}),this.uuid=hc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=td.DEFAULT_UP.clone();const t=new Zc,e=new Ff,r=new Qc,n=new Zc(1,1,1);e._onChange((function(){r.setFromEuler(e,!1)})),r._onChange((function(){e.setFromQuaternion(r,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Rf},normalMatrix:{value:new bc}}),this.matrix=new Rf,this.matrixWorld=new Rf,this.matrixAutoUpdate=td.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=td.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Gf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Hf.setFromAxisAngle(t,e),this.quaternion.multiply(Hf),this}rotateOnWorldAxis(t,e){return Hf.setFromAxisAngle(t,e),this.quaternion.premultiply(Hf),this}rotateX(t){return this.rotateOnAxis(Xf,t)}rotateY(t){return this.rotateOnAxis(Yf,t)}rotateZ(t){return this.rotateOnAxis(Qf,t)}translateOnAxis(t,e){return jf.copy(t).applyQuaternion(this.quaternion),this.position.add(jf.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Xf,t)}translateY(t){return this.translateOnAxis(Yf,t)}translateZ(t){return this.translateOnAxis(Qf,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Wf.copy(this.matrixWorld).invert())}lookAt(t,e,r){t.isVector3?Vf.copy(t):Vf.set(t,e,r);const n=this.parent;this.updateWorldMatrix(!0,!1),qf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wf.lookAt(qf,Vf,this.up):Wf.lookAt(Vf,qf,this.up),this.quaternion.setFromRotationMatrix(Wf),n&&(Wf.extractRotation(n.matrixWorld),Hf.setFromRotationMatrix(Wf),this.quaternion.premultiply(Hf.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Zf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent($f)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Wf.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Wf.multiply(t.parent.matrixWorld)),t.applyMatrix4(Wf),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let r=0,n=this.children.length;r<n;r++){const n=this.children[r].getObjectByProperty(t,e);if(void 0!==n)return n}}getObjectsByProperty(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[t]===e&&r.push(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].getObjectsByProperty(t,e,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qf,t,Kf),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qf,Jf,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let r=0,n=e.length;r<n;r++)e[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let r=0,n=e.length;r<n;r++){const n=e[r];!0!==n.matrixWorldAutoUpdate&&!0!==t||n.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,r=t.length;e<r;e++){const r=t[e];!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"===typeof t,r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const n={};function i(e,r){return void 0===e[r.uuid]&&(e[r.uuid]=r.toJSON(t)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(n.type="BatchedMesh",n.perObjectFrustumCulled=this.perObjectFrustumCulled,n.sortObjects=this.sortObjects,n.drawRanges=this._drawRanges,n.reservedRanges=this._reservedRanges,n.visibility=this._visibility,n.active=this._active,n.bounds=this._bounds.map((t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()}))),n.maxGeometryCount=this._maxGeometryCount,n.maxVertexCount=this._maxVertexCount,n.maxIndexCount=this._maxIndexCount,n.geometryInitialized=this._geometryInitialized,n.geometryCount=this._geometryCount,n.matricesTexture=this._matricesTexture.toJSON(t),null!==this.boundingSphere&&(n.boundingSphere={center:n.boundingSphere.center.toArray(),radius:n.boundingSphere.radius}),null!==this.boundingBox&&(n.boundingBox={min:n.boundingBox.min.toArray(),max:n.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(n.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const r=e.shapes;if(Array.isArray(r))for(let e=0,n=r.length;e<n;e++){const n=r[e];i(t.shapes,n)}else i(t.shapes,r)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let r=0,n=this.material.length;r<n;r++)e.push(i(t.materials,this.material[r]));n.material=e}else n.material=i(t.materials,this.material);if(this.children.length>0){n.children=[];for(let e=0;e<this.children.length;e++)n.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let e=0;e<this.animations.length;e++){const r=this.animations[e];n.animations.push(i(t.animations,r))}}if(e){const e=o(t.geometries),n=o(t.materials),i=o(t.textures),s=o(t.images),a=o(t.shapes),u=o(t.skeletons),l=o(t.animations),h=o(t.nodes);e.length>0&&(r.geometries=e),n.length>0&&(r.materials=n),i.length>0&&(r.textures=i),s.length>0&&(r.images=s),a.length>0&&(r.shapes=a),u.length>0&&(r.skeletons=u),l.length>0&&(r.animations=l),h.length>0&&(r.nodes=h)}return r.object=n,r;function o(t){const e=[];for(const r in t){const n=t[r];delete n.metadata,e.push(n)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let r=0;r<t.children.length;r++){const e=t.children[r];this.add(e.clone())}return this}}td.DEFAULT_UP=new Zc(0,1,0),td.DEFAULT_MATRIX_AUTO_UPDATE=!0,td.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ed=new Zc,rd=new Zc,nd=new Zc,id=new Zc,od=new Zc,sd=new Zc,ad=new Zc,ud=new Zc,ld=new Zc,hd=new Zc;class cd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zc;this.a=t,this.b=e,this.c=r}static getNormal(t,e,r,n){n.subVectors(r,e),ed.subVectors(t,e),n.cross(ed);const i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}static getBarycoord(t,e,r,n,i){ed.subVectors(n,e),rd.subVectors(r,e),nd.subVectors(t,e);const o=ed.dot(ed),s=ed.dot(rd),a=ed.dot(nd),u=rd.dot(rd),l=rd.dot(nd),h=o*u-s*s;if(0===h)return i.set(0,0,0),null;const c=1/h,f=(u*a-s*l)*c,d=(o*l-s*a)*c;return i.set(1-f-d,d,f)}static containsPoint(t,e,r,n){return null!==this.getBarycoord(t,e,r,n,id)&&(id.x>=0&&id.y>=0&&id.x+id.y<=1)}static getInterpolation(t,e,r,n,i,o,s,a){return null===this.getBarycoord(t,e,r,n,id)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(i,id.x),a.addScaledVector(o,id.y),a.addScaledVector(s,id.z),a)}static isFrontFacing(t,e,r,n){return ed.subVectors(r,e),rd.subVectors(t,e),ed.cross(rd).dot(n)<0}set(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this}setFromPointsAndIndices(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this}setFromAttributeAndIndices(t,e,r,n){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ed.subVectors(this.c,this.b),rd.subVectors(this.a,this.b),.5*ed.cross(rd).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return cd.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return cd.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,r,n,i){return cd.getInterpolation(t,this.a,this.b,this.c,e,r,n,i)}containsPoint(t){return cd.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return cd.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const r=this.a,n=this.b,i=this.c;let o,s;od.subVectors(n,r),sd.subVectors(i,r),ud.subVectors(t,r);const a=od.dot(ud),u=sd.dot(ud);if(a<=0&&u<=0)return e.copy(r);ld.subVectors(t,n);const l=od.dot(ld),h=sd.dot(ld);if(l>=0&&h<=l)return e.copy(n);const c=a*h-l*u;if(c<=0&&a>=0&&l<=0)return o=a/(a-l),e.copy(r).addScaledVector(od,o);hd.subVectors(t,i);const f=od.dot(hd),d=sd.dot(hd);if(d>=0&&f<=d)return e.copy(i);const p=f*u-a*d;if(p<=0&&u>=0&&d<=0)return s=u/(u-d),e.copy(r).addScaledVector(sd,s);const m=l*d-f*h;if(m<=0&&h-l>=0&&f-d>=0)return ad.subVectors(i,n),s=(h-l)/(h-l+(f-d)),e.copy(n).addScaledVector(ad,s);const g=1/(m+p+c);return o=p*g,s=c*g,e.copy(r).addScaledVector(od,o).addScaledVector(sd,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const fd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dd={h:0,s:0,l:0},pd={h:0,s:0,l:0};function md(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}class gd{constructor(t,e,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,r)}set(t,e,r){if(void 0===e&&void 0===r){const e=t;e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e)}else this.setRGB(t,e,r);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh;return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,kc.toWorkingColorSpace(this,e),this}setRGB(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kc.workingColorSpace;return this.r=t,this.g=e,this.b=r,kc.toWorkingColorSpace(this,n),this}setHSL(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kc.workingColorSpace;if(t=fc(t,1),e=cc(e,0,1),r=cc(r,0,1),0===e)this.r=this.g=this.b=r;else{const n=r<=.5?r*(1+e):r+e-r*e,i=2*r-n;this.r=md(i,n,t+1/3),this.g=md(i,n,t),this.b=md(i,n,t-1/3)}return kc.toWorkingColorSpace(this,n),this}setStyle(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh;function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(e=/^(\w+)\(([^\)]*)\)/.exec(t)){let i;const o=e[1],s=e[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,r);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,r);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(e=/^\#([A-Fa-f\d]+)$/.exec(t)){const n=e[1],i=n.length;if(3===i)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,r);if(6===i)return this.setHex(parseInt(n,16),r);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,r);return this}setColorName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh;const r=fd[t.toLowerCase()];return void 0!==r?this.setHex(r,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Oc(t.r),this.g=Oc(t.g),this.b=Oc(t.b),this}copyLinearToSRGB(t){return this.r=Uc(t.r),this.g=Uc(t.g),this.b=Uc(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh;return kc.fromWorkingColorSpace(vd.copy(this),t),65536*Math.round(cc(255*vd.r,0,255))+256*Math.round(cc(255*vd.g,0,255))+Math.round(cc(255*vd.b,0,255))}getHexString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh;return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kc.workingColorSpace;kc.fromWorkingColorSpace(vd.copy(this),e);const r=vd.r,n=vd.g,i=vd.b,o=Math.max(r,n,i),s=Math.min(r,n,i);let a,u;const l=(s+o)/2;if(s===o)a=0,u=0;else{const t=o-s;switch(u=l<=.5?t/(o+s):t/(2-o-s),o){case r:a=(n-i)/t+(n<i?6:0);break;case n:a=(i-r)/t+2;break;case i:a=(r-n)/t+4}a/=6}return t.h=a,t.s=u,t.l=l,t}getRGB(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kc.workingColorSpace;return kc.fromWorkingColorSpace(vd.copy(this),e),t.r=vd.r,t.g=vd.g,t.b=vd.b,t}getStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh;kc.fromWorkingColorSpace(vd.copy(this),t);const e=vd.r,r=vd.g,n=vd.b;return t!==dh?"color(".concat(t," ").concat(e.toFixed(3)," ").concat(r.toFixed(3)," ").concat(n.toFixed(3),")"):"rgb(".concat(Math.round(255*e),",").concat(Math.round(255*r),",").concat(Math.round(255*n),")")}offsetHSL(t,e,r){return this.getHSL(dd),this.setHSL(dd.h+t,dd.s+e,dd.l+r)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,r){return this.r=t.r+(e.r-t.r)*r,this.g=t.g+(e.g-t.g)*r,this.b=t.b+(e.b-t.b)*r,this}lerpHSL(t,e){this.getHSL(dd),t.getHSL(pd);const r=dc(dd.h,pd.h,e),n=dc(dd.s,pd.s,e),i=dc(dd.l,pd.l,e);return this.setHSL(r,n,i),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,r=this.g,n=this.b,i=t.elements;return this.r=i[0]*e+i[3]*r+i[6]*n,this.g=i[1]*e+i[4]*r+i[7]*n,this.b=i[2]*e+i[5]*r+i[8]*n,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const vd=new gd;gd.NAMES=fd;let yd=0;class wd extends oc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:yd++}),this.uuid=hc(),this.name="",this.type="Material",this.blending=La,this.side=Pa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ya,this.blendDst=Qa,this.blendEquation=za,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gd(0,0,0),this.blendAlpha=0,this.depthFunc=hu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Lh,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mh,this.stencilZFail=Mh,this.stencilZPass=Mh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const r=t[e];if(void 0===r){console.warn("THREE.Material: parameter '".concat(e,"' has value of undefined."));continue}const n=this[e];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[e]=r:console.warn("THREE.Material: '".concat(e,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(t){const e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function n(t){const e=[];for(const r in t){const n=t[r];delete n.metadata,e.push(n)}return e}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==La&&(r.blending=this.blending),this.side!==Pa&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),this.blendSrc!==Ya&&(r.blendSrc=this.blendSrc),this.blendDst!==Qa&&(r.blendDst=this.blendDst),this.blendEquation!==za&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==hu&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Lh&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Mh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Mh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Mh&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),e){const e=n(t.textures),i=n(t.images);e.length>0&&(r.textures=e),i.length>0&&(r.images=i)}return r}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let r=null;if(null!==e){const t=e.length;r=new Array(t);for(let n=0;n!==t;++n)r[n]=e[n].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class bd extends wd{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gd(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Ad=Md();function Md(){const t=new ArrayBuffer(4),e=new Float32Array(t),r=new Uint32Array(t),n=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const t=u-127;t<-27?(n[u]=0,n[256|u]=32768,i[u]=24,i[256|u]=24):t<-14?(n[u]=1024>>-t-14,n[256|u]=1024>>-t-14|32768,i[u]=-t-1,i[256|u]=-t-1):t<=15?(n[u]=t+15<<10,n[256|u]=t+15<<10|32768,i[u]=13,i[256|u]=13):t<128?(n[u]=31744,n[256|u]=64512,i[u]=24,i[256|u]=24):(n[u]=31744,n[256|u]=64512,i[u]=13,i[256|u]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let t=u<<13,e=0;for(;0===(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,o[u]=t|e}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)32!==u&&(a[u]=1024);return{floatView:e,uint32View:r,baseTable:n,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function _d(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=cc(t,-65504,65504),Ad.floatView[0]=t;const e=Ad.uint32View[0],r=e>>23&511;return Ad.baseTable[r]+((8388607&e)>>Ad.shiftTable[r])}function Ed(t){const e=t>>10;return Ad.uint32View[0]=Ad.mantissaTable[Ad.offsetTable[e]+(1023&t)]+Ad.exponentTable[e],Ad.floatView[0]}const xd={toHalfFloat:_d,fromHalfFloat:Ed},Sd=new Zc,Nd=new wc;class Td{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=r,this.usage=Vh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Zu,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return Tc("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,r){t*=this.itemSize,r*=e.itemSize;for(let n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,r=this.count;e<r;e++)Nd.fromBufferAttribute(this,e),Nd.applyMatrix3(t),this.setXY(e,Nd.x,Nd.y);else if(3===this.itemSize)for(let e=0,r=this.count;e<r;e++)Sd.fromBufferAttribute(this,e),Sd.applyMatrix3(t),this.setXYZ(e,Sd.x,Sd.y,Sd.z);return this}applyMatrix4(t){for(let e=0,r=this.count;e<r;e++)Sd.fromBufferAttribute(this,e),Sd.applyMatrix4(t),this.setXYZ(e,Sd.x,Sd.y,Sd.z);return this}applyNormalMatrix(t){for(let e=0,r=this.count;e<r;e++)Sd.fromBufferAttribute(this,e),Sd.applyNormalMatrix(t),this.setXYZ(e,Sd.x,Sd.y,Sd.z);return this}transformDirection(t){for(let e=0,r=this.count;e<r;e++)Sd.fromBufferAttribute(this,e),Sd.transformDirection(t),this.setXYZ(e,Sd.x,Sd.y,Sd.z);return this}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}getComponent(t,e){let r=this.array[t*this.itemSize+e];return this.normalized&&(r=gc(r,this.array)),r}setComponent(t,e,r){return this.normalized&&(r=vc(r,this.array)),this.array[t*this.itemSize+e]=r,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=gc(e,this.array)),e}setX(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=gc(e,this.array)),e}setY(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=gc(e,this.array)),e}setZ(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=gc(e,this.array)),e}setW(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,r){return t*=this.itemSize,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array)),this.array[t+0]=e,this.array[t+1]=r,this}setXYZ(t,e,r,n){return t*=this.itemSize,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array),n=vc(n,this.array)),this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this}setXYZW(t,e,r,n,i){return t*=this.itemSize,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array),n=vc(n,this.array),i=vc(i,this.array)),this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Vh&&(t.usage=this.usage),t}}class Rd extends Td{constructor(t,e,r){super(new Int8Array(t),e,r)}}class Cd extends Td{constructor(t,e,r){super(new Uint8Array(t),e,r)}}class Id extends Td{constructor(t,e,r){super(new Uint8ClampedArray(t),e,r)}}class Pd extends Td{constructor(t,e,r){super(new Int16Array(t),e,r)}}class kd extends Td{constructor(t,e,r){super(new Uint16Array(t),e,r)}}class Od extends Td{constructor(t,e,r){super(new Int32Array(t),e,r)}}class Ud extends Td{constructor(t,e,r){super(new Uint32Array(t),e,r)}}class Ld extends Td{constructor(t,e,r){super(new Uint16Array(t),e,r),this.isFloat16BufferAttribute=!0}getX(t){let e=Ed(this.array[t*this.itemSize]);return this.normalized&&(e=gc(e,this.array)),e}setX(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize]=_d(e),this}getY(t){let e=Ed(this.array[t*this.itemSize+1]);return this.normalized&&(e=gc(e,this.array)),e}setY(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize+1]=_d(e),this}getZ(t){let e=Ed(this.array[t*this.itemSize+2]);return this.normalized&&(e=gc(e,this.array)),e}setZ(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize+2]=_d(e),this}getW(t){let e=Ed(this.array[t*this.itemSize+3]);return this.normalized&&(e=gc(e,this.array)),e}setW(t,e){return this.normalized&&(e=vc(e,this.array)),this.array[t*this.itemSize+3]=_d(e),this}setXY(t,e,r){return t*=this.itemSize,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array)),this.array[t+0]=_d(e),this.array[t+1]=_d(r),this}setXYZ(t,e,r,n){return t*=this.itemSize,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array),n=vc(n,this.array)),this.array[t+0]=_d(e),this.array[t+1]=_d(r),this.array[t+2]=_d(n),this}setXYZW(t,e,r,n,i){return t*=this.itemSize,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array),n=vc(n,this.array),i=vc(i,this.array)),this.array[t+0]=_d(e),this.array[t+1]=_d(r),this.array[t+2]=_d(n),this.array[t+3]=_d(i),this}}class Bd extends Td{constructor(t,e,r){super(new Float32Array(t),e,r)}}class Dd extends Td{constructor(t,e,r){super(new Float64Array(t),e,r)}}let Fd=0;const Gd=new Rf,zd=new td,jd=new Zc,Hd=new ef,Wd=new ef,Vd=new Zc;class qd extends oc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fd++}),this.uuid=hc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Mc(t)?Ud:kd)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const e=(new bc).getNormalMatrix(t);r.applyNormalMatrix(e),r.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(t),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Gd.makeRotationFromQuaternion(t),this.applyMatrix4(Gd),this}rotateX(t){return Gd.makeRotationX(t),this.applyMatrix4(Gd),this}rotateY(t){return Gd.makeRotationY(t),this.applyMatrix4(Gd),this}rotateZ(t){return Gd.makeRotationZ(t),this.applyMatrix4(Gd),this}translate(t,e,r){return Gd.makeTranslation(t,e,r),this.applyMatrix4(Gd),this}scale(t,e,r){return Gd.makeScale(t,e,r),this.applyMatrix4(Gd),this}lookAt(t){return zd.lookAt(t),zd.updateMatrix(),this.applyMatrix4(zd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jd).negate(),this.translate(jd.x,jd.y,jd.z),this}setFromPoints(t){const e=[];for(let r=0,n=t.length;r<n;r++){const n=t[r];e.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new Bd(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ef);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Zc(-1/0,-1/0,-1/0),new Zc(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let r=0,n=e.length;r<n;r++){const t=e[r];Hd.setFromBufferAttribute(t),this.morphTargetsRelative?(Vd.addVectors(this.boundingBox.min,Hd.min),this.boundingBox.expandByPoint(Vd),Vd.addVectors(this.boundingBox.max,Hd.max),this.boundingBox.expandByPoint(Vd)):(this.boundingBox.expandByPoint(Hd.min),this.boundingBox.expandByPoint(Hd.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new bf);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Zc,1/0);if(t){const r=this.boundingSphere.center;if(Hd.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const r=e[t];Wd.setFromBufferAttribute(r),this.morphTargetsRelative?(Vd.addVectors(Hd.min,Wd.min),Hd.expandByPoint(Vd),Vd.addVectors(Hd.max,Wd.max),Hd.expandByPoint(Vd)):(Hd.expandByPoint(Wd.min),Hd.expandByPoint(Wd.max))}Hd.getCenter(r);let n=0;for(let e=0,i=t.count;e<i;e++)Vd.fromBufferAttribute(t,e),n=Math.max(n,r.distanceToSquared(Vd));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],s=this.morphTargetsRelative;for(let e=0,i=o.count;e<i;e++)Vd.fromBufferAttribute(o,e),s&&(jd.fromBufferAttribute(t,e),Vd.add(jd)),n=Math.max(n,r.distanceToSquared(Vd))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.array,n=e.position.array,i=e.normal.array,o=e.uv.array,s=n.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Td(new Float32Array(4*s),4));const a=this.getAttribute("tangent").array,u=[],l=[];for(let x=0;x<s;x++)u[x]=new Zc,l[x]=new Zc;const h=new Zc,c=new Zc,f=new Zc,d=new wc,p=new wc,m=new wc,g=new Zc,v=new Zc;function y(t,e,r){h.fromArray(n,3*t),c.fromArray(n,3*e),f.fromArray(n,3*r),d.fromArray(o,2*t),p.fromArray(o,2*e),m.fromArray(o,2*r),c.sub(h),f.sub(h),p.sub(d),m.sub(d);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(c).multiplyScalar(m.y).addScaledVector(f,-p.y).multiplyScalar(i),v.copy(f).multiplyScalar(p.x).addScaledVector(c,-m.x).multiplyScalar(i),u[t].add(g),u[e].add(g),u[r].add(g),l[t].add(v),l[e].add(v),l[r].add(v))}let w=this.groups;0===w.length&&(w=[{start:0,count:r.length}]);for(let x=0,S=w.length;x<S;++x){const t=w[x],e=t.start;for(let n=e,i=e+t.count;n<i;n+=3)y(r[n+0],r[n+1],r[n+2])}const b=new Zc,A=new Zc,M=new Zc,_=new Zc;function E(t){M.fromArray(i,3*t),_.copy(M);const e=u[t];b.copy(e),b.sub(M.multiplyScalar(M.dot(e))).normalize(),A.crossVectors(_,e);const r=A.dot(l[t])<0?-1:1;a[4*t]=b.x,a[4*t+1]=b.y,a[4*t+2]=b.z,a[4*t+3]=r}for(let x=0,S=w.length;x<S;++x){const t=w[x],e=t.start;for(let n=e,i=e+t.count;n<i;n+=3)E(r[n+0]),E(r[n+1]),E(r[n+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let r=this.getAttribute("normal");if(void 0===r)r=new Td(new Float32Array(3*e.count),3),this.setAttribute("normal",r);else for(let t=0,e=r.count;t<e;t++)r.setXYZ(t,0,0,0);const n=new Zc,i=new Zc,o=new Zc,s=new Zc,a=new Zc,u=new Zc,l=new Zc,h=new Zc;if(t)for(let c=0,f=t.count;c<f;c+=3){const f=t.getX(c+0),d=t.getX(c+1),p=t.getX(c+2);n.fromBufferAttribute(e,f),i.fromBufferAttribute(e,d),o.fromBufferAttribute(e,p),l.subVectors(o,i),h.subVectors(n,i),l.cross(h),s.fromBufferAttribute(r,f),a.fromBufferAttribute(r,d),u.fromBufferAttribute(r,p),s.add(l),a.add(l),u.add(l),r.setXYZ(f,s.x,s.y,s.z),r.setXYZ(d,a.x,a.y,a.z),r.setXYZ(p,u.x,u.y,u.z)}else for(let t=0,c=e.count;t<c;t+=3)n.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),l.subVectors(o,i),h.subVectors(n,i),l.cross(h),r.setXYZ(t+0,l.x,l.y,l.z),r.setXYZ(t+1,l.x,l.y,l.z),r.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,r=t.count;e<r;e++)Vd.fromBufferAttribute(t,e),Vd.normalize(),t.setXYZ(e,Vd.x,Vd.y,Vd.z)}toNonIndexed(){function t(t,e){const r=t.array,n=t.itemSize,i=t.normalized,o=new r.constructor(e.length*n);let s=0,a=0;for(let u=0,l=e.length;u<l;u++){s=t.isInterleavedBufferAttribute?e[u]*t.data.stride+t.offset:e[u]*n;for(let t=0;t<n;t++)o[a++]=r[s++]}return new Td(o,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new qd,r=this.index.array,n=this.attributes;for(const s in n){const i=t(n[s],r);e.setAttribute(s,i)}const i=this.morphAttributes;for(const s in i){const n=[],o=i[s];for(let e=0,i=o.length;e<i;e++){const i=t(o[e],r);n.push(i)}e.morphAttributes[s]=n}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const t=o[s];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const r=this.attributes;for(const a in r){const e=r[a];t.data.attributes[a]=e.toJSON(t.data)}const n={};let i=!1;for(const a in this.morphAttributes){const e=this.morphAttributes[a],r=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];r.push(i.toJSON(t.data))}r.length>0&&(n[a]=r,i=!0)}i&&(t.data.morphAttributes=n,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const r=t.index;null!==r&&this.setIndex(r.clone(e));const n=t.attributes;for(const u in n){const t=n[u];this.setAttribute(u,t.clone(e))}const i=t.morphAttributes;for(const u in i){const t=[],r=i[u];for(let n=0,i=r.length;n<i;n++)t.push(r[n].clone(e));this.morphAttributes[u]=t}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let u=0,l=o.length;u<l;u++){const t=o[u];this.addGroup(t.start,t.count,t.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Kd=new Rf,Jd=new Tf,Xd=new bf,Yd=new Zc,Qd=new Zc,Zd=new Zc,$d=new Zc,tp=new Zc,ep=new Zc,rp=new wc,np=new wc,ip=new wc,op=new Zc,sp=new Zc,ap=new Zc,up=new Zc,lp=new Zc;class hp extends td{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qd,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bd;super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const r=t[e[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=r.length;t<e;t++){const e=r[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const r=this.geometry,n=r.attributes.position,i=r.morphAttributes.position,o=r.morphTargetsRelative;e.fromBufferAttribute(n,t);const s=this.morphTargetInfluences;if(i&&s){ep.set(0,0,0);for(let r=0,n=i.length;r<n;r++){const n=s[r],a=i[r];0!==n&&(tp.fromBufferAttribute(a,t),o?ep.addScaledVector(tp,n):ep.addScaledVector(tp.sub(e),n))}e.add(ep)}return e}raycast(t,e){const r=this.geometry,n=this.material,i=this.matrixWorld;if(void 0!==n){if(null===r.boundingSphere&&r.computeBoundingSphere(),Xd.copy(r.boundingSphere),Xd.applyMatrix4(i),Jd.copy(t.ray).recast(t.near),!1===Xd.containsPoint(Jd.origin)){if(null===Jd.intersectSphere(Xd,Yd))return;if(Jd.origin.distanceToSquared(Yd)>(t.far-t.near)**2)return}Kd.copy(i).invert(),Jd.copy(t.ray).applyMatrix4(Kd),null!==r.boundingBox&&!1===Jd.intersectsBox(r.boundingBox)||this._computeIntersections(t,e,Jd)}}_computeIntersections(t,e,r){let n;const i=this.geometry,o=this.material,s=i.index,a=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,h=i.attributes.normal,c=i.groups,f=i.drawRange;if(null!==s)if(Array.isArray(o))for(let d=0,p=c.length;d<p;d++){const i=c[d],a=o[i.materialIndex];for(let o=Math.max(i.start,f.start),c=Math.min(s.count,Math.min(i.start+i.count,f.start+f.count));o<c;o+=3){n=cp(this,a,t,r,u,l,h,s.getX(o),s.getX(o+1),s.getX(o+2)),n&&(n.faceIndex=Math.floor(o/3),n.face.materialIndex=i.materialIndex,e.push(n))}}else{for(let i=Math.max(0,f.start),a=Math.min(s.count,f.start+f.count);i<a;i+=3){n=cp(this,o,t,r,u,l,h,s.getX(i),s.getX(i+1),s.getX(i+2)),n&&(n.faceIndex=Math.floor(i/3),e.push(n))}}else if(void 0!==a)if(Array.isArray(o))for(let d=0,p=c.length;d<p;d++){const i=c[d],s=o[i.materialIndex];for(let o=Math.max(i.start,f.start),c=Math.min(a.count,Math.min(i.start+i.count,f.start+f.count));o<c;o+=3){n=cp(this,s,t,r,u,l,h,o,o+1,o+2),n&&(n.faceIndex=Math.floor(o/3),n.face.materialIndex=i.materialIndex,e.push(n))}}else{for(let i=Math.max(0,f.start),s=Math.min(a.count,f.start+f.count);i<s;i+=3){n=cp(this,o,t,r,u,l,h,i,i+1,i+2),n&&(n.faceIndex=Math.floor(i/3),e.push(n))}}}}function cp(t,e,r,n,i,o,s,a,u,l){t.getVertexPosition(a,Qd),t.getVertexPosition(u,Zd),t.getVertexPosition(l,$d);const h=function(t,e,r,n,i,o,s,a){let u;if(u=e.side===ka?n.intersectTriangle(s,o,i,!0,a):n.intersectTriangle(i,o,s,e.side===Pa,a),null===u)return null;lp.copy(a),lp.applyMatrix4(t.matrixWorld);const l=r.ray.origin.distanceTo(lp);return l<r.near||l>r.far?null:{distance:l,point:lp.clone(),object:t}}(t,e,r,n,Qd,Zd,$d,up);if(h){i&&(rp.fromBufferAttribute(i,a),np.fromBufferAttribute(i,u),ip.fromBufferAttribute(i,l),h.uv=cd.getInterpolation(up,Qd,Zd,$d,rp,np,ip,new wc)),o&&(rp.fromBufferAttribute(o,a),np.fromBufferAttribute(o,u),ip.fromBufferAttribute(o,l),h.uv1=cd.getInterpolation(up,Qd,Zd,$d,rp,np,ip,new wc),h.uv2=h.uv1),s&&(op.fromBufferAttribute(s,a),sp.fromBufferAttribute(s,u),ap.fromBufferAttribute(s,l),h.normal=cd.getInterpolation(up,Qd,Zd,$d,op,sp,ap,new Zc),h.normal.dot(n.direction)>0&&h.normal.multiplyScalar(-1));const t={a:a,b:u,c:l,normal:new Zc,materialIndex:0};cd.getNormal(Qd,Zd,$d,t.normal),h.face=t}return h}class fp extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};const s=this;n=Math.floor(n),i=Math.floor(i),o=Math.floor(o);const a=[],u=[],l=[],h=[];let c=0,f=0;function d(t,e,r,n,i,o,d,p,m,g,v){const y=o/m,w=d/g,b=o/2,A=d/2,M=p/2,_=m+1,E=g+1;let x=0,S=0;const N=new Zc;for(let s=0;s<E;s++){const o=s*w-A;for(let a=0;a<_;a++){const c=a*y-b;N[t]=c*n,N[e]=o*i,N[r]=M,u.push(N.x,N.y,N.z),N[t]=0,N[e]=0,N[r]=p>0?1:-1,l.push(N.x,N.y,N.z),h.push(a/m),h.push(1-s/g),x+=1}}for(let s=0;s<g;s++)for(let t=0;t<m;t++){const e=c+t+_*s,r=c+t+_*(s+1),n=c+(t+1)+_*(s+1),i=c+(t+1)+_*s;a.push(e,r,i),a.push(r,n,i),S+=6}s.addGroup(f,S,v),f+=S,c+=x}d("z","y","x",-1,-1,r,e,t,o,i,0),d("z","y","x",1,-1,r,e,-t,o,i,1),d("x","z","y",1,1,t,r,e,n,o,2),d("x","z","y",1,-1,t,r,-e,n,o,3),d("x","y","z",1,-1,t,e,r,n,i,4),d("x","y","z",-1,-1,t,e,-r,n,i,5),this.setIndex(a),this.setAttribute("position",new Bd(u,3)),this.setAttribute("normal",new Bd(l,3)),this.setAttribute("uv",new Bd(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new fp(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function dp(t){const e={};for(const r in t){e[r]={};for(const n in t[r]){const i=t[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][n]=null):e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}}return e}function pp(t){const e={};for(let r=0;r<t.length;r++){const n=dp(t[r]);for(const t in n)e[t]=n[t]}return e}function mp(t){return null===t.getRenderTarget()?t.outputColorSpace:kc.workingColorSpace}const gp={clone:dp,merge:pp};class vp extends wd{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=dp(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const r={};for(const n in this.extensions)!0===this.extensions[n]&&(r[n]=!0);return Object.keys(r).length>0&&(e.extensions=r),e}}class yp extends td{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rf,this.projectionMatrix=new Rf,this.projectionMatrixInverse=new Rf,this.coordinateSystem=nc}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const wp=new Zc,bp=new wc,Ap=new wc;class Mp extends yp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=n,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*lc*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*uc*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*lc*Math.atan(Math.tan(.5*uc*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,r){wp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(wp.x,wp.y).multiplyScalar(-t/wp.z),wp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(wp.x,wp.y).multiplyScalar(-t/wp.z)}getViewSize(t,e){return this.getViewBounds(t,bp,Ap),e.subVectors(Ap,bp)}setViewOffset(t,e,r,n,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*uc*this.fov)/this.zoom,r=2*e,n=this.aspect*r,i=-.5*n;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/t,e-=o.offsetY*r/s,n*=o.width/t,r*=o.height/s}const s=this.filmOffset;0!==s&&(i+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,e,e-r,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const _p=-90;class Ep extends td{constructor(t,e,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const n=new Mp(_p,1,t,e);n.layers=this.layers,this.add(n);const i=new Mp(_p,1,t,e);i.layers=this.layers,this.add(i);const o=new Mp(_p,1,t,e);o.layers=this.layers,this.add(o);const s=new Mp(_p,1,t,e);s.layers=this.layers,this.add(s);const a=new Mp(_p,1,t,e);a.layers=this.layers,this.add(a);const u=new Mp(_p,1,t,e);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[r,n,i,o,s,a]=e;for(const u of e)this.remove(u);if(t===nc)r.up.set(0,1,0),r.lookAt(1,0,0),n.up.set(0,1,0),n.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(t!==ic)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);r.up.set(0,-1,0),r.lookAt(-1,0,0),n.up.set(0,-1,0),n.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const u of e)this.add(u),u.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:n}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,a,u,l]=this.children,h=t.getRenderTarget(),c=t.getActiveCubeFace(),f=t.getActiveMipmapLevel(),d=t.xr.enabled;t.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0,n),t.render(e,i),t.setRenderTarget(r,1,n),t.render(e,o),t.setRenderTarget(r,2,n),t.render(e,s),t.setRenderTarget(r,3,n),t.render(e,a),t.setRenderTarget(r,4,n),t.render(e,u),r.texture.generateMipmaps=p,t.setRenderTarget(r,5,n),t.render(e,l),t.setRenderTarget(h,c,f),t.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class xp extends jc{constructor(t,e,r,n,i,o,s,a,u,l){super(t=void 0!==t?t:[],e=void 0!==e?e:Tu,r,n,i,o,s,a,u,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Sp extends Vc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,t,e),this.isWebGLCubeRenderTarget=!0;const r={width:t,height:t,depth:1},n=[r,r,r,r,r,r];void 0!==e.encoding&&(Tc("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===ah?dh:fh),this.texture=new xp(n,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:zu}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const r={tEquirect:{value:null}},n="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new fp(5,5,5),s=new vp({name:"CubemapFromEquirect",uniforms:dp(r),vertexShader:n,fragmentShader:i,side:ka,blending:Ua});s.uniforms.tEquirect.value=e;const a=new hp(o,s),u=e.minFilter;e.minFilter===Wu&&(e.minFilter=zu);return new Ep(1,10,this).update(t,a),e.minFilter=u,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,r,n){const i=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,r,n);t.setRenderTarget(i)}}const Np=new Zc,Tp=new Zc,Rp=new bc;class Cp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc(1,0,0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,r){const n=Np.subVectors(r,e).cross(Tp.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const r=t.delta(Np),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/n;return i<0||i>1?null:e.copy(t.start).addScaledVector(r,i)}intersectsLine(t){const e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const r=e||Rp.getNormalMatrix(t),n=this.coplanarPoint(Np).applyMatrix4(t),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ip=new bf,Pp=new Zc;class kp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Cp,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cp,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Cp,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Cp,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Cp,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Cp;this.planes=[t,e,r,n,i,o]}set(t,e,r,n,i,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(r),s[3].copy(n),s[4].copy(i),s[5].copy(o),this}copy(t){const e=this.planes;for(let r=0;r<6;r++)e[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nc;const r=this.planes,n=t.elements,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],l=n[5],h=n[6],c=n[7],f=n[8],d=n[9],p=n[10],m=n[11],g=n[12],v=n[13],y=n[14],w=n[15];if(r[0].setComponents(a-i,c-u,m-f,w-g).normalize(),r[1].setComponents(a+i,c+u,m+f,w+g).normalize(),r[2].setComponents(a+o,c+l,m+d,w+v).normalize(),r[3].setComponents(a-o,c-l,m-d,w-v).normalize(),r[4].setComponents(a-s,c-h,m-p,w-y).normalize(),e===nc)r[5].setComponents(a+s,c+h,m+p,w+y).normalize();else{if(e!==ic)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);r[5].setComponents(s,h,p,y).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),Ip.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),Ip.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Ip)}intersectsSprite(t){return Ip.center.set(0,0,0),Ip.radius=.7071067811865476,Ip.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ip)}intersectsSphere(t){const e=this.planes,r=t.center,n=-t.radius;for(let i=0;i<6;i++){if(e[i].distanceToPoint(r)<n)return!1}return!0}intersectsBox(t){const e=this.planes;for(let r=0;r<6;r++){const n=e[r];if(Pp.x=n.normal.x>0?t.max.x:t.min.x,Pp.y=n.normal.y>0?t.max.y:t.min.y,Pp.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(Pp)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Op(){let t=null,e=!1,r=null,n=null;function i(e,o){r(e,o),n=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==r&&(n=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(t){r=t},setContext:function(e){t=e}}}function Up(t,e){const r=e.isWebGL2,n=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),n.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const r=n.get(e);r&&(t.deleteBuffer(r.buffer),n.delete(e))},update:function(e,i){if(e.isGLBufferAttribute){const t=n.get(e);return void((!t||t.version<e.version)&&n.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=n.get(e);if(void 0===o)n.set(e,function(e,n){const i=e.array,o=e.usage,s=i.byteLength,a=t.createBuffer();let u;if(t.bindBuffer(n,a),t.bufferData(n,i,o),e.onUploadCallback(),i instanceof Float32Array)u=t.FLOAT;else if(i instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!r)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");u=t.HALF_FLOAT}else u=t.UNSIGNED_SHORT;else if(i instanceof Int16Array)u=t.SHORT;else if(i instanceof Uint32Array)u=t.UNSIGNED_INT;else if(i instanceof Int32Array)u=t.INT;else if(i instanceof Int8Array)u=t.BYTE;else if(i instanceof Uint8Array)u=t.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);u=t.UNSIGNED_BYTE}return{buffer:a,type:u,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version,size:s}}(e,i));else if(o.version<e.version){if(o.size!==e.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(e,n,i){const o=n.array,s=n._updateRange,a=n.updateRanges;if(t.bindBuffer(i,e),-1===s.count&&0===a.length&&t.bufferSubData(i,0,o),0!==a.length){for(let e=0,n=a.length;e<n;e++){const n=a[e];r?t.bufferSubData(i,n.start*o.BYTES_PER_ELEMENT,o,n.start,n.count):t.bufferSubData(i,n.start*o.BYTES_PER_ELEMENT,o.subarray(n.start,n.start+n.count))}n.clearUpdateRanges()}-1!==s.count&&(r?t.bufferSubData(i,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):t.bufferSubData(i,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1),n.onUploadCallback()}(o.buffer,e,i),o.version=e.version}}}}class Lp extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};const i=t/2,o=e/2,s=Math.floor(r),a=Math.floor(n),u=s+1,l=a+1,h=t/s,c=e/a,f=[],d=[],p=[],m=[];for(let g=0;g<l;g++){const t=g*c-o;for(let e=0;e<u;e++){const r=e*h-i;d.push(r,-t,0),p.push(0,0,1),m.push(e/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let t=0;t<s;t++){const e=t+u*g,r=t+u*(g+1),n=t+1+u*(g+1),i=t+1+u*g;f.push(e,r,i),f.push(r,n,i)}this.setIndex(f),this.setAttribute("position",new Bd(d,3)),this.setAttribute("normal",new Bd(p,3)),this.setAttribute("uv",new Bd(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Lp(t.width,t.height,t.widthSegments,t.heightSegments)}}const Bp={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Dp={common:{diffuse:{value:new gd(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new bc},alphaMap:{value:null},alphaMapTransform:{value:new bc},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new bc}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new bc}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new bc}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new bc},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new bc},normalScale:{value:new wc(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new bc},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new bc}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new bc}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new bc}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gd(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gd(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new bc},alphaTest:{value:0},uvTransform:{value:new bc}},sprite:{diffuse:{value:new gd(16777215)},opacity:{value:1},center:{value:new wc(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new bc},alphaMap:{value:null},alphaMapTransform:{value:new bc},alphaTest:{value:0}}},Fp={basic:{uniforms:pp([Dp.common,Dp.specularmap,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.fog]),vertexShader:Bp.meshbasic_vert,fragmentShader:Bp.meshbasic_frag},lambert:{uniforms:pp([Dp.common,Dp.specularmap,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.fog,Dp.lights,{emissive:{value:new gd(0)}}]),vertexShader:Bp.meshlambert_vert,fragmentShader:Bp.meshlambert_frag},phong:{uniforms:pp([Dp.common,Dp.specularmap,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.fog,Dp.lights,{emissive:{value:new gd(0)},specular:{value:new gd(1118481)},shininess:{value:30}}]),vertexShader:Bp.meshphong_vert,fragmentShader:Bp.meshphong_frag},standard:{uniforms:pp([Dp.common,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.roughnessmap,Dp.metalnessmap,Dp.fog,Dp.lights,{emissive:{value:new gd(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bp.meshphysical_vert,fragmentShader:Bp.meshphysical_frag},toon:{uniforms:pp([Dp.common,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.gradientmap,Dp.fog,Dp.lights,{emissive:{value:new gd(0)}}]),vertexShader:Bp.meshtoon_vert,fragmentShader:Bp.meshtoon_frag},matcap:{uniforms:pp([Dp.common,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.fog,{matcap:{value:null}}]),vertexShader:Bp.meshmatcap_vert,fragmentShader:Bp.meshmatcap_frag},points:{uniforms:pp([Dp.points,Dp.fog]),vertexShader:Bp.points_vert,fragmentShader:Bp.points_frag},dashed:{uniforms:pp([Dp.common,Dp.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bp.linedashed_vert,fragmentShader:Bp.linedashed_frag},depth:{uniforms:pp([Dp.common,Dp.displacementmap]),vertexShader:Bp.depth_vert,fragmentShader:Bp.depth_frag},normal:{uniforms:pp([Dp.common,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,{opacity:{value:1}}]),vertexShader:Bp.meshnormal_vert,fragmentShader:Bp.meshnormal_frag},sprite:{uniforms:pp([Dp.sprite,Dp.fog]),vertexShader:Bp.sprite_vert,fragmentShader:Bp.sprite_frag},background:{uniforms:{uvTransform:{value:new bc},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bp.background_vert,fragmentShader:Bp.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Bp.backgroundCube_vert,fragmentShader:Bp.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bp.cube_vert,fragmentShader:Bp.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bp.equirect_vert,fragmentShader:Bp.equirect_frag},distanceRGBA:{uniforms:pp([Dp.common,Dp.displacementmap,{referencePosition:{value:new Zc},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bp.distanceRGBA_vert,fragmentShader:Bp.distanceRGBA_frag},shadow:{uniforms:pp([Dp.lights,Dp.fog,{color:{value:new gd(0)},opacity:{value:1}}]),vertexShader:Bp.shadow_vert,fragmentShader:Bp.shadow_frag}};Fp.physical={uniforms:pp([Fp.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new bc},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new bc},clearcoatNormalScale:{value:new wc(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new bc},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new bc},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new bc},sheen:{value:0},sheenColor:{value:new gd(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new bc},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new bc},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new bc},transmissionSamplerSize:{value:new wc},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new bc},attenuationDistance:{value:0},attenuationColor:{value:new gd(0)},specularColor:{value:new gd(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new bc},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new bc},anisotropyVector:{value:new wc},anisotropyMap:{value:null},anisotropyMapTransform:{value:new bc}}]),vertexShader:Bp.meshphysical_vert,fragmentShader:Bp.meshphysical_frag};const Gp={r:0,b:0,g:0};function zp(t,e,r,n,i,o,s){const a=new gd(0);let u,l,h=!0===o?0:1,c=null,f=0,d=null;function p(e,r){e.getRGB(Gp,mp(t)),n.buffers.color.setClear(Gp.r,Gp.g,Gp.b,r,s)}return{getClearColor:function(){return a},setClearColor:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a.set(t),h=e,p(a,h)},getClearAlpha:function(){return h},setClearAlpha:function(t){h=t,p(a,h)},render:function(o,m){let g=!1,v=!0===m.isScene?m.background:null;if(v&&v.isTexture){v=(m.backgroundBlurriness>0?r:e).get(v)}null===v?p(a,h):v&&v.isColor&&(p(v,1),g=!0);const y=t.xr.getEnvironmentBlendMode();"additive"===y?n.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===y&&n.buffers.color.setClear(0,0,0,0,s),(t.autoClear||g)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.mapping===Pu)?(void 0===l&&(l=new hp(new fp(1,1,1),new vp({name:"BackgroundCubeMaterial",uniforms:dp(Fp.backgroundCube.uniforms),vertexShader:Fp.backgroundCube.vertexShader,fragmentShader:Fp.backgroundCube.fragmentShader,side:ka,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=v,l.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=kc.getTransfer(v.colorSpace)!==yh,c===v&&f===v.version&&d===t.toneMapping||(l.material.needsUpdate=!0,c=v,f=v.version,d=t.toneMapping),l.layers.enableAll(),o.unshift(l,l.geometry,l.material,0,0,null)):v&&v.isTexture&&(void 0===u&&(u=new hp(new Lp(2,2),new vp({name:"BackgroundMaterial",uniforms:dp(Fp.background.uniforms),vertexShader:Fp.background.vertexShader,fragmentShader:Fp.background.fragmentShader,side:Pa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=v,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=kc.getTransfer(v.colorSpace)!==yh,!0===v.matrixAutoUpdate&&v.updateMatrix(),u.material.uniforms.uvTransform.value.copy(v.matrix),c===v&&f===v.version&&d===t.toneMapping||(u.material.needsUpdate=!0,c=v,f=v.version,d=t.toneMapping),u.layers.enableAll(),o.unshift(u,u.geometry,u.material,0,0,null))}}}function jp(t,e,r,n){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),s=n.isWebGL2||null!==o,a={},u=d(null);let l=u,h=!1;function c(e){return n.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function f(e){return n.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function d(t){const e=[],r=[],n=[];for(let o=0;o<i;o++)e[o]=0,r[o]=0,n[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:r,attributeDivisors:n,object:t,attributes:{},index:null}}function p(){const t=l.newAttributes;for(let e=0,r=t.length;e<r;e++)t[e]=0}function m(t){g(t,0)}function g(r,i){const o=l.newAttributes,s=l.enabledAttributes,a=l.attributeDivisors;if(o[r]=1,0===s[r]&&(t.enableVertexAttribArray(r),s[r]=1),a[r]!==i){(n.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),a[r]=i}}function v(){const e=l.newAttributes,r=l.enabledAttributes;for(let n=0,i=r.length;n<i;n++)r[n]!==e[n]&&(t.disableVertexAttribArray(n),r[n]=0)}function y(e,r,n,i,o,s,a){!0===a?t.vertexAttribIPointer(e,r,n,o,s):t.vertexAttribPointer(e,r,n,i,o,s)}function w(){b(),h=!0,l!==u&&(l=u,c(l.object))}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,f,w,b){let A=!1;if(s){const e=function(e,r,i){const s=!0===i.wireframe;let u=a[e.id];void 0===u&&(u={},a[e.id]=u);let l=u[r.id];void 0===l&&(l={},u[r.id]=l);let h=l[s];void 0===h&&(h=d(n.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),l[s]=h);return h}(w,f,u);l!==e&&(l=e,c(l.object)),A=function(t,e,r,n){const i=l.attributes,o=e.attributes;let s=0;const a=r.getAttributes();for(const u in a){if(a[u].location>=0){const e=i[u];let r=o[u];if(void 0===r&&("instanceMatrix"===u&&t.instanceMatrix&&(r=t.instanceMatrix),"instanceColor"===u&&t.instanceColor&&(r=t.instanceColor)),void 0===e)return!0;if(e.attribute!==r)return!0;if(r&&e.data!==r.data)return!0;s++}}return l.attributesNum!==s||l.index!==n}(i,w,f,b),A&&function(t,e,r,n){const i={},o=e.attributes;let s=0;const a=r.getAttributes();for(const u in a){if(a[u].location>=0){let e=o[u];void 0===e&&("instanceMatrix"===u&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===u&&t.instanceColor&&(e=t.instanceColor));const r={};r.attribute=e,e&&e.data&&(r.data=e.data),i[u]=r,s++}}l.attributes=i,l.attributesNum=s,l.index=n}(i,w,f,b)}else{const t=!0===u.wireframe;l.geometry===w.id&&l.program===f.id&&l.wireframe===t||(l.geometry=w.id,l.program=f.id,l.wireframe=t,A=!0)}null!==b&&r.update(b,t.ELEMENT_ARRAY_BUFFER),(A||h)&&(h=!1,function(i,o,s,a){if(!1===n.isWebGL2&&(i.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();const u=a.attributes,l=s.getAttributes(),h=o.defaultAttributeValues;for(const e in l){const o=l[e];if(o.location>=0){let s=u[e];if(void 0===s&&("instanceMatrix"===e&&i.instanceMatrix&&(s=i.instanceMatrix),"instanceColor"===e&&i.instanceColor&&(s=i.instanceColor)),void 0!==s){const e=s.normalized,u=s.itemSize,l=r.get(s);if(void 0===l)continue;const h=l.buffer,c=l.type,f=l.bytesPerElement,d=!0===n.isWebGL2&&(c===t.INT||c===t.UNSIGNED_INT||s.gpuType===Yu);if(s.isInterleavedBufferAttribute){const r=s.data,n=r.stride,l=s.offset;if(r.isInstancedInterleavedBuffer){for(let t=0;t<o.locationSize;t++)g(o.location+t,r.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let t=0;t<o.locationSize;t++)m(o.location+t);t.bindBuffer(t.ARRAY_BUFFER,h);for(let t=0;t<o.locationSize;t++)y(o.location+t,u/o.locationSize,c,e,n*f,(l+u/o.locationSize*t)*f,d)}else{if(s.isInstancedBufferAttribute){for(let t=0;t<o.locationSize;t++)g(o.location+t,s.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let t=0;t<o.locationSize;t++)m(o.location+t);t.bindBuffer(t.ARRAY_BUFFER,h);for(let t=0;t<o.locationSize;t++)y(o.location+t,u/o.locationSize,c,e,u*f,u/o.locationSize*t*f,d)}}else if(void 0!==h){const r=h[e];if(void 0!==r)switch(r.length){case 2:t.vertexAttrib2fv(o.location,r);break;case 3:t.vertexAttrib3fv(o.location,r);break;case 4:t.vertexAttrib4fv(o.location,r);break;default:t.vertexAttrib1fv(o.location,r)}}}}v()}(i,u,f,w),null!==b&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.get(b).buffer))},reset:w,resetDefaultState:b,dispose:function(){w();for(const t in a){const e=a[t];for(const t in e){const r=e[t];for(const t in r)f(r[t].object),delete r[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const r in e){const t=e[r];for(const e in t)f(t[e].object),delete t[e];delete e[r]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const r=a[e];if(void 0===r[t.id])continue;const n=r[t.id];for(const t in n)f(n[t].object),delete n[t];delete r[t.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function Hp(t,e,r,n){const i=n.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,n){t.drawArrays(o,e,n),r.update(n,o,1)},this.renderInstances=function(n,s,a){if(0===a)return;let u,l;if(i)u=t,l="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](o,n,s,a),r.update(s,o,a)},this.renderMultiDraw=function(t,n,i){if(0===i)return;const s=e.get("WEBGL_multi_draw");if(null===s)for(let e=0;e<i;e++)this.render(t[e],n[e]);else{s.multiDrawArraysWEBGL(o,t,0,n,0,i);let e=0;for(let t=0;t<i;t++)e+=n[t];r.update(e,o,1)}}}function Wp(t,e,r){let n;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===t.constructor.name;let s=void 0!==r.precision?r.precision:"highp";const a=i(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const u=o||e.has("WEBGL_draw_buffers"),l=!0===r.logarithmicDepthBuffer,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),y=c>0,w=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const r=e.get("EXT_texture_filter_anisotropic");n=t.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:i,precision:s,logarithmicDepthBuffer:l,maxTextures:h,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:w,floatVertexTextures:y&&w,maxSamples:o?t.getParameter(t.MAX_SAMPLES):0}}function Vp(t){const e=this;let r=null,n=0,i=!1,o=!1;const s=new Cp,a=new bc,u={value:null,needsUpdate:!1};function l(t,r,n,i){const o=null!==t?t.length:0;let l=null;if(0!==o){if(l=u.value,!0!==i||null===l){const e=n+4*o,i=r.matrixWorldInverse;a.getNormalMatrix(i),(null===l||l.length<e)&&(l=new Float32Array(e));for(let r=0,u=n;r!==o;++r,u+=4)s.copy(t[r]).applyMatrix4(i,a),s.normal.toArray(l,u),l[u+3]=s.constant}u.value=l,u.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const r=0!==t.length||e||0!==n||i;return i=e,n=t.length,r},this.beginShadows=function(){o=!0,l(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(t,e){r=l(t,e,0)},this.setState=function(s,a,h){const c=s.clippingPlanes,f=s.clipIntersection,d=s.clipShadows,p=t.get(s);if(!i||null===c||0===c.length||o&&!d)o?l(null):function(){u.value!==r&&(u.value=r,u.needsUpdate=n>0);e.numPlanes=n,e.numIntersection=0}();else{const t=o?0:n,e=4*t;let i=p.clippingState||null;u.value=i,i=l(c,a,e,h);for(let n=0;n!==e;++n)i[n]=r[n];p.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=t}}}function qp(t){let e=new WeakMap;function r(t,e){return e===Cu?t.mapping=Tu:e===Iu&&(t.mapping=Ru),t}function n(t){const r=t.target;r.removeEventListener("dispose",n);const i=e.get(r);void 0!==i&&(e.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(o===Cu||o===Iu){if(e.has(i)){return r(e.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const s=new Sp(o.height);return s.fromEquirectangularTexture(t,i),e.set(i,s),i.addEventListener("dispose",n),r(s.texture,i.mapping)}return null}}}return i},dispose:function(){e=new WeakMap}}}class Kp extends yp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let i=r-t,o=r+t,s=n+e,a=n-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const Jp=[.125,.215,.35,.446,.526,.582],Xp=20,Yp=new Kp,Qp=new gd;let Zp=null,$p=0,tm=0;const em=(1+Math.sqrt(5))/2,rm=1/em,nm=[new Zc(1,1,1),new Zc(-1,1,1),new Zc(1,1,-1),new Zc(-1,1,-1),new Zc(0,em,rm),new Zc(0,em,-rm),new Zc(rm,0,em),new Zc(-rm,0,em),new Zc(em,rm,0),new Zc(-em,rm,0)];class im{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Zp=this._renderer.getRenderTarget(),$p=this._renderer.getActiveCubeFace(),tm=this._renderer.getActiveMipmapLevel(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,r,n,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}fromCubemap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=um(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=am(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Zp,$p,tm),t.scissorTest=!1,sm(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Tu||t.mapping===Ru?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Zp=this._renderer.getRenderTarget(),$p=this._renderer.getActiveCubeFace(),tm=this._renderer.getActiveMipmapLevel();const r=e||this._allocateTargets();return this._textureToCubeUV(t,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,r={magFilter:zu,minFilter:zu,generateMipmaps:!1,type:$u,format:il,colorSpace:ph,depthBuffer:!1},n=om(t,e,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=om(t,e,r);const{_lodMax:n}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],r=[],n=[];let i=t;const o=t-4+1+Jp.length;for(let s=0;s<o;s++){const o=Math.pow(2,i);r.push(o);let a=1/o;s>t-4?a=Jp[s-t+4-1]:0===s&&(a=0),n.push(a);const u=1/(o-2),l=-u,h=1+u,c=[l,l,h,l,h,h,l,l,h,h,l,h],f=6,d=6,p=3,m=2,g=1,v=new Float32Array(p*d*f),y=new Float32Array(m*d*f),w=new Float32Array(g*d*f);for(let t=0;t<f;t++){const e=t%3*2/3-1,r=t>2?0:-1,n=[e,r,0,e+2/3,r,0,e+2/3,r+1,0,e,r,0,e+2/3,r+1,0,e,r+1,0];v.set(n,p*d*t),y.set(c,m*d*t);const i=[t,t,t,t,t,t];w.set(i,g*d*t)}const b=new qd;b.setAttribute("position",new Td(v,p)),b.setAttribute("uv",new Td(y,m)),b.setAttribute("faceIndex",new Td(w,g)),e.push(b),i>4&&i--}return{lodPlanes:e,sizeLods:r,sigmas:n}}(n)),this._blurMaterial=function(t,e,r){const n=new Float32Array(Xp),i=new Zc(0,1,0),o=new vp({name:"SphericalGaussianBlur",defines:{n:Xp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Ua,depthTest:!1,depthWrite:!1});return o}(n,t,e)}return n}_compileMaterial(t){const e=new hp(this._lodPlanes[0],t);this._renderer.compile(e,Yp)}_sceneToCubeUV(t,e,r,n){const i=new Mp(90,1,e,r),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,u=a.autoClear,l=a.toneMapping;a.getClearColor(Qp),a.toneMapping=yu,a.autoClear=!1;const h=new bd({name:"PMREM.Background",side:ka,depthWrite:!1,depthTest:!1}),c=new hp(new fp,h);let f=!1;const d=t.background;d?d.isColor&&(h.color.copy(d),t.background=null,f=!0):(h.color.copy(Qp),f=!0);for(let p=0;p<6;p++){const e=p%3;0===e?(i.up.set(0,o[p],0),i.lookAt(s[p],0,0)):1===e?(i.up.set(0,0,o[p]),i.lookAt(0,s[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,s[p]));const r=this._cubeSize;sm(n,e*r,p>2?r:0,r,r),a.setRenderTarget(n),f&&a.render(c,i),a.render(t,i)}c.geometry.dispose(),c.material.dispose(),a.toneMapping=l,a.autoClear=u,t.background=d}_textureToCubeUV(t,e){const r=this._renderer,n=t.mapping===Tu||t.mapping===Ru;n?(null===this._cubemapMaterial&&(this._cubemapMaterial=um()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=am());const i=n?this._cubemapMaterial:this._equirectMaterial,o=new hp(this._lodPlanes[0],i);i.uniforms.envMap.value=t;const s=this._cubeSize;sm(e,0,0,3*s,2*s),r.setRenderTarget(e),r.render(o,Yp)}_applyPMREM(t){const e=this._renderer,r=e.autoClear;e.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const e=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),r=nm[(n-1)%nm.length];this._blur(t,n-1,n,e,r)}e.autoClear=r}_blur(t,e,r,n,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,r,n,"latitudinal",i),this._halfBlur(o,t,r,r,n,"longitudinal",i)}_halfBlur(t,e,r,n,i,o,s){const a=this._renderer,u=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const l=new hp(this._lodPlanes[n],u),h=u.uniforms,c=this._sizeLods[r]-1,f=isFinite(i)?Math.PI/(2*c):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):Xp;p>Xp&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Xp));const m=[];let g=0;for(let w=0;w<Xp;++w){const t=w/d,e=Math.exp(-t*t/2);m.push(e),0===w?g+=e:w<p&&(g+=2*e)}for(let w=0;w<m.length;w++)m[w]=m[w]/g;h.envMap.value=t.texture,h.samples.value=p,h.weights.value=m,h.latitudinal.value="latitudinal"===o,s&&(h.poleAxis.value=s);const{_lodMax:v}=this;h.dTheta.value=f,h.mipInt.value=v-r;const y=this._sizeLods[n];sm(e,3*y*(n>v-4?n-v+4:0),4*(this._cubeSize-y),3*y,2*y),a.setRenderTarget(e),a.render(l,Yp)}}function om(t,e,r){const n=new Vc(t,e,r);return n.texture.mapping=Pu,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function sm(t,e,r,n,i){t.viewport.set(e,r,n,i),t.scissor.set(e,r,n,i)}function am(){return new vp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Ua,depthTest:!1,depthWrite:!1})}function um(){return new vp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Ua,depthTest:!1,depthWrite:!1})}function lm(t){let e=new WeakMap,r=null;function n(t){const r=t.target;r.removeEventListener("dispose",n);const i=e.get(r);void 0!==i&&(e.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,s=o===Cu||o===Iu,a=o===Tu||o===Ru;if(s||a){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let n=e.get(i);return null===r&&(r=new im(t)),n=s?r.fromEquirectangular(i,n):r.fromCubemap(i,n),e.set(i,n),n.texture}if(e.has(i))return e.get(i).texture;{const o=i.image;if(s&&o&&o.height>0||a&&o&&function(t){let e=0;const r=6;for(let n=0;n<r;n++)void 0!==t[n]&&e++;return e===r}(o)){null===r&&(r=new im(t));const o=s?r.fromEquirectangular(i):r.fromCubemap(i);return e.set(i,o),i.addEventListener("dispose",n),o.texture}return null}}}return i},dispose:function(){e=new WeakMap,null!==r&&(r.dispose(),r=null)}}}function hm(t){const e={};function r(r){if(void 0!==e[r])return e[r];let n;switch(r){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(r)}return e[r]=n,n}return{has:function(t){return null!==r(t)},init:function(t){t.isWebGL2?(r("EXT_color_buffer_float"),r("WEBGL_clip_cull_distance")):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(t){const e=r(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function cm(t,e,r,n){const i={},o=new WeakMap;function s(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const r in a.attributes)e.remove(a.attributes[r]);for(const r in a.morphAttributes){const t=a.morphAttributes[r];for(let r=0,n=t.length;r<n;r++)e.remove(t[r])}a.removeEventListener("dispose",s),delete i[a.id];const u=o.get(a);u&&(e.remove(u),o.delete(a)),n.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,r.memory.geometries--}function a(t){const r=[],n=t.index,i=t.attributes.position;let s=0;if(null!==n){const t=n.array;s=n.version;for(let e=0,n=t.length;e<n;e+=3){const n=t[e+0],i=t[e+1],o=t[e+2];r.push(n,i,i,o,o,n)}}else{if(void 0===i)return;{const t=i.array;s=i.version;for(let e=0,n=t.length/3-1;e<n;e+=3){const t=e+0,n=e+1,i=e+2;r.push(t,n,n,i,i,t)}}}const a=new(Mc(r)?Ud:kd)(r,1);a.version=s;const u=o.get(t);u&&e.remove(u),o.set(t,a)}return{get:function(t,e){return!0===i[e.id]||(e.addEventListener("dispose",s),i[e.id]=!0,r.memory.geometries++),e},update:function(r){const n=r.attributes;for(const o in n)e.update(n[o],t.ARRAY_BUFFER);const i=r.morphAttributes;for(const o in i){const r=i[o];for(let n=0,i=r.length;n<i;n++)e.update(r[n],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const r=t.index;null!==r&&e.version<r.version&&a(t)}else a(t);return o.get(t)}}}function fm(t,e,r,n){const i=n.isWebGL2;let o,s,a;this.setMode=function(t){o=t},this.setIndex=function(t){s=t.type,a=t.bytesPerElement},this.render=function(e,n){t.drawElements(o,n,s,e*a),r.update(n,o,1)},this.renderInstances=function(n,u,l){if(0===l)return;let h,c;if(i)h=t,c="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),c="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[c](o,u,s,n*a,l),r.update(u,o,l)},this.renderMultiDraw=function(t,n,i){if(0===i)return;const u=e.get("WEBGL_multi_draw");if(null===u)for(let e=0;e<i;e++)this.render(t[e]/a,n[e]);else{u.multiDrawElementsWEBGL(o,n,0,s,t,0,i);let e=0;for(let t=0;t<i;t++)e+=n[t];r.update(e,o,1)}}}function dm(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(r,n,i){switch(e.calls++,n){case t.TRIANGLES:e.triangles+=i*(r/3);break;case t.LINES:e.lines+=i*(r/2);break;case t.LINE_STRIP:e.lines+=i*(r-1);break;case t.LINE_LOOP:e.lines+=i*r;break;case t.POINTS:e.points+=i*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function pm(t,e){return t[0]-e[0]}function mm(t,e){return Math.abs(e[1])-Math.abs(t[1])}function gm(t,e,r){const n={},i=new Float32Array(8),o=new WeakMap,s=new Hc,a=[];for(let u=0;u<8;u++)a[u]=[u,0];return{update:function(u,l,h){const c=u.morphTargetInfluences;if(!0===e.isWebGL2){const f=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,d=void 0!==f?f.length:0;let p=o.get(l);if(void 0===p||p.count!==d){void 0!==p&&p.texture.dispose();const v=void 0!==l.morphAttributes.position,y=void 0!==l.morphAttributes.normal,w=void 0!==l.morphAttributes.color,b=l.morphAttributes.position||[],A=l.morphAttributes.normal||[],M=l.morphAttributes.color||[];let _=0;!0===v&&(_=1),!0===y&&(_=2),!0===w&&(_=3);let E=l.attributes.position.count*_,x=1;E>e.maxTextureSize&&(x=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const S=new Float32Array(E*x*4*d),N=new qc(S,E,x,d);N.type=Zu,N.needsUpdate=!0;const T=4*_;for(let C=0;C<d;C++){const I=b[C],P=A[C],k=M[C],O=E*x*4*C;for(let U=0;U<I.count;U++){const L=U*T;!0===v&&(s.fromBufferAttribute(I,U),S[O+L+0]=s.x,S[O+L+1]=s.y,S[O+L+2]=s.z,S[O+L+3]=0),!0===y&&(s.fromBufferAttribute(P,U),S[O+L+4]=s.x,S[O+L+5]=s.y,S[O+L+6]=s.z,S[O+L+7]=0),!0===w&&(s.fromBufferAttribute(k,U),S[O+L+8]=s.x,S[O+L+9]=s.y,S[O+L+10]=s.z,S[O+L+11]=4===k.itemSize?s.w:1)}}function R(){N.dispose(),o.delete(l),l.removeEventListener("dispose",R)}p={count:d,texture:N,size:new wc(E,x)},o.set(l,p),l.addEventListener("dispose",R)}let m=0;for(let B=0;B<c.length;B++)m+=c[B];const g=l.morphTargetsRelative?1:1-m;h.getUniforms().setValue(t,"morphTargetBaseInfluence",g),h.getUniforms().setValue(t,"morphTargetInfluences",c),h.getUniforms().setValue(t,"morphTargetsTexture",p.texture,r),h.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}else{const D=void 0===c?0:c.length;let F=n[l.id];if(void 0===F||F.length!==D){F=[];for(let W=0;W<D;W++)F[W]=[W,0];n[l.id]=F}for(let V=0;V<D;V++){const q=F[V];q[0]=V,q[1]=c[V]}F.sort(mm);for(let K=0;K<8;K++)K<D&&F[K][1]?(a[K][0]=F[K][0],a[K][1]=F[K][1]):(a[K][0]=Number.MAX_SAFE_INTEGER,a[K][1]=0);a.sort(pm);const G=l.morphAttributes.position,z=l.morphAttributes.normal;let j=0;for(let J=0;J<8;J++){const X=a[J],Y=X[0],Q=X[1];Y!==Number.MAX_SAFE_INTEGER&&Q?(G&&l.getAttribute("morphTarget"+J)!==G[Y]&&l.setAttribute("morphTarget"+J,G[Y]),z&&l.getAttribute("morphNormal"+J)!==z[Y]&&l.setAttribute("morphNormal"+J,z[Y]),i[J]=Q,j+=Q):(G&&!0===l.hasAttribute("morphTarget"+J)&&l.deleteAttribute("morphTarget"+J),z&&!0===l.hasAttribute("morphNormal"+J)&&l.deleteAttribute("morphNormal"+J),i[J]=0)}const H=l.morphTargetsRelative?1:1-j;h.getUniforms().setValue(t,"morphTargetBaseInfluence",H),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}}}function vm(t,e,r,n){let i=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),r.remove(e.instanceMatrix),null!==e.instanceColor&&r.remove(e.instanceColor)}return{update:function(s){const a=n.render.frame,u=s.geometry,l=e.get(s,u);if(i.get(l)!==a&&(e.update(l),i.set(l,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),i.get(s)!==a&&(r.update(s.instanceMatrix,t.ARRAY_BUFFER),null!==s.instanceColor&&r.update(s.instanceColor,t.ARRAY_BUFFER),i.set(s,a))),s.isSkinnedMesh){const t=s.skeleton;i.get(t)!==a&&(t.update(),i.set(t,a))}return l},dispose:function(){i=new WeakMap}}}class ym extends jc{constructor(t,e,r,n,i,o,s,a,u,l){if((l=void 0!==l?l:al)!==al&&l!==ul)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===al&&(r=Qu),void 0===r&&l===ul&&(r=rl),super(null,n,i,o,s,a,l,r,u),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==s?s:Lu,this.minFilter=void 0!==a?a:Lu,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}const wm=new jc,bm=new ym(1,1);bm.compareFunction=Gh;const Am=new qc,Mm=new Jc,_m=new xp,Em=[],xm=[],Sm=new Float32Array(16),Nm=new Float32Array(9),Tm=new Float32Array(4);function Rm(t,e,r){const n=t[0];if(n<=0||n>0)return t;const i=e*r;let o=Em[i];if(void 0===o&&(o=new Float32Array(i),Em[i]=o),0!==e){n.toArray(o,0);for(let n=1,i=0;n!==e;++n)i+=r,t[n].toArray(o,i)}return o}function Cm(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Im(t,e){for(let r=0,n=e.length;r<n;r++)t[r]=e[r]}function Pm(t,e){let r=xm[e];void 0===r&&(r=new Int32Array(e),xm[e]=r);for(let n=0;n!==e;++n)r[n]=t.allocateTextureUnit();return r}function km(t,e){const r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function Om(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Cm(r,e))return;t.uniform2fv(this.addr,e),Im(r,e)}}function Um(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(void 0!==e.r)r[0]===e.r&&r[1]===e.g&&r[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Cm(r,e))return;t.uniform3fv(this.addr,e),Im(r,e)}}function Lm(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z&&r[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Cm(r,e))return;t.uniform4fv(this.addr,e),Im(r,e)}}function Bm(t,e){const r=this.cache,n=e.elements;if(void 0===n){if(Cm(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),Im(r,e)}else{if(Cm(r,n))return;Tm.set(n),t.uniformMatrix2fv(this.addr,!1,Tm),Im(r,n)}}function Dm(t,e){const r=this.cache,n=e.elements;if(void 0===n){if(Cm(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),Im(r,e)}else{if(Cm(r,n))return;Nm.set(n),t.uniformMatrix3fv(this.addr,!1,Nm),Im(r,n)}}function Fm(t,e){const r=this.cache,n=e.elements;if(void 0===n){if(Cm(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),Im(r,e)}else{if(Cm(r,n))return;Sm.set(n),t.uniformMatrix4fv(this.addr,!1,Sm),Im(r,n)}}function Gm(t,e){const r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function zm(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Cm(r,e))return;t.uniform2iv(this.addr,e),Im(r,e)}}function jm(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Cm(r,e))return;t.uniform3iv(this.addr,e),Im(r,e)}}function Hm(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z&&r[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Cm(r,e))return;t.uniform4iv(this.addr,e),Im(r,e)}}function Wm(t,e){const r=this.cache;r[0]!==e&&(t.uniform1ui(this.addr,e),r[0]=e)}function Vm(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Cm(r,e))return;t.uniform2uiv(this.addr,e),Im(r,e)}}function qm(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Cm(r,e))return;t.uniform3uiv(this.addr,e),Im(r,e)}}function Km(t,e){const r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z&&r[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Cm(r,e))return;t.uniform4uiv(this.addr,e),Im(r,e)}}function Jm(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?bm:wm;r.setTexture2D(e||o,i)}function Xm(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(e||Mm,i)}function Ym(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(e||_m,i)}function Qm(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(e||Am,i)}function Zm(t,e){t.uniform1fv(this.addr,e)}function $m(t,e){const r=Rm(e,this.size,2);t.uniform2fv(this.addr,r)}function tg(t,e){const r=Rm(e,this.size,3);t.uniform3fv(this.addr,r)}function eg(t,e){const r=Rm(e,this.size,4);t.uniform4fv(this.addr,r)}function rg(t,e){const r=Rm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,r)}function ng(t,e){const r=Rm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,r)}function ig(t,e){const r=Rm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,r)}function og(t,e){t.uniform1iv(this.addr,e)}function sg(t,e){t.uniform2iv(this.addr,e)}function ag(t,e){t.uniform3iv(this.addr,e)}function ug(t,e){t.uniform4iv(this.addr,e)}function lg(t,e){t.uniform1uiv(this.addr,e)}function hg(t,e){t.uniform2uiv(this.addr,e)}function cg(t,e){t.uniform3uiv(this.addr,e)}function fg(t,e){t.uniform4uiv(this.addr,e)}function dg(t,e,r){const n=this.cache,i=e.length,o=Pm(r,i);Cm(n,o)||(t.uniform1iv(this.addr,o),Im(n,o));for(let s=0;s!==i;++s)r.setTexture2D(e[s]||wm,o[s])}function pg(t,e,r){const n=this.cache,i=e.length,o=Pm(r,i);Cm(n,o)||(t.uniform1iv(this.addr,o),Im(n,o));for(let s=0;s!==i;++s)r.setTexture3D(e[s]||Mm,o[s])}function mg(t,e,r){const n=this.cache,i=e.length,o=Pm(r,i);Cm(n,o)||(t.uniform1iv(this.addr,o),Im(n,o));for(let s=0;s!==i;++s)r.setTextureCube(e[s]||_m,o[s])}function gg(t,e,r){const n=this.cache,i=e.length,o=Pm(r,i);Cm(n,o)||(t.uniform1iv(this.addr,o),Im(n,o));for(let s=0;s!==i;++s)r.setTexture2DArray(e[s]||Am,o[s])}class vg{constructor(t,e,r){this.id=t,this.addr=r,this.cache=[],this.type=e.type,this.setValue=function(t){switch(t){case 5126:return km;case 35664:return Om;case 35665:return Um;case 35666:return Lm;case 35674:return Bm;case 35675:return Dm;case 35676:return Fm;case 5124:case 35670:return Gm;case 35667:case 35671:return zm;case 35668:case 35672:return jm;case 35669:case 35673:return Hm;case 5125:return Wm;case 36294:return Vm;case 36295:return qm;case 36296:return Km;case 35678:case 36198:case 36298:case 36306:case 35682:return Jm;case 35679:case 36299:case 36307:return Xm;case 35680:case 36300:case 36308:case 36293:return Ym;case 36289:case 36303:case 36311:case 36292:return Qm}}(e.type)}}class yg{constructor(t,e,r){this.id=t,this.addr=r,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Zm;case 35664:return $m;case 35665:return tg;case 35666:return eg;case 35674:return rg;case 35675:return ng;case 35676:return ig;case 5124:case 35670:return og;case 35667:case 35671:return sg;case 35668:case 35672:return ag;case 35669:case 35673:return ug;case 5125:return lg;case 36294:return hg;case 36295:return cg;case 36296:return fg;case 35678:case 36198:case 36298:case 36306:case 35682:return dg;case 35679:case 36299:case 36307:return pg;case 35680:case 36300:case 36308:case 36293:return mg;case 36289:case 36303:case 36311:case 36292:return gg}}(e.type)}}class wg{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,r){const n=this.seq;for(let i=0,o=n.length;i!==o;++i){const o=n[i];o.setValue(t,e[o.id],r)}}}const bg=/(\w+)(\])?(\[|\.)?/g;function Ag(t,e){t.seq.push(e),t.map[e.id]=e}function Mg(t,e,r){const n=t.name,i=n.length;for(bg.lastIndex=0;;){const o=bg.exec(n),s=bg.lastIndex;let a=o[1];const u="]"===o[2],l=o[3];if(u&&(a|=0),void 0===l||"["===l&&s+2===i){Ag(r,void 0===l?new vg(a,t,e):new yg(a,t,e));break}{let t=r.map[a];void 0===t&&(t=new wg(a),Ag(r,t)),r=t}}}class _g{constructor(t,e){this.seq=[],this.map={};const r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<r;++n){const r=t.getActiveUniform(e,n);Mg(r,t.getUniformLocation(e,r.name),this)}}setValue(t,e,r,n){const i=this.map[e];void 0!==i&&i.setValue(t,r,n)}setOptional(t,e,r){const n=e[r];void 0!==n&&this.setValue(t,r,n)}static upload(t,e,r,n){for(let i=0,o=e.length;i!==o;++i){const o=e[i],s=r[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,n)}}static seqWithValue(t,e){const r=[];for(let n=0,i=t.length;n!==i;++n){const i=t[n];i.id in e&&r.push(i)}return r}}function Eg(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}const xg=37297;let Sg=0;function Ng(t,e,r){const n=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(n&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const n=parseInt(o[1]);return r.toUpperCase()+"\n\n"+i+"\n\n"+function(t,e){const r=t.split("\n"),n=[],i=Math.max(e-6,0),o=Math.min(e+6,r.length);for(let s=i;s<o;s++){const t=s+1;n.push("".concat(t===e?">":" "," ").concat(t,": ").concat(r[s]))}return n.join("\n")}(t.getShaderSource(e),n)}return i}function Tg(t,e){const r=function(t){const e=kc.getPrimaries(kc.workingColorSpace),r=kc.getPrimaries(t);let n;switch(e===r?n="":e===bh&&r===wh?n="LinearDisplayP3ToLinearSRGB":e===wh&&r===bh&&(n="LinearSRGBToLinearDisplayP3"),t){case ph:case gh:return[n,"LinearTransferOETF"];case dh:case mh:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[n,"LinearTransferOETF"]}}(e);return"vec4 ".concat(t,"( vec4 value ) { return ").concat(r[0],"( ").concat(r[1],"( value ) ); }")}function Rg(t,e){let r;switch(e){case wu:r="Linear";break;case bu:r="Reinhard";break;case Au:r="OptimizedCineon";break;case Mu:r="ACESFilmic";break;case Eu:r="AgX";break;case _u:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Cg(t){return""!==t}function Ig(t,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Pg(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const kg=/^[ \t]*#include +<([\w\d./]+)>/gm;function Og(t){return t.replace(kg,Lg)}const Ug=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Lg(t,e){let r=Bp[e];if(void 0===r){const t=Ug.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");r=Bp[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,t)}return Og(r)}const Bg=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Dg(t){return t.replace(Bg,Fg)}function Fg(t,e,r,n){let i="";for(let o=parseInt(e);o<parseInt(r);o++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Gg(t){let e="precision ".concat(t.precision," float;\n\tprecision ").concat(t.precision," int;\n\tprecision ").concat(t.precision," sampler2D;\n\tprecision ").concat(t.precision," samplerCube;\n\t");return t.isWebGL2&&(e+="precision ".concat(t.precision," sampler3D;\n\t\tprecision ").concat(t.precision," sampler2DArray;\n\t\tprecision ").concat(t.precision," sampler2DShadow;\n\t\tprecision ").concat(t.precision," samplerCubeShadow;\n\t\tprecision ").concat(t.precision," sampler2DArrayShadow;\n\t\tprecision ").concat(t.precision," isampler2D;\n\t\tprecision ").concat(t.precision," isampler3D;\n\t\tprecision ").concat(t.precision," isamplerCube;\n\t\tprecision ").concat(t.precision," isampler2DArray;\n\t\tprecision ").concat(t.precision," usampler2D;\n\t\tprecision ").concat(t.precision," usampler3D;\n\t\tprecision ").concat(t.precision," usamplerCube;\n\t\tprecision ").concat(t.precision," usampler2DArray;\n\t\t")),"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function zg(t,e,r,n){const i=t.getContext(),o=r.defines;let s=r.vertexShader,a=r.fragmentShader;const u=function(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Ra?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Ca?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ia&&(e="SHADOWMAP_TYPE_VSM"),e}(r),l=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Tu:case Ru:e="ENVMAP_TYPE_CUBE";break;case Pu:e="ENVMAP_TYPE_CUBE_UV"}return e}(r),h=function(t){let e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===Ru&&(e="ENVMAP_MODE_REFRACTION");return e}(r),c=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case mu:e="ENVMAP_BLENDING_MULTIPLY";break;case gu:e="ENVMAP_BLENDING_MIX";break;case vu:e="ENVMAP_BLENDING_ADD"}return e}(r),f=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const r=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:n,maxMip:r}}(r),d=r.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cg).join("\n")}(r),p=function(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cg).join("\n")}(r),m=function(t){const e=[];for(const r in t){const n=t[r];!1!==n&&e.push("#define "+r+" "+n)}return e.join("\n")}(o),g=i.createProgram();let v,y,w=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?(v=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,m].filter(Cg).join("\n"),v.length>0&&(v+="\n"),y=[d,"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,m].filter(Cg).join("\n"),y.length>0&&(y+="\n")):(v=[Gg(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,m,r.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",r.batching?"#define USE_BATCHING":"",r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&!1===r.flatShading?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Cg).join("\n"),y=[d,Gg(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+h:"",r.envMap?"#define "+c:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&!1===r.flatShading?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==yu?"#define TONE_MAPPING":"",r.toneMapping!==yu?Bp.tonemapping_pars_fragment:"",r.toneMapping!==yu?Rg("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Bp.colorspace_pars_fragment,Tg("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Cg).join("\n")),s=Og(s),s=Ig(s,r),s=Pg(s,r),a=Og(a),a=Ig(a,r),a=Pg(a,r),s=Dg(s),a=Dg(a),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(w="#version 300 es\n",v=[p,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,y=["precision mediump sampler2DArray;","#define varying in",r.glslVersion===ec?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===ec?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const b=w+v+s,A=w+y+a,M=Eg(i,i.VERTEX_SHADER,b),_=Eg(i,i.FRAGMENT_SHADER,A);function E(e){if(t.debug.checkShaderErrors){const r=i.getProgramInfoLog(g).trim(),n=i.getShaderInfoLog(M).trim(),o=i.getShaderInfoLog(_).trim();let s=!0,a=!0;if(!1===i.getProgramParameter(g,i.LINK_STATUS))if(s=!1,"function"===typeof t.debug.onShaderError)t.debug.onShaderError(i,g,M,_);else{const t=Ng(i,M,"vertex"),n=Ng(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+e.name+"\nMaterial Type: "+e.type+"\n\nProgram Info Log: "+r+"\n"+t+"\n"+n)}else""!==r?console.warn("THREE.WebGLProgram: Program Info Log:",r):""!==n&&""!==o||(a=!1);a&&(e.diagnostics={runnable:s,programLog:r,vertexShader:{log:n,prefix:v},fragmentShader:{log:o,prefix:y}})}i.deleteShader(M),i.deleteShader(_),x=new _g(i,g),S=function(t,e){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const n=t.getActiveAttrib(e,i),o=n.name;let s=1;n.type===t.FLOAT_MAT2&&(s=2),n.type===t.FLOAT_MAT3&&(s=3),n.type===t.FLOAT_MAT4&&(s=4),r[o]={type:n.type,location:t.getAttribLocation(e,o),locationSize:s}}return r}(i,g)}let x,S;i.attachShader(g,M),i.attachShader(g,_),void 0!==r.index0AttributeName?i.bindAttribLocation(g,0,r.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),this.getUniforms=function(){return void 0===x&&E(this),x},this.getAttributes=function(){return void 0===S&&E(this),S};let N=!1===r.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===N&&(N=i.getProgramParameter(g,xg)),N},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=Sg++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=_,this}let jg=0;class Hg{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,r=t.fragmentShader,n=this._getShaderStage(e),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(t);return!1===o.has(n)&&(o.add(n),n.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const r of e)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let r=e.get(t);return void 0===r&&(r=new Set,e.set(t,r)),r}_getShaderStage(t){const e=this.shaderCache;let r=e.get(t);return void 0===r&&(r=new Wg(t),e.set(t,r)),r}}class Wg{constructor(t){this.id=jg++,this.code=t,this.usedTimes=0}}function Vg(t,e,r,n,i,o,s){const a=new Gf,u=new Hg,l=new Set,h=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(t){return l.add(t),0===t?"uv":"uv".concat(t)}return{getParameters:function(o,a,h,v,y){const w=v.fog,b=y.geometry,A=o.isMeshStandardMaterial?v.environment:null,M=(o.isMeshStandardMaterial?r:e).get(o.envMap||A),_=M&&M.mapping===Pu?M.image.height:null,E=m[o.type];null!==o.precision&&(p=i.getMaxPrecision(o.precision),p!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",p,"instead."));const x=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,S=void 0!==x?x.length:0;let N,T,R,C,I=0;if(void 0!==b.morphAttributes.position&&(I=1),void 0!==b.morphAttributes.normal&&(I=2),void 0!==b.morphAttributes.color&&(I=3),E){const t=Fp[E];N=t.vertexShader,T=t.fragmentShader}else N=o.vertexShader,T=o.fragmentShader,u.update(o),R=u.getVertexShaderID(o),C=u.getFragmentShaderID(o);const P=t.getRenderTarget(),k=!0===y.isInstancedMesh,O=!0===y.isBatchedMesh,U=!!o.map,L=!!o.matcap,B=!!M,D=!!o.aoMap,F=!!o.lightMap,G=!!o.bumpMap,z=!!o.normalMap,j=!!o.displacementMap,H=!!o.emissiveMap,W=!!o.metalnessMap,V=!!o.roughnessMap,q=o.anisotropy>0,K=o.clearcoat>0,J=o.iridescence>0,X=o.sheen>0,Y=o.transmission>0,Q=q&&!!o.anisotropyMap,Z=K&&!!o.clearcoatMap,$=K&&!!o.clearcoatNormalMap,tt=K&&!!o.clearcoatRoughnessMap,et=J&&!!o.iridescenceMap,rt=J&&!!o.iridescenceThicknessMap,nt=X&&!!o.sheenColorMap,it=X&&!!o.sheenRoughnessMap,ot=!!o.specularMap,st=!!o.specularColorMap,at=!!o.specularIntensityMap,ut=Y&&!!o.transmissionMap,lt=Y&&!!o.thicknessMap,ht=!!o.gradientMap,ct=!!o.alphaMap,ft=o.alphaTest>0,dt=!!o.alphaHash,pt=!!o.extensions;let mt=yu;o.toneMapped&&(null!==P&&!0!==P.isXRRenderTarget||(mt=t.toneMapping));const gt={isWebGL2:c,shaderID:E,shaderType:o.type,shaderName:o.name,vertexShader:N,fragmentShader:T,defines:o.defines,customVertexShaderID:R,customFragmentShaderID:C,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:p,batching:O,instancing:k,instancingColor:k&&null!==y.instanceColor,supportsVertexTextures:d,outputColorSpace:null===P?t.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:ph,alphaToCoverage:!!o.alphaToCoverage,map:U,matcap:L,envMap:B,envMapMode:B&&M.mapping,envMapCubeUVHeight:_,aoMap:D,lightMap:F,bumpMap:G,normalMap:z,displacementMap:d&&j,emissiveMap:H,normalMapObjectSpace:z&&o.normalMapType===ch,normalMapTangentSpace:z&&o.normalMapType===hh,metalnessMap:W,roughnessMap:V,anisotropy:q,anisotropyMap:Q,clearcoat:K,clearcoatMap:Z,clearcoatNormalMap:$,clearcoatRoughnessMap:tt,iridescence:J,iridescenceMap:et,iridescenceThicknessMap:rt,sheen:X,sheenColorMap:nt,sheenRoughnessMap:it,specularMap:ot,specularColorMap:st,specularIntensityMap:at,transmission:Y,transmissionMap:ut,thicknessMap:lt,gradientMap:ht,opaque:!1===o.transparent&&o.blending===La&&!1===o.alphaToCoverage,alphaMap:ct,alphaTest:ft,alphaHash:dt,combine:o.combine,mapUv:U&&g(o.map.channel),aoMapUv:D&&g(o.aoMap.channel),lightMapUv:F&&g(o.lightMap.channel),bumpMapUv:G&&g(o.bumpMap.channel),normalMapUv:z&&g(o.normalMap.channel),displacementMapUv:j&&g(o.displacementMap.channel),emissiveMapUv:H&&g(o.emissiveMap.channel),metalnessMapUv:W&&g(o.metalnessMap.channel),roughnessMapUv:V&&g(o.roughnessMap.channel),anisotropyMapUv:Q&&g(o.anisotropyMap.channel),clearcoatMapUv:Z&&g(o.clearcoatMap.channel),clearcoatNormalMapUv:$&&g(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:tt&&g(o.clearcoatRoughnessMap.channel),iridescenceMapUv:et&&g(o.iridescenceMap.channel),iridescenceThicknessMapUv:rt&&g(o.iridescenceThicknessMap.channel),sheenColorMapUv:nt&&g(o.sheenColorMap.channel),sheenRoughnessMapUv:it&&g(o.sheenRoughnessMap.channel),specularMapUv:ot&&g(o.specularMap.channel),specularColorMapUv:st&&g(o.specularColorMap.channel),specularIntensityMapUv:at&&g(o.specularIntensityMap.channel),transmissionMapUv:ut&&g(o.transmissionMap.channel),thicknessMapUv:lt&&g(o.thicknessMap.channel),alphaMapUv:ct&&g(o.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(z||q),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,pointsUvs:!0===y.isPoints&&!!b.attributes.uv&&(U||ct),fog:!!w,useFog:!0===o.fog,fogExp2:!!w&&w.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:S,morphTextureStride:I,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numLightProbes:a.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:U&&!0===o.map.isVideoTexture&&kc.getTransfer(o.map.colorSpace)===yh,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===Oa,flipSided:o.side===ka,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:pt&&!0===o.extensions.derivatives,extensionFragDepth:pt&&!0===o.extensions.fragDepth,extensionDrawBuffers:pt&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:pt&&!0===o.extensions.shaderTextureLOD,extensionClipCullDistance:pt&&!0===o.extensions.clipCullDistance&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:pt&&!0===o.extensions.multiDraw&&n.has("WEBGL_multi_draw"),rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return gt.vertexUv1s=l.has(1),gt.vertexUv2s=l.has(2),gt.vertexUv3s=l.has(3),l.clear(),gt},getProgramCacheKey:function(e){const r=[];if(e.shaderID?r.push(e.shaderID):(r.push(e.customVertexShaderID),r.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)r.push(t),r.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.numLightProbes),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(r,e),function(t,e){a.disableAll(),e.isWebGL2&&a.enable(0);e.supportsVertexTextures&&a.enable(1);e.instancing&&a.enable(2);e.instancingColor&&a.enable(3);e.matcap&&a.enable(4);e.envMap&&a.enable(5);e.normalMapObjectSpace&&a.enable(6);e.normalMapTangentSpace&&a.enable(7);e.clearcoat&&a.enable(8);e.iridescence&&a.enable(9);e.alphaTest&&a.enable(10);e.vertexColors&&a.enable(11);e.vertexAlphas&&a.enable(12);e.vertexUv1s&&a.enable(13);e.vertexUv2s&&a.enable(14);e.vertexUv3s&&a.enable(15);e.vertexTangents&&a.enable(16);e.anisotropy&&a.enable(17);e.alphaHash&&a.enable(18);e.batching&&a.enable(19);t.push(a.mask),a.disableAll(),e.fog&&a.enable(0);e.useFog&&a.enable(1);e.flatShading&&a.enable(2);e.logarithmicDepthBuffer&&a.enable(3);e.skinning&&a.enable(4);e.morphTargets&&a.enable(5);e.morphNormals&&a.enable(6);e.morphColors&&a.enable(7);e.premultipliedAlpha&&a.enable(8);e.shadowMapEnabled&&a.enable(9);e.useLegacyLights&&a.enable(10);e.doubleSided&&a.enable(11);e.flipSided&&a.enable(12);e.useDepthPacking&&a.enable(13);e.dithering&&a.enable(14);e.transmission&&a.enable(15);e.sheen&&a.enable(16);e.opaque&&a.enable(17);e.pointsUvs&&a.enable(18);e.decodeVideoTexture&&a.enable(19);e.alphaToCoverage&&a.enable(20);t.push(a.mask)}(r,e),r.push(t.outputColorSpace)),r.push(e.customProgramCacheKey),r.join()},getUniforms:function(t){const e=m[t.type];let r;if(e){const t=Fp[e];r=gp.clone(t.uniforms)}else r=t.uniforms;return r},acquireProgram:function(e,r){let n;for(let t=0,i=h.length;t<i;t++){const e=h[t];if(e.cacheKey===r){n=e,++n.usedTimes;break}}return void 0===n&&(n=new zg(t,r,e,o),h.push(n)),n},releaseProgram:function(t){if(0===--t.usedTimes){const e=h.indexOf(t);h[e]=h[h.length-1],h.pop(),t.destroy()}},releaseShaderCache:function(t){u.remove(t)},programs:h,dispose:function(){u.dispose()}}}function qg(){let t=new WeakMap;return{get:function(e){let r=t.get(e);return void 0===r&&(r={},t.set(e,r)),r},remove:function(e){t.delete(e)},update:function(e,r,n){t.get(e)[r]=n},dispose:function(){t=new WeakMap}}}function Kg(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Jg(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Xg(){const t=[];let e=0;const r=[],n=[],i=[];function o(r,n,i,o,s,a){let u=t[e];return void 0===u?(u={id:r.id,object:r,geometry:n,material:i,groupOrder:o,renderOrder:r.renderOrder,z:s,group:a},t[e]=u):(u.id=r.id,u.object=r,u.geometry=n,u.material=i,u.groupOrder=o,u.renderOrder=r.renderOrder,u.z=s,u.group=a),e++,u}return{opaque:r,transmissive:n,transparent:i,init:function(){e=0,r.length=0,n.length=0,i.length=0},push:function(t,e,s,a,u,l){const h=o(t,e,s,a,u,l);s.transmission>0?n.push(h):!0===s.transparent?i.push(h):r.push(h)},unshift:function(t,e,s,a,u,l){const h=o(t,e,s,a,u,l);s.transmission>0?n.unshift(h):!0===s.transparent?i.unshift(h):r.unshift(h)},finish:function(){for(let r=e,n=t.length;r<n;r++){const e=t[r];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){r.length>1&&r.sort(t||Kg),n.length>1&&n.sort(e||Jg),i.length>1&&i.sort(e||Jg)}}}function Yg(){let t=new WeakMap;return{get:function(e,r){const n=t.get(e);let i;return void 0===n?(i=new Xg,t.set(e,[i])):r>=n.length?(i=new Xg,n.push(i)):i=n[r],i},dispose:function(){t=new WeakMap}}}function Qg(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new Zc,color:new gd};break;case"SpotLight":r={position:new Zc,direction:new Zc,color:new gd,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Zc,color:new gd,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Zc,skyColor:new gd,groundColor:new gd};break;case"RectAreaLight":r={color:new gd,position:new Zc,halfWidth:new Zc,halfHeight:new Zc}}return t[e.id]=r,r}}}let Zg=0;function $g(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function tv(t,e){const r=new Qg,n=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let r;switch(e.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wc};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wc,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=r,r}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new Zc);const o=new Zc,s=new Rf,a=new Rf;return{setup:function(o,s){let a=0,u=0,l=0;for(let t=0;t<9;t++)i.probe[t].set(0,0,0);let h=0,c=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,w=0,b=0;o.sort($g);const A=!0===s?Math.PI:1;for(let t=0,e=o.length;t<e;t++){const e=o[t],s=e.color,M=e.intensity,_=e.distance,E=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)a+=s.r*M*A,u+=s.g*M*A,l+=s.b*M*A;else if(e.isLightProbe){for(let t=0;t<9;t++)i.probe[t].addScaledVector(e.sh.coefficients[t],M);b++}else if(e.isDirectionalLight){const t=r.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*A),e.castShadow){const t=e.shadow,r=n.get(e);r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,i.directionalShadow[h]=r,i.directionalShadowMap[h]=E,i.directionalShadowMatrix[h]=e.shadow.matrix,m++}i.directional[h]=t,h++}else if(e.isSpotLight){const t=r.get(e);t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(s).multiplyScalar(M*A),t.distance=_,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,i.spot[f]=t;const o=e.shadow;if(e.map&&(i.spotLightMap[y]=e.map,y++,o.updateMatrices(e),e.castShadow&&w++),i.spotLightMatrix[f]=o.matrix,e.castShadow){const t=n.get(e);t.shadowBias=o.bias,t.shadowNormalBias=o.normalBias,t.shadowRadius=o.radius,t.shadowMapSize=o.mapSize,i.spotShadow[f]=t,i.spotShadowMap[f]=E,v++}f++}else if(e.isRectAreaLight){const t=r.get(e);t.color.copy(s).multiplyScalar(M),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),i.rectArea[d]=t,d++}else if(e.isPointLight){const t=r.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*A),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,r=n.get(e);r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,r.shadowCameraNear=t.camera.near,r.shadowCameraFar=t.camera.far,i.pointShadow[c]=r,i.pointShadowMap[c]=E,i.pointShadowMatrix[c]=e.shadow.matrix,g++}i.point[c]=t,c++}else if(e.isHemisphereLight){const t=r.get(e);t.skyColor.copy(e.color).multiplyScalar(M*A),t.groundColor.copy(e.groundColor).multiplyScalar(M*A),i.hemi[p]=t,p++}}d>0&&(e.isWebGL2?!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=Dp.LTC_FLOAT_1,i.rectAreaLTC2=Dp.LTC_FLOAT_2):(i.rectAreaLTC1=Dp.LTC_HALF_1,i.rectAreaLTC2=Dp.LTC_HALF_2):!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=Dp.LTC_FLOAT_1,i.rectAreaLTC2=Dp.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Dp.LTC_HALF_1,i.rectAreaLTC2=Dp.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=a,i.ambient[1]=u,i.ambient[2]=l;const M=i.hash;M.directionalLength===h&&M.pointLength===c&&M.spotLength===f&&M.rectAreaLength===d&&M.hemiLength===p&&M.numDirectionalShadows===m&&M.numPointShadows===g&&M.numSpotShadows===v&&M.numSpotMaps===y&&M.numLightProbes===b||(i.directional.length=h,i.spot.length=f,i.rectArea.length=d,i.point.length=c,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-w,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=w,i.numLightProbes=b,M.directionalLength=h,M.pointLength=c,M.spotLength=f,M.rectAreaLength=d,M.hemiLength=p,M.numDirectionalShadows=m,M.numPointShadows=g,M.numSpotShadows=v,M.numSpotMaps=y,M.numLightProbes=b,i.version=Zg++)},setupView:function(t,e){let r=0,n=0,u=0,l=0,h=0;const c=e.matrixWorldInverse;for(let f=0,d=t.length;f<d;f++){const e=t[f];if(e.isDirectionalLight){const t=i.directional[r];t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(c),r++}else if(e.isSpotLight){const t=i.spot[u];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(c),t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(c),u++}else if(e.isRectAreaLight){const t=i.rectArea[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(c),a.identity(),s.copy(e.matrixWorld),s.premultiply(c),a.extractRotation(s),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),l++}else if(e.isPointLight){const t=i.point[n];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(c),n++}else if(e.isHemisphereLight){const t=i.hemi[h];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(c),h++}}},state:i}}function ev(t,e){const r=new tv(t,e),n=[],i=[];return{init:function(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:function(t){r.setup(n,t)},setupLightsView:function(t){r.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){i.push(t)}}}function rv(t,e){let r=new WeakMap;return{get:function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o=r.get(n);let s;return void 0===o?(s=new ev(t,e),r.set(n,[s])):i>=o.length?(s=new ev(t,e),o.push(s)):s=o[i],s},dispose:function(){r=new WeakMap}}}class nv extends wd{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uh,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class iv extends wd{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function ov(t,e,r){let n=new kp;const i=new wc,o=new wc,s=new Hc,a=new nv({depthPacking:lh}),u=new iv,l={},h=r.maxTextureSize,c={[Pa]:ka,[ka]:Pa,[Oa]:Oa},f=new vp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new wc},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const p=new qd;p.setAttribute("position",new Td(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new hp(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ra;let v=this.type;function y(r,n){const o=e.update(m);f.defines.VSM_SAMPLES!==r.blurSamples&&(f.defines.VSM_SAMPLES=r.blurSamples,d.defines.VSM_SAMPLES=r.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),null===r.mapPass&&(r.mapPass=new Vc(i.x,i.y)),f.uniforms.shadow_pass.value=r.map.texture,f.uniforms.resolution.value=r.mapSize,f.uniforms.radius.value=r.radius,t.setRenderTarget(r.mapPass),t.clear(),t.renderBufferDirect(n,null,o,f,m,null),d.uniforms.shadow_pass.value=r.mapPass.texture,d.uniforms.resolution.value=r.mapSize,d.uniforms.radius.value=r.radius,t.setRenderTarget(r.map),t.clear(),t.renderBufferDirect(n,null,o,d,m,null)}function w(e,r,n,i){let o=null;const s=!0===n.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==s)o=s;else if(o=!0===n.isPointLight?u:a,t.localClippingEnabled&&!0===r.clipShadows&&Array.isArray(r.clippingPlanes)&&0!==r.clippingPlanes.length||r.displacementMap&&0!==r.displacementScale||r.alphaMap&&r.alphaTest>0||r.map&&r.alphaTest>0){const t=o.uuid,e=r.uuid;let n=l[t];void 0===n&&(n={},l[t]=n);let i=n[e];void 0===i&&(i=o.clone(),n[e]=i,r.addEventListener("dispose",A)),o=i}if(o.visible=r.visible,o.wireframe=r.wireframe,o.side=i===Ia?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:c[r.side],o.alphaMap=r.alphaMap,o.alphaTest=r.alphaTest,o.map=r.map,o.clipShadows=r.clipShadows,o.clippingPlanes=r.clippingPlanes,o.clipIntersection=r.clipIntersection,o.displacementMap=r.displacementMap,o.displacementScale=r.displacementScale,o.displacementBias=r.displacementBias,o.wireframeLinewidth=r.wireframeLinewidth,o.linewidth=r.linewidth,!0===n.isPointLight&&!0===o.isMeshDistanceMaterial){t.properties.get(o).light=n}return o}function b(r,i,o,s,a){if(!1===r.visible)return;if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&a===Ia)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);const n=e.update(r),u=r.material;if(Array.isArray(u)){const e=n.groups;for(let l=0,h=e.length;l<h;l++){const h=e[l],c=u[h.materialIndex];if(c&&c.visible){const e=w(r,c,s,a);r.onBeforeShadow(t,r,i,o,n,e,h),t.renderBufferDirect(o,null,n,e,r,h),r.onAfterShadow(t,r,i,o,n,e,h)}}}else if(u.visible){const e=w(r,u,s,a);r.onBeforeShadow(t,r,i,o,n,e,null),t.renderBufferDirect(o,null,n,e,r,null),r.onAfterShadow(t,r,i,o,n,e,null)}}const u=r.children;for(let t=0,e=u.length;t<e;t++)b(u[t],i,o,s,a)}function A(t){t.target.removeEventListener("dispose",A);for(const e in l){const r=l[e],n=t.target.uuid;if(n in r){r[n].dispose(),delete r[n]}}}this.render=function(e,r,a){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===e.length)return;const u=t.getRenderTarget(),l=t.getActiveCubeFace(),c=t.getActiveMipmapLevel(),f=t.state;f.setBlending(Ua),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);const d=v!==Ia&&this.type===Ia,p=v===Ia&&this.type!==Ia;for(let m=0,g=e.length;m<g;m++){const u=e[m],l=u.shadow;if(void 0===l){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}if(!1===l.autoUpdate&&!1===l.needsUpdate)continue;i.copy(l.mapSize);const c=l.getFrameExtents();if(i.multiply(c),o.copy(l.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(o.x=Math.floor(h/c.x),i.x=o.x*c.x,l.mapSize.x=o.x),i.y>h&&(o.y=Math.floor(h/c.y),i.y=o.y*c.y,l.mapSize.y=o.y)),null===l.map||!0===d||!0===p){const t=this.type!==Ia?{minFilter:Lu,magFilter:Lu}:{};null!==l.map&&l.map.dispose(),l.map=new Vc(i.x,i.y,t),l.map.texture.name=u.name+".shadowMap",l.camera.updateProjectionMatrix()}t.setRenderTarget(l.map),t.clear();const g=l.getViewportCount();for(let t=0;t<g;t++){const e=l.getViewport(t);s.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),f.viewport(s),l.updateMatrices(u,t),n=l.getFrustum(),b(r,a,l.camera,u,this.type)}!0!==l.isPointLightShadow&&this.type===Ia&&y(l,a),l.needsUpdate=!1}v=this.type,g.needsUpdate=!1,t.setRenderTarget(u,l,c)}}function sv(t,e,r){const n=r.isWebGL2;const i=new function(){let e=!1;const r=new Hc;let n=null;const i=new Hc(0,0,0,0);return{setMask:function(r){n===r||e||(t.colorMask(r,r,r,r),n=r)},setLocked:function(t){e=t},setClear:function(e,n,o,s,a){!0===a&&(e*=s,n*=s,o*=s),r.set(e,n,o,s),!1===i.equals(r)&&(t.clearColor(e,n,o,s),i.copy(r))},reset:function(){e=!1,n=null,i.set(-1,0,0,0)}}},o=new function(){let e=!1,r=null,n=null,i=null;return{setTest:function(e){e?j(t.DEPTH_TEST):H(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n!==e){switch(e){case au:t.depthFunc(t.NEVER);break;case uu:t.depthFunc(t.ALWAYS);break;case lu:t.depthFunc(t.LESS);break;case hu:t.depthFunc(t.LEQUAL);break;case cu:t.depthFunc(t.EQUAL);break;case fu:t.depthFunc(t.GEQUAL);break;case du:t.depthFunc(t.GREATER);break;case pu:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}n=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,r=null,n=null,i=null}}},s=new function(){let e=!1,r=null,n=null,i=null,o=null,s=null,a=null,u=null,l=null;return{setTest:function(r){e||(r?j(t.STENCIL_TEST):H(t.STENCIL_TEST))},setMask:function(n){r===n||e||(t.stencilMask(n),r=n)},setFunc:function(e,r,s){n===e&&i===r&&o===s||(t.stencilFunc(e,r,s),n=e,i=r,o=s)},setOp:function(e,r,n){s===e&&a===r&&u===n||(t.stencilOp(e,r,n),s=e,a=r,u=n)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,r=null,n=null,i=null,o=null,s=null,a=null,u=null,l=null}}},a=new WeakMap,u=new WeakMap;let l={},h={},c=new WeakMap,f=[],d=null,p=!1,m=null,g=null,v=null,y=null,w=null,b=null,A=null,M=new gd(0,0,0),_=0,E=!1,x=null,S=null,N=null,T=null,R=null;const C=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let I=!1,P=0;const k=t.getParameter(t.VERSION);-1!==k.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(k)[1]),I=P>=1):-1!==k.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),I=P>=2);let O=null,U={};const L=t.getParameter(t.SCISSOR_BOX),B=t.getParameter(t.VIEWPORT),D=(new Hc).fromArray(L),F=(new Hc).fromArray(B);function G(e,r,i,o){const s=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let u=0;u<i;u++)!n||e!==t.TEXTURE_3D&&e!==t.TEXTURE_2D_ARRAY?t.texImage2D(r+u,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,s):t.texImage3D(r,0,t.RGBA,1,1,o,0,t.RGBA,t.UNSIGNED_BYTE,s);return a}const z={};function j(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function H(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}z[t.TEXTURE_2D]=G(t.TEXTURE_2D,t.TEXTURE_2D,1),z[t.TEXTURE_CUBE_MAP]=G(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(z[t.TEXTURE_2D_ARRAY]=G(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),z[t.TEXTURE_3D]=G(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),j(t.DEPTH_TEST),o.setFunc(hu),K(!1),J(xa),j(t.CULL_FACE),q(Ua);const W={[za]:t.FUNC_ADD,[ja]:t.FUNC_SUBTRACT,[Ha]:t.FUNC_REVERSE_SUBTRACT};if(n)W[Wa]=t.MIN,W[Va]=t.MAX;else{const t=e.get("EXT_blend_minmax");null!==t&&(W[Wa]=t.MIN_EXT,W[Va]=t.MAX_EXT)}const V={[qa]:t.ZERO,[Ka]:t.ONE,[Ja]:t.SRC_COLOR,[Ya]:t.SRC_ALPHA,[ru]:t.SRC_ALPHA_SATURATE,[tu]:t.DST_COLOR,[Za]:t.DST_ALPHA,[Xa]:t.ONE_MINUS_SRC_COLOR,[Qa]:t.ONE_MINUS_SRC_ALPHA,[eu]:t.ONE_MINUS_DST_COLOR,[$a]:t.ONE_MINUS_DST_ALPHA,[nu]:t.CONSTANT_COLOR,[iu]:t.ONE_MINUS_CONSTANT_COLOR,[ou]:t.CONSTANT_ALPHA,[su]:t.ONE_MINUS_CONSTANT_ALPHA};function q(e,r,n,i,o,s,a,u,l,h){if(e!==Ua){if(!1===p&&(j(t.BLEND),p=!0),e===Ga)o=o||r,s=s||n,a=a||i,r===g&&o===w||(t.blendEquationSeparate(W[r],W[o]),g=r,w=o),n===v&&i===y&&s===b&&a===A||(t.blendFuncSeparate(V[n],V[i],V[s],V[a]),v=n,y=i,b=s,A=a),!1!==u.equals(M)&&l===_||(t.blendColor(u.r,u.g,u.b,l),M.copy(u),_=l),m=e,E=!1;else if(e!==m||h!==E){if(g===za&&w===za||(t.blendEquation(t.FUNC_ADD),g=za,w=za),h)switch(e){case La:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ba:t.blendFunc(t.ONE,t.ONE);break;case Da:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Fa:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case La:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ba:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Da:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Fa:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}v=null,y=null,b=null,A=null,M.set(0,0,0),_=0,m=e,E=h}}else!0===p&&(H(t.BLEND),p=!1)}function K(e){x!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),x=e)}function J(e){e!==Ea?(j(t.CULL_FACE),e!==S&&(e===xa?t.cullFace(t.BACK):e===Sa?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):H(t.CULL_FACE),S=e}function X(e,r,n){e?(j(t.POLYGON_OFFSET_FILL),T===r&&R===n||(t.polygonOffset(r,n),T=r,R=n)):H(t.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:o,stencil:s},enable:j,disable:H,bindFramebuffer:function(e,r){return h[e]!==r&&(t.bindFramebuffer(e,r),h[e]=r,n&&(e===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=r),e===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=r)),!0)},drawBuffers:function(n,i){let o=f,s=!1;if(n)if(o=c.get(i),void 0===o&&(o=[],c.set(i,o)),n.isWebGLMultipleRenderTargets){const e=n.texture;if(o.length!==e.length||o[0]!==t.COLOR_ATTACHMENT0){for(let r=0,n=e.length;r<n;r++)o[r]=t.COLOR_ATTACHMENT0+r;o.length=e.length,s=!0}}else o[0]!==t.COLOR_ATTACHMENT0&&(o[0]=t.COLOR_ATTACHMENT0,s=!0);else o[0]!==t.BACK&&(o[0]=t.BACK,s=!0);s&&(r.isWebGL2?t.drawBuffers(o):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(e){return d!==e&&(t.useProgram(e),d=e,!0)},setBlending:q,setMaterial:function(e,r){e.side===Oa?H(t.CULL_FACE):j(t.CULL_FACE);let n=e.side===ka;r&&(n=!n),K(n),e.blending===La&&!1===e.transparent?q(Ua):q(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.blendColor,e.blendAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);const a=e.stencilWrite;s.setTest(a),a&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?j(t.SAMPLE_ALPHA_TO_COVERAGE):H(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:K,setCullFace:J,setLineWidth:function(e){e!==N&&(I&&t.lineWidth(e),N=e)},setPolygonOffset:X,setScissorTest:function(e){e?j(t.SCISSOR_TEST):H(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+C-1),O!==e&&(t.activeTexture(e),O=e)},bindTexture:function(e,r,n){void 0===n&&(n=null===O?t.TEXTURE0+C-1:O);let i=U[n];void 0===i&&(i={type:void 0,texture:void 0},U[n]=i),i.type===e&&i.texture===r||(O!==n&&(t.activeTexture(n),O=n),t.bindTexture(e,r||z[e]),i.type=e,i.texture=r)},unbindTexture:function(){const e=U[O];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(e,r){let n=u.get(r);void 0===n&&(n=new WeakMap,u.set(r,n));let i=n.get(e);void 0===i&&(i=t.getUniformBlockIndex(r,e.name),n.set(e,i))},uniformBlockBinding:function(e,r){const n=u.get(r).get(e);a.get(r)!==n&&(t.uniformBlockBinding(r,n,e.__bindingPointIndex),a.set(r,n))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===D.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),D.copy(e))},viewport:function(e){!1===F.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),F.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),!0===n&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),l={},O=null,U={},h={},c=new WeakMap,f=[],d=null,p=!1,m=null,g=null,v=null,y=null,w=null,b=null,A=null,M=new gd(0,0,0),_=0,E=!1,x=null,S=null,N=null,T=null,R=null,D.set(0,0,t.canvas.width,t.canvas.height),F.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),s.reset()}}}function av(t,e,r,n,i,o,s){const a=i.isWebGL2,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let c;const f=new WeakMap;let d=!1;try{d="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(F){}function p(t,e){return d?new OffscreenCanvas(t,e):xc("canvas")}function m(t,e,r,n){let i=1;if((t.width>n||t.height>n)&&(i=n/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const n=e?mc:Math.floor,o=n(i*t.width),s=n(i*t.height);void 0===c&&(c=p(o,s));const a=r?p(o,s):c;a.width=o,a.height=s;return a.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),a}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function g(t){return pc(t.width)&&pc(t.height)}function v(t,e){return t.generateMipmaps&&e&&t.minFilter!==Lu&&t.minFilter!==zu}function y(e){t.generateMipmap(e)}function w(r,n,i,o){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===a)return n;if(null!==r){if(void 0!==t[r])return t[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}let u=n;if(n===t.RED&&(i===t.FLOAT&&(u=t.R32F),i===t.HALF_FLOAT&&(u=t.R16F),i===t.UNSIGNED_BYTE&&(u=t.R8)),n===t.RED_INTEGER&&(i===t.UNSIGNED_BYTE&&(u=t.R8UI),i===t.UNSIGNED_SHORT&&(u=t.R16UI),i===t.UNSIGNED_INT&&(u=t.R32UI),i===t.BYTE&&(u=t.R8I),i===t.SHORT&&(u=t.R16I),i===t.INT&&(u=t.R32I)),n===t.RG&&(i===t.FLOAT&&(u=t.RG32F),i===t.HALF_FLOAT&&(u=t.RG16F),i===t.UNSIGNED_BYTE&&(u=t.RG8)),n===t.RGBA){const e=s?vh:kc.getTransfer(o);i===t.FLOAT&&(u=t.RGBA32F),i===t.HALF_FLOAT&&(u=t.RGBA16F),i===t.UNSIGNED_BYTE&&(u=e===yh?t.SRGB8_ALPHA8:t.RGBA8),i===t.UNSIGNED_SHORT_4_4_4_4&&(u=t.RGBA4),i===t.UNSIGNED_SHORT_5_5_5_1&&(u=t.RGB5_A1)}return u!==t.R16F&&u!==t.R32F&&u!==t.RG16F&&u!==t.RG32F&&u!==t.RGBA16F&&u!==t.RGBA32F||e.get("EXT_color_buffer_float"),u}function b(t,e,r){return!0===v(t,r)||t.isFramebufferTexture&&t.minFilter!==Lu&&t.minFilter!==zu?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function A(e){return e===Lu||e===Bu||e===Fu?t.NEAREST:t.LINEAR}function M(t){const e=t.target;e.removeEventListener("dispose",M),function(t){const e=n.get(t);if(void 0===e.__webglInit)return;const r=t.source,i=f.get(r);if(i){const n=i[e.__cacheKey];n.usedTimes--,0===n.usedTimes&&E(t),0===Object.keys(i).length&&f.delete(r)}n.remove(t)}(e),e.isVideoTexture&&h.delete(e)}function _(e){const r=e.target;r.removeEventListener("dispose",_),function(e){const r=e.texture,i=n.get(e),o=n.get(r);void 0!==o.__webglTexture&&(t.deleteTexture(o.__webglTexture),s.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let n=0;n<6;n++){if(Array.isArray(i.__webglFramebuffer[n]))for(let e=0;e<i.__webglFramebuffer[n].length;e++)t.deleteFramebuffer(i.__webglFramebuffer[n][e]);else t.deleteFramebuffer(i.__webglFramebuffer[n]);i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[n])}else{if(Array.isArray(i.__webglFramebuffer))for(let e=0;e<i.__webglFramebuffer.length;e++)t.deleteFramebuffer(i.__webglFramebuffer[e]);else t.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let e=0;e<i.__webglColorRenderbuffer.length;e++)i.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(i.__webglColorRenderbuffer[e]);i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(let a=0,u=r.length;a<u;a++){const e=n.get(r[a]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),s.memory.textures--),n.remove(r[a])}n.remove(r),n.remove(e)}(r)}function E(e){const r=n.get(e);t.deleteTexture(r.__webglTexture);const i=e.source;delete f.get(i)[r.__cacheKey],s.memory.textures--}let x=0;function S(e,i){const o=n.get(e);if(e.isVideoTexture&&function(t){const e=s.render.frame;h.get(t)!==e&&(h.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&o.__version!==e.version){const t=e.image;if(null===t)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==t.complete)return void P(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.bindTexture(t.TEXTURE_2D,o.__webglTexture,t.TEXTURE0+i)}const N={[ku]:t.REPEAT,[Ou]:t.CLAMP_TO_EDGE,[Uu]:t.MIRRORED_REPEAT},T={[Lu]:t.NEAREST,[Bu]:t.NEAREST_MIPMAP_NEAREST,[Fu]:t.NEAREST_MIPMAP_LINEAR,[zu]:t.LINEAR,[ju]:t.LINEAR_MIPMAP_NEAREST,[Wu]:t.LINEAR_MIPMAP_LINEAR},R={[Bh]:t.NEVER,[Wh]:t.ALWAYS,[Dh]:t.LESS,[Gh]:t.LEQUAL,[Fh]:t.EQUAL,[Hh]:t.GEQUAL,[zh]:t.GREATER,[jh]:t.NOTEQUAL};function C(r,o,s){if(o.type!==Zu||!1!==e.has("OES_texture_float_linear")||o.magFilter!==zu&&o.magFilter!==ju&&o.magFilter!==Fu&&o.magFilter!==Wu&&o.minFilter!==zu&&o.minFilter!==ju&&o.minFilter!==Fu&&o.minFilter!==Wu||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),s?(t.texParameteri(r,t.TEXTURE_WRAP_S,N[o.wrapS]),t.texParameteri(r,t.TEXTURE_WRAP_T,N[o.wrapT]),r!==t.TEXTURE_3D&&r!==t.TEXTURE_2D_ARRAY||t.texParameteri(r,t.TEXTURE_WRAP_R,N[o.wrapR]),t.texParameteri(r,t.TEXTURE_MAG_FILTER,T[o.magFilter]),t.texParameteri(r,t.TEXTURE_MIN_FILTER,T[o.minFilter])):(t.texParameteri(r,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r!==t.TEXTURE_3D&&r!==t.TEXTURE_2D_ARRAY||t.texParameteri(r,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),o.wrapS===Ou&&o.wrapT===Ou||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(r,t.TEXTURE_MAG_FILTER,A(o.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,A(o.minFilter)),o.minFilter!==Lu&&o.minFilter!==zu&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.compareFunction&&(t.texParameteri(r,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(r,t.TEXTURE_COMPARE_FUNC,R[o.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const s=e.get("EXT_texture_filter_anisotropic");if(o.magFilter===Lu)return;if(o.minFilter!==Fu&&o.minFilter!==Wu)return;if(o.type===Zu&&!1===e.has("OES_texture_float_linear"))return;if(!1===a&&o.type===$u&&!1===e.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(t.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function I(e,r){let n=!1;void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",M));const i=r.source;let o=f.get(i);void 0===o&&(o={},f.set(i,o));const a=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(r);if(a!==e.__cacheKey){void 0===o[a]&&(o[a]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,n=!0),o[a].usedTimes++;const i=o[e.__cacheKey];void 0!==i&&(o[e.__cacheKey].usedTimes--,0===i.usedTimes&&E(r)),e.__cacheKey=a,e.__webglTexture=o[a].texture}return n}function P(e,s,u){let l=t.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=t.TEXTURE_3D);const h=I(e,s),c=s.source;r.bindTexture(l,e.__webglTexture,t.TEXTURE0+u);const f=n.get(c);if(c.version!==f.__version||!0===h){r.activeTexture(t.TEXTURE0+u);const e=kc.getPrimaries(kc.workingColorSpace),n=s.colorSpace===fh?null:kc.getPrimaries(s.colorSpace),d=s.colorSpace===fh||e===n?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const p=function(t){return!a&&(t.wrapS!==Ou||t.wrapT!==Ou||t.minFilter!==Lu&&t.minFilter!==zu)}(s)&&!1===g(s.image);let A=m(s.image,p,!1,i.maxTextureSize);A=D(s,A);const M=g(A)||a,_=o.convert(s.format,s.colorSpace);let E,x=o.convert(s.type),S=w(s.internalFormat,_,x,s.colorSpace,s.isVideoTexture);C(l,s,M);const N=s.mipmaps,T=a&&!0!==s.isVideoTexture&&S!==Ml,R=void 0===f.__version||!0===h,I=c.dataReady,P=b(s,A,M);if(s.isDepthTexture)S=t.DEPTH_COMPONENT,a?S=s.type===Zu?t.DEPTH_COMPONENT32F:s.type===Qu?t.DEPTH_COMPONENT24:s.type===rl?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT16:s.type===Zu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),s.format===al&&S===t.DEPTH_COMPONENT&&s.type!==Xu&&s.type!==Qu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),s.type=Qu,x=o.convert(s.type)),s.format===ul&&S===t.DEPTH_COMPONENT&&(S=t.DEPTH_STENCIL,s.type!==rl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),s.type=rl,x=o.convert(s.type))),R&&(T?r.texStorage2D(t.TEXTURE_2D,1,S,A.width,A.height):r.texImage2D(t.TEXTURE_2D,0,S,A.width,A.height,0,_,x,null));else if(s.isDataTexture)if(N.length>0&&M){T&&R&&r.texStorage2D(t.TEXTURE_2D,P,S,N[0].width,N[0].height);for(let e=0,n=N.length;e<n;e++)E=N[e],T?I&&r.texSubImage2D(t.TEXTURE_2D,e,0,0,E.width,E.height,_,x,E.data):r.texImage2D(t.TEXTURE_2D,e,S,E.width,E.height,0,_,x,E.data);s.generateMipmaps=!1}else T?(R&&r.texStorage2D(t.TEXTURE_2D,P,S,A.width,A.height),I&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,A.width,A.height,_,x,A.data)):r.texImage2D(t.TEXTURE_2D,0,S,A.width,A.height,0,_,x,A.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){T&&R&&r.texStorage3D(t.TEXTURE_2D_ARRAY,P,S,N[0].width,N[0].height,A.depth);for(let e=0,n=N.length;e<n;e++)E=N[e],s.format!==il?null!==_?T?I&&r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,E.width,E.height,A.depth,_,E.data,0,0):r.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,S,E.width,E.height,A.depth,0,E.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?I&&r.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,E.width,E.height,A.depth,_,x,E.data):r.texImage3D(t.TEXTURE_2D_ARRAY,e,S,E.width,E.height,A.depth,0,_,x,E.data)}else{T&&R&&r.texStorage2D(t.TEXTURE_2D,P,S,N[0].width,N[0].height);for(let e=0,n=N.length;e<n;e++)E=N[e],s.format!==il?null!==_?T?I&&r.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,E.width,E.height,_,E.data):r.compressedTexImage2D(t.TEXTURE_2D,e,S,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?I&&r.texSubImage2D(t.TEXTURE_2D,e,0,0,E.width,E.height,_,x,E.data):r.texImage2D(t.TEXTURE_2D,e,S,E.width,E.height,0,_,x,E.data)}else if(s.isDataArrayTexture)T?(R&&r.texStorage3D(t.TEXTURE_2D_ARRAY,P,S,A.width,A.height,A.depth),I&&r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,A.width,A.height,A.depth,_,x,A.data)):r.texImage3D(t.TEXTURE_2D_ARRAY,0,S,A.width,A.height,A.depth,0,_,x,A.data);else if(s.isData3DTexture)T?(R&&r.texStorage3D(t.TEXTURE_3D,P,S,A.width,A.height,A.depth),I&&r.texSubImage3D(t.TEXTURE_3D,0,0,0,0,A.width,A.height,A.depth,_,x,A.data)):r.texImage3D(t.TEXTURE_3D,0,S,A.width,A.height,A.depth,0,_,x,A.data);else if(s.isFramebufferTexture){if(R)if(T)r.texStorage2D(t.TEXTURE_2D,P,S,A.width,A.height);else{let e=A.width,n=A.height;for(let i=0;i<P;i++)r.texImage2D(t.TEXTURE_2D,i,S,e,n,0,_,x,null),e>>=1,n>>=1}}else if(N.length>0&&M){T&&R&&r.texStorage2D(t.TEXTURE_2D,P,S,N[0].width,N[0].height);for(let e=0,n=N.length;e<n;e++)E=N[e],T?I&&r.texSubImage2D(t.TEXTURE_2D,e,0,0,_,x,E):r.texImage2D(t.TEXTURE_2D,e,S,_,x,E);s.generateMipmaps=!1}else T?(R&&r.texStorage2D(t.TEXTURE_2D,P,S,A.width,A.height),I&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,_,x,A)):r.texImage2D(t.TEXTURE_2D,0,S,_,x,A);v(s,M)&&y(l),f.__version=c.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}function k(e,i,s,a,l,h){const c=o.convert(s.format,s.colorSpace),f=o.convert(s.type),d=w(s.internalFormat,c,f,s.colorSpace);if(!n.get(i).__hasExternalTextures){const e=Math.max(1,i.width>>h),n=Math.max(1,i.height>>h);l===t.TEXTURE_3D||l===t.TEXTURE_2D_ARRAY?r.texImage3D(l,h,d,e,n,i.depth,0,c,f,null):r.texImage2D(l,h,d,e,n,0,c,f,null)}r.bindFramebuffer(t.FRAMEBUFFER,e),B(i)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,a,l,n.get(s).__webglTexture,0,L(i)):(l===t.TEXTURE_2D||l>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,a,l,n.get(s).__webglTexture,h),r.bindFramebuffer(t.FRAMEBUFFER,null)}function O(e,r,n){if(t.bindRenderbuffer(t.RENDERBUFFER,e),r.depthBuffer&&!r.stencilBuffer){let i=!0===a?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(n||B(r)){const e=r.depthTexture;e&&e.isDepthTexture&&(e.type===Zu?i=t.DEPTH_COMPONENT32F:e.type===Qu&&(i=t.DEPTH_COMPONENT24));const n=L(r);B(r)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,n,i,r.width,r.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,n,i,r.width,r.height)}else t.renderbufferStorage(t.RENDERBUFFER,i,r.width,r.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(r.depthBuffer&&r.stencilBuffer){const i=L(r);n&&!1===B(r)?t.renderbufferStorageMultisample(t.RENDERBUFFER,i,t.DEPTH24_STENCIL8,r.width,r.height):B(r)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,i,t.DEPTH24_STENCIL8,r.width,r.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)}else{const e=!0===r.isWebGLMultipleRenderTargets?r.texture:[r.texture];for(let i=0;i<e.length;i++){const s=e[i],a=o.convert(s.format,s.colorSpace),l=o.convert(s.type),h=w(s.internalFormat,a,l,s.colorSpace),c=L(r);n&&!1===B(r)?t.renderbufferStorageMultisample(t.RENDERBUFFER,c,h,r.width,r.height):B(r)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,c,h,r.width,r.height):t.renderbufferStorage(t.RENDERBUFFER,h,r.width,r.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function U(e){const i=n.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),S(i.depthTexture,0);const o=n.get(i.depthTexture).__webglTexture,s=L(i);if(i.depthTexture.format===al)B(i)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==ul)throw new Error("Unknown depthTexture format");B(i)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,e)}else if(o){i.__webglDepthbuffer=[];for(let n=0;n<6;n++)r.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[n]),i.__webglDepthbuffer[n]=t.createRenderbuffer(),O(i.__webglDepthbuffer[n],e,!1)}else r.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),O(i.__webglDepthbuffer,e,!1);r.bindFramebuffer(t.FRAMEBUFFER,null)}function L(t){return Math.min(i.maxSamples,t.samples)}function B(t){const r=n.get(t);return a&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==r.__useRenderToTexture}function D(t,r){const n=t.colorSpace,i=t.format,o=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===rc||n!==ph&&n!==fh&&(kc.getTransfer(n)===yh?!1===a?!0===e.has("EXT_sRGB")&&i===il?(t.format=rc,t.minFilter=zu,t.generateMipmaps=!1):r=Bc.sRGBToLinear(r):i===il&&o===qu||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),r}this.allocateTextureUnit=function(){const t=x;return t>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+i.maxTextures),x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=S,this.setTexture2DArray=function(e,i){const o=n.get(e);e.version>0&&o.__version!==e.version?P(o,e,i):r.bindTexture(t.TEXTURE_2D_ARRAY,o.__webglTexture,t.TEXTURE0+i)},this.setTexture3D=function(e,i){const o=n.get(e);e.version>0&&o.__version!==e.version?P(o,e,i):r.bindTexture(t.TEXTURE_3D,o.__webglTexture,t.TEXTURE0+i)},this.setTextureCube=function(e,s){const u=n.get(e);e.version>0&&u.__version!==e.version?function(e,s,u){if(6!==s.image.length)return;const l=I(e,s),h=s.source;r.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+u);const c=n.get(h);if(h.version!==c.__version||!0===l){r.activeTexture(t.TEXTURE0+u);const e=kc.getPrimaries(kc.workingColorSpace),n=s.colorSpace===fh?null:kc.getPrimaries(s.colorSpace),f=s.colorSpace===fh||e===n?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);const d=s.isCompressedTexture||s.image[0].isCompressedTexture,p=s.image[0]&&s.image[0].isDataTexture,A=[];for(let t=0;t<6;t++)A[t]=d||p?p?s.image[t].image:s.image[t]:m(s.image[t],!1,!0,i.maxCubemapSize),A[t]=D(s,A[t]);const M=A[0],_=g(M)||a,E=o.convert(s.format,s.colorSpace),x=o.convert(s.type),S=w(s.internalFormat,E,x,s.colorSpace),N=a&&!0!==s.isVideoTexture,T=void 0===c.__version||!0===l,R=h.dataReady;let I,P=b(s,M,_);if(C(t.TEXTURE_CUBE_MAP,s,_),d){N&&T&&r.texStorage2D(t.TEXTURE_CUBE_MAP,P,S,M.width,M.height);for(let e=0;e<6;e++){I=A[e].mipmaps;for(let n=0;n<I.length;n++){const i=I[n];s.format!==il?null!==E?N?R&&r.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n,0,0,i.width,i.height,E,i.data):r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n,S,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):N?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n,0,0,i.width,i.height,E,x,i.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n,S,i.width,i.height,0,E,x,i.data)}}}else{I=s.mipmaps,N&&T&&(I.length>0&&P++,r.texStorage2D(t.TEXTURE_CUBE_MAP,P,S,A[0].width,A[0].height));for(let e=0;e<6;e++)if(p){N?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,A[e].width,A[e].height,E,x,A[e].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,S,A[e].width,A[e].height,0,E,x,A[e].data);for(let n=0;n<I.length;n++){const i=I[n].image[e].image;N?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n+1,0,0,i.width,i.height,E,x,i.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n+1,S,i.width,i.height,0,E,x,i.data)}}else{N?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,E,x,A[e]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,S,E,x,A[e]);for(let n=0;n<I.length;n++){const i=I[n];N?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n+1,0,0,E,x,i.image[e]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,n+1,S,E,x,i.image[e])}}}v(s,_)&&y(t.TEXTURE_CUBE_MAP),c.__version=h.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}(u,e,s):r.bindTexture(t.TEXTURE_CUBE_MAP,u.__webglTexture,t.TEXTURE0+s)},this.rebindTextures=function(e,r,i){const o=n.get(e);void 0!==r&&k(o.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==i&&U(e)},this.setupRenderTarget=function(e){const u=e.texture,l=n.get(e),h=n.get(u);e.addEventListener("dispose",_),!0!==e.isWebGLMultipleRenderTargets&&(void 0===h.__webglTexture&&(h.__webglTexture=t.createTexture()),h.__version=u.version,s.memory.textures++);const c=!0===e.isWebGLCubeRenderTarget,f=!0===e.isWebGLMultipleRenderTargets,d=g(e)||a;if(c){l.__webglFramebuffer=[];for(let e=0;e<6;e++)if(a&&u.mipmaps&&u.mipmaps.length>0){l.__webglFramebuffer[e]=[];for(let r=0;r<u.mipmaps.length;r++)l.__webglFramebuffer[e][r]=t.createFramebuffer()}else l.__webglFramebuffer[e]=t.createFramebuffer()}else{if(a&&u.mipmaps&&u.mipmaps.length>0){l.__webglFramebuffer=[];for(let e=0;e<u.mipmaps.length;e++)l.__webglFramebuffer[e]=t.createFramebuffer()}else l.__webglFramebuffer=t.createFramebuffer();if(f)if(i.drawBuffers){const r=e.texture;for(let e=0,i=r.length;e<i;e++){const i=n.get(r[e]);void 0===i.__webglTexture&&(i.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&e.samples>0&&!1===B(e)){const n=f?u:[u];l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=[],r.bindFramebuffer(t.FRAMEBUFFER,l.__webglMultisampledFramebuffer);for(let r=0;r<n.length;r++){const i=n[r];l.__webglColorRenderbuffer[r]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,l.__webglColorRenderbuffer[r]);const s=o.convert(i.format,i.colorSpace),a=o.convert(i.type),u=w(i.internalFormat,s,a,i.colorSpace,!0===e.isXRRenderTarget),h=L(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,h,u,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+r,t.RENDERBUFFER,l.__webglColorRenderbuffer[r])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),O(l.__webglDepthRenderbuffer,e,!0)),r.bindFramebuffer(t.FRAMEBUFFER,null)}}if(c){r.bindTexture(t.TEXTURE_CUBE_MAP,h.__webglTexture),C(t.TEXTURE_CUBE_MAP,u,d);for(let r=0;r<6;r++)if(a&&u.mipmaps&&u.mipmaps.length>0)for(let n=0;n<u.mipmaps.length;n++)k(l.__webglFramebuffer[r][n],e,u,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+r,n);else k(l.__webglFramebuffer[r],e,u,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0);v(u,d)&&y(t.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(f){const i=e.texture;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=n.get(s);r.bindTexture(t.TEXTURE_2D,a.__webglTexture),C(t.TEXTURE_2D,s,d),k(l.__webglFramebuffer,e,s,t.COLOR_ATTACHMENT0+o,t.TEXTURE_2D,0),v(s,d)&&y(t.TEXTURE_2D)}r.unbindTexture()}else{let n=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(a?n=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(n,h.__webglTexture),C(n,u,d),a&&u.mipmaps&&u.mipmaps.length>0)for(let r=0;r<u.mipmaps.length;r++)k(l.__webglFramebuffer[r],e,u,t.COLOR_ATTACHMENT0,n,r);else k(l.__webglFramebuffer,e,u,t.COLOR_ATTACHMENT0,n,0);v(u,d)&&y(n),r.unbindTexture()}e.depthBuffer&&U(e)},this.updateRenderTargetMipmap=function(e){const i=g(e)||a,o=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let s=0,a=o.length;s<a;s++){const a=o[s];if(v(a,i)){const i=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=n.get(a).__webglTexture;r.bindTexture(i,o),y(i),r.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(a&&e.samples>0&&!1===B(e)){const i=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=e.width,s=e.height;let a=t.COLOR_BUFFER_BIT;const u=[],h=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=n.get(e),f=!0===e.isWebGLMultipleRenderTargets;if(f)for(let e=0;e<i.length;e++)r.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),r.bindFramebuffer(t.FRAMEBUFFER,c.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);r.bindFramebuffer(t.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let r=0;r<i.length;r++){u.push(t.COLOR_ATTACHMENT0+r),e.depthBuffer&&u.push(h);const d=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===d&&(e.depthBuffer&&(a|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(a|=t.STENCIL_BUFFER_BIT)),f&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,c.__webglColorRenderbuffer[r]),!0===d&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[h]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[h])),f){const e=n.get(i[r]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,o,s,0,0,o,s,a,t.NEAREST),l&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,u)}if(r.bindFramebuffer(t.READ_FRAMEBUFFER,null),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),f)for(let e=0;e<i.length;e++){r.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,c.__webglColorRenderbuffer[e]);const o=n.get(i[e]).__webglTexture;r.bindFramebuffer(t.FRAMEBUFFER,c.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,o,0)}r.bindFramebuffer(t.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=k,this.useMultisampledRTT=B}function uv(t,e,r){const n=r.isWebGL2;return{convert:function(r){let i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fh;const s=kc.getTransfer(o);if(r===qu)return t.UNSIGNED_BYTE;if(r===tl)return t.UNSIGNED_SHORT_4_4_4_4;if(r===el)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Ku)return t.BYTE;if(r===Ju)return t.SHORT;if(r===Xu)return t.UNSIGNED_SHORT;if(r===Yu)return t.INT;if(r===Qu)return t.UNSIGNED_INT;if(r===Zu)return t.FLOAT;if(r===$u)return n?t.HALF_FLOAT:(i=e.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(r===nl)return t.ALPHA;if(r===il)return t.RGBA;if(r===ol)return t.LUMINANCE;if(r===sl)return t.LUMINANCE_ALPHA;if(r===al)return t.DEPTH_COMPONENT;if(r===ul)return t.DEPTH_STENCIL;if(r===rc)return i=e.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(r===ll)return t.RED;if(r===hl)return t.RED_INTEGER;if(r===cl)return t.RG;if(r===fl)return t.RG_INTEGER;if(r===dl)return t.RGBA_INTEGER;if(r===pl||r===ml||r===gl||r===vl)if(s===yh){if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(r===pl)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===ml)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===gl)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===vl)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(r===pl)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===ml)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===gl)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===vl)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===yl||r===wl||r===bl||r===Al){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(r===yl)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===wl)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===bl)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Al)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===Ml)return i=e.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===_l||r===El){if(i=e.get("WEBGL_compressed_texture_etc"),null===i)return null;if(r===_l)return s===yh?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(r===El)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(r===xl||r===Sl||r===Nl||r===Tl||r===Rl||r===Cl||r===Il||r===Pl||r===kl||r===Ol||r===Ul||r===Ll||r===Bl||r===Dl){if(i=e.get("WEBGL_compressed_texture_astc"),null===i)return null;if(r===xl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Sl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Nl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Tl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Rl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Cl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Il)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Pl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===kl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Ol)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ul)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Ll)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Bl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Dl)return s===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===Fl||r===Gl||r===zl){if(i=e.get("EXT_texture_compression_bptc"),null===i)return null;if(r===Fl)return s===yh?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Gl)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===zl)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===jl||r===Hl||r===Wl||r===Vl){if(i=e.get("EXT_texture_compression_rgtc"),null===i)return null;if(r===Fl)return i.COMPRESSED_RED_RGTC1_EXT;if(r===Hl)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Wl)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Vl)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===rl?n?t.UNSIGNED_INT_24_8:(i=e.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[r]?t[r]:null}}}class lv extends Mp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=t}}class hv extends td{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cv={type:"move"};class fv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new hv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new hv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Zc,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Zc),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new hv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Zc,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Zc),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const r of t.hand.values())this._getHandJoint(e,r)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,r){let n=null,i=null,o=null;const s=this._targetRay,a=this._grip,u=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(u&&t.hand){o=!0;for(const o of t.hand.values()){const t=e.getJointPose(o,r),n=this._getHandJoint(u,o);null!==t&&(n.matrix.fromArray(t.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.matrixWorldNeedsUpdate=!0,n.jointRadius=t.radius),n.visible=null!==t}const n=u.joints["index-finger-tip"],i=u.joints["thumb-tip"],s=n.position.distanceTo(i.position),a=.02,l=.005;u.inputState.pinching&&s>a+l?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!u.inputState.pinching&&s<=a-l&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&(i=e.getPose(t.gripSpace,r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(n=e.getPose(t.targetRaySpace,r),null===n&&null!==i&&(n=i),null!==n&&(s.matrix.fromArray(n.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,n.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(n.linearVelocity)):s.hasLinearVelocity=!1,n.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(n.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(cv)))}return null!==s&&(s.visible=null!==n),null!==a&&(a.visible=null!==i),null!==u&&(u.visible=null!==o),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const r=new hv;r.matrixAutoUpdate=!1,r.visible=!1,t.joints[e.jointName]=r,t.add(r)}return t.joints[e.jointName]}}class dv{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,r){if(null===this.texture){const n=new jc;t.properties.get(n).__webglTexture=e.texture,e.depthNear==r.depthNear&&e.depthFar==r.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}render(t,e){if(null!==this.texture){if(null===this.mesh){const t=e.cameras[0].viewport,r=new vp({extensions:{fragDepth:!0},vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new hp(new Lp(20,20),r)}t.render(this.mesh,e)}}reset(){this.texture=null,this.mesh=null}}class pv extends oc{constructor(t,e){super();const r=this;let n=null,i=1,o=null,s="local-floor",a=1,u=null,l=null,h=null,c=null,f=null,d=null;const p=new dv,m=e.getContextAttributes();let g=null,v=null;const y=[],w=[],b=new wc;let A=null;const M=new Mp;M.layers.enable(1),M.viewport=new Hc;const _=new Mp;_.layers.enable(2),_.viewport=new Hc;const E=[M,_],x=new lv;x.layers.enable(1),x.layers.enable(2);let S=null,N=null;function T(t){const e=w.indexOf(t.inputSource);if(-1===e)return;const r=y[e];void 0!==r&&(r.update(t.inputSource,t.frame,u||o),r.dispatchEvent({type:t.type,data:t.inputSource}))}function R(){n.removeEventListener("select",T),n.removeEventListener("selectstart",T),n.removeEventListener("selectend",T),n.removeEventListener("squeeze",T),n.removeEventListener("squeezestart",T),n.removeEventListener("squeezeend",T),n.removeEventListener("end",R),n.removeEventListener("inputsourceschange",C);for(let t=0;t<y.length;t++){const e=w[t];null!==e&&(w[t]=null,y[t].disconnect(e))}S=null,N=null,p.reset(),t.setRenderTarget(g),f=null,c=null,h=null,n=null,v=null,U.stop(),r.isPresenting=!1,t.setPixelRatio(A),t.setSize(b.width,b.height,!1),r.dispatchEvent({type:"sessionend"})}function C(t){for(let e=0;e<t.removed.length;e++){const r=t.removed[e],n=w.indexOf(r);n>=0&&(w[n]=null,y[n].disconnect(r))}for(let e=0;e<t.added.length;e++){const r=t.added[e];let n=w.indexOf(r);if(-1===n){for(let t=0;t<y.length;t++){if(t>=w.length){w.push(r),n=t;break}if(null===w[t]){w[t]=r,n=t;break}}if(-1===n)break}const i=y[n];i&&i.connect(r)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=y[t];return void 0===e&&(e=new fv,y[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=y[t];return void 0===e&&(e=new fv,y[t]=e),e.getGripSpace()},this.getHand=function(t){let e=y[t];return void 0===e&&(e=new fv,y[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){i=t,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(t){u=t},this.getBaseLayer=function(){return null!==c?c:f},this.getBinding=function(){return h},this.getFrame=function(){return d},this.getSession=function(){return n},this.setSession=async function(l){if(n=l,null!==n){if(g=t.getRenderTarget(),n.addEventListener("select",T),n.addEventListener("selectstart",T),n.addEventListener("selectend",T),n.addEventListener("squeeze",T),n.addEventListener("squeezestart",T),n.addEventListener("squeezeend",T),n.addEventListener("end",R),n.addEventListener("inputsourceschange",C),!0!==m.xrCompatible&&await e.makeXRCompatible(),A=t.getPixelRatio(),t.getSize(b),void 0===n.renderState.layers||!1===t.capabilities.isWebGL2){const r={antialias:void 0!==n.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(n,e,r),n.updateRenderState({baseLayer:f}),t.setPixelRatio(1),t.setSize(f.framebufferWidth,f.framebufferHeight,!1),v=new Vc(f.framebufferWidth,f.framebufferHeight,{format:il,type:qu,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil})}else{let r=null,o=null,s=null;m.depth&&(s=m.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,r=m.stencil?ul:al,o=m.stencil?rl:Qu);const a={colorFormat:e.RGBA8,depthFormat:s,scaleFactor:i};h=new XRWebGLBinding(n,e),c=h.createProjectionLayer(a),n.updateRenderState({layers:[c]}),t.setPixelRatio(1),t.setSize(c.textureWidth,c.textureHeight,!1),v=new Vc(c.textureWidth,c.textureHeight,{format:il,type:qu,depthTexture:new ym(c.textureWidth,c.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,r),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0});t.properties.get(v).__ignoreDepthValues=c.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(a),u=null,o=await n.requestReferenceSpace(s),U.setContext(n),U.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==n)return n.environmentBlendMode};const I=new Zc,P=new Zc;function k(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===n)return;null!==p.texture&&(t.near=p.depthNear,t.far=p.depthFar),x.near=_.near=M.near=t.near,x.far=_.far=M.far=t.far,S===x.near&&N===x.far||(n.updateRenderState({depthNear:x.near,depthFar:x.far}),S=x.near,N=x.far,M.near=S,M.far=N,_.near=S,_.far=N,M.updateProjectionMatrix(),_.updateProjectionMatrix(),t.updateProjectionMatrix());const e=t.parent,r=x.cameras;k(x,e);for(let n=0;n<r.length;n++)k(r[n],e);2===r.length?function(t,e,r){I.setFromMatrixPosition(e.matrixWorld),P.setFromMatrixPosition(r.matrixWorld);const n=I.distanceTo(P),i=e.projectionMatrix.elements,o=r.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],h=(i[8]-1)/i[0],c=(o[8]+1)/o[0],f=s*h,d=s*c,p=n/(-h+c),m=p*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=s+p,v=a+p,y=f-m,w=d+(n-m),b=u*a/v*g,A=l*a/v*g;t.projectionMatrix.makePerspective(y,w,b,A,g,v),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}(x,M,_):x.projectionMatrix.copy(M.projectionMatrix),function(t,e,r){null===r?t.matrix.copy(e.matrixWorld):(t.matrix.copy(r.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld));t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*lc*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,x,e)},this.getCamera=function(){return x},this.getFoveation=function(){if(null!==c||null!==f)return a},this.setFoveation=function(t){a=t,null!==c&&(c.fixedFoveation=t),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=t)},this.hasDepthSensing=function(){return null!==p.texture};let O=null;const U=new Op;U.setAnimationLoop((function(e,i){if(l=i.getViewerPose(u||o),d=i,null!==l){const e=l.views;null!==f&&(t.setRenderTargetFramebuffer(v,f.framebuffer),t.setRenderTarget(v));let r=!1;e.length!==x.cameras.length&&(x.cameras.length=0,r=!0);for(let n=0;n<e.length;n++){const i=e[n];let o=null;if(null!==f)o=f.getViewport(i);else{const e=h.getViewSubImage(c,i);o=e.viewport,0===n&&(t.setRenderTargetTextures(v,e.colorTexture,c.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(v))}let s=E[n];void 0===s&&(s=new Mp,s.layers.enable(n),s.viewport=new Hc,E[n]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===n&&(x.matrix.copy(s.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale)),!0===r&&x.cameras.push(s)}const i=n.enabledFeatures;if(i&&i.includes("depth-sensing")){const r=h.getDepthInformation(e[0]);r&&r.isValid&&r.texture&&p.init(t,r,n.renderState)}}for(let t=0;t<y.length;t++){const e=w[t],r=y[t];null!==e&&void 0!==r&&r.update(e,i,u||o)}p.render(t,x),O&&O(e,i),i.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:i}),d=null})),this.setAnimationLoop=function(t){O=t},this.dispose=function(){}}}function mv(t,e){function r(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function n(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map,r(i.map,n.mapTransform)),i.alphaMap&&(n.alphaMap.value=i.alphaMap,r(i.alphaMap,n.alphaMapTransform)),i.bumpMap&&(n.bumpMap.value=i.bumpMap,r(i.bumpMap,n.bumpMapTransform),n.bumpScale.value=i.bumpScale,i.side===ka&&(n.bumpScale.value*=-1)),i.normalMap&&(n.normalMap.value=i.normalMap,r(i.normalMap,n.normalMapTransform),n.normalScale.value.copy(i.normalScale),i.side===ka&&n.normalScale.value.negate()),i.displacementMap&&(n.displacementMap.value=i.displacementMap,r(i.displacementMap,n.displacementMapTransform),n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap,r(i.emissiveMap,n.emissiveMapTransform)),i.specularMap&&(n.specularMap.value=i.specularMap,r(i.specularMap,n.specularMapTransform)),i.alphaTest>0&&(n.alphaTest.value=i.alphaTest);const o=e.get(i).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap){n.lightMap.value=i.lightMap;const e=!0===t._useLegacyLights?Math.PI:1;n.lightMapIntensity.value=i.lightMapIntensity*e,r(i.lightMap,n.lightMapTransform)}i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity,r(i.aoMap,n.aoMapTransform))}return{refreshFogUniforms:function(e,r){r.color.getRGB(e.fogColor.value,mp(t)),r.isFog?(e.fogNear.value=r.near,e.fogFar.value=r.far):r.isFogExp2&&(e.fogDensity.value=r.density)},refreshMaterialUniforms:function(t,i,o,s,a){i.isMeshBasicMaterial||i.isMeshLambertMaterial?n(t,i):i.isMeshToonMaterial?(n(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,i)):i.isMeshPhongMaterial?(n(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,i)):i.isMeshStandardMaterial?(n(t,i),function(t,n){t.metalness.value=n.metalness,n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap,r(n.metalnessMap,t.metalnessMapTransform));t.roughness.value=n.roughness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap,r(n.roughnessMap,t.roughnessMapTransform));const i=e.get(n).envMap;i&&(t.envMapIntensity.value=n.envMapIntensity)}(t,i),i.isMeshPhysicalMaterial&&function(t,e,n){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,r(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,r(e.sheenRoughnessMap,t.sheenRoughnessMapTransform)));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,r(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,r(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,r(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),e.side===ka&&t.clearcoatNormalScale.value.negate()));e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,r(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,r(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform)));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=n.texture,t.transmissionSamplerSize.value.set(n.width,n.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,r(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,r(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,r(e.anisotropyMap,t.anisotropyMapTransform)));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,r(e.specularColorMap,t.specularColorMapTransform));e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,r(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,i,a)):i.isMeshMatcapMaterial?(n(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,i)):i.isMeshDepthMaterial?n(t,i):i.isMeshDistanceMaterial?(n(t,i),function(t,r){const n=e.get(r).light;t.referencePosition.value.setFromMatrixPosition(n.matrixWorld),t.nearDistance.value=n.shadow.camera.near,t.farDistance.value=n.shadow.camera.far}(t,i)):i.isMeshNormalMaterial?n(t,i):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,r(e.map,t.mapTransform))}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map,r(e.map,t.uvTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,r(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i,o,s):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,r(e.map,t.mapTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,r(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function gv(t,e,r,n){let i={},o={},s=[];const a=r.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(t,e,r,n){const i=t.value,o=e+"_"+r;if(void 0===n[o])return n[o]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const t=n[o];if("number"===typeof i||"boolean"===typeof i){if(t!==i)return n[o]=i,!0}else if(!1===t.equals(i))return t.copy(i),!0}return!1}function l(t){const e={boundary:0,storage:0};return"number"===typeof t||"boolean"===typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function h(e){const r=e.target;r.removeEventListener("dispose",h);const n=s.indexOf(r.__bindingPointIndex);s.splice(n,1),t.deleteBuffer(i[r.id]),delete i[r.id],delete o[r.id]}return{bind:function(t,e){const r=e.program;n.uniformBlockBinding(t,r)},update:function(r,c){let f=i[r.id];void 0===f&&(!function(t){const e=t.uniforms;let r=0;const n=16;for(let o=0,s=e.length;o<s;o++){const t=Array.isArray(e[o])?e[o]:[e[o]];for(let e=0,i=t.length;e<i;e++){const i=t[e],o=Array.isArray(i.value)?i.value:[i.value];for(let t=0,e=o.length;t<e;t++){const e=l(o[t]),s=r%n;0!==s&&n-s<e.boundary&&(r+=n-s),i.__data=new Float32Array(e.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=r,r+=e.storage}}}const i=r%n;i>0&&(r+=n-i);t.__size=r,t.__cache={}}(r),f=function(e){const r=function(){for(let t=0;t<a;t++)if(-1===s.indexOf(t))return s.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=r;const n=t.createBuffer(),i=e.__size,o=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,n),t.bufferData(t.UNIFORM_BUFFER,i,o),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,r,n),n}(r),i[r.id]=f,r.addEventListener("dispose",h));const d=c.program;n.updateUBOMapping(r,d);const p=e.render.frame;o[r.id]!==p&&(!function(e){const r=i[e.id],n=e.uniforms,o=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,r);for(let i=0,s=n.length;i<s;i++){const e=Array.isArray(n[i])?n[i]:[n[i]];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(!0===u(n,i,r,o)){const e=n.__offset,r=Array.isArray(n.value)?n.value:[n.value];let i=0;for(let o=0;o<r.length;o++){const s=r[o],a=l(s);"number"===typeof s||"boolean"===typeof s?(n.__data[0]=s,t.bufferSubData(t.UNIFORM_BUFFER,e+i,n.__data)):s.isMatrix3?(n.__data[0]=s.elements[0],n.__data[1]=s.elements[1],n.__data[2]=s.elements[2],n.__data[3]=0,n.__data[4]=s.elements[3],n.__data[5]=s.elements[4],n.__data[6]=s.elements[5],n.__data[7]=0,n.__data[8]=s.elements[6],n.__data[9]=s.elements[7],n.__data[10]=s.elements[8],n.__data[11]=0):(s.toArray(n.__data,i),i+=a.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,e,n.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(r),o[r.id]=p)},dispose:function(){for(const e in i)t.deleteBuffer(i[e]);s=[],i={},o={}}}}class vv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:e=Sc(),context:r=null,depth:n=!0,stencil:i=!0,alpha:o=!1,antialias:s=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:u=!1,powerPreference:l="default",failIfMajorPerformanceCaveat:h=!1}=t;let c;this.isWebGLRenderer=!0,c=null!==r?r.getContextAttributes().alpha:o;const f=new Uint32Array(4),d=new Int32Array(4);let p=null,m=null;const g=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=dh,this._useLegacyLights=!1,this.toneMapping=yu,this.toneMappingExposure=1;const y=this;let w=!1,b=0,A=0,M=null,_=-1,E=null;const x=new Hc,S=new Hc;let N=null;const T=new gd(0);let R=0,C=e.width,I=e.height,P=1,k=null,O=null;const U=new Hc(0,0,C,I),L=new Hc(0,0,C,I);let B=!1;const D=new kp;let F=!1,G=!1,z=null;const j=new Rf,H=new wc,W=new Zc,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function q(){return null===M?P:1}let K,J,X,Y,Q,Z,$,tt,et,rt,nt,it,ot,st,at,ut,lt,ht,ct,ft,dt,pt,mt,gt,vt=r;function yt(t,r){for(let n=0;n<t.length;n++){const i=t[n],o=e.getContext(i,r);if(null!==o)return o}return null}try{const t={alpha:!0,depth:n,stencil:i,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r".concat(Aa)),e.addEventListener("webglcontextlost",At,!1),e.addEventListener("webglcontextrestored",Mt,!1),e.addEventListener("webglcontextcreationerror",_t,!1),null===vt){const e=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&e.shift(),vt=yt(e,t),null===vt)throw yt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&vt instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===vt.getShaderPrecisionFormat&&(vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Bt){throw console.error("THREE.WebGLRenderer: "+Bt.message),Bt}function wt(){K=new hm(vt),J=new Wp(vt,K,t),K.init(J),pt=new uv(vt,K,J),X=new sv(vt,K,J),Y=new dm(vt),Q=new qg,Z=new av(vt,K,X,Q,J,pt,Y),$=new qp(y),tt=new lm(y),et=new Up(vt,J),mt=new jp(vt,K,et,J),rt=new cm(vt,et,Y,mt),nt=new vm(vt,rt,et,Y),ct=new gm(vt,J,Z),ut=new Vp(Q),it=new Vg(y,$,tt,K,J,mt,ut),ot=new mv(y,Q),st=new Yg,at=new rv(K,J),ht=new zp(y,$,tt,X,nt,c,a),lt=new ov(y,nt,J),gt=new gv(vt,Y,J,X),ft=new Hp(vt,K,Y,J),dt=new fm(vt,K,Y,J),Y.programs=it.programs,y.capabilities=J,y.extensions=K,y.properties=Q,y.renderLists=st,y.shadowMap=lt,y.state=X,y.info=Y}wt();const bt=new pv(y,vt);function At(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Mt(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const t=Y.autoReset,e=lt.enabled,r=lt.autoUpdate,n=lt.needsUpdate,i=lt.type;wt(),Y.autoReset=t,lt.enabled=e,lt.autoUpdate=r,lt.needsUpdate=n,lt.type=i}function _t(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Et(t){const e=t.target;e.removeEventListener("dispose",Et),function(t){(function(t){const e=Q.get(t).programs;void 0!==e&&(e.forEach((function(t){it.releaseProgram(t)})),t.isShaderMaterial&&it.releaseShaderCache(t))})(t),Q.remove(t)}(e)}function xt(t,e,r){!0===t.transparent&&t.side===Oa&&!1===t.forceSinglePass?(t.side=ka,t.needsUpdate=!0,Ot(t,e,r),t.side=Pa,t.needsUpdate=!0,Ot(t,e,r),t.side=Oa):Ot(t,e,r)}this.xr=bt,this.getContext=function(){return vt},this.getContextAttributes=function(){return vt.getContextAttributes()},this.forceContextLoss=function(){const t=K.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=K.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(t){void 0!==t&&(P=t,this.setSize(C,I,!1))},this.getSize=function(t){return t.set(C,I)},this.setSize=function(t,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];bt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=t,I=r,e.width=Math.floor(t*P),e.height=Math.floor(r*P),!0===n&&(e.style.width=t+"px",e.style.height=r+"px"),this.setViewport(0,0,t,r))},this.getDrawingBufferSize=function(t){return t.set(C*P,I*P).floor()},this.setDrawingBufferSize=function(t,r,n){C=t,I=r,P=n,e.width=Math.floor(t*n),e.height=Math.floor(r*n),this.setViewport(0,0,t,r)},this.getCurrentViewport=function(t){return t.copy(x)},this.getViewport=function(t){return t.copy(U)},this.setViewport=function(t,e,r,n){t.isVector4?U.set(t.x,t.y,t.z,t.w):U.set(t,e,r,n),X.viewport(x.copy(U).multiplyScalar(P).floor())},this.getScissor=function(t){return t.copy(L)},this.setScissor=function(t,e,r,n){t.isVector4?L.set(t.x,t.y,t.z,t.w):L.set(t,e,r,n),X.scissor(S.copy(L).multiplyScalar(P).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(t){X.setScissorTest(B=t)},this.setOpaqueSort=function(t){k=t},this.setTransparentSort=function(t){O=t},this.getClearColor=function(t){return t.copy(ht.getClearColor())},this.setClearColor=function(){ht.setClearColor.apply(ht,arguments)},this.getClearAlpha=function(){return ht.getClearAlpha()},this.setClearAlpha=function(){ht.setClearAlpha.apply(ht,arguments)},this.clear=function(){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let t=!1;if(null!==M){const e=M.texture.format;t=e===dl||e===fl||e===hl}if(t){const t=M.texture.type,e=t===qu||t===Qu||t===Xu||t===rl||t===tl||t===el,r=ht.getClearColor(),n=ht.getClearAlpha(),i=r.r,o=r.g,s=r.b;e?(f[0]=i,f[1]=o,f[2]=s,f[3]=n,vt.clearBufferuiv(vt.COLOR,0,f)):(d[0]=i,d[1]=o,d[2]=s,d[3]=n,vt.clearBufferiv(vt.COLOR,0,d))}else r|=vt.COLOR_BUFFER_BIT}t&&(r|=vt.DEPTH_BUFFER_BIT),e&&(r|=vt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),vt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",At,!1),e.removeEventListener("webglcontextrestored",Mt,!1),e.removeEventListener("webglcontextcreationerror",_t,!1),st.dispose(),at.dispose(),Q.dispose(),$.dispose(),tt.dispose(),nt.dispose(),mt.dispose(),gt.dispose(),it.dispose(),bt.dispose(),bt.removeEventListener("sessionstart",Nt),bt.removeEventListener("sessionend",Tt),z&&(z.dispose(),z=null),Rt.stop()},this.renderBufferDirect=function(t,e,r,n,i,o){null===e&&(e=V);const s=i.isMesh&&i.matrixWorld.determinant()<0,a=function(t,e,r,n,i){!0!==e.isScene&&(e=V);Z.resetTextureUnits();const o=e.fog,s=n.isMeshStandardMaterial?e.environment:null,a=null===M?y.outputColorSpace:!0===M.isXRRenderTarget?M.texture.colorSpace:ph,u=(n.isMeshStandardMaterial?tt:$).get(n.envMap||s),l=!0===n.vertexColors&&!!r.attributes.color&&4===r.attributes.color.itemSize,h=!!r.attributes.tangent&&(!!n.normalMap||n.anisotropy>0),c=!!r.morphAttributes.position,f=!!r.morphAttributes.normal,d=!!r.morphAttributes.color;let p=yu;n.toneMapped&&(null!==M&&!0!==M.isXRRenderTarget||(p=y.toneMapping));const g=r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color,v=void 0!==g?g.length:0,w=Q.get(n),b=m.state.lights;if(!0===F&&(!0===G||t!==E)){const e=t===E&&n.id===_;ut.setState(n,t,e)}let A=!1;n.version===w.__version?w.needsLights&&w.lightsStateVersion!==b.state.version||w.outputColorSpace!==a||i.isBatchedMesh&&!1===w.batching?A=!0:i.isBatchedMesh||!0!==w.batching?i.isInstancedMesh&&!1===w.instancing?A=!0:i.isInstancedMesh||!0!==w.instancing?i.isSkinnedMesh&&!1===w.skinning?A=!0:i.isSkinnedMesh||!0!==w.skinning?i.isInstancedMesh&&!0===w.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===w.instancingColor&&null!==i.instanceColor||w.envMap!==u||!0===n.fog&&w.fog!==o?A=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===ut.numPlanes&&w.numIntersection===ut.numIntersection?(w.vertexAlphas!==l||w.vertexTangents!==h||w.morphTargets!==c||w.morphNormals!==f||w.morphColors!==d||w.toneMapping!==p||!0===J.isWebGL2&&w.morphTargetsCount!==v)&&(A=!0):A=!0:A=!0:A=!0:A=!0:(A=!0,w.__version=n.version);let x=w.currentProgram;!0===A&&(x=Ot(n,e,i));let S=!1,N=!1,T=!1;const R=x.getUniforms(),C=w.uniforms;X.useProgram(x.program)&&(S=!0,N=!0,T=!0);n.id!==_&&(_=n.id,N=!0);if(S||E!==t){R.setValue(vt,"projectionMatrix",t.projectionMatrix),R.setValue(vt,"viewMatrix",t.matrixWorldInverse);const e=R.map.cameraPosition;void 0!==e&&e.setValue(vt,W.setFromMatrixPosition(t.matrixWorld)),J.logarithmicDepthBuffer&&R.setValue(vt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&R.setValue(vt,"isOrthographic",!0===t.isOrthographicCamera),E!==t&&(E=t,N=!0,T=!0)}if(i.isSkinnedMesh){R.setOptional(vt,i,"bindMatrix"),R.setOptional(vt,i,"bindMatrixInverse");const t=i.skeleton;t&&(J.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),R.setValue(vt,"boneTexture",t.boneTexture,Z)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}i.isBatchedMesh&&(R.setOptional(vt,i,"batchingTexture"),R.setValue(vt,"batchingTexture",i._matricesTexture,Z));const k=r.morphAttributes;(void 0!==k.position||void 0!==k.normal||void 0!==k.color&&!0===J.isWebGL2)&&ct.update(i,r,x);(N||w.receiveShadow!==i.receiveShadow)&&(w.receiveShadow=i.receiveShadow,R.setValue(vt,"receiveShadow",i.receiveShadow));n.isMeshGouraudMaterial&&null!==n.envMap&&(C.envMap.value=u,C.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1);N&&(R.setValue(vt,"toneMappingExposure",y.toneMappingExposure),w.needsLights&&(U=T,(O=C).ambientLightColor.needsUpdate=U,O.lightProbe.needsUpdate=U,O.directionalLights.needsUpdate=U,O.directionalLightShadows.needsUpdate=U,O.pointLights.needsUpdate=U,O.pointLightShadows.needsUpdate=U,O.spotLights.needsUpdate=U,O.spotLightShadows.needsUpdate=U,O.rectAreaLights.needsUpdate=U,O.hemisphereLights.needsUpdate=U),o&&!0===n.fog&&ot.refreshFogUniforms(C,o),ot.refreshMaterialUniforms(C,n,P,I,z),_g.upload(vt,Ut(w),C,Z));var O,U;n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(_g.upload(vt,Ut(w),C,Z),n.uniformsNeedUpdate=!1);n.isSpriteMaterial&&R.setValue(vt,"center",i.center);if(R.setValue(vt,"modelViewMatrix",i.modelViewMatrix),R.setValue(vt,"normalMatrix",i.normalMatrix),R.setValue(vt,"modelMatrix",i.matrixWorld),n.isShaderMaterial||n.isRawShaderMaterial){const t=n.uniformsGroups;for(let e=0,r=t.length;e<r;e++)if(J.isWebGL2){const r=t[e];gt.update(r,x),gt.bind(r,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return x}(t,e,r,n,i);X.setMaterial(n,s);let u=r.index,l=1;if(!0===n.wireframe){if(u=rt.getWireframeAttribute(r),void 0===u)return;l=2}const h=r.drawRange,c=r.attributes.position;let f=h.start*l,d=(h.start+h.count)*l;null!==o&&(f=Math.max(f,o.start*l),d=Math.min(d,(o.start+o.count)*l)),null!==u?(f=Math.max(f,0),d=Math.min(d,u.count)):void 0!==c&&null!==c&&(f=Math.max(f,0),d=Math.min(d,c.count));const p=d-f;if(p<0||p===1/0)return;let g;mt.setup(i,n,a,r,u);let v=ft;if(null!==u&&(g=et.get(u),v=dt,v.setIndex(g)),i.isMesh)!0===n.wireframe?(X.setLineWidth(n.wireframeLinewidth*q()),v.setMode(vt.LINES)):v.setMode(vt.TRIANGLES);else if(i.isLine){let t=n.linewidth;void 0===t&&(t=1),X.setLineWidth(t*q()),i.isLineSegments?v.setMode(vt.LINES):i.isLineLoop?v.setMode(vt.LINE_LOOP):v.setMode(vt.LINE_STRIP)}else i.isPoints?v.setMode(vt.POINTS):i.isSprite&&v.setMode(vt.TRIANGLES);if(i.isBatchedMesh)v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else if(i.isInstancedMesh)v.renderInstances(f,p,i.count);else if(r.isInstancedBufferGeometry){const t=void 0!==r._maxInstanceCount?r._maxInstanceCount:1/0,e=Math.min(r.instanceCount,t);v.renderInstances(f,p,e)}else v.render(f,p)},this.compile=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=t),m=at.get(r),m.init(),v.push(m),r.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(m.pushLight(t),t.castShadow&&m.pushShadow(t))})),t!==r&&t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(m.pushLight(t),t.castShadow&&m.pushShadow(t))})),m.setupLights(y._useLegacyLights);const n=new Set;return t.traverse((function(t){const e=t.material;if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++){const o=e[i];xt(o,r,t),n.add(o)}else xt(e,r,t),n.add(e)})),v.pop(),m=null,n},this.compileAsync=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=this.compile(t,e,r);return new Promise((e=>{function r(){n.forEach((function(t){Q.get(t).currentProgram.isReady()&&n.delete(t)})),0!==n.size?setTimeout(r,10):e(t)}null!==K.get("KHR_parallel_shader_compile")?r():setTimeout(r,10)}))};let St=null;function Nt(){Rt.stop()}function Tt(){Rt.start()}const Rt=new Op;function Ct(t,e,r,n){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)r=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)m.pushLight(t),t.castShadow&&m.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||D.intersectsSprite(t)){n&&W.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=nt.update(t),i=t.material;i.visible&&p.push(t,e,i,r,W.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||D.intersectsObject(t))){const e=nt.update(t),i=t.material;if(n&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),W.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),W.copy(e.boundingSphere.center)),W.applyMatrix4(t.matrixWorld).applyMatrix4(j)),Array.isArray(i)){const n=e.groups;for(let o=0,s=n.length;o<s;o++){const s=n[o],a=i[s.materialIndex];a&&a.visible&&p.push(t,e,a,r,W.z,s)}}else i.visible&&p.push(t,e,i,r,W.z,null)}const i=t.children;for(let o=0,s=i.length;o<s;o++)Ct(i[o],e,r,n)}function It(t,e,r,n){const i=t.opaque,o=t.transmissive,s=t.transparent;m.setupLightsView(r),!0===F&&ut.setGlobalState(y.clippingPlanes,r),o.length>0&&function(t,e,r,n){const i=!0===r.isScene?r.overrideMaterial:null;if(null!==i)return;const o=J.isWebGL2;null===z&&(z=new Vc(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")?$u:qu,minFilter:Wu,samples:o?4:0}));y.getDrawingBufferSize(H),o?z.setSize(H.x,H.y):z.setSize(mc(H.x),mc(H.y));const s=y.getRenderTarget();y.setRenderTarget(z),y.getClearColor(T),R=y.getClearAlpha(),R<1&&y.setClearColor(16777215,.5);y.clear();const a=y.toneMapping;y.toneMapping=yu,Pt(t,r,n),Z.updateMultisampleRenderTarget(z),Z.updateRenderTargetMipmap(z);let u=!1;for(let l=0,h=e.length;l<h;l++){const t=e[l],i=t.object,o=t.geometry,s=t.material,a=t.group;if(s.side===Oa&&i.layers.test(n.layers)){const t=s.side;s.side=ka,s.needsUpdate=!0,kt(i,r,n,o,s,a),s.side=t,s.needsUpdate=!0,u=!0}}!0===u&&(Z.updateMultisampleRenderTarget(z),Z.updateRenderTargetMipmap(z));y.setRenderTarget(s),y.setClearColor(T,R),y.toneMapping=a}(i,o,e,r),n&&X.viewport(x.copy(n)),i.length>0&&Pt(i,e,r),o.length>0&&Pt(o,e,r),s.length>0&&Pt(s,e,r),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1)}function Pt(t,e,r){const n=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],s=o.object,a=o.geometry,u=null===n?o.material:n,l=o.group;s.layers.test(r.layers)&&kt(s,e,r,a,u,l)}}function kt(t,e,r,n,i,o){t.onBeforeRender(y,e,r,n,i,o),t.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),i.onBeforeRender(y,e,r,n,t,o),!0===i.transparent&&i.side===Oa&&!1===i.forceSinglePass?(i.side=ka,i.needsUpdate=!0,y.renderBufferDirect(r,e,n,i,t,o),i.side=Pa,i.needsUpdate=!0,y.renderBufferDirect(r,e,n,i,t,o),i.side=Oa):y.renderBufferDirect(r,e,n,i,t,o),t.onAfterRender(y,e,r,n,i,o)}function Ot(t,e,r){!0!==e.isScene&&(e=V);const n=Q.get(t),i=m.state.lights,o=m.state.shadowsArray,s=i.state.version,a=it.getParameters(t,i.state,o,e,r),u=it.getProgramCacheKey(a);let l=n.programs;n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.envMap=(t.isMeshStandardMaterial?tt:$).get(t.envMap||n.environment),void 0===l&&(t.addEventListener("dispose",Et),l=new Map,n.programs=l);let h=l.get(u);if(void 0!==h){if(n.currentProgram===h&&n.lightsStateVersion===s)return Lt(t,a),h}else a.uniforms=it.getUniforms(t),t.onBuild(r,a,y),t.onBeforeCompile(a,y),h=it.acquireProgram(a,u),l.set(u,h),n.uniforms=a.uniforms;const c=n.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(c.clippingPlanes=ut.uniform),Lt(t,a),n.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),n.lightsStateVersion=s,n.needsLights&&(c.ambientLightColor.value=i.state.ambient,c.lightProbe.value=i.state.probe,c.directionalLights.value=i.state.directional,c.directionalLightShadows.value=i.state.directionalShadow,c.spotLights.value=i.state.spot,c.spotLightShadows.value=i.state.spotShadow,c.rectAreaLights.value=i.state.rectArea,c.ltc_1.value=i.state.rectAreaLTC1,c.ltc_2.value=i.state.rectAreaLTC2,c.pointLights.value=i.state.point,c.pointLightShadows.value=i.state.pointShadow,c.hemisphereLights.value=i.state.hemi,c.directionalShadowMap.value=i.state.directionalShadowMap,c.directionalShadowMatrix.value=i.state.directionalShadowMatrix,c.spotShadowMap.value=i.state.spotShadowMap,c.spotLightMatrix.value=i.state.spotLightMatrix,c.spotLightMap.value=i.state.spotLightMap,c.pointShadowMap.value=i.state.pointShadowMap,c.pointShadowMatrix.value=i.state.pointShadowMatrix),n.currentProgram=h,n.uniformsList=null,h}function Ut(t){if(null===t.uniformsList){const e=t.currentProgram.getUniforms();t.uniformsList=_g.seqWithValue(e.seq,t.uniforms)}return t.uniformsList}function Lt(t,e){const r=Q.get(t);r.outputColorSpace=e.outputColorSpace,r.batching=e.batching,r.instancing=e.instancing,r.instancingColor=e.instancingColor,r.skinning=e.skinning,r.morphTargets=e.morphTargets,r.morphNormals=e.morphNormals,r.morphColors=e.morphColors,r.morphTargetsCount=e.morphTargetsCount,r.numClippingPlanes=e.numClippingPlanes,r.numIntersection=e.numClipIntersection,r.vertexAlphas=e.vertexAlphas,r.vertexTangents=e.vertexTangents,r.toneMapping=e.toneMapping}Rt.setAnimationLoop((function(t){St&&St(t)})),"undefined"!==typeof self&&Rt.setContext(self),this.setAnimationLoop=function(t){St=t,bt.setAnimationLoop(t),null===t?Rt.stop():Rt.start()},bt.addEventListener("sessionstart",Nt),bt.addEventListener("sessionend",Tt),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===bt.enabled&&!0===bt.isPresenting&&(!0===bt.cameraAutoUpdate&&bt.updateCamera(e),e=bt.getCamera()),!0===t.isScene&&t.onBeforeRender(y,t,e,M),m=at.get(t,v.length),m.init(),v.push(m),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),D.setFromProjectionMatrix(j),G=this.localClippingEnabled,F=ut.init(this.clippingPlanes,G),p=st.get(t,g.length),p.init(),g.push(p),Ct(t,e,0,y.sortObjects),p.finish(),!0===y.sortObjects&&p.sort(k,O),this.info.render.frame++,!0===F&&ut.beginShadows();const r=m.state.shadowsArray;if(lt.render(r,t,e),!0===F&&ut.endShadows(),!0===this.info.autoReset&&this.info.reset(),!1!==bt.enabled&&!1!==bt.isPresenting&&!1!==bt.hasDepthSensing()||ht.render(p,t),m.setupLights(y._useLegacyLights),e.isArrayCamera){const r=e.cameras;for(let e=0,n=r.length;e<n;e++){const n=r[e];It(p,t,n,n.viewport)}}else It(p,t,e);null!==M&&(Z.updateMultisampleRenderTarget(M),Z.updateRenderTargetMipmap(M)),!0===t.isScene&&t.onAfterRender(y,t,e),mt.resetDefaultState(),_=-1,E=null,v.pop(),m=v.length>0?v[v.length-1]:null,g.pop(),p=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(t,e,r){Q.get(t.texture).__webglTexture=e,Q.get(t.depthTexture).__webglTexture=r;const n=Q.get(t);n.__hasExternalTextures=!0,n.__hasExternalTextures&&(n.__autoAllocateDepthBuffer=void 0===r,n.__autoAllocateDepthBuffer||!0===K.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),n.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const r=Q.get(t);r.__webglFramebuffer=e,r.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;M=t,b=e,A=r;let n=!0,i=null,o=!1,s=!1;if(t){const a=Q.get(t);void 0!==a.__useDefaultFramebuffer?(X.bindFramebuffer(vt.FRAMEBUFFER,null),n=!1):void 0===a.__webglFramebuffer?Z.setupRenderTarget(t):a.__hasExternalTextures&&Z.rebindTextures(t,Q.get(t.texture).__webglTexture,Q.get(t.depthTexture).__webglTexture);const u=t.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(s=!0);const l=Q.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=Array.isArray(l[e])?l[e][r]:l[e],o=!0):i=J.isWebGL2&&t.samples>0&&!1===Z.useMultisampledRTT(t)?Q.get(t).__webglMultisampledFramebuffer:Array.isArray(l)?l[r]:l,x.copy(t.viewport),S.copy(t.scissor),N=t.scissorTest}else x.copy(U).multiplyScalar(P).floor(),S.copy(L).multiplyScalar(P).floor(),N=B;if(X.bindFramebuffer(vt.FRAMEBUFFER,i)&&J.drawBuffers&&n&&X.drawBuffers(t,i),X.viewport(x),X.scissor(S),X.setScissorTest(N),o){const n=Q.get(t.texture);vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_CUBE_MAP_POSITIVE_X+e,n.__webglTexture,r)}else if(s){const n=Q.get(t.texture),i=e||0;vt.framebufferTextureLayer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,n.__webglTexture,r||0,i)}_=-1},this.readRenderTargetPixels=function(t,e,r,n,i,o,s){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=Q.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){X.bindFramebuffer(vt.FRAMEBUFFER,a);try{const s=t.texture,a=s.format,u=s.type;if(a!==il&&pt.convert(a)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const l=u===$u&&(K.has("EXT_color_buffer_half_float")||J.isWebGL2&&K.has("EXT_color_buffer_float"));if(u!==qu&&pt.convert(u)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_TYPE)&&(u!==Zu||!(J.isWebGL2||K.has("OES_texture_float")||K.has("WEBGL_color_buffer_float")))&&!l)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-n&&r>=0&&r<=t.height-i&&vt.readPixels(e,r,n,i,pt.convert(a),pt.convert(u),o)}finally{const t=null!==M?Q.get(M).__webglFramebuffer:null;X.bindFramebuffer(vt.FRAMEBUFFER,t)}}},this.copyFramebufferToTexture=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.pow(2,-r),i=Math.floor(e.image.width*n),o=Math.floor(e.image.height*n);Z.setTexture2D(e,0),vt.copyTexSubImage2D(vt.TEXTURE_2D,r,0,0,t.x,t.y,i,o),X.unbindTexture()},this.copyTextureToTexture=function(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=e.image.width,o=e.image.height,s=pt.convert(r.format),a=pt.convert(r.type);Z.setTexture2D(r,0),vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,r.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,r.unpackAlignment),e.isDataTexture?vt.texSubImage2D(vt.TEXTURE_2D,n,t.x,t.y,i,o,s,a,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(vt.TEXTURE_2D,n,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,s,e.mipmaps[0].data):vt.texSubImage2D(vt.TEXTURE_2D,n,t.x,t.y,s,a,e.image),0===n&&r.generateMipmaps&&vt.generateMipmap(vt.TEXTURE_2D),X.unbindTexture()},this.copyTextureToTexture3D=function(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=t.max.x-t.min.x+1,s=t.max.y-t.min.y+1,a=t.max.z-t.min.z+1,u=pt.convert(n.format),l=pt.convert(n.type);let h;if(n.isData3DTexture)Z.setTexture3D(n,0),h=vt.TEXTURE_3D;else{if(!n.isDataArrayTexture&&!n.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(n,0),h=vt.TEXTURE_2D_ARRAY}vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,n.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,n.unpackAlignment);const c=vt.getParameter(vt.UNPACK_ROW_LENGTH),f=vt.getParameter(vt.UNPACK_IMAGE_HEIGHT),d=vt.getParameter(vt.UNPACK_SKIP_PIXELS),p=vt.getParameter(vt.UNPACK_SKIP_ROWS),m=vt.getParameter(vt.UNPACK_SKIP_IMAGES),g=r.isCompressedTexture?r.mipmaps[i]:r.image;vt.pixelStorei(vt.UNPACK_ROW_LENGTH,g.width),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,g.height),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,t.min.x),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,t.min.y),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,t.min.z),r.isDataTexture||r.isData3DTexture?vt.texSubImage3D(h,i,e.x,e.y,e.z,o,s,a,u,l,g.data):r.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),vt.compressedTexSubImage3D(h,i,e.x,e.y,e.z,o,s,a,u,g.data)):vt.texSubImage3D(h,i,e.x,e.y,e.z,o,s,a,u,l,g),vt.pixelStorei(vt.UNPACK_ROW_LENGTH,c),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,f),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,d),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,p),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,m),0===i&&n.generateMipmaps&&vt.generateMipmap(h),X.unbindTexture()},this.initTexture=function(t){t.isCubeTexture?Z.setTextureCube(t,0):t.isData3DTexture?Z.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?Z.setTexture2DArray(t,0):Z.setTexture2D(t,0),X.unbindTexture()},this.resetState=function(){b=0,A=0,M=null,X.reset(),mt.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return nc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===mh?"display-p3":"srgb",e.unpackColorSpace=kc.workingColorSpace===gh?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===dh?ah:sh}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===ah?dh:ph}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}class yv extends vv{}yv.prototype.isWebGL1Renderer=!0;class wv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new gd(t),this.density=e}clone(){return new wv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class bv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new gd(t),this.near=e,this.far=r}clone(){return new bv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Av extends td{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class Mv{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Vh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=hc()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return Tc("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,r){t*=this.stride,r*=e.stride;for(let n=0,i=this.stride;n<i;n++)this.array[t+n]=e.array[r+n];return this}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=hc()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(e,this.stride);return r.setUsage(this.usage),r}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=hc()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _v=new Zc;class Ev{constructor(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=r,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,r=this.data.count;e<r;e++)_v.fromBufferAttribute(this,e),_v.applyMatrix4(t),this.setXYZ(e,_v.x,_v.y,_v.z);return this}applyNormalMatrix(t){for(let e=0,r=this.count;e<r;e++)_v.fromBufferAttribute(this,e),_v.applyNormalMatrix(t),this.setXYZ(e,_v.x,_v.y,_v.z);return this}transformDirection(t){for(let e=0,r=this.count;e<r;e++)_v.fromBufferAttribute(this,e),_v.transformDirection(t),this.setXYZ(e,_v.x,_v.y,_v.z);return this}getComponent(t,e){let r=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(r=gc(r,this.array)),r}setComponent(t,e,r){return this.normalized&&(r=vc(r,this.array)),this.data.array[t*this.data.stride+this.offset+e]=r,this}setX(t,e){return this.normalized&&(e=vc(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=vc(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=vc(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=vc(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=gc(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=gc(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=gc(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=gc(e,this.array)),e}setXY(t,e,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=r,this}setXYZ(t,e,r,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array),n=vc(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this}setXYZW(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=vc(e,this.array),r=vc(r,this.array),n=vc(n,this.array),i=vc(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const r=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[r+e])}return new Td(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ev(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const r=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[r+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xv extends wd{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new gd(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Sv;const Nv=new Zc,Tv=new Zc,Rv=new Zc,Cv=new wc,Iv=new wc,Pv=new Rf,kv=new Zc,Ov=new Zc,Uv=new Zc,Lv=new wc,Bv=new wc,Dv=new wc;class Fv extends td{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xv;if(super(),this.isSprite=!0,this.type="Sprite",void 0===Sv){Sv=new qd;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new Mv(t,5);Sv.setIndex([0,1,2,0,2,3]),Sv.setAttribute("position",new Ev(e,3,0,!1)),Sv.setAttribute("uv",new Ev(e,2,3,!1))}this.geometry=Sv,this.material=t,this.center=new wc(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tv.setFromMatrixScale(this.matrixWorld),Pv.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Rv.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Tv.multiplyScalar(-Rv.z);const r=this.material.rotation;let n,i;0!==r&&(i=Math.cos(r),n=Math.sin(r));const o=this.center;Gv(kv.set(-.5,-.5,0),Rv,o,Tv,n,i),Gv(Ov.set(.5,-.5,0),Rv,o,Tv,n,i),Gv(Uv.set(.5,.5,0),Rv,o,Tv,n,i),Lv.set(0,0),Bv.set(1,0),Dv.set(1,1);let s=t.ray.intersectTriangle(kv,Ov,Uv,!1,Nv);if(null===s&&(Gv(Ov.set(-.5,.5,0),Rv,o,Tv,n,i),Bv.set(0,1),s=t.ray.intersectTriangle(kv,Uv,Ov,!1,Nv),null===s))return;const a=t.ray.origin.distanceTo(Nv);a<t.near||a>t.far||e.push({distance:a,point:Nv.clone(),uv:cd.getInterpolation(Nv,kv,Ov,Uv,Lv,Bv,Dv,new wc),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Gv(t,e,r,n,i,o){Cv.subVectors(t,r).addScalar(.5).multiply(n),void 0!==i?(Iv.x=o*Cv.x-i*Cv.y,Iv.y=i*Cv.x+o*Cv.y):Iv.copy(Cv),t.copy(e),t.x+=Iv.x,t.y+=Iv.y,t.applyMatrix4(Pv)}const zv=new Zc,jv=new Zc;class Hv extends td{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let r=0,n=e.length;r<n;r++){const t=e[r];this.addLevel(t.object.clone(),t.distance,t.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,hysteresis:r,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let r,n;for(r=1,n=e.length;r<n;r++){let n=e[r].distance;if(e[r].object.visible&&(n-=n*e[r].hysteresis),t<n)break}return e[r-1].object}return null}raycast(t,e){if(this.levels.length>0){zv.setFromMatrixPosition(this.matrixWorld);const r=t.ray.origin.distanceTo(zv);this.getObjectForDistance(r).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){zv.setFromMatrixPosition(t.matrixWorld),jv.setFromMatrixPosition(this.matrixWorld);const r=zv.distanceTo(jv)/t.zoom;let n,i;for(e[0].object.visible=!0,n=1,i=e.length;n<i;n++){let t=e[n].distance;if(e[n].object.visible&&(t-=t*e[n].hysteresis),!(r>=t))break;e[n-1].object.visible=!1,e[n].object.visible=!0}for(this._currentLevel=n-1;n<i;n++)e[n].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const r=this.levels;for(let n=0,i=r.length;n<i;n++){const t=r[n];e.object.levels.push({object:t.object.uuid,distance:t.distance,hysteresis:t.hysteresis})}return e}}const Wv=new Zc,Vv=new Hc,qv=new Hc,Kv=new Zc,Jv=new Rf,Xv=new Zc,Yv=new bf,Qv=new Rf,Zv=new Tf;class $v extends hp{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=xu,this.bindMatrix=new Rf,this.bindMatrixInverse=new Rf,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new ef),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let r=0;r<e.count;r++)this.getVertexPosition(r,Xv),this.boundingBox.expandByPoint(Xv)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new bf),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let r=0;r<e.count;r++)this.getVertexPosition(r,Xv),this.boundingSphere.expandByPoint(Xv)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const r=this.material,n=this.matrixWorld;void 0!==r&&(null===this.boundingSphere&&this.computeBoundingSphere(),Yv.copy(this.boundingSphere),Yv.applyMatrix4(n),!1!==t.ray.intersectsSphere(Yv)&&(Qv.copy(n).invert(),Zv.copy(t.ray).applyMatrix4(Qv),null!==this.boundingBox&&!1===Zv.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,Zv)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Hc,e=this.geometry.attributes.skinWeight;for(let r=0,n=e.count;r<n;r++){t.fromBufferAttribute(e,r);const n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(r,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===xu?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Su?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const r=this.skeleton,n=this.geometry;Vv.fromBufferAttribute(n.attributes.skinIndex,t),qv.fromBufferAttribute(n.attributes.skinWeight,t),Wv.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let i=0;i<4;i++){const t=qv.getComponent(i);if(0!==t){const n=Vv.getComponent(i);Jv.multiplyMatrices(r.bones[n].matrixWorld,r.boneInverses[n]),e.addScaledVector(Kv.copy(Wv).applyMatrix4(Jv),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}class ty extends td{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ey extends jc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:Lu,arguments.length>9&&void 0!==arguments[9]?arguments[9]:Lu,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:t,width:e,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ry=new Rf,ny=new Rf;class iy{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=hc(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new Rf)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new Rf;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,r=this.boneMatrices,n=this.boneTexture;for(let i=0,o=t.length;i<o;i++){const n=t[i]?t[i].matrixWorld:ny;ry.multiplyMatrices(n,e[i]),ry.toArray(r,16*i)}null!==n&&(n.needsUpdate=!0)}clone(){return new iy(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const r=new ey(e,t,t,il,Zu);return r.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=r,this}getBoneByName(t){for(let e=0,r=this.bones.length;e<r;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let r=0,n=t.bones.length;r<n;r++){const n=t.bones[r];let i=e[n];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),i=new ty),this.bones.push(i),this.boneInverses.push((new Rf).fromArray(t.boneInverses[r]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,r=this.boneInverses;for(let n=0,i=e.length;n<i;n++){const i=e[n];t.bones.push(i.uuid);const o=r[n];t.boneInverses.push(o.toArray())}return t}}class oy extends Td{constructor(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(t,e,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const sy=new Rf,ay=new Rf,uy=[],ly=new ef,hy=new Rf,cy=new hp,fy=new bf;class dy extends hp{constructor(t,e,r){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new oy(new Float32Array(16*r),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let n=0;n<r;n++)this.setMatrixAt(n,hy)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new ef),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<e;r++)this.getMatrixAt(r,sy),ly.copy(t.boundingBox).applyMatrix4(sy),this.boundingBox.union(ly)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new bf),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<e;r++)this.getMatrixAt(r,sy),fy.copy(t.boundingSphere).applyMatrix4(sy),this.boundingSphere.union(fy)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const r=this.matrixWorld,n=this.count;if(cy.geometry=this.geometry,cy.material=this.material,void 0!==cy.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),fy.copy(this.boundingSphere),fy.applyMatrix4(r),!1!==t.ray.intersectsSphere(fy)))for(let i=0;i<n;i++){this.getMatrixAt(i,sy),ay.multiplyMatrices(r,sy),cy.matrixWorld=ay,cy.raycast(t,uy);for(let t=0,r=uy.length;t<r;t++){const r=uy[t];r.instanceId=i,r.object=this,e.push(r)}uy.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new oy(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function py(t,e){return t.z-e.z}function my(t,e){return e.z-t.z}class gy{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e){const r=this.pool,n=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const i=r[this.index];n.push(i),this.index++,i.start=t.start,i.count=t.count,i.z=e}reset(){this.list.length=0,this.index=0}}const vy="batchId",yy=new Rf,wy=new Rf,by=new Rf,Ay=new Rf,My=new kp,_y=new ef,Ey=new bf,xy=new Zc,Sy=new gy,Ny=new hp,Ty=[];function Ry(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let i=0;i<n;i++)e.setComponent(o+r,i,t.getComponent(o,i))}else e.array.set(t.array,r*n);e.needsUpdate=!0}class Cy extends hp{get maxGeometryCount(){return this._maxGeometryCount}constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*e,n=arguments.length>3?arguments[3]:void 0;super(new qd,n),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=t,this._maxVertexCount=e,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let t=Math.sqrt(4*this._maxGeometryCount);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4),r=new ey(e,t,t,il,Zu);this._matricesTexture=r}_initializeGeometry(t){const e=this.geometry,r=this._maxVertexCount,n=this._maxGeometryCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(const n in t.attributes){const i=t.getAttribute(n),{array:o,itemSize:s,normalized:a}=i,u=new o.constructor(r*s),l=new i.constructor(u,s,a);l.setUsage(i.usage),e.setAttribute(n,l)}if(null!==t.getIndex()){const t=r>65536?new Uint32Array(i):new Uint16Array(i);e.setIndex(new Td(t,1))}const o=n>65536?new Uint32Array(r):new Uint16Array(r);e.setAttribute(vy,new Td(o,1)),this._geometryInitialized=!0}}_validateGeometry(t){if(t.getAttribute(vy))throw new Error('BatchedMesh: Geometry cannot use attribute "'.concat(vy,'"'));const e=this.geometry;if(Boolean(t.getIndex())!==Boolean(e.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in e.attributes){if(r===vy)continue;if(!t.hasAttribute(r))throw new Error('BatchedMesh: Added geometry missing "'.concat(r,'". All geometries must have consistent attributes.'));const n=t.getAttribute(r),i=e.getAttribute(r);if(n.itemSize!==i.itemSize||n.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ef);const t=this._geometryCount,e=this.boundingBox,r=this._active;e.makeEmpty();for(let n=0;n<t;n++)!1!==r[n]&&(this.getMatrixAt(n,yy),this.getBoundingBoxAt(n,_y).applyMatrix4(yy),e.union(_y))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new bf);const t=this._geometryCount,e=this.boundingSphere,r=this._active;e.makeEmpty();for(let n=0;n<t;n++)!1!==r[n]&&(this.getMatrixAt(n,yy),this.getBoundingSphereAt(n,Ey).applyMatrix4(yy),e.union(Ey))}addGeometry(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._initializeGeometry(t),this._validateGeometry(t),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const n={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let i=null;const o=this._reservedRanges,s=this._drawRanges,a=this._bounds;0!==this._geometryCount&&(i=o[o.length-1]),n.vertexCount=-1===e?t.getAttribute("position").count:e,n.vertexStart=null===i?0:i.vertexStart+i.vertexCount;const u=t.getIndex(),l=null!==u;if(l&&(n.indexCount=-1===r?u.count:r,n.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==n.indexStart&&n.indexStart+n.indexCount>this._maxIndexCount||n.vertexStart+n.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,c=this._active,f=this._matricesTexture,d=this._matricesTexture.image.data;h.push(!0),c.push(!0);const p=this._geometryCount;this._geometryCount++,by.toArray(d,16*p),f.needsUpdate=!0,o.push(n),s.push({start:l?n.indexStart:n.vertexStart,count:-1}),a.push({boxInitialized:!1,box:new ef,sphereInitialized:!1,sphere:new bf});const m=this.geometry.getAttribute(vy);for(let g=0;g<n.vertexCount;g++)m.setX(n.vertexStart+g,p);return m.needsUpdate=!0,this.setGeometryAt(p,t),p}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const r=this.geometry,n=null!==r.getIndex(),i=r.getIndex(),o=e.getIndex(),s=this._reservedRanges[t];if(n&&o.count>s.indexCount||e.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const a=s.vertexStart,u=s.vertexCount;for(const f in r.attributes){if(f===vy)continue;const t=e.getAttribute(f),n=r.getAttribute(f);Ry(t,n,a);const i=t.itemSize;for(let e=t.count,r=u;e<r;e++){const t=a+e;for(let e=0;e<i;e++)n.setComponent(t,e,0)}n.needsUpdate=!0}if(n){const t=s.indexStart;for(let e=0;e<o.count;e++)i.setX(t+e,a+o.getX(e));for(let e=o.count,r=s.indexCount;e<r;e++)i.setX(t+e,a);i.needsUpdate=!0}const l=this._bounds[t];null!==e.boundingBox?(l.box.copy(e.boundingBox),l.boxInitialized=!0):l.boxInitialized=!1,null!==e.boundingSphere?(l.sphere.copy(e.boundingSphere),l.sphereInitialized=!0):l.sphereInitialized=!1;const h=this._drawRanges[t],c=e.getAttribute("position");return h.count=n?o.count:c.count,this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._active;return t>=e.length||!1===e[t]||(e[t]=!1,this._visibilityChanged=!0),this}getBoundingBoxAt(t,e){if(!1===this._active[t])return null;const r=this._bounds[t],n=r.box,i=this.geometry;if(!1===r.boxInitialized){n.makeEmpty();const e=i.index,o=i.attributes.position,s=this._drawRanges[t];for(let t=s.start,r=s.start+s.count;t<r;t++){let r=t;e&&(r=e.getX(r)),n.expandByPoint(xy.fromBufferAttribute(o,r))}r.boxInitialized=!0}return e.copy(n),e}getBoundingSphereAt(t,e){if(!1===this._active[t])return null;const r=this._bounds[t],n=r.sphere,i=this.geometry;if(!1===r.sphereInitialized){n.makeEmpty(),this.getBoundingBoxAt(t,_y),_y.getCenter(n.center);const e=i.index,o=i.attributes.position,s=this._drawRanges[t];let a=0;for(let t=s.start,r=s.start+s.count;t<r;t++){let r=t;e&&(r=e.getX(r)),xy.fromBufferAttribute(o,r),a=Math.max(a,n.center.distanceToSquared(xy))}n.radius=Math.sqrt(a),r.sphereInitialized=!0}return e.copy(n),e}setMatrixAt(t,e){const r=this._active,n=this._matricesTexture,i=this._matricesTexture.image.data;return t>=this._geometryCount||!1===r[t]||(e.toArray(i,16*t),n.needsUpdate=!0),this}getMatrixAt(t,e){const r=this._active,n=this._matricesTexture.image.data;return t>=this._geometryCount||!1===r[t]?null:e.fromArray(n,16*t)}setVisibleAt(t,e){const r=this._visibility,n=this._active;return t>=this._geometryCount||!1===n[t]||r[t]===e||(r[t]=e,this._visibilityChanged=!0),this}getVisibleAt(t){const e=this._visibility,r=this._active;return!(t>=this._geometryCount||!1===r[t])&&e[t]}raycast(t,e){const r=this._visibility,n=this._active,i=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,a=this.geometry;Ny.material=this.material,Ny.geometry.index=a.index,Ny.geometry.attributes=a.attributes,null===Ny.geometry.boundingBox&&(Ny.geometry.boundingBox=new ef),null===Ny.geometry.boundingSphere&&(Ny.geometry.boundingSphere=new bf);for(let u=0;u<o;u++){if(!r[u]||!n[u])continue;const o=i[u];Ny.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(u,Ny.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ny.geometry.boundingBox),this.getBoundingSphereAt(u,Ny.geometry.boundingSphere),Ny.raycast(t,Ty);for(let t=0,r=Ty.length;t<r;t++){const r=Ty[t];r.object=this,r.batchId=u,e.push(r)}Ty.length=0}Ny.material=null,Ny.geometry.index=null,Ny.geometry.attributes={},Ny.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=null!==t.boundingBox?t.boundingBox.clone():null,this.boundingSphere=null!==t.boundingSphere?t.boundingSphere.clone():null,this._drawRanges=t._drawRanges.map((t=>({...t}))),this._reservedRanges=t._reservedRanges.map((t=>({...t}))),this._visibility=t._visibility.slice(),this._active=t._active.slice(),this._bounds=t._bounds.map((t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()}))),this._maxGeometryCount=t._maxGeometryCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(t,e,r,n,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=n.getIndex(),s=null===o?1:o.array.BYTES_PER_ELEMENT,a=this._active,u=this._visibility,l=this._multiDrawStarts,h=this._multiDrawCounts,c=this._drawRanges,f=this.perObjectFrustumCulled;f&&(Ay.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),My.setFromProjectionMatrix(Ay,t.coordinateSystem));let d=0;if(this.sortObjects){wy.copy(this.matrixWorld).invert(),xy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(wy);for(let r=0,n=u.length;r<n;r++)if(u[r]&&a[r]){this.getMatrixAt(r,yy),this.getBoundingSphereAt(r,Ey).applyMatrix4(yy);let t=!1;if(f&&(t=!My.intersectsSphere(Ey)),!t){const t=xy.distanceTo(Ey.center);Sy.push(c[r],t)}}const t=Sy.list,e=this.customSort;null===e?t.sort(i.transparent?my:py):e.call(this,t,r);for(let r=0,n=t.length;r<n;r++){const e=t[r];l[d]=e.start*s,h[d]=e.count,d++}Sy.reset()}else for(let p=0,m=u.length;p<m;p++)if(u[p]&&a[p]){let t=!1;if(f&&(this.getMatrixAt(p,yy),this.getBoundingSphereAt(p,Ey).applyMatrix4(yy),t=!My.intersectsSphere(Ey)),!t){const t=c[p];l[d]=t.start*s,h[d]=t.count,d++}}this._multiDrawCount=d,this._visibilityChanged=!1}onBeforeShadow(t,e,r,n,i,o){this.onBeforeRender(t,null,n,i,o)}}class Iy extends wd{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gd(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Py=new Zc,ky=new Zc,Oy=new Rf,Uy=new Tf,Ly=new bf;class By extends td{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qd,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Iy;super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,r=[0];for(let t=1,n=e.count;t<n;t++)Py.fromBufferAttribute(e,t-1),ky.fromBufferAttribute(e,t),r[t]=r[t-1],r[t]+=Py.distanceTo(ky);t.setAttribute("lineDistance",new Bd(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const r=this.geometry,n=this.matrixWorld,i=t.params.Line.threshold,o=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Ly.copy(r.boundingSphere),Ly.applyMatrix4(n),Ly.radius+=i,!1===t.ray.intersectsSphere(Ly))return;Oy.copy(n).invert(),Uy.copy(t.ray).applyMatrix4(Oy);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,u=new Zc,l=new Zc,h=new Zc,c=new Zc,f=this.isLineSegments?2:1,d=r.index,p=r.attributes.position;if(null!==d){for(let r=Math.max(0,o.start),n=Math.min(d.count,o.start+o.count)-1;r<n;r+=f){const n=d.getX(r),i=d.getX(r+1);u.fromBufferAttribute(p,n),l.fromBufferAttribute(p,i);if(Uy.distanceSqToSegment(u,l,c,h)>a)continue;c.applyMatrix4(this.matrixWorld);const o=t.ray.origin.distanceTo(c);o<t.near||o>t.far||e.push({distance:o,point:h.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else{for(let r=Math.max(0,o.start),n=Math.min(p.count,o.start+o.count)-1;r<n;r+=f){u.fromBufferAttribute(p,r),l.fromBufferAttribute(p,r+1);if(Uy.distanceSqToSegment(u,l,c,h)>a)continue;c.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(c);n<t.near||n>t.far||e.push({distance:n,point:h.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const r=t[e[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=r.length;t<e;t++){const e=r[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}const Dy=new Zc,Fy=new Zc;class Gy extends By{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,r=[];for(let t=0,n=e.count;t<n;t+=2)Dy.fromBufferAttribute(e,t),Fy.fromBufferAttribute(e,t+1),r[t]=0===t?0:r[t-1],r[t+1]=r[t]+Dy.distanceTo(Fy);t.setAttribute("lineDistance",new Bd(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class zy extends By{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class jy extends wd{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new gd(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Hy=new Rf,Wy=new Tf,Vy=new bf,qy=new Zc;class Ky extends td{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qd,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new jy;super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const r=this.geometry,n=this.matrixWorld,i=t.params.Points.threshold,o=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Vy.copy(r.boundingSphere),Vy.applyMatrix4(n),Vy.radius+=i,!1===t.ray.intersectsSphere(Vy))return;Hy.copy(n).invert(),Wy.copy(t.ray).applyMatrix4(Hy);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,u=r.index,l=r.attributes.position;if(null!==u){for(let r=Math.max(0,o.start),i=Math.min(u.count,o.start+o.count);r<i;r++){const i=u.getX(r);qy.fromBufferAttribute(l,i),Jy(qy,i,a,n,t,e,this)}}else{for(let r=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);r<i;r++)qy.fromBufferAttribute(l,r),Jy(qy,r,a,n,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const r=t[e[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=r.length;t<e;t++){const e=r[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function Jy(t,e,r,n,i,o,s){const a=Wy.distanceSqToPoint(t);if(a<r){const r=new Zc;Wy.closestPointToPoint(t,r),r.applyMatrix4(n);const u=i.ray.origin.distanceTo(r);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(a),point:r,index:e,face:null,object:s})}}class Xy extends jc{constructor(t,e,r,n,i,o,s,a,u){super(t,e,r,n,i,o,s,a,u),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:zu,this.magFilter=void 0!==i?i:zu,this.generateMipmaps=!1;const l=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){l.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Yy extends jc{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Lu,this.minFilter=Lu,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qy extends jc{constructor(t,e,r,n,i,o,s,a,u,l,h,c){super(null,o,s,a,u,l,n,i,h,c),this.isCompressedTexture=!0,this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class Zy extends Qy{constructor(t,e,r,n,i,o){super(t,e,r,i,o),this.isCompressedArrayTexture=!0,this.image.depth=n,this.wrapR=Ou}}class $y extends Qy{constructor(t,e,r){super(void 0,t[0].width,t[0].height,e,r,Tu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class tw extends jc{constructor(t,e,r,n,i,o,s,a,u){super(t,e,r,n,i,o,s,a,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ew{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const r=this.getUtoTmapping(t);return this.getPoint(r,e)}getPoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const e=[];for(let r=0;r<=t;r++)e.push(this.getPoint(r/t));return e}getSpacedPoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const e=[];for(let r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let r,n=this.getPoint(0),i=0;e.push(0);for(let o=1;o<=t;o++)r=this.getPoint(o/t),i+=r.distanceTo(n),e.push(i),n=r;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const r=this.getLengths();let n=0;const i=r.length;let o;o=e||t*r[i-1];let s,a=0,u=i-1;for(;a<=u;)if(n=Math.floor(a+(u-a)/2),s=r[n]-o,s<0)a=n+1;else{if(!(s>0)){u=n;break}u=n-1}if(n=u,r[n]===o)return n/(i-1);const l=r[n];return(n+(o-l)/(r[n+1]-l))/(i-1)}getTangent(t,e){const r=1e-4;let n=t-r,i=t+r;n<0&&(n=0),i>1&&(i=1);const o=this.getPoint(n),s=this.getPoint(i),a=e||(o.isVector2?new wc:new Zc);return a.copy(s).sub(o).normalize(),a}getTangentAt(t,e){const r=this.getUtoTmapping(t);return this.getTangent(r,e)}computeFrenetFrames(t,e){const r=new Zc,n=[],i=[],o=[],s=new Zc,a=new Rf;for(let f=0;f<=t;f++){const e=f/t;n[f]=this.getTangentAt(e,new Zc)}i[0]=new Zc,o[0]=new Zc;let u=Number.MAX_VALUE;const l=Math.abs(n[0].x),h=Math.abs(n[0].y),c=Math.abs(n[0].z);l<=u&&(u=l,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),c<=u&&r.set(0,0,1),s.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],s),o[0].crossVectors(n[0],i[0]);for(let f=1;f<=t;f++){if(i[f]=i[f-1].clone(),o[f]=o[f-1].clone(),s.crossVectors(n[f-1],n[f]),s.length()>Number.EPSILON){s.normalize();const t=Math.acos(cc(n[f-1].dot(n[f]),-1,1));i[f].applyMatrix4(a.makeRotationAxis(s,t))}o[f].crossVectors(n[f],i[f])}if(!0===e){let e=Math.acos(cc(i[0].dot(i[t]),-1,1));e/=t,n[0].dot(s.crossVectors(i[0],i[t]))>0&&(e=-e);for(let r=1;r<=t;r++)i[r].applyMatrix4(a.makeRotationAxis(n[r],e*r)),o[r].crossVectors(n[r],i[r])}return{tangents:n,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class rw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(t,e){const r=e||new wc,n=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);const s=this.aStartAngle+t*i;let a=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),r=a-this.aX,n=u-this.aY;a=r*t-n*e+this.aX,u=r*e+n*t+this.aY}return r.set(a,u)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class nw extends rw{constructor(t,e,r,n,i,o){super(t,e,r,r,n,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function iw(){let t=0,e=0,r=0,n=0;function i(i,o,s,a){t=i,e=s,r=-3*i+3*o-2*s-a,n=2*i-2*o+s+a}return{initCatmullRom:function(t,e,r,n,o){i(e,r,o*(r-t),o*(n-e))},initNonuniformCatmullRom:function(t,e,r,n,o,s,a){let u=(e-t)/o-(r-t)/(o+s)+(r-e)/s,l=(r-e)/s-(n-e)/(s+a)+(n-r)/a;u*=s,l*=s,i(e,r,u,l)},calc:function(i){const o=i*i;return t+e*i+r*o+n*(o*i)}}}const ow=new Zc,sw=new iw,aw=new iw,uw=new iw;class lw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=r,this.tension=n}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc,r=this.points,n=r.length,i=(n-(this.closed?0:1))*t;let o,s,a=Math.floor(i),u=i-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/n)+1)*n:0===u&&a===n-1&&(a=n-2,u=1),this.closed||a>0?o=r[(a-1)%n]:(ow.subVectors(r[0],r[1]).add(r[0]),o=ow);const l=r[a%n],h=r[(a+1)%n];if(this.closed||a+2<n?s=r[(a+2)%n]:(ow.subVectors(r[n-1],r[n-2]).add(r[n-1]),s=ow),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(o.distanceToSquared(l),t),r=Math.pow(l.distanceToSquared(h),t),n=Math.pow(h.distanceToSquared(s),t);r<1e-4&&(r=1),e<1e-4&&(e=r),n<1e-4&&(n=r),sw.initNonuniformCatmullRom(o.x,l.x,h.x,s.x,e,r,n),aw.initNonuniformCatmullRom(o.y,l.y,h.y,s.y,e,r,n),uw.initNonuniformCatmullRom(o.z,l.z,h.z,s.z,e,r,n)}else"catmullrom"===this.curveType&&(sw.initCatmullRom(o.x,l.x,h.x,s.x,this.tension),aw.initCatmullRom(o.y,l.y,h.y,s.y,this.tension),uw.initCatmullRom(o.z,l.z,h.z,s.z,this.tension));return e.set(sw.calc(u),aw.calc(u),uw.calc(u)),e}copy(t){super.copy(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,r=this.points.length;e<r;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const r=t.points[e];this.points.push((new Zc).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function hw(t,e,r,n,i){const o=.5*(n-e),s=.5*(i-r),a=t*t;return(2*r-2*n+o+s)*(t*a)+(-3*r+3*n-2*o-s)*a+o*t+r}function cw(t,e,r,n){return function(t,e){const r=1-t;return r*r*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,r)+function(t,e){return t*t*e}(t,n)}function fw(t,e,r,n,i){return function(t,e){const r=1-t;return r*r*r*e}(t,e)+function(t,e){const r=1-t;return 3*r*r*t*e}(t,r)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,i)}class dw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wc,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new wc;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=r,this.v3=n}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc,r=this.v0,n=this.v1,i=this.v2,o=this.v3;return e.set(fw(t,r.x,n.x,i.x,o.x),fw(t,r.y,n.y,i.y,o.y)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class pw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zc,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Zc;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=r,this.v3=n}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc,r=this.v0,n=this.v1,i=this.v2,o=this.v3;return e.set(fw(t,r.x,n.x,i.x,o.x),fw(t,r.y,n.y,i.y,o.y),fw(t,r.z,n.z,i.z,o.z)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class mw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc).subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class gw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc).subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class vw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wc;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=r}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc,r=this.v0,n=this.v1,i=this.v2;return e.set(cw(t,r.x,n.x,i.x),cw(t,r.y,n.y,i.y)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class yw extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zc;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=r}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc,r=this.v0,n=this.v1,i=this.v2;return e.set(cw(t,r.x,n.x,i.x),cw(t,r.y,n.y,i.y),cw(t,r.z,n.z,i.z)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ww extends ew{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc,r=this.points,n=(r.length-1)*t,i=Math.floor(n),o=n-i,s=r[0===i?i:i-1],a=r[i],u=r[i>r.length-2?r.length-1:i+1],l=r[i>r.length-3?r.length-1:i+2];return e.set(hw(o,s.x,a.x,u.x,l.x),hw(o,s.y,a.y,u.y,l.y)),e}copy(t){super.copy(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,r=this.points.length;e<r;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const r=t.points[e];this.points.push((new wc).fromArray(r))}return this}}var bw=Object.freeze({__proto__:null,ArcCurve:nw,CatmullRomCurve3:lw,CubicBezierCurve:dw,CubicBezierCurve3:pw,EllipseCurve:rw,LineCurve:mw,LineCurve3:gw,QuadraticBezierCurve:vw,QuadraticBezierCurve3:yw,SplineCurve:ww});class Aw extends ew{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const r=!0===t.isVector2?"LineCurve":"LineCurve3";this.curves.push(new bw[r](e,t))}return this}getPoint(t,e){const r=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=r){const t=n[i]-r,o=this.curves[i],s=o.getLength(),a=0===s?0:1-t/s;return o.getPointAt(a,e)}i++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const e=[];for(let r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e}getPoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const e=[];let r;for(let n=0,i=this.curves;n<i.length;n++){const o=i[n],s=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s);for(let t=0;t<a.length;t++){const n=a[t];r&&r.equals(n)||(e.push(n),r=n)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,r=t.curves.length;e<r;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,r=this.curves.length;e<r;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,r=t.curves.length;e<r;e++){const r=t.curves[e];this.curves.push((new bw[r.type]).fromJSON(r))}return this}}class Mw extends Aw{constructor(t){super(),this.type="Path",this.currentPoint=new wc,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const r=new mw(this.currentPoint.clone(),new wc(t,e));return this.curves.push(r),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,r,n){const i=new vw(this.currentPoint.clone(),new wc(t,e),new wc(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this}bezierCurveTo(t,e,r,n,i,o){const s=new dw(this.currentPoint.clone(),new wc(t,e),new wc(r,n),new wc(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),r=new ww(e);return this.curves.push(r),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,r,n,i,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+s,e+a,r,n,i,o),this}absarc(t,e,r,n,i,o){return this.absellipse(t,e,r,r,n,i,o),this}ellipse(t,e,r,n,i,o,s,a){const u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(t+u,e+l,r,n,i,o,s,a),this}absellipse(t,e,r,n,i,o,s,a){const u=new rw(t,e,r,n,i,o,s,a);if(this.curves.length>0){const t=u.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(u);const l=u.getPoint(1);return this.currentPoint.copy(l),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class _w extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new wc(0,-.5),new wc(.5,0),new wc(0,.5)],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},e=Math.floor(e),n=cc(n,0,2*Math.PI);const i=[],o=[],s=[],a=[],u=[],l=1/e,h=new Zc,c=new wc,f=new Zc,d=new Zc,p=new Zc;let m=0,g=0;for(let v=0;v<=t.length-1;v++)switch(v){case 0:m=t[v+1].x-t[v].x,g=t[v+1].y-t[v].y,f.x=1*g,f.y=-m,f.z=0*g,p.copy(f),f.normalize(),a.push(f.x,f.y,f.z);break;case t.length-1:a.push(p.x,p.y,p.z);break;default:m=t[v+1].x-t[v].x,g=t[v+1].y-t[v].y,f.x=1*g,f.y=-m,f.z=0*g,d.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),a.push(f.x,f.y,f.z),p.copy(d)}for(let v=0;v<=e;v++){const i=r+v*l*n,f=Math.sin(i),d=Math.cos(i);for(let r=0;r<=t.length-1;r++){h.x=t[r].x*f,h.y=t[r].y,h.z=t[r].x*d,o.push(h.x,h.y,h.z),c.x=v/e,c.y=r/(t.length-1),s.push(c.x,c.y);const n=a[3*r+0]*f,i=a[3*r+1],l=a[3*r+0]*d;u.push(n,i,l)}}for(let v=0;v<e;v++)for(let e=0;e<t.length-1;e++){const r=e+v*t.length,n=r,o=r+t.length,s=r+t.length+1,a=r+1;i.push(n,o,a),i.push(s,a,o)}this.setIndex(i),this.setAttribute("position",new Bd(o,3)),this.setAttribute("uv",new Bd(s,2)),this.setAttribute("normal",new Bd(u,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _w(t.points,t.segments,t.phiStart,t.phiLength)}}class Ew extends _w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new Mw;i.absarc(0,-e/2,t,1.5*Math.PI,0),i.absarc(0,e/2,t,0,.5*Math.PI),super(i.getPoints(r),n),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:r,radialSegments:n}}static fromJSON(t){return new Ew(t.radius,t.length,t.capSegments,t.radialSegments)}}class xw extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},e=Math.max(3,e);const i=[],o=[],s=[],a=[],u=new Zc,l=new wc;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let h=0,c=3;h<=e;h++,c+=3){const i=r+h/e*n;u.x=t*Math.cos(i),u.y=t*Math.sin(i),o.push(u.x,u.y,u.z),s.push(0,0,1),l.x=(o[c]/t+1)/2,l.y=(o[c+1]/t+1)/2,a.push(l.x,l.y)}for(let h=1;h<=e;h++)i.push(h,h+1,0);this.setIndex(i),this.setAttribute("position",new Bd(o,3)),this.setAttribute("normal",new Bd(s,3)),this.setAttribute("uv",new Bd(a,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new xw(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Sw extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a};const u=this;n=Math.floor(n),i=Math.floor(i);const l=[],h=[],c=[],f=[];let d=0;const p=[],m=r/2;let g=0;function v(r){const i=d,o=new wc,p=new Zc;let v=0;const y=!0===r?t:e,w=!0===r?1:-1;for(let t=1;t<=n;t++)h.push(0,m*w,0),c.push(0,w,0),f.push(.5,.5),d++;const b=d;for(let t=0;t<=n;t++){const e=t/n*a+s,r=Math.cos(e),i=Math.sin(e);p.x=y*i,p.y=m*w,p.z=y*r,h.push(p.x,p.y,p.z),c.push(0,w,0),o.x=.5*r+.5,o.y=.5*i*w+.5,f.push(o.x,o.y),d++}for(let t=0;t<n;t++){const e=i+t,n=b+t;!0===r?l.push(n,n+1,e):l.push(n+1,n,e),v+=3}u.addGroup(g,v,!0===r?1:2),g+=v}!function(){const o=new Zc,v=new Zc;let y=0;const w=(e-t)/r;for(let u=0;u<=i;u++){const l=[],g=u/i,y=g*(e-t)+t;for(let t=0;t<=n;t++){const e=t/n,i=e*a+s,u=Math.sin(i),p=Math.cos(i);v.x=y*u,v.y=-g*r+m,v.z=y*p,h.push(v.x,v.y,v.z),o.set(u,w,p).normalize(),c.push(o.x,o.y,o.z),f.push(e,1-g),l.push(d++)}p.push(l)}for(let t=0;t<n;t++)for(let e=0;e<i;e++){const r=p[e][t],n=p[e+1][t],i=p[e+1][t+1],o=p[e][t+1];l.push(r,n,o),l.push(n,i,o),y+=6}u.addGroup(g,y,0),g+=y}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(l),this.setAttribute("position",new Bd(h,3)),this.setAttribute("normal",new Bd(c,3)),this.setAttribute("uv",new Bd(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Sw(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Nw extends Sw{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,t,e,r,n,i,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:s}}static fromJSON(t){return new Nw(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Tw extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n};const i=[],o=[];function s(t,e,r,n){const i=n+1,o=[];for(let s=0;s<=i;s++){o[s]=[];const n=t.clone().lerp(r,s/i),a=e.clone().lerp(r,s/i),u=i-s;for(let t=0;t<=u;t++)o[s][t]=0===t&&s===i?n:n.clone().lerp(a,t/u)}for(let s=0;s<i;s++)for(let t=0;t<2*(i-s)-1;t++){const e=Math.floor(t/2);t%2===0?(a(o[s][e+1]),a(o[s+1][e]),a(o[s][e])):(a(o[s][e+1]),a(o[s+1][e+1]),a(o[s+1][e]))}}function a(t){i.push(t.x,t.y,t.z)}function u(e,r){const n=3*e;r.x=t[n+0],r.y=t[n+1],r.z=t[n+2]}function l(t,e,r,n){n<0&&1===t.x&&(o[e]=t.x-1),0===r.x&&0===r.z&&(o[e]=n/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}!function(t){const r=new Zc,n=new Zc,i=new Zc;for(let o=0;o<e.length;o+=3)u(e[o+0],r),u(e[o+1],n),u(e[o+2],i),s(r,n,i,t)}(n),function(t){const e=new Zc;for(let r=0;r<i.length;r+=3)e.x=i[r+0],e.y=i[r+1],e.z=i[r+2],e.normalize().multiplyScalar(t),i[r+0]=e.x,i[r+1]=e.y,i[r+2]=e.z}(r),function(){const t=new Zc;for(let r=0;r<i.length;r+=3){t.x=i[r+0],t.y=i[r+1],t.z=i[r+2];const n=h(t)/2/Math.PI+.5,s=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);o.push(n,1-s)}var e;(function(){const t=new Zc,e=new Zc,r=new Zc,n=new Zc,s=new wc,a=new wc,u=new wc;for(let c=0,f=0;c<i.length;c+=9,f+=6){t.set(i[c+0],i[c+1],i[c+2]),e.set(i[c+3],i[c+4],i[c+5]),r.set(i[c+6],i[c+7],i[c+8]),s.set(o[f+0],o[f+1]),a.set(o[f+2],o[f+3]),u.set(o[f+4],o[f+5]),n.copy(t).add(e).add(r).divideScalar(3);const d=h(n);l(s,f+0,t,d),l(a,f+2,e,d),l(u,f+4,r,d)}})(),function(){for(let t=0;t<o.length;t+=6){const e=o[t+0],r=o[t+2],n=o[t+4],i=Math.max(e,r,n),s=Math.min(e,r,n);i>.9&&s<.1&&(e<.2&&(o[t+0]+=1),r<.2&&(o[t+2]+=1),n<.2&&(o[t+4]+=1))}}()}(),this.setAttribute("position",new Bd(i,3)),this.setAttribute("normal",new Bd(i.slice(),3)),this.setAttribute("uv",new Bd(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Tw(t.vertices,t.indices,t.radius,t.details)}}class Rw extends Tw{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=(1+Math.sqrt(5))/2,n=1/r;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Rw(t.radius,t.detail)}}const Cw=new Zc,Iw=new Zc,Pw=new Zc,kw=new cd;class Ow extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},null!==t){const r=4,n=Math.pow(10,r),i=Math.cos(uc*e),o=t.getIndex(),s=t.getAttribute("position"),a=o?o.count:s.count,u=[0,0,0],l=["a","b","c"],h=new Array(3),c={},f=[];for(let t=0;t<a;t+=3){o?(u[0]=o.getX(t),u[1]=o.getX(t+1),u[2]=o.getX(t+2)):(u[0]=t,u[1]=t+1,u[2]=t+2);const{a:e,b:r,c:a}=kw;if(e.fromBufferAttribute(s,u[0]),r.fromBufferAttribute(s,u[1]),a.fromBufferAttribute(s,u[2]),kw.getNormal(Pw),h[0]="".concat(Math.round(e.x*n),",").concat(Math.round(e.y*n),",").concat(Math.round(e.z*n)),h[1]="".concat(Math.round(r.x*n),",").concat(Math.round(r.y*n),",").concat(Math.round(r.z*n)),h[2]="".concat(Math.round(a.x*n),",").concat(Math.round(a.y*n),",").concat(Math.round(a.z*n)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(let t=0;t<3;t++){const e=(t+1)%3,r=h[t],n=h[e],o=kw[l[t]],s=kw[l[e]],a="".concat(r,"_").concat(n),d="".concat(n,"_").concat(r);d in c&&c[d]?(Pw.dot(c[d].normal)<=i&&(f.push(o.x,o.y,o.z),f.push(s.x,s.y,s.z)),c[d]=null):a in c||(c[a]={index0:u[t],index1:u[e],normal:Pw.clone()})}}for(const t in c)if(c[t]){const{index0:e,index1:r}=c[t];Cw.fromBufferAttribute(s,e),Iw.fromBufferAttribute(s,r),f.push(Cw.x,Cw.y,Cw.z),f.push(Iw.x,Iw.y,Iw.z)}this.setAttribute("position",new Bd(f,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Uw extends Mw{constructor(t){super(t),this.uuid=hc(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,r=t.holes.length;e<r;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,r=this.holes.length;e<r;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,r=t.holes.length;e<r;e++){const r=t.holes[e];this.holes.push((new Mw).fromJSON(r))}return this}}const Lw=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=e&&e.length,i=n?e[0]*r:t.length;let o=Bw(t,0,i,r,!0);const s=[];if(!o||o.next===o.prev)return s;let a,u,l,h,c,f,d;if(n&&(o=function(t,e,r,n){const i=[];let o,s,a,u,l;for(o=0,s=e.length;o<s;o++)a=e[o]*n,u=o<s-1?e[o+1]*n:t.length,l=Bw(t,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(Jw(l));for(i.sort(Ww),o=0;o<i.length;o++)r=Vw(i[o],r);return r}(t,e,o,r)),t.length>80*r){a=l=t[0],u=h=t[1];for(let e=r;e<i;e+=r)c=t[e],f=t[e+1],c<a&&(a=c),f<u&&(u=f),c>l&&(l=c),f>h&&(h=f);d=Math.max(l-a,h-u),d=0!==d?32767/d:0}return Fw(o,s,r,a,u,d,0),s};function Bw(t,e,r,n,i){let o,s;if(i===function(t,e,r,n){let i=0;for(let o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}(t,e,r,n)>0)for(o=e;o<r;o+=n)s=ib(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=ib(o,t[o],t[o+1],s);return s&&Zw(s,s.next)&&(ob(s),s=s.next),s}function Dw(t,e){if(!t)return t;e||(e=t);let r,n=t;do{if(r=!1,n.steiner||!Zw(n,n.next)&&0!==Qw(n.prev,n,n.next))n=n.next;else{if(ob(n),n=e=n.prev,n===n.next)break;r=!0}}while(r||n!==e);return e}function Fw(t,e,r,n,i,o,s){if(!t)return;!s&&o&&function(t,e,r,n){let i=t;do{0===i.z&&(i.z=Kw(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ,n);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1)}(i)}(t,n,i,o);let a,u,l=t;for(;t.prev!==t.next;)if(a=t.prev,u=t.next,o?zw(t,n,i,o):Gw(t))e.push(a.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),ob(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?Fw(t=jw(Dw(t),e,r),e,r,n,i,o,2):2===s&&Hw(t,e,r,n,i,o):Fw(Dw(t),e,r,n,i,o,1);break}}function Gw(t){const e=t.prev,r=t,n=t.next;if(Qw(e,r,n)>=0)return!1;const i=e.x,o=r.x,s=n.x,a=e.y,u=r.y,l=n.y,h=i<o?i<s?i:s:o<s?o:s,c=a<u?a<l?a:l:u<l?u:l,f=i>o?i>s?i:s:o>s?o:s,d=a>u?a>l?a:l:u>l?u:l;let p=n.next;for(;p!==e;){if(p.x>=h&&p.x<=f&&p.y>=c&&p.y<=d&&Xw(i,a,o,u,s,l,p.x,p.y)&&Qw(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function zw(t,e,r,n){const i=t.prev,o=t,s=t.next;if(Qw(i,o,s)>=0)return!1;const a=i.x,u=o.x,l=s.x,h=i.y,c=o.y,f=s.y,d=a<u?a<l?a:l:u<l?u:l,p=h<c?h<f?h:f:c<f?c:f,m=a>u?a>l?a:l:u>l?u:l,g=h>c?h>f?h:f:c>f?c:f,v=Kw(d,p,e,r,n),y=Kw(m,g,e,r,n);let w=t.prevZ,b=t.nextZ;for(;w&&w.z>=v&&b&&b.z<=y;){if(w.x>=d&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==s&&Xw(a,h,u,c,l,f,w.x,w.y)&&Qw(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&Xw(a,h,u,c,l,f,b.x,b.y)&&Qw(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;w&&w.z>=v;){if(w.x>=d&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==s&&Xw(a,h,u,c,l,f,w.x,w.y)&&Qw(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=y;){if(b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&Xw(a,h,u,c,l,f,b.x,b.y)&&Qw(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function jw(t,e,r){let n=t;do{const i=n.prev,o=n.next.next;!Zw(i,o)&&$w(i,n,n.next,o)&&rb(i,o)&&rb(o,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),ob(n),ob(n.next),n=t=o),n=n.next}while(n!==t);return Dw(n)}function Hw(t,e,r,n,i,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){if(s.i!==t.i&&Yw(s,t)){let a=nb(s,t);return s=Dw(s,s.next),a=Dw(a,a.next),Fw(s,e,r,n,i,o,0),void Fw(a,e,r,n,i,o,0)}t=t.next}s=s.next}while(s!==t)}function Ww(t,e){return t.x-e.x}function Vw(t,e){const r=function(t,e){let r,n=e,i=-1/0;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const t=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=o&&t>i&&(i=t,r=n.x<n.next.x?n:n.next,t===o))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,u=r.x,l=r.y;let h,c=1/0;n=r;do{o>=n.x&&n.x>=u&&o!==n.x&&Xw(s<l?o:i,s,u,l,s<l?i:o,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(o-n.x),rb(n,t)&&(h<c||h===c&&(n.x>r.x||n.x===r.x&&qw(r,n)))&&(r=n,c=h)),n=n.next}while(n!==a);return r}(t,e);if(!r)return e;const n=nb(r,t);return Dw(n,n.next),Dw(r,r.next)}function qw(t,e){return Qw(t.prev,t,e.prev)<0&&Qw(e.next,t,t.next)<0}function Kw(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Jw(t){let e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function Xw(t,e,r,n,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(n-a)>=(r-s)*(e-a)&&(r-s)*(o-a)>=(i-s)*(n-a)}function Yw(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&$w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(rb(t,e)&&rb(e,t)&&function(t,e){let r=t,n=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!==r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(Qw(t.prev,t,e.prev)||Qw(t,e.prev,e))||Zw(t,e)&&Qw(t.prev,t,t.next)>0&&Qw(e.prev,e,e.next)>0)}function Qw(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Zw(t,e){return t.x===e.x&&t.y===e.y}function $w(t,e,r,n){const i=eb(Qw(t,e,r)),o=eb(Qw(t,e,n)),s=eb(Qw(r,n,t)),a=eb(Qw(r,n,e));return i!==o&&s!==a||(!(0!==i||!tb(t,r,e))||(!(0!==o||!tb(t,n,e))||(!(0!==s||!tb(r,t,n))||!(0!==a||!tb(r,e,n)))))}function tb(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function eb(t){return t>0?1:t<0?-1:0}function rb(t,e){return Qw(t.prev,t,t.next)<0?Qw(t,e,t.next)>=0&&Qw(t,t.prev,e)>=0:Qw(t,e,t.prev)<0||Qw(t,t.next,e)<0}function nb(t,e){const r=new sb(t.i,t.x,t.y),n=new sb(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function ib(t,e,r,n){const i=new sb(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ob(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sb(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class ab{static area(t){const e=t.length;let r=0;for(let n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r}static isClockWise(t){return ab.area(t)<0}static triangulateShape(t,e){const r=[],n=[],i=[];ub(t),lb(r,t);let o=t.length;e.forEach(ub);for(let a=0;a<e.length;a++)n.push(o),o+=e[a].length,lb(r,e[a]);const s=Lw(r,n);for(let a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}}function ub(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function lb(t,e){for(let r=0;r<e.length;r++)t.push(e[r].x),t.push(e[r].y)}class hb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uw([new wc(.5,.5),new wc(-.5,.5),new wc(-.5,-.5),new wc(.5,-.5)]),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const r=this,n=[],i=[];for(let s=0,a=t.length;s<a;s++){o(t[s])}function o(t){const o=[],s=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:1;let l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:.2,c=void 0!==e.bevelSize?e.bevelSize:h-.1,f=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3;const p=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:cb;let g,v,y,w,b,A=!1;p&&(g=p.getSpacedPoints(a),A=!0,l=!1,v=p.computeFrenetFrames(a,!1),y=new Zc,w=new Zc,b=new Zc),l||(d=0,h=0,c=0,f=0);const M=t.extractPoints(s);let _=M.shape;const E=M.holes;if(!ab.isClockWise(_)){_=_.reverse();for(let t=0,e=E.length;t<e;t++){const e=E[t];ab.isClockWise(e)&&(E[t]=e.reverse())}}const x=ab.triangulateShape(_,E),S=_;for(let e=0,r=E.length;e<r;e++){const t=E[e];_=_.concat(t)}function N(t,e,r){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().addScaledVector(e,r)}const T=_.length,R=x.length;function C(t,e,r){let n,i,o;const s=t.x-e.x,a=t.y-e.y,u=r.x-t.x,l=r.y-t.y,h=s*s+a*a,c=s*l-a*u;if(Math.abs(c)>Number.EPSILON){const c=Math.sqrt(h),f=Math.sqrt(u*u+l*l),d=e.x-a/c,p=e.y+s/c,m=((r.x-l/f-d)*l-(r.y+u/f-p)*u)/(s*l-a*u);n=d+s*m-t.x,i=p+a*m-t.y;const g=n*n+i*i;if(g<=2)return new wc(n,i);o=Math.sqrt(g/2)}else{let t=!1;s>Number.EPSILON?u>Number.EPSILON&&(t=!0):s<-Number.EPSILON?u<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(l)&&(t=!0),t?(n=-a,i=s,o=Math.sqrt(h)):(n=s,i=a,o=Math.sqrt(h/2))}return new wc(n/o,i/o)}const I=[];for(let e=0,r=S.length,n=r-1,i=e+1;e<r;e++,n++,i++)n===r&&(n=0),i===r&&(i=0),I[e]=C(S[e],S[n],S[i]);const P=[];let k,O=I.concat();for(let e=0,r=E.length;e<r;e++){const t=E[e];k=[];for(let e=0,r=t.length,n=r-1,i=e+1;e<r;e++,n++,i++)n===r&&(n=0),i===r&&(i=0),k[e]=C(t[e],t[n],t[i]);P.push(k),O=O.concat(k)}for(let e=0;e<d;e++){const t=e/d,r=h*Math.cos(t*Math.PI/2),n=c*Math.sin(t*Math.PI/2)+f;for(let e=0,i=S.length;e<i;e++){const t=N(S[e],I[e],n);B(t.x,t.y,-r)}for(let e=0,i=E.length;e<i;e++){const t=E[e];k=P[e];for(let e=0,i=t.length;e<i;e++){const i=N(t[e],k[e],n);B(i.x,i.y,-r)}}}const U=c+f;for(let e=0;e<T;e++){const t=l?N(_[e],O[e],U):_[e];A?(w.copy(v.normals[0]).multiplyScalar(t.x),y.copy(v.binormals[0]).multiplyScalar(t.y),b.copy(g[0]).add(w).add(y),B(b.x,b.y,b.z)):B(t.x,t.y,0)}for(let e=1;e<=a;e++)for(let t=0;t<T;t++){const r=l?N(_[t],O[t],U):_[t];A?(w.copy(v.normals[e]).multiplyScalar(r.x),y.copy(v.binormals[e]).multiplyScalar(r.y),b.copy(g[e]).add(w).add(y),B(b.x,b.y,b.z)):B(r.x,r.y,u/a*e)}for(let e=d-1;e>=0;e--){const t=e/d,r=h*Math.cos(t*Math.PI/2),n=c*Math.sin(t*Math.PI/2)+f;for(let e=0,i=S.length;e<i;e++){const t=N(S[e],I[e],n);B(t.x,t.y,u+r)}for(let e=0,i=E.length;e<i;e++){const t=E[e];k=P[e];for(let e=0,i=t.length;e<i;e++){const i=N(t[e],k[e],n);A?B(i.x,i.y+g[a-1].y,g[a-1].x+r):B(i.x,i.y,u+r)}}}function L(t,e){let r=t.length;for(;--r>=0;){const n=r;let i=r-1;i<0&&(i=t.length-1);for(let t=0,r=a+2*d;t<r;t++){const r=T*t,o=T*(t+1);F(e+n+r,e+i+r,e+i+o,e+n+o)}}}function B(t,e,r){o.push(t),o.push(e),o.push(r)}function D(t,e,i){G(t),G(e),G(i);const o=n.length/3,s=m.generateTopUV(r,n,o-3,o-2,o-1);z(s[0]),z(s[1]),z(s[2])}function F(t,e,i,o){G(t),G(e),G(o),G(e),G(i),G(o);const s=n.length/3,a=m.generateSideWallUV(r,n,s-6,s-3,s-2,s-1);z(a[0]),z(a[1]),z(a[3]),z(a[1]),z(a[2]),z(a[3])}function G(t){n.push(o[3*t+0]),n.push(o[3*t+1]),n.push(o[3*t+2])}function z(t){i.push(t.x),i.push(t.y)}!function(){const t=n.length/3;if(l){let t=0,e=T*t;for(let r=0;r<R;r++){const t=x[r];D(t[2]+e,t[1]+e,t[0]+e)}t=a+2*d,e=T*t;for(let r=0;r<R;r++){const t=x[r];D(t[0]+e,t[1]+e,t[2]+e)}}else{for(let t=0;t<R;t++){const e=x[t];D(e[2],e[1],e[0])}for(let t=0;t<R;t++){const e=x[t];D(e[0]+T*a,e[1]+T*a,e[2]+T*a)}}r.addGroup(t,n.length/3-t,0)}(),function(){const t=n.length/3;let e=0;L(S,e),e+=S.length;for(let r=0,n=E.length;r<n;r++){const t=E[r];L(t,e),e+=t.length}r.addGroup(t,n.length/3-t,1)}()}this.setAttribute("position",new Bd(n,3)),this.setAttribute("uv",new Bd(i,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function(t,e,r){if(r.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const e=t[n];r.shapes.push(e.uuid)}else r.shapes.push(t.uuid);r.options=Object.assign({},e),void 0!==e.extrudePath&&(r.options.extrudePath=e.extrudePath.toJSON());return r}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const r=[];for(let i=0,o=t.shapes.length;i<o;i++){const n=e[t.shapes[i]];r.push(n)}const n=t.options.extrudePath;return void 0!==n&&(t.options.extrudePath=(new bw[n.type]).fromJSON(n)),new hb(r,t.options)}}const cb={generateTopUV:function(t,e,r,n,i){const o=e[3*r],s=e[3*r+1],a=e[3*n],u=e[3*n+1],l=e[3*i],h=e[3*i+1];return[new wc(o,s),new wc(a,u),new wc(l,h)]},generateSideWallUV:function(t,e,r,n,i,o){const s=e[3*r],a=e[3*r+1],u=e[3*r+2],l=e[3*n],h=e[3*n+1],c=e[3*n+2],f=e[3*i],d=e[3*i+1],p=e[3*i+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(a-h)<Math.abs(s-l)?[new wc(s,1-u),new wc(l,1-c),new wc(f,1-p),new wc(m,1-v)]:[new wc(a,1-u),new wc(h,1-c),new wc(d,1-p),new wc(g,1-v)]}};class fb extends Tw{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=(1+Math.sqrt(5))/2;super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new fb(t.radius,t.detail)}}class db extends Tw{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new db(t.radius,t.detail)}}class pb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},r=Math.max(3,r),n=Math.max(1,n);const s=[],a=[],u=[],l=[];let h=t;const c=(e-t)/n,f=new Zc,d=new wc;for(let p=0;p<=n;p++){for(let t=0;t<=r;t++){const n=i+t/r*o;f.x=h*Math.cos(n),f.y=h*Math.sin(n),a.push(f.x,f.y,f.z),u.push(0,0,1),d.x=(f.x/e+1)/2,d.y=(f.y/e+1)/2,l.push(d.x,d.y)}h+=c}for(let p=0;p<n;p++){const t=p*(r+1);for(let e=0;e<r;e++){const n=e+t,i=n,o=n+r+1,a=n+r+2,u=n+1;s.push(i,o,u),s.push(o,a,u)}}this.setIndex(s),this.setAttribute("position",new Bd(a,3)),this.setAttribute("normal",new Bd(u,3)),this.setAttribute("uv",new Bd(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new pb(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class mb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uw([new wc(0,.5),new wc(-.5,-.5),new wc(.5,-.5)]),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const r=[],n=[],i=[],o=[];let s=0,a=0;if(!1===Array.isArray(t))u(t);else for(let l=0;l<t.length;l++)u(t[l]),this.addGroup(s,a,l),s+=a,a=0;function u(t){const s=n.length/3,u=t.extractPoints(e);let l=u.shape;const h=u.holes;!1===ab.isClockWise(l)&&(l=l.reverse());for(let e=0,r=h.length;e<r;e++){const t=h[e];!0===ab.isClockWise(t)&&(h[e]=t.reverse())}const c=ab.triangulateShape(l,h);for(let e=0,r=h.length;e<r;e++){const t=h[e];l=l.concat(t)}for(let e=0,r=l.length;e<r;e++){const t=l[e];n.push(t.x,t.y,0),i.push(0,0,1),o.push(t.x,t.y)}for(let e=0,n=c.length;e<n;e++){const t=c[e],n=t[0]+s,i=t[1]+s,o=t[2]+s;r.push(n,i,o),a+=3}}this.setIndex(r),this.setAttribute("position",new Bd(n,3)),this.setAttribute("normal",new Bd(i,3)),this.setAttribute("uv",new Bd(o,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function(t,e){if(e.shapes=[],Array.isArray(t))for(let r=0,n=t.length;r<n;r++){const n=t[r];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}static fromJSON(t,e){const r=[];for(let n=0,i=t.shapes.length;n<i;n++){const i=e[t.shapes[n]];r.push(i)}return new mb(r,t.curveSegments)}}class gb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:s},e=Math.max(3,Math.floor(e)),r=Math.max(2,Math.floor(r));const a=Math.min(o+s,Math.PI);let u=0;const l=[],h=new Zc,c=new Zc,f=[],d=[],p=[],m=[];for(let g=0;g<=r;g++){const f=[],v=g/r;let y=0;0===g&&0===o?y=.5/e:g===r&&a===Math.PI&&(y=-.5/e);for(let r=0;r<=e;r++){const a=r/e;h.x=-t*Math.cos(n+a*i)*Math.sin(o+v*s),h.y=t*Math.cos(o+v*s),h.z=t*Math.sin(n+a*i)*Math.sin(o+v*s),d.push(h.x,h.y,h.z),c.copy(h).normalize(),p.push(c.x,c.y,c.z),m.push(a+y,1-v),f.push(u++)}l.push(f)}for(let g=0;g<r;g++)for(let t=0;t<e;t++){const e=l[g][t+1],n=l[g][t],i=l[g+1][t],s=l[g+1][t+1];(0!==g||o>0)&&f.push(e,n,s),(g!==r-1||a<Math.PI)&&f.push(n,i,s)}this.setIndex(f),this.setAttribute("position",new Bd(d,3)),this.setAttribute("normal",new Bd(p,3)),this.setAttribute("uv",new Bd(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new gb(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class vb extends Tw{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new vb(t.radius,t.detail)}}class yb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},r=Math.floor(r),n=Math.floor(n);const o=[],s=[],a=[],u=[],l=new Zc,h=new Zc,c=new Zc;for(let f=0;f<=r;f++)for(let o=0;o<=n;o++){const d=o/n*i,p=f/r*Math.PI*2;h.x=(t+e*Math.cos(p))*Math.cos(d),h.y=(t+e*Math.cos(p))*Math.sin(d),h.z=e*Math.sin(p),s.push(h.x,h.y,h.z),l.x=t*Math.cos(d),l.y=t*Math.sin(d),c.subVectors(h,l).normalize(),a.push(c.x,c.y,c.z),u.push(o/n),u.push(f/r)}for(let f=1;f<=r;f++)for(let t=1;t<=n;t++){const e=(n+1)*f+t-1,r=(n+1)*(f-1)+t-1,i=(n+1)*(f-1)+t,s=(n+1)*f+t;o.push(e,r,s),o.push(r,i,s)}this.setIndex(o),this.setAttribute("position",new Bd(s,3)),this.setAttribute("normal",new Bd(a,3)),this.setAttribute("uv",new Bd(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new yb(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class wb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},r=Math.floor(r),n=Math.floor(n);const s=[],a=[],u=[],l=[],h=new Zc,c=new Zc,f=new Zc,d=new Zc,p=new Zc,m=new Zc,g=new Zc;for(let y=0;y<=r;++y){const s=y/r*i*Math.PI*2;v(s,i,o,t,f),v(s+.01,i,o,t,d),m.subVectors(d,f),g.addVectors(d,f),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let t=0;t<=n;++t){const i=t/n*Math.PI*2,o=-e*Math.cos(i),s=e*Math.sin(i);h.x=f.x+(o*g.x+s*p.x),h.y=f.y+(o*g.y+s*p.y),h.z=f.z+(o*g.z+s*p.z),a.push(h.x,h.y,h.z),c.subVectors(h,f).normalize(),u.push(c.x,c.y,c.z),l.push(y/r),l.push(t/n)}}for(let y=1;y<=r;y++)for(let t=1;t<=n;t++){const e=(n+1)*(y-1)+(t-1),r=(n+1)*y+(t-1),i=(n+1)*y+t,o=(n+1)*(y-1)+t;s.push(e,r,o),s.push(r,i,o)}function v(t,e,r,n,i){const o=Math.cos(t),s=Math.sin(t),a=r/e*t,u=Math.cos(a);i.x=n*(2+u)*.5*o,i.y=n*(2+u)*s*.5,i.z=n*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new Bd(a,3)),this.setAttribute("normal",new Bd(u,3)),this.setAttribute("uv",new Bd(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new wb(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class bb extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yw(new Zc(-1,-1,0),new Zc(-1,1,0),new Zc(1,1,0)),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i};const o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new Zc,a=new Zc,u=new wc;let l=new Zc;const h=[],c=[],f=[],d=[];function p(i){l=t.getPointAt(i/e,l);const u=o.normals[i],f=o.binormals[i];for(let t=0;t<=n;t++){const e=t/n*Math.PI*2,i=Math.sin(e),o=-Math.cos(e);a.x=o*u.x+i*f.x,a.y=o*u.y+i*f.y,a.z=o*u.z+i*f.z,a.normalize(),c.push(a.x,a.y,a.z),s.x=l.x+r*a.x,s.y=l.y+r*a.y,s.z=l.z+r*a.z,h.push(s.x,s.y,s.z)}}!function(){for(let t=0;t<e;t++)p(t);p(!1===i?e:0),function(){for(let t=0;t<=e;t++)for(let r=0;r<=n;r++)u.x=t/e,u.y=r/n,f.push(u.x,u.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=n;e++){const r=(n+1)*(t-1)+(e-1),i=(n+1)*t+(e-1),o=(n+1)*t+e,s=(n+1)*(t-1)+e;d.push(r,i,s),d.push(i,o,s)}}()}(),this.setIndex(d),this.setAttribute("position",new Bd(h,3)),this.setAttribute("normal",new Bd(c,3)),this.setAttribute("uv",new Bd(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new bb((new bw[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class Ab extends qd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},null!==t){const e=[],r=new Set,n=new Zc,i=new Zc;if(null!==t.index){const o=t.attributes.position,s=t.index;let a=t.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let t=0,u=a.length;t<u;++t){const u=a[t],l=u.start;for(let t=l,a=l+u.count;t<a;t+=3)for(let u=0;u<3;u++){const a=s.getX(t+u),l=s.getX(t+(u+1)%3);n.fromBufferAttribute(o,a),i.fromBufferAttribute(o,l),!0===Mb(n,i,r)&&(e.push(n.x,n.y,n.z),e.push(i.x,i.y,i.z))}}}else{const o=t.attributes.position;for(let t=0,s=o.count/3;t<s;t++)for(let a=0;a<3;a++){const s=3*t+a,u=3*t+(a+1)%3;n.fromBufferAttribute(o,s),i.fromBufferAttribute(o,u),!0===Mb(n,i,r)&&(e.push(n.x,n.y,n.z),e.push(i.x,i.y,i.z))}}this.setAttribute("position",new Bd(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Mb(t,e,r){const n="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z),i="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z);return!0!==r.has(n)&&!0!==r.has(i)&&(r.add(n),r.add(i),!0)}var _b=Object.freeze({__proto__:null,BoxGeometry:fp,CapsuleGeometry:Ew,CircleGeometry:xw,ConeGeometry:Nw,CylinderGeometry:Sw,DodecahedronGeometry:Rw,EdgesGeometry:Ow,ExtrudeGeometry:hb,IcosahedronGeometry:fb,LatheGeometry:_w,OctahedronGeometry:db,PlaneGeometry:Lp,PolyhedronGeometry:Tw,RingGeometry:pb,ShapeGeometry:mb,SphereGeometry:gb,TetrahedronGeometry:vb,TorusGeometry:yb,TorusKnotGeometry:wb,TubeGeometry:bb,WireframeGeometry:Ab});class Eb extends wd{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new gd(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class xb extends vp{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Sb extends wd{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new gd(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new wc(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Nb extends Sb{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new wc(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return cc(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new gd(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new gd(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gd(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!==t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!==t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!==t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!==t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!==t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class Tb extends wd{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new gd(16777215),this.specular=new gd(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new wc(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Rb extends wd{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gd(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new wc(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class Cb extends wd{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new wc(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class Ib extends wd{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new gd(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new wc(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Pb extends wd{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gd(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new wc(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class kb extends Iy{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Ob(t,e,r){return!t||!r&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function Ub(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lb(t){const e=t.length,r=new Array(e);for(let n=0;n!==e;++n)r[n]=n;return r.sort((function(e,r){return t[e]-t[r]})),r}function Bb(t,e,r){const n=t.length,i=new t.constructor(n);for(let o=0,s=0;s!==n;++o){const n=r[o]*e;for(let r=0;r!==e;++r)i[s++]=t[n+r]}return i}function Db(t,e,r,n){let i=1,o=t[0];for(;void 0!==o&&void 0===o[n];)o=t[i++];if(void 0===o)return;let s=o[n];if(void 0!==s)if(Array.isArray(s))do{s=o[n],void 0!==s&&(e.push(o.time),r.push.apply(r,s)),o=t[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[n],void 0!==s&&(e.push(o.time),s.toArray(r,r.length)),o=t[i++]}while(void 0!==o);else do{s=o[n],void 0!==s&&(e.push(o.time),r.push(s)),o=t[i++]}while(void 0!==o)}const Fb={convertArray:Ob,isTypedArray:Ub,getKeyframeOrder:Lb,sortedArray:Bb,flattenJSON:Db,subclip:function(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const o=t.clone();o.name=e;const s=[];for(let u=0;u<o.tracks.length;++u){const t=o.tracks[u],e=t.getValueSize(),a=[],l=[];for(let o=0;o<t.times.length;++o){const s=t.times[o]*i;if(!(s<r||s>=n)){a.push(t.times[o]);for(let r=0;r<e;++r)l.push(t.values[o*e+r])}}0!==a.length&&(t.times=Ob(a,t.times.constructor),t.values=Ob(l,t.values.constructor),s.push(t))}o.tracks=s;let a=1/0;for(let u=0;u<o.tracks.length;++u)a>o.tracks[u].times[0]&&(a=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;n<=0&&(n=30);const i=r.tracks.length,o=e/n;for(let s=0;s<i;++s){const e=r.tracks[s],n=e.ValueTypeName;if("bool"===n||"string"===n)continue;const i=t.tracks.find((function(t){return t.name===e.name&&t.ValueTypeName===n}));if(void 0===i)continue;let a=0;const u=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=u/3);let l=0;const h=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=h/3);const c=e.times.length-1;let f;if(o<=e.times[0]){const t=a,r=u-a;f=e.values.slice(t,r)}else if(o>=e.times[c]){const t=c*u+a,r=t+u-a;f=e.values.slice(t,r)}else{const t=e.createInterpolant(),r=a,n=u-a;t.evaluate(o),f=t.resultBuffer.slice(r,n)}if("quaternion"===n){(new Qc).fromArray(f).normalize().conjugate().toArray(f)}const d=i.times.length;for(let t=0;t<d;++t){const e=t*h+l;if("quaternion"===n)Qc.multiplyQuaternionsFlat(i.values,e,f,0,i.values,e);else{const t=h-2*l;for(let r=0;r<t;++r)i.values[e+r]-=f[r]}}}return t.blendMode=rh,t}};class Gb{constructor(t,e,r,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(r),this.sampleValues=e,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let r=this._cachedIndex,n=e[r],i=e[r-1];t:{e:{let o;r:{n:if(!(t<n)){for(let o=r+2;;){if(void 0===n){if(t<i)break n;return r=e.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(i=n,n=e[++r],t<n)break e}o=e.length;break r}if(t>=i)break t;{const s=e[1];t<s&&(r=2,i=s);for(let o=r-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(r===o)break;if(n=i,i=e[--r-1],t>=i)break e}o=r,r=0}}for(;r<o;){const n=r+o>>>1;t<e[n]?o=n:r=n+1}if(n=e[r],i=e[r-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===n)return r=e.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,t,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=t*n;for(let o=0;o!==n;++o)e[o]=r[i+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class zb extends Gb{constructor(t,e,r,n){super(t,e,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zl,endingEnd:Zl}}intervalChanged_(t,e,r){const n=this.parameterPositions;let i=t-2,o=t+1,s=n[i],a=n[o];if(void 0===s)switch(this.getSettings_().endingStart){case $l:i=t,s=2*e-r;break;case th:i=n.length-2,s=e+n[i]-n[i+1];break;default:i=t,s=r}if(void 0===a)switch(this.getSettings_().endingEnd){case $l:o=t,a=2*r-e;break;case th:o=1,a=r+n[1]-n[0];break;default:o=t-1,a=e}const u=.5*(r-e),l=this.valueSize;this._weightPrev=u/(e-s),this._weightNext=u/(a-r),this._offsetPrev=i*l,this._offsetNext=o*l}interpolate_(t,e,r,n){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,u=a-s,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,f=this._weightNext,d=(r-e)/(n-e),p=d*d,m=p*d,g=-c*m+2*c*p-c*d,v=(1+c)*m+(-1.5-2*c)*p+(-.5+c)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,w=f*m-f*p;for(let b=0;b!==s;++b)i[b]=g*o[l+b]+v*o[u+b]+y*o[a+b]+w*o[h+b];return i}}class jb extends Gb{constructor(t,e,r,n){super(t,e,r,n)}interpolate_(t,e,r,n){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,u=a-s,l=(r-e)/(n-e),h=1-l;for(let c=0;c!==s;++c)i[c]=o[u+c]*h+o[a+c]*l;return i}}class Hb extends Gb{constructor(t,e,r,n){super(t,e,r,n)}interpolate_(t){return this.copySampleValue_(t-1)}}class Wb{constructor(t,e,r,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ob(e,this.TimeBufferType),this.values=Ob(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let r;if(e.toJSON!==this.toJSON)r=e.toJSON(t);else{r={name:t.name,times:Ob(t.times,Array),values:Ob(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(r.interpolation=e)}return r.type=t.ValueTypeName,r}InterpolantFactoryMethodDiscrete(t){return new Hb(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new jb(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new zb(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Xl:e=this.InterpolantFactoryMethodDiscrete;break;case Yl:e=this.InterpolantFactoryMethodLinear;break;case Ql:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xl;case this.InterpolantFactoryMethodLinear:return Yl;case this.InterpolantFactoryMethodSmooth:return Ql}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let r=0,n=e.length;r!==n;++r)e[r]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let r=0,n=e.length;r!==n;++r)e[r]*=t}return this}trim(t,e){const r=this.times,n=r.length;let i=0,o=n-1;for(;i!==n&&r[i]<t;)++i;for(;-1!==o&&r[o]>e;)--o;if(++o,0!==i||o!==n){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=r.slice(i,o),this.values=this.values.slice(i*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let s=0;s!==i;s++){const e=r[s];if("number"===typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,e),t=!1;break}if(null!==o&&o>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,e,o),t=!1;break}o=e}if(void 0!==n&&Ub(n))for(let s=0,a=n.length;s!==a;++s){const e=n[s];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,e),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),r=this.getValueSize(),n=this.getInterpolation()===Ql,i=t.length-1;let o=1;for(let s=1;s<i;++s){let i=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==t[0]))if(n)i=!0;else{const t=s*r,n=t-r,o=t+r;for(let s=0;s!==r;++s){const r=e[t+s];if(r!==e[n+s]||r!==e[o+s]){i=!0;break}}}if(i){if(s!==o){t[o]=t[s];const n=s*r,i=o*r;for(let t=0;t!==r;++t)e[i+t]=e[n+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*r,n=o*r,s=0;s!==r;++s)e[n+s]=e[t+s];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*r)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Wb.prototype.TimeBufferType=Float32Array,Wb.prototype.ValueBufferType=Float32Array,Wb.prototype.DefaultInterpolation=Yl;class Vb extends Wb{}Vb.prototype.ValueTypeName="bool",Vb.prototype.ValueBufferType=Array,Vb.prototype.DefaultInterpolation=Xl,Vb.prototype.InterpolantFactoryMethodLinear=void 0,Vb.prototype.InterpolantFactoryMethodSmooth=void 0;class qb extends Wb{}qb.prototype.ValueTypeName="color";class Kb extends Wb{}Kb.prototype.ValueTypeName="number";class Jb extends Gb{constructor(t,e,r,n){super(t,e,r,n)}interpolate_(t,e,r,n){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(r-e)/(n-e);let u=t*s;for(let l=u+s;u!==l;u+=4)Qc.slerpFlat(i,0,o,u-s,o,u,a);return i}}class Xb extends Wb{InterpolantFactoryMethodLinear(t){return new Jb(this.times,this.values,this.getValueSize(),t)}}Xb.prototype.ValueTypeName="quaternion",Xb.prototype.DefaultInterpolation=Yl,Xb.prototype.InterpolantFactoryMethodSmooth=void 0;class Yb extends Wb{}Yb.prototype.ValueTypeName="string",Yb.prototype.ValueBufferType=Array,Yb.prototype.DefaultInterpolation=Xl,Yb.prototype.InterpolantFactoryMethodLinear=void 0,Yb.prototype.InterpolantFactoryMethodSmooth=void 0;class Qb extends Wb{}Qb.prototype.ValueTypeName="vector";class Zb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eh;this.name=t,this.tracks=r,this.duration=e,this.blendMode=n,this.uuid=hc(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],r=t.tracks,n=1/(t.fps||1);for(let o=0,s=r.length;o!==s;++o)e.push($b(r[o]).scale(n));const i=new this(t.name,t.duration,e,t.blendMode);return i.uuid=t.uuid,i}static toJSON(t){const e=[],r=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let i=0,o=r.length;i!==o;++i)e.push(Wb.toJSON(r[i]));return n}static CreateFromMorphTargetSequence(t,e,r,n){const i=e.length,o=[];for(let s=0;s<i;s++){let t=[],a=[];t.push((s+i-1)%i,s,(s+1)%i),a.push(0,1,0);const u=Lb(t);t=Bb(t,1,u),a=Bb(a,1,u),n||0!==t[0]||(t.push(i),a.push(a[0])),o.push(new Kb(".morphTargetInfluences["+e[s].name+"]",t,a).scale(1/r))}return new this(t,-1,o)}static findByName(t,e){let r=t;if(!Array.isArray(t)){const e=t;r=e.geometry&&e.geometry.animations||e.animations}for(let n=0;n<r.length;n++)if(r[n].name===e)return r[n];return null}static CreateClipsFromMorphTargetSequences(t,e,r){const n={},i=/^([\w-]*?)([\d]+)$/;for(let s=0,a=t.length;s<a;s++){const e=t[s],r=e.name.match(i);if(r&&r.length>1){const t=r[1];let i=n[t];i||(n[t]=i=[]),i.push(e)}}const o=[];for(const s in n)o.push(this.CreateFromMorphTargetSequence(s,n[s],e,r));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(t,e,r,n,i){if(0!==r.length){const o=[],s=[];Db(r,o,s,n),0!==o.length&&i.push(new t(e,o,s))}},n=[],i=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const u=t.hierarchy||[];for(let l=0;l<u.length;l++){const t=u[l].keys;if(t&&0!==t.length)if(t[0].morphTargets){const e={};let r;for(r=0;r<t.length;r++)if(t[r].morphTargets)for(let n=0;n<t[r].morphTargets.length;n++)e[t[r].morphTargets[n]]=-1;for(const i in e){const e=[],o=[];for(let n=0;n!==t[r].morphTargets.length;++n){const n=t[r];e.push(n.time),o.push(n.morphTarget===i?1:0)}n.push(new Kb(".morphTargetInfluence["+i+"]",e,o))}a=e.length*o}else{const i=".bones["+e[l].name+"]";r(Qb,i+".position",t,"pos",n),r(Xb,i+".quaternion",t,"rot",n),r(Qb,i+".scale",t,"scl",n)}}if(0===n.length)return null;return new this(i,a,n,s)}resetDuration(){let t=0;for(let e=0,r=this.tracks.length;e!==r;++e){const r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function $b(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Kb;case"vector":case"vector2":case"vector3":case"vector4":return Qb;case"color":return qb;case"quaternion":return Xb;case"bool":case"boolean":return Vb;case"string":return Yb}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],r=[];Db(t.keys,e,r,"value"),t.times=e,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const tA={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class eA{constructor(t,e,r){const n=this;let i,o=!1,s=0,a=0;const u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){a++,!1===o&&void 0!==n.onStart&&n.onStart(t,s,a),o=!0},this.itemEnd=function(t){s++,void 0!==n.onProgress&&n.onProgress(t,s,a),s===a&&(o=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return i?i(t):t},this.setURLModifier=function(t){return i=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){const e=u.indexOf(t);return-1!==e&&u.splice(e,2),this},this.getHandler=function(t){for(let e=0,r=u.length;e<r;e+=2){const r=u[e],n=u[e+1];if(r.global&&(r.lastIndex=0),r.test(t))return n}return null}}}const rA=new eA;class nA{constructor(t){this.manager=void 0!==t?t:rA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const r=this;return new Promise((function(n,i){r.load(t,n,e,i)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}nA.DEFAULT_MATERIAL_NAME="__DEFAULT";const iA={};class oA extends Error{constructor(t,e){super(t),this.response=e}}class sA extends nA{constructor(t){super(t)}load(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=tA.get(t);if(void 0!==i)return this.manager.itemStart(t),setTimeout((()=>{e&&e(i),this.manager.itemEnd(t)}),0),i;if(void 0!==iA[t])return void iA[t].push({onLoad:e,onProgress:r,onError:n});iA[t]=[],iA[t].push({onLoad:e,onProgress:r,onError:n});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then((e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const r=iA[t],n=e.body.getReader(),i=e.headers.get("Content-Length")||e.headers.get("X-File-Size"),o=i?parseInt(i):0,s=0!==o;let a=0;const u=new ReadableStream({start(t){!function e(){n.read().then((n=>{let{done:i,value:u}=n;if(i)t.close();else{a+=u.byteLength;const n=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let t=0,e=r.length;t<e;t++){const e=r[t];e.onProgress&&e.onProgress(n)}t.enqueue(u),e()}}))}()}});return new Response(u)}throw new oA('fetch for "'.concat(e.url,'" responded with ').concat(e.status,": ").concat(e.statusText),e)})).then((t=>{switch(a){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((t=>(new DOMParser).parseFromString(t,s)));case"json":return t.json();default:if(void 0===s)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(s),r=e&&e[1]?e[1].toLowerCase():void 0,n=new TextDecoder(r);return t.arrayBuffer().then((t=>n.decode(t)))}}})).then((e=>{tA.add(t,e);const r=iA[t];delete iA[t];for(let t=0,n=r.length;t<n;t++){const n=r[t];n.onLoad&&n.onLoad(e)}})).catch((e=>{const r=iA[t];if(void 0===r)throw this.manager.itemError(t),e;delete iA[t];for(let t=0,n=r.length;t<n;t++){const n=r[t];n.onError&&n.onError(e)}this.manager.itemError(t)})).finally((()=>{this.manager.itemEnd(t)})),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class aA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=this,o=new sA(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(r){try{e(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(t)}}),r,n)}parse(t){const e=[];for(let r=0;r<t.length;r++){const n=Zb.parse(t[r]);e.push(n)}return e}}class uA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=this,o=[],s=new Qy,a=new sA(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials);let u=0;function l(l){a.load(t[l],(function(t){const r=i.parse(t,!0);o[l]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},u+=1,6===u&&(1===r.mipmapCount&&(s.minFilter=zu),s.image=o,s.format=r.format,s.needsUpdate=!0,e&&e(s))}),r,n)}if(Array.isArray(t))for(let h=0,c=t.length;h<c;++h)l(h);else a.load(t,(function(t){const r=i.parse(t,!0);if(r.isCubemap){const t=r.mipmaps.length/r.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<r.mipmapCount;t++)o[e].mipmaps.push(r.mipmaps[e*r.mipmapCount+t]),o[e].format=r.format,o[e].width=r.width,o[e].height=r.height}s.image=o}else s.image.width=r.width,s.image.height=r.height,s.mipmaps=r.mipmaps;1===r.mipmapCount&&(s.minFilter=zu),s.format=r.format,s.needsUpdate=!0,e&&e(s)}),r,n);return s}}class lA extends nA{constructor(t){super(t)}load(t,e,r,n){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=tA.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const s=xc("img");function a(){l(),tA.add(t,this),e&&e(this),i.manager.itemEnd(t)}function u(e){l(),n&&n(e),i.manager.itemError(t),i.manager.itemEnd(t)}function l(){s.removeEventListener("load",a,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",u,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(t),s.src=t,s}}class hA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=new xp;i.colorSpace=dh;const o=new lA(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(r){o.load(t[r],(function(t){i.images[r]=t,s++,6===s&&(i.needsUpdate=!0,e&&e(i))}),void 0,n)}for(let u=0;u<t.length;++u)a(u);return i}}class cA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=this,o=new ey,s=new sA(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(i.withCredentials),s.load(t,(function(t){let r;try{r=i.parse(t)}catch(s){if(void 0===n)return void console.error(s);n(s)}void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:Ou,o.wrapT=void 0!==r.wrapT?r.wrapT:Ou,o.magFilter=void 0!==r.magFilter?r.magFilter:zu,o.minFilter=void 0!==r.minFilter?r.minFilter:zu,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.colorSpace?o.colorSpace=r.colorSpace:void 0!==r.encoding&&(o.encoding=r.encoding),void 0!==r.flipY&&(o.flipY=r.flipY),void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps,o.minFilter=Wu),1===r.mipmapCount&&(o.minFilter=zu),void 0!==r.generateMipmaps&&(o.generateMipmaps=r.generateMipmaps),o.needsUpdate=!0,e&&e(o,r)}),r,n),o}}class fA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=new jc,o=new lA(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),r,n),i}}class dA extends td{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new gd(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}class pA extends dA{constructor(t,e,r){super(t,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(td.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gd(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const mA=new Rf,gA=new Zc,vA=new Zc;class yA{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new wc(512,512),this.map=null,this.mapPass=null,this.matrix=new Rf,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kp,this._frameExtents=new wc(1,1),this._viewportCount=1,this._viewports=[new Hc(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,r=this.matrix;gA.setFromMatrixPosition(t.matrixWorld),e.position.copy(gA),vA.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(vA),e.updateMatrixWorld(),mA.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(mA)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class wA extends yA{constructor(){super(new Mp(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,r=2*lc*t.angle*this.focus,n=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;r===e.fov&&n===e.aspect&&i===e.far||(e.fov=r,e.aspect=n,e.far=i,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class bA extends dA{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(td.DEFAULT_UP),this.updateMatrix(),this.target=new td,this.distance=r,this.angle=n,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new wA}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const AA=new Rf,MA=new Zc,_A=new Zc;class EA extends yA{constructor(){super(new Mp(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new wc(4,2),this._viewportCount=6,this._viewports=[new Hc(2,1,1,1),new Hc(0,1,1,1),new Hc(3,1,1,1),new Hc(1,1,1,1),new Hc(3,0,1,1),new Hc(1,0,1,1)],this._cubeDirections=[new Zc(1,0,0),new Zc(-1,0,0),new Zc(0,0,1),new Zc(0,0,-1),new Zc(0,1,0),new Zc(0,-1,0)],this._cubeUps=[new Zc(0,1,0),new Zc(0,1,0),new Zc(0,1,0),new Zc(0,1,0),new Zc(0,0,1),new Zc(0,0,-1)]}updateMatrices(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.camera,n=this.matrix,i=t.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),MA.setFromMatrixPosition(t.matrixWorld),r.position.copy(MA),_A.copy(r.position),_A.add(this._cubeDirections[e]),r.up.copy(this._cubeUps[e]),r.lookAt(_A),r.updateMatrixWorld(),n.makeTranslation(-MA.x,-MA.y,-MA.z),AA.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AA)}}class xA extends dA{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=n,this.shadow=new EA}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class SA extends yA{constructor(){super(new Kp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class NA extends dA{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(td.DEFAULT_UP),this.updateMatrix(),this.target=new td,this.shadow=new SA}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class TA extends dA{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class RA extends dA{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class CA{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Zc)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const r=t.x,n=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*n),e.addScaledVector(o[2],.488603*i),e.addScaledVector(o[3],.488603*r),e.addScaledVector(o[4],r*n*1.092548),e.addScaledVector(o[5],n*i*1.092548),e.addScaledVector(o[6],.315392*(3*i*i-1)),e.addScaledVector(o[7],r*i*1.092548),e.addScaledVector(o[8],.546274*(r*r-n*n)),e}getIrradianceAt(t,e){const r=t.x,n=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*n),e.addScaledVector(o[2],1.023328*i),e.addScaledVector(o[3],1.023328*r),e.addScaledVector(o[4],.858086*r*n),e.addScaledVector(o[5],.858086*n*i),e.addScaledVector(o[6],.743125*i*i-.247708),e.addScaledVector(o[7],.858086*r*i),e.addScaledVector(o[8],.429043*(r*r-n*n)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(t.coefficients[r],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let r=0;r<9;r++)this.coefficients[r].lerp(t.coefficients[r],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.coefficients;for(let n=0;n<9;n++)r[n].fromArray(t,e+3*n);return this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.coefficients;for(let n=0;n<9;n++)r[n].toArray(t,e+3*n);return t}static getBasisAt(t,e){const r=t.x,n=t.y,i=t.z;e[0]=.282095,e[1]=.488603*n,e[2]=.488603*i,e[3]=.488603*r,e[4]=1.092548*r*n,e[5]=1.092548*n*i,e[6]=.315392*(3*i*i-1),e[7]=1.092548*r*i,e[8]=.546274*(r*r-n*n)}}class IA extends dA{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new CA;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class PA extends nA{constructor(t){super(t),this.textures={}}load(t,e,r,n){const i=this,o=new sA(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(r){try{e(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(t)}}),r,n)}parse(t){const e=this.textures;function r(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const n=PA.createMaterialFromType(t.type);if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&void 0!==n.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.sheen&&(n.sheen=t.sheen),void 0!==t.sheenColor&&(n.sheenColor=(new gd).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(n.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==n.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==n.specular&&n.specular.setHex(t.specular),void 0!==t.specularIntensity&&(n.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==n.specularColor&&n.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearcoat&&(n.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(n.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.iridescence&&(n.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(n.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(n.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(n.transmission=t.transmission),void 0!==t.thickness&&(n.thickness=t.thickness),void 0!==t.attenuationDistance&&(n.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==n.attenuationColor&&n.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(n.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(n.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.combine&&(n.combine=t.combine),void 0!==t.side&&(n.side=t.side),void 0!==t.shadowSide&&(n.shadowSide=t.shadowSide),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(n.alphaHash=t.alphaHash),void 0!==t.depthFunc&&(n.depthFunc=t.depthFunc),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.blendSrc&&(n.blendSrc=t.blendSrc),void 0!==t.blendDst&&(n.blendDst=t.blendDst),void 0!==t.blendEquation&&(n.blendEquation=t.blendEquation),void 0!==t.blendSrcAlpha&&(n.blendSrcAlpha=t.blendSrcAlpha),void 0!==t.blendDstAlpha&&(n.blendDstAlpha=t.blendDstAlpha),void 0!==t.blendEquationAlpha&&(n.blendEquationAlpha=t.blendEquationAlpha),void 0!==t.blendColor&&void 0!==n.blendColor&&n.blendColor.setHex(t.blendColor),void 0!==t.blendAlpha&&(n.blendAlpha=t.blendAlpha),void 0!==t.stencilWriteMask&&(n.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(n.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(n.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(n.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(n.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(n.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(n.stencilZPass=t.stencilZPass),void 0!==t.stencilWrite&&(n.stencilWrite=t.stencilWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),void 0!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.alphaToCoverage&&(n.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(n.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(n.forceSinglePass=t.forceSinglePass),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.toneMapped&&(n.toneMapped=t.toneMapped),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.vertexColors&&("number"===typeof t.vertexColors?n.vertexColors=t.vertexColors>0:n.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const i in t.uniforms){const e=t.uniforms[i];switch(n.uniforms[i]={},e.type){case"t":n.uniforms[i].value=r(e.value);break;case"c":n.uniforms[i].value=(new gd).setHex(e.value);break;case"v2":n.uniforms[i].value=(new wc).fromArray(e.value);break;case"v3":n.uniforms[i].value=(new Zc).fromArray(e.value);break;case"v4":n.uniforms[i].value=(new Hc).fromArray(e.value);break;case"m3":n.uniforms[i].value=(new bc).fromArray(e.value);break;case"m4":n.uniforms[i].value=(new Rf).fromArray(e.value);break;default:n.uniforms[i].value=e.value}}if(void 0!==t.defines&&(n.defines=t.defines),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(n.glslVersion=t.glslVersion),void 0!==t.extensions)for(const i in t.extensions)n.extensions[i]=t.extensions[i];if(void 0!==t.lights&&(n.lights=t.lights),void 0!==t.clipping&&(n.clipping=t.clipping),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=r(t.map)),void 0!==t.matcap&&(n.matcap=r(t.matcap)),void 0!==t.alphaMap&&(n.alphaMap=r(t.alphaMap)),void 0!==t.bumpMap&&(n.bumpMap=r(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=r(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),n.normalScale=(new wc).fromArray(e)}return void 0!==t.displacementMap&&(n.displacementMap=r(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=r(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=r(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=r(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=r(t.specularMap)),void 0!==t.specularIntensityMap&&(n.specularIntensityMap=r(t.specularIntensityMap)),void 0!==t.specularColorMap&&(n.specularColorMap=r(t.specularColorMap)),void 0!==t.envMap&&(n.envMap=r(t.envMap)),void 0!==t.envMapIntensity&&(n.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(n.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(n.lightMap=r(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=r(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=r(t.gradientMap)),void 0!==t.clearcoatMap&&(n.clearcoatMap=r(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=r(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(n.clearcoatNormalMap=r(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(n.clearcoatNormalScale=(new wc).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(n.iridescenceMap=r(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(n.iridescenceThicknessMap=r(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(n.transmissionMap=r(t.transmissionMap)),void 0!==t.thicknessMap&&(n.thicknessMap=r(t.thicknessMap)),void 0!==t.anisotropyMap&&(n.anisotropyMap=r(t.anisotropyMap)),void 0!==t.sheenColorMap&&(n.sheenColorMap=r(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(n.sheenRoughnessMap=r(t.sheenRoughnessMap)),n}setTextures(t){return this.textures=t,this}static createMaterialFromType(t){return new{ShadowMaterial:Eb,SpriteMaterial:xv,RawShaderMaterial:xb,ShaderMaterial:vp,PointsMaterial:jy,MeshPhysicalMaterial:Nb,MeshStandardMaterial:Sb,MeshPhongMaterial:Tb,MeshToonMaterial:Rb,MeshNormalMaterial:Cb,MeshLambertMaterial:Ib,MeshDepthMaterial:nv,MeshDistanceMaterial:iv,MeshBasicMaterial:bd,MeshMatcapMaterial:Pb,LineDashedMaterial:kb,LineBasicMaterial:Iy,Material:wd}[t]}}class kA{static decodeText(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(r){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!==typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class OA extends qd{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class UA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=this,o=new sA(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(r){try{e(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(t)}}),r,n)}parse(t){const e={},r={};function n(t,n){if(void 0!==e[n])return e[n];const i=t.interleavedBuffers[n],o=function(t,e){if(void 0!==r[e])return r[e];const n=t.arrayBuffers,i=n[e],o=new Uint32Array(i).buffer;return r[e]=o,o}(t,i.buffer),s=Ec(i.type,o),a=new Mv(s,i.stride);return a.uuid=i.uuid,e[n]=a,a}const i=t.isInstancedBufferGeometry?new OA:new qd,o=t.data.index;if(void 0!==o){const t=Ec(o.type,o.array);i.setIndex(new Td(t,1))}const s=t.data.attributes;for(const h in s){const e=s[h];let r;if(e.isInterleavedBufferAttribute){const i=n(t.data,e.data);r=new Ev(i,e.itemSize,e.offset,e.normalized)}else{const t=Ec(e.type,e.array);r=new(e.isInstancedBufferAttribute?oy:Td)(t,e.itemSize,e.normalized)}void 0!==e.name&&(r.name=e.name),void 0!==e.usage&&r.setUsage(e.usage),i.setAttribute(h,r)}const a=t.data.morphAttributes;if(a)for(const h in a){const e=a[h],r=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];let s;if(o.isInterleavedBufferAttribute){const e=n(t.data,o.data);s=new Ev(e,o.itemSize,o.offset,o.normalized)}else{const t=Ec(o.type,o.array);s=new Td(t,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),r.push(s)}i.morphAttributes[h]=r}t.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(let h=0,c=u.length;h!==c;++h){const t=u[h];i.addGroup(t.start,t.count,t.materialIndex)}const l=t.data.boundingSphere;if(void 0!==l){const t=new Zc;void 0!==l.center&&t.fromArray(l.center),i.boundingSphere=new bf(t,l.radius)}return t.name&&(i.name=t.name),t.userData&&(i.userData=t.userData),i}}class LA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=this,o=""===this.path?kA.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const s=new sA(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(r){let o=null;try{o=JSON.parse(r)}catch(a){return void 0!==n&&n(a),void console.error("THREE:ObjectLoader: Can't parse "+t+".",a.message)}const s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())return void 0!==n&&n(new Error("THREE.ObjectLoader: Can't load "+t)),void console.error("THREE.ObjectLoader: Can't load "+t);i.parse(o,e)}),r,n)}async loadAsync(t,e){const r=""===this.path?kA.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||r;const n=new sA(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials);const i=await n.loadAsync(t,e),o=JSON.parse(i),s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+t);return await this.parseAsync(o)}parse(t,e){const r=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,n),o=this.parseImages(t.images,(function(){void 0!==e&&e(u)})),s=this.parseTextures(t.textures,o),a=this.parseMaterials(t.materials,s),u=this.parseObject(t.object,i,a,s,r),l=this.parseSkeletons(t.skeletons,u);if(this.bindSkeletons(u,l),void 0!==e){let t=!1;for(const e in o)if(o[e].data instanceof HTMLImageElement){t=!0;break}!1===t&&e(u)}return u}async parseAsync(t){const e=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),n=this.parseGeometries(t.geometries,r),i=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,i),s=this.parseMaterials(t.materials,o),a=this.parseObject(t.object,n,s,o,e),u=this.parseSkeletons(t.skeletons,a);return this.bindSkeletons(a,u),a}parseShapes(t){const e={};if(void 0!==t)for(let r=0,n=t.length;r<n;r++){const n=(new Uw).fromJSON(t[r]);e[n.uuid]=n}return e}parseSkeletons(t,e){const r={},n={};if(e.traverse((function(t){t.isBone&&(n[t.uuid]=t)})),void 0!==t)for(let i=0,o=t.length;i<o;i++){const e=(new iy).fromJSON(t[i],n);r[e.uuid]=e}return r}parseGeometries(t,e){const r={};if(void 0!==t){const n=new UA;for(let i=0,o=t.length;i<o;i++){let o;const s=t[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=n.parse(s);break;default:s.type in _b?o=_b[s.type].fromJSON(s,e):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),r[s.uuid]=o}}return r}parseMaterials(t,e){const r={},n={};if(void 0!==t){const i=new PA;i.setTextures(e);for(let e=0,o=t.length;e<o;e++){const o=t[e];void 0===r[o.uuid]&&(r[o.uuid]=i.parse(o)),n[o.uuid]=r[o.uuid]}}return n}parseAnimations(t){const e={};if(void 0!==t)for(let r=0;r<t.length;r++){const n=t[r],i=Zb.parse(n);e[i.uuid]=i}return e}parseImages(t,e){const r=this,n={};let i;function o(t){if("string"===typeof t){const e=t;return function(t){return r.manager.itemStart(t),i.load(t,(function(){r.manager.itemEnd(t)}),void 0,(function(){r.manager.itemError(t),r.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:r.resourcePath+e)}return t.data?{data:Ec(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const r=new eA(e);i=new lA(r),i.setCrossOrigin(this.crossOrigin);for(let e=0,i=t.length;e<i;e++){const r=t[e],i=r.url;if(Array.isArray(i)){const t=[];for(let e=0,r=i.length;e<r;e++){const r=o(i[e]);null!==r&&(r instanceof HTMLImageElement?t.push(r):t.push(new ey(r.data,r.width,r.height)))}n[r.uuid]=new Fc(t)}else{const t=o(r.url);n[r.uuid]=new Fc(t)}}}return n}async parseImagesAsync(t){const e=this,r={};let n;async function i(t){if("string"===typeof t){const r=t,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r)?r:e.resourcePath+r;return await n.loadAsync(i)}return t.data?{data:Ec(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){n=new lA(this.manager),n.setCrossOrigin(this.crossOrigin);for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.url;if(Array.isArray(o)){const t=[];for(let e=0,r=o.length;e<r;e++){const r=o[e],n=await i(r);null!==n&&(n instanceof HTMLImageElement?t.push(n):t.push(new ey(n.data,n.width,n.height)))}r[n.uuid]=new Fc(t)}else{const t=await i(n.url);r[n.uuid]=new Fc(t)}}}return r}parseTextures(t,e){function r(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}const n={};if(void 0!==t)for(let i=0,o=t.length;i<o;i++){const o=t[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const s=e[o.image],a=s.data;let u;Array.isArray(a)?(u=new xp,6===a.length&&(u.needsUpdate=!0)):(u=a&&a.data?new ey:new jc,a&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=r(o.mapping,BA)),void 0!==o.channel&&(u.channel=o.channel),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=r(o.wrap[0],DA),u.wrapT=r(o.wrap[1],DA)),void 0!==o.format&&(u.format=o.format),void 0!==o.internalFormat&&(u.internalFormat=o.internalFormat),void 0!==o.type&&(u.type=o.type),void 0!==o.colorSpace&&(u.colorSpace=o.colorSpace),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=r(o.minFilter,FA)),void 0!==o.magFilter&&(u.magFilter=r(o.magFilter,FA)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.generateMipmaps&&(u.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(u.compareFunction=o.compareFunction),void 0!==o.userData&&(u.userData=o.userData),n[o.uuid]=u}return n}parseObject(t,e,r,n,i){let o,s,a;function u(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function l(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];void 0===r[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),e.push(r[i])}return e}return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}}function h(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined texture",t),n[t]}switch(t.type){case"Scene":o=new Av,void 0!==t.background&&(Number.isInteger(t.background)?o.background=new gd(t.background):o.background=h(t.background)),void 0!==t.environment&&(o.environment=h(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new bv(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new wv(t.fog.color,t.fog.density)),""!==t.fog.name&&(o.fog.name=t.fog.name)),void 0!==t.backgroundBlurriness&&(o.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(o.backgroundIntensity=t.backgroundIntensity);break;case"PerspectiveCamera":o=new Mp(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Kp(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new TA(t.color,t.intensity);break;case"DirectionalLight":o=new NA(t.color,t.intensity);break;case"PointLight":o=new xA(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new RA(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new bA(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new pA(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=(new IA).fromJSON(t);break;case"SkinnedMesh":s=u(t.geometry),a=l(t.material),o=new $v(s,a),void 0!==t.bindMode&&(o.bindMode=t.bindMode),void 0!==t.bindMatrix&&o.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(o.skeleton=t.skeleton);break;case"Mesh":s=u(t.geometry),a=l(t.material),o=new hp(s,a);break;case"InstancedMesh":s=u(t.geometry),a=l(t.material);const e=t.count,r=t.instanceMatrix,n=t.instanceColor;o=new dy(s,a,e),o.instanceMatrix=new oy(new Float32Array(r.array),16),void 0!==n&&(o.instanceColor=new oy(new Float32Array(n.array),n.itemSize));break;case"BatchedMesh":s=u(t.geometry),a=l(t.material),o=new Cy(t.maxGeometryCount,t.maxVertexCount,t.maxIndexCount,a),o.geometry=s,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._visibility=t.visibility,o._active=t.active,o._bounds=t.bounds.map((t=>{const e=new ef;e.min.fromArray(t.boxMin),e.max.fromArray(t.boxMax);const r=new bf;return r.radius=t.sphereRadius,r.center.fromArray(t.sphereCenter),{boxInitialized:t.boxInitialized,box:e,sphereInitialized:t.sphereInitialized,sphere:r}})),o._maxGeometryCount=t.maxGeometryCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._geometryCount=t.geometryCount,o._matricesTexture=h(t.matricesTexture.uuid);break;case"LOD":o=new Hv;break;case"Line":o=new By(u(t.geometry),l(t.material));break;case"LineLoop":o=new zy(u(t.geometry),l(t.material));break;case"LineSegments":o=new Gy(u(t.geometry),l(t.material));break;case"PointCloud":case"Points":o=new Ky(u(t.geometry),l(t.material));break;case"Sprite":o=new Fv(l(t.material));break;case"Group":o=new hv;break;case"Bone":o=new ty;break;default:o=new td}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(o.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.up&&o.up.fromArray(t.up),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(o.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.frustumCulled&&(o.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(o.renderOrder=t.renderOrder),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.layers&&(o.layers.mask=t.layers),void 0!==t.children){const s=t.children;for(let t=0;t<s.length;t++)o.add(this.parseObject(s[t],e,r,n,i))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const r=e[t];o.animations.push(i[r])}}if("LOD"===t.type){void 0!==t.autoUpdate&&(o.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const r=e[t],n=o.getObjectByProperty("uuid",r.object);void 0!==n&&o.addLevel(n,r.distance,r.hysteresis)}}return o}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const r=e[t.skeleton];void 0===r?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton):t.bind(r,t.bindMatrix)}}))}}const BA={UVMapping:Nu,CubeReflectionMapping:Tu,CubeRefractionMapping:Ru,EquirectangularReflectionMapping:Cu,EquirectangularRefractionMapping:Iu,CubeUVReflectionMapping:Pu},DA={RepeatWrapping:ku,ClampToEdgeWrapping:Ou,MirroredRepeatWrapping:Uu},FA={NearestFilter:Lu,NearestMipmapNearestFilter:Bu,NearestMipmapLinearFilter:Fu,LinearFilter:zu,LinearMipmapNearestFilter:ju,LinearMipmapLinearFilter:Wu};class GA extends nA{constructor(t){super(t),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=tA.get(t);if(void 0!==o)return i.manager.itemStart(t),o.then?void o.then((r=>{e&&e(r),i.manager.itemEnd(t)})).catch((t=>{n&&n(t)})):(setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const a=fetch(t,s).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(r){return tA.add(t,r),e&&e(r),i.manager.itemEnd(t),r})).catch((function(e){n&&n(e),tA.remove(t),i.manager.itemError(t),i.manager.itemEnd(t)}));tA.add(t,a),i.manager.itemStart(t)}}let zA;class jA{static getContext(){return void 0===zA&&(zA=new(window.AudioContext||window.webkitAudioContext)),zA}static setContext(t){zA=t}}class HA extends nA{constructor(t){super(t)}load(t,e,r,n){const i=this,o=new sA(this.manager);function s(e){n?n(e):console.error(e),i.manager.itemError(t)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(t){try{const r=t.slice(0);jA.getContext().decodeAudioData(r,(function(t){e(t)})).catch(s)}catch(r){s(r)}}),r,n)}}const WA=new Rf,VA=new Rf,qA=new Rf;class KA{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mp,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mp,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,qA.copy(t.projectionMatrix);const r=e.eyeSep/2,n=r*e.near/e.focus,i=e.near*Math.tan(uc*e.fov*.5)/e.zoom;let o,s;VA.elements[12]=-r,WA.elements[12]=r,o=-i*e.aspect+n,s=i*e.aspect+n,qA.elements[0]=2*e.near/(s-o),qA.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(qA),o=-i*e.aspect-n,s=i*e.aspect-n,qA.elements[0]=2*e.near/(s-o),qA.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(qA)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(VA),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(WA)}}class JA{constructor(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=XA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=XA();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function XA(){return("undefined"===typeof performance?Date:performance).now()}const YA=new Zc,QA=new Qc,ZA=new Zc,$A=new Zc;class tM extends td{constructor(){super(),this.type="AudioListener",this.context=jA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new JA}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(YA,QA,ZA),$A.set(0,0,-1).applyQuaternion(QA),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(YA.x,t),e.positionY.linearRampToValueAtTime(YA.y,t),e.positionZ.linearRampToValueAtTime(YA.z,t),e.forwardX.linearRampToValueAtTime($A.x,t),e.forwardY.linearRampToValueAtTime($A.y,t),e.forwardZ.linearRampToValueAtTime($A.z,t),e.upX.linearRampToValueAtTime(r.x,t),e.upY.linearRampToValueAtTime(r.y,t),e.upZ.linearRampToValueAtTime(r.z,t)}else e.setPosition(YA.x,YA.y,YA.z),e.setOrientation($A.x,$A.y,$A.z,r.x,r.y,r.z)}}class eM extends td{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const rM=new Zc,nM=new Qc,iM=new Zc,oM=new Zc;class sM extends eM{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,r){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=r,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(rM,nM,iM),oM.set(0,0,1).applyQuaternion(nM);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(rM.x,t),e.positionY.linearRampToValueAtTime(rM.y,t),e.positionZ.linearRampToValueAtTime(rM.z,t),e.orientationX.linearRampToValueAtTime(oM.x,t),e.orientationY.linearRampToValueAtTime(oM.y,t),e.orientationZ.linearRampToValueAtTime(oM.z,t)}else e.setPosition(rM.x,rM.y,rM.z),e.setOrientation(oM.x,oM.y,oM.z)}}class aM{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let r=0;r<e.length;r++)t+=e[r];return t/e.length}}class uM{constructor(t,e,r){let n,i,o;switch(this.binding=t,this.valueSize=r,e){case"quaternion":n=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const r=this.buffer,n=this.valueSize,i=t*n+n;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==n;++t)r[i+t]=r[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(r,i,0,t,n)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,n,0,t,r),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,r=this.buffer,n=t*e+e,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const t=e*this._origIndex;this._mixBufferRegion(r,n,t,1-i,e)}o>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*e,1,e);for(let a=e,u=e+e;a!==u;++a)if(r[a]!==r[a+e]){s.setValue(r,n);break}}saveOriginalState(){const t=this.binding,e=this.buffer,r=this.valueSize,n=r*this._origIndex;t.getValue(e,n);for(let i=r,o=n;i!==o;++i)e[i]=e[n+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let r=t;r<e;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[e+r]=this.buffer[t+r]}_select(t,e,r,n,i){if(n>=.5)for(let o=0;o!==i;++o)t[e+o]=t[r+o]}_slerp(t,e,r,n){Qc.slerpFlat(t,e,t,e,t,r,n)}_slerpAdditive(t,e,r,n,i){const o=this._workIndex*i;Qc.multiplyQuaternionsFlat(t,o,t,e,t,r),Qc.slerpFlat(t,e,t,e,t,o,n)}_lerp(t,e,r,n,i){const o=1-n;for(let s=0;s!==i;++s){const i=e+s;t[i]=t[i]*o+t[r+s]*n}}_lerpAdditive(t,e,r,n,i){for(let o=0;o!==i;++o){const i=e+o;t[i]=t[i]+t[r+o]*n}}}const lM="\\[\\]\\.:\\/",hM=new RegExp("["+lM+"]","g"),cM="[^"+lM+"]",fM="[^"+lM.replace("\\.","")+"]",dM=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",cM)+/(WCOD+)?/.source.replace("WCOD",fM)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",cM)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",cM)+"$"),pM=["material","materials","bones","map"];class mM{constructor(t,e,r){this.path=e,this.parsedPath=r||mM.parseTrackName(e),this.node=mM.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,r){return t&&t.isAnimationObjectGroup?new mM.Composite(t,e,r):new mM(t,e,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(hM,"")}static parseTrackName(t){const e=dM.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const t=r.nodeName.substring(n+1);-1!==pM.indexOf(t)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=t)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(e);if(void 0!==r)return r}if(t.children){const r=function(t){for(let n=0;n<t.length;n++){const i=t[n];if(i.name===e||i.uuid===e)return i;const o=r(i.children);if(o)return o}return null},n=r(t.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)t[e++]=r[n]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,r=e.objectName,n=e.propertyName;let i=e.propertyIndex;if(t||(t=mM.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let n=e.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===n){n=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==n){if(void 0===t[n])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[n]}}const o=t[n];if(void 0===o){const r=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r+"."+n+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mM.Composite=class{constructor(t,e,r){const n=r||mM.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}getValue(t,e){this.bind();const r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(t,e)}setValue(t,e){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}},mM.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},mM.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},mM.prototype.GetterByBindingType=[mM.prototype._getValue_direct,mM.prototype._getValue_array,mM.prototype._getValue_arrayElement,mM.prototype._getValue_toArray],mM.prototype.SetterByBindingTypeAndVersioning=[[mM.prototype._setValue_direct,mM.prototype._setValue_direct_setNeedsUpdate,mM.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mM.prototype._setValue_array,mM.prototype._setValue_array_setNeedsUpdate,mM.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mM.prototype._setValue_arrayElement,mM.prototype._setValue_arrayElement_setNeedsUpdate,mM.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mM.prototype._setValue_fromArray,mM.prototype._setValue_fromArray_setNeedsUpdate,mM.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gM{constructor(){this.isAnimationObjectGroup=!0,this.uuid=hc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let r=0,n=arguments.length;r!==n;++r)t[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,r=this._paths,n=this._parsedPaths,i=this._bindings,o=i.length;let s,a=t.length,u=this.nCachedObjects_;for(let l=0,h=arguments.length;l!==h;++l){const h=arguments[l],c=h.uuid;let f=e[c];if(void 0===f){f=a++,e[c]=f,t.push(h);for(let t=0,e=o;t!==e;++t)i[t].push(new mM(h,r[t],n[t]))}else if(f<u){s=t[f];const a=--u,l=t[a];e[l.uuid]=f,t[f]=l,e[c]=a,t[a]=h;for(let t=0,e=o;t!==e;++t){const e=i[t],o=e[a];let s=e[f];e[f]=o,void 0===s&&(s=new mM(h,r[t],n[t])),e[a]=s}}else t[f]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const t=this._objects,e=this._indicesByUUID,r=this._bindings,n=r.length;let i=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,u=e[a];if(void 0!==u&&u>=i){const o=i++,l=t[o];e[l.uuid]=u,t[u]=l,e[a]=o,t[o]=s;for(let t=0,e=n;t!==e;++t){const e=r[t],n=e[o],i=e[u];e[u]=n,e[o]=i}}}this.nCachedObjects_=i}uncache(){const t=this._objects,e=this._indicesByUUID,r=this._bindings,n=r.length;let i=this.nCachedObjects_,o=t.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,u=e[a];if(void 0!==u)if(delete e[a],u<i){const s=--i,a=t[s],l=--o,h=t[l];e[a.uuid]=u,t[u]=a,e[h.uuid]=s,t[s]=h,t.pop();for(let t=0,e=n;t!==e;++t){const e=r[t],n=e[s],i=e[l];e[u]=n,e[s]=i,e.pop()}}else{const i=--o,s=t[i];i>0&&(e[s.uuid]=u),t[u]=s,t.pop();for(let t=0,e=n;t!==e;++t){const e=r[t];e[u]=e[i],e.pop()}}}this.nCachedObjects_=i}subscribe_(t,e){const r=this._bindingsIndicesByPath;let n=r[t];const i=this._bindings;if(void 0!==n)return i[n];const o=this._paths,s=this._parsedPaths,a=this._objects,u=a.length,l=this.nCachedObjects_,h=new Array(u);n=i.length,r[t]=n,o.push(t),s.push(e),i.push(h);for(let c=l,f=a.length;c!==f;++c){const r=a[c];h[c]=new mM(r,t,e)}return h}unsubscribe_(t){const e=this._bindingsIndicesByPath,r=e[t];if(void 0!==r){const n=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];e[t[s]]=r,o[r]=a,o.pop(),i[r]=i[s],i.pop(),n[r]=n[s],n.pop()}}}class vM{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.blendMode;this._mixer=t,this._clip=e,this._localRoot=r,this.blendMode=n;const i=e.tracks,o=i.length,s=new Array(o),a={endingStart:Zl,endingEnd:Zl};for(let u=0;u!==o;++u){const t=i[u].createInterpolant(null);s[u]=t,t.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Kl,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,r){if(t.fadeOut(e),this.fadeIn(e),r){const r=this._clip.duration,n=t._clip.duration,i=n/r,o=r/n;t.warp(1,i,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,r){return t.crossFadeFrom(this,e,r)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,r){const n=this._mixer,i=n.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=n._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,u=s.sampleValues;return a[0]=i,a[1]=i+r,u[0]=t/o,u[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,r,n){if(!this.enabled)return void this._updateWeight(t);const i=this._startTime;if(null!==i){const n=(t-i)*r;n<0||0===r?e=0:(this._startTime=null,e=r*n)}e*=this._updateTimeScale(t);const o=this._updateTime(e),s=this._updateWeight(t);if(s>0){const t=this._interpolants,e=this._propertyBindings;if(this.blendMode===rh)for(let r=0,n=t.length;r!==n;++r)t[r].evaluate(o),e[r].accumulateAdditive(s);else for(let r=0,i=t.length;r!==i;++r)t[r].evaluate(o),e[r].accumulate(n,s)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const r=this._weightInterpolant;if(null!==r){const n=r.evaluate(t)[0];e*=n,t>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const r=this._timeScaleInterpolant;if(null!==r){e*=r.evaluate(t)[0],t>r.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,r=this.loop;let n=this.time+t,i=this._loopCount;const o=r===Jl;if(0===t)return-1===i?n:o&&1===(1&i)?e-n:n;if(r===ql){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(n>=e)n=e;else{if(!(n<0)){this.time=n;break t}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),n>=e||n<0){const r=Math.floor(n/e);n-=e*r,i+=Math.abs(r);const s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=t>0?e:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}}else this.time=n;if(o&&1===(1&i))return e-n}return n}_setEndings(t,e,r){const n=this._interpolantSettings;r?(n.endingStart=$l,n.endingEnd=$l):(n.endingStart=t?this.zeroSlopeAtStart?$l:Zl:th,n.endingEnd=e?this.zeroSlopeAtEnd?$l:Zl:th)}_scheduleFading(t,e,r){const n=this._mixer,i=n.time;let o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=e,s[1]=i+t,a[1]=r,this}}const yM=new Float32Array(1);class wM extends oc{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const r=t._localRoot||this._root,n=t._clip.tracks,i=n.length,o=t._propertyBindings,s=t._interpolants,a=r.uuid,u=this._bindingsByRootAndName;let l=u[a];void 0===l&&(l={},u[a]=l);for(let h=0;h!==i;++h){const t=n[h],i=t.name;let u=l[i];if(void 0!==u)++u.referenceCount,o[h]=u;else{if(u=o[h],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,a,i));continue}const n=e&&e._propertyBindings[h].binding.parsedPath;u=new uM(mM.create(r,i,n),t.ValueTypeName,t.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,a,i),o[h]=u}s[h].resultBuffer=u.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,r=t._clip.uuid,n=this._actionsByClip[r];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,r,e)}const e=t._propertyBindings;for(let t=0,r=e.length;t!==r;++t){const r=e[t];0===r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,r=e.length;t!==r;++t){const r=e[t];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,r){const n=this._actions,i=this._actionsByClip;let o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=n.length,n.push(t),o.actionByRoot[r]=t}_removeInactiveAction(t){const e=this._actions,r=e[e.length-1],n=t._cacheIndex;r._cacheIndex=n,e[n]=r,e.pop(),t._cacheIndex=null;const i=t._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,u=a[a.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,a[l]=u,a.pop(),t._byClipCacheIndex=null;delete s.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete o[i],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let r=0,n=e.length;r!==n;++r){const t=e[r];0===--t.referenceCount&&this._removeInactiveBinding(t)}}_lendAction(t){const e=this._actions,r=t._cacheIndex,n=this._nActiveActions++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i}_takeBackAction(t){const e=this._actions,r=t._cacheIndex,n=--this._nActiveActions,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i}_addInactiveBinding(t,e,r){const n=this._bindingsByRootAndName,i=this._bindings;let o=n[e];void 0===o&&(o={},n[e]=o),o[r]=t,t._cacheIndex=i.length,i.push(t)}_removeInactiveBinding(t){const e=this._bindings,r=t.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,s=o[n],a=e[e.length-1],u=t._cacheIndex;a._cacheIndex=u,e[u]=a,e.pop(),delete s[i],0===Object.keys(s).length&&delete o[n]}_lendBinding(t){const e=this._bindings,r=t._cacheIndex,n=this._nActiveBindings++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i}_takeBackBinding(t){const e=this._bindings,r=t._cacheIndex,n=--this._nActiveBindings,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let r=t[e];return void 0===r&&(r=new jb(new Float32Array(2),new Float32Array(2),1,yM),r.__cacheIndex=e,t[e]=r),r}_takeBackControlInterpolant(t){const e=this._controlInterpolants,r=t.__cacheIndex,n=--this._nActiveControlInterpolants,i=e[n];t.__cacheIndex=n,e[n]=t,i.__cacheIndex=r,e[r]=i}clipAction(t,e,r){const n=e||this._root,i=n.uuid;let o="string"===typeof t?Zb.findByName(n,t):t;const s=null!==o?o.uuid:t,a=this._actionsByClip[s];let u=null;if(void 0===r&&(r=null!==o?o.blendMode:eh),void 0!==a){const t=a.actionByRoot[i];if(void 0!==t&&t.blendMode===r)return t;u=a.knownActions[0],null===o&&(o=u._clip)}if(null===o)return null;const l=new vM(this,o,e,r);return this._bindAction(l,u),this._addInactiveAction(l,s,i),l}existingAction(t,e){const r=e||this._root,n=r.uuid,i="string"===typeof t?Zb.findByName(r,t):t,o=i?i.uuid:t,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[n]||null}stopAllAction(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this._actions,r=this._nActiveActions,n=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1;for(let u=0;u!==r;++u){e[u]._update(n,t,i,o)}const s=this._bindings,a=this._nActiveBindings;for(let u=0;u!==a;++u)s[u].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,r=t.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){const t=i.knownActions;for(let r=0,n=t.length;r!==n;++r){const n=t[r];this._deactivateAction(n);const i=n._cacheIndex,o=e[e.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,o._cacheIndex=i,e[i]=o,e.pop(),this._removeInactiveBindingsForAction(n)}delete n[r]}}uncacheRoot(t){const e=t.uuid,r=this._actionsByClip;for(const i in r){const t=r[i].actionByRoot[e];void 0!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}const n=this._bindingsByRootAndName[e];if(void 0!==n)for(const i in n){const t=n[i];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(t,e){const r=this.existingAction(t,e);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bM{constructor(t){this.value=t}clone(){return new bM(void 0===this.value.clone?this.value:this.value.clone())}}let AM=0;class MM extends oc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:AM++}),this.name="",this.usage=Vh,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return-1!==e&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let r=0,n=e.length;r<n;r++){const t=Array.isArray(e[r])?e[r]:[e[r]];for(let e=0;e<t.length;e++)this.uniforms.push(t[e].clone())}return this}clone(){return(new this.constructor).copy(this)}}class _M extends Mv{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class EM{constructor(t,e,r,n,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=r,this.elementSize=n,this.count=i,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}class xM{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Tf(t,e),this.near=r,this.far=n,this.camera=null,this.layers=new Gf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return NM(t,this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e.sort(SM),e}intersectObjects(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let n=0,i=t.length;n<i;n++)NM(t[n],this,r,e);return r.sort(SM),r}}function SM(t,e){return t.distance-e.distance}function NM(t,e,r,n){if(t.layers.test(e.layers)&&t.raycast(e,r),!0===n){const n=t.children;for(let t=0,i=n.length;t<i;t++)NM(n[t],e,r,!0)}}class TM{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=t,this.phi=e,this.theta=r,this}set(t,e,r){return this.radius=t,this.phi=e,this.theta=r,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,r){return this.radius=Math.sqrt(t*t+e*e+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,r),this.phi=Math.acos(cc(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class RM{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=t,this.theta=e,this.y=r,this}set(t,e,r){return this.radius=t,this.theta=e,this.y=r,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,r){return this.radius=Math.sqrt(t*t+r*r),this.theta=Math.atan2(t,r),this.y=e,this}clone(){return(new this.constructor).copy(this)}}const CM=new wc;class IM{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wc(1/0,1/0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wc(-1/0,-1/0);this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=CM.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,CM).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const PM=new Zc,kM=new Zc;class OM{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc;this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){PM.subVectors(t,this.start),kM.subVectors(this.end,this.start);const r=kM.dot(kM);let n=kM.dot(PM)/r;return e&&(n=cc(n,0,1)),n}closestPointToPoint(t,e,r){const n=this.closestPointToPointParameter(t,e);return this.delta(r).multiplyScalar(n).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const UM=new Zc;class LM extends td{constructor(t,e){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const r=new qd,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const t=o/a*Math.PI*2,e=s/a*Math.PI*2;n.push(Math.cos(t),Math.sin(t),1,Math.cos(e),Math.sin(e),1)}r.setAttribute("position",new Bd(n,3));const i=new Iy({fog:!1,toneMapped:!1});this.cone=new Gy(r,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),UM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(UM),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const BM=new Zc,DM=new Rf,FM=new Rf;class GM extends Gy{constructor(t){const e=zM(t),r=new qd,n=[],i=[],o=new gd(0,0,1),s=new gd(0,1,0);for(let a=0;a<e.length;a++){const t=e[a];t.parent&&t.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(s.r,s.g,s.b))}r.setAttribute("position",new Bd(n,3)),r.setAttribute("color",new Bd(i,3));super(r,new Iy({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,r=this.geometry,n=r.getAttribute("position");FM.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<e.length;i++){const t=e[i];t.parent&&t.parent.isBone&&(DM.multiplyMatrices(FM,t.matrixWorld),BM.setFromMatrixPosition(DM),n.setXYZ(o,BM.x,BM.y,BM.z),DM.multiplyMatrices(FM,t.parent.matrixWorld),BM.setFromMatrixPosition(DM),n.setXYZ(o+1,BM.x,BM.y,BM.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zM(t){const e=[];!0===t.isBone&&e.push(t);for(let r=0;r<t.children.length;r++)e.push.apply(e,zM(t.children[r]));return e}class jM extends hp{constructor(t,e,r){super(new gb(e,4,2),new bd({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const HM=new Zc,WM=new gd,VM=new gd;class qM extends td{constructor(t,e,r){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const n=new db(e);n.rotateY(.5*Math.PI),this.material=new bd({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.setAttribute("color",new Td(o,3)),this.add(new hp(n,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");WM.copy(this.light.color),VM.copy(this.light.groundColor);for(let t=0,r=e.count;t<r;t++){const n=t<r/2?WM:VM;e.setXYZ(t,n.r,n.g,n.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(HM.setFromMatrixPosition(this.light.matrixWorld).negate())}}class KM extends Gy{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;r=new gd(r),n=new gd(n);const i=e/2,o=t/e,s=t/2,a=[],u=[];for(let h=0,c=0,f=-s;h<=e;h++,f+=o){a.push(-s,0,f,s,0,f),a.push(f,0,-s,f,0,s);const t=h===i?r:n;t.toArray(u,c),c+=3,t.toArray(u,c),c+=3,t.toArray(u,c),c+=3,t.toArray(u,c),c+=3}const l=new qd;l.setAttribute("position",new Bd(a,3)),l.setAttribute("color",new Bd(u,3));super(l,new Iy({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class JM extends Gy{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new gd(i),o=new gd(o);const s=[],a=[];if(e>1)for(let l=0;l<e;l++){const r=l/e*(2*Math.PI),n=Math.sin(r)*t,u=Math.cos(r)*t;s.push(0,0,0),s.push(n,0,u);const h=1&l?i:o;a.push(h.r,h.g,h.b),a.push(h.r,h.g,h.b)}for(let l=0;l<r;l++){const e=1&l?i:o,u=t-t/r*l;for(let t=0;t<n;t++){let r=t/n*(2*Math.PI),i=Math.sin(r)*u,o=Math.cos(r)*u;s.push(i,0,o),a.push(e.r,e.g,e.b),r=(t+1)/n*(2*Math.PI),i=Math.sin(r)*u,o=Math.cos(r)*u,s.push(i,0,o),a.push(e.r,e.g,e.b)}}const u=new qd;u.setAttribute("position",new Bd(s,3)),u.setAttribute("color",new Bd(a,3));super(u,new Iy({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const XM=new Zc,YM=new Zc,QM=new Zc;class ZM extends td{constructor(t,e,r){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",void 0===e&&(e=1);let n=new qd;n.setAttribute("position",new Bd([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const i=new Iy({fog:!1,toneMapped:!1});this.lightPlane=new By(n,i),this.add(this.lightPlane),n=new qd,n.setAttribute("position",new Bd([0,0,0,0,0,1],3)),this.targetLine=new By(n,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XM.setFromMatrixPosition(this.light.matrixWorld),YM.setFromMatrixPosition(this.light.target.matrixWorld),QM.subVectors(YM,XM),this.lightPlane.lookAt(YM),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(YM),this.targetLine.scale.z=QM.length()}}const $M=new Zc,t_=new yp;class e_ extends Gy{constructor(t){const e=new qd,r=new Iy({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],o={};function s(t,e){a(t),a(e)}function a(t){n.push(0,0,0),i.push(0,0,0),void 0===o[t]&&(o[t]=[]),o[t].push(n.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),e.setAttribute("position",new Bd(n,3)),e.setAttribute("color",new Bd(i,3)),super(e,r),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new gd(16755200),l=new gd(16711680),h=new gd(43775),c=new gd(16777215),f=new gd(3355443);this.setColors(u,l,h,c,f)}setColors(t,e,r,n,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,t.r,t.g,t.b),o.setXYZ(1,t.r,t.g,t.b),o.setXYZ(2,t.r,t.g,t.b),o.setXYZ(3,t.r,t.g,t.b),o.setXYZ(4,t.r,t.g,t.b),o.setXYZ(5,t.r,t.g,t.b),o.setXYZ(6,t.r,t.g,t.b),o.setXYZ(7,t.r,t.g,t.b),o.setXYZ(8,t.r,t.g,t.b),o.setXYZ(9,t.r,t.g,t.b),o.setXYZ(10,t.r,t.g,t.b),o.setXYZ(11,t.r,t.g,t.b),o.setXYZ(12,t.r,t.g,t.b),o.setXYZ(13,t.r,t.g,t.b),o.setXYZ(14,t.r,t.g,t.b),o.setXYZ(15,t.r,t.g,t.b),o.setXYZ(16,t.r,t.g,t.b),o.setXYZ(17,t.r,t.g,t.b),o.setXYZ(18,t.r,t.g,t.b),o.setXYZ(19,t.r,t.g,t.b),o.setXYZ(20,t.r,t.g,t.b),o.setXYZ(21,t.r,t.g,t.b),o.setXYZ(22,t.r,t.g,t.b),o.setXYZ(23,t.r,t.g,t.b),o.setXYZ(24,e.r,e.g,e.b),o.setXYZ(25,e.r,e.g,e.b),o.setXYZ(26,e.r,e.g,e.b),o.setXYZ(27,e.r,e.g,e.b),o.setXYZ(28,e.r,e.g,e.b),o.setXYZ(29,e.r,e.g,e.b),o.setXYZ(30,e.r,e.g,e.b),o.setXYZ(31,e.r,e.g,e.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,n.r,n.g,n.b),o.setXYZ(39,n.r,n.g,n.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap;t_.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),r_("c",e,t,t_,0,0,-1),r_("t",e,t,t_,0,0,1),r_("n1",e,t,t_,-1,-1,-1),r_("n2",e,t,t_,1,-1,-1),r_("n3",e,t,t_,-1,1,-1),r_("n4",e,t,t_,1,1,-1),r_("f1",e,t,t_,-1,-1,1),r_("f2",e,t,t_,1,-1,1),r_("f3",e,t,t_,-1,1,1),r_("f4",e,t,t_,1,1,1),r_("u1",e,t,t_,.7,1.1,-1),r_("u2",e,t,t_,-.7,1.1,-1),r_("u3",e,t,t_,0,2,-1),r_("cf1",e,t,t_,-1,0,1),r_("cf2",e,t,t_,1,0,1),r_("cf3",e,t,t_,0,-1,1),r_("cf4",e,t,t_,0,1,1),r_("cn1",e,t,t_,-1,0,-1),r_("cn2",e,t,t_,1,0,-1),r_("cn3",e,t,t_,0,-1,-1),r_("cn4",e,t,t_,0,1,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function r_(t,e,r,n,i,o,s){$M.set(i,o,s).unproject(n);const a=e[t];if(void 0!==a){const t=r.getAttribute("position");for(let e=0,r=a.length;e<r;e++)t.setXYZ(a[e],$M.x,$M.y,$M.z)}}const n_=new ef;class i_ extends Gy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new qd;i.setIndex(new Td(r,1)),i.setAttribute("position",new Td(n,3)),super(i,new Iy({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&n_.setFromObject(this.object),n_.isEmpty())return;const e=n_.min,r=n_.max,n=this.geometry.attributes.position,i=n.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=e.x,i[4]=r.y,i[5]=r.z,i[6]=e.x,i[7]=e.y,i[8]=r.z,i[9]=r.x,i[10]=e.y,i[11]=r.z,i[12]=r.x,i[13]=r.y,i[14]=e.z,i[15]=e.x,i[16]=r.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=r.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class o_ extends Gy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new qd;n.setIndex(new Td(r,1)),n.setAttribute("position",new Bd([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(n,new Iy({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class s_ extends By{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,n=new qd;n.setAttribute("position",new Bd([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere(),super(n,new Iy({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const i=new qd;i.setAttribute("position",new Bd([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new hp(i,new bd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const a_=new Zc;let u_,l_;class h_ extends td{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc(0,0,1),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zc(0,0,0),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*r,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===u_&&(u_=new qd,u_.setAttribute("position",new Bd([0,0,0,0,1,0],3)),l_=new Sw(0,.5,1,5,1),l_.translate(0,-.5,0)),this.position.copy(e),this.line=new By(u_,new Iy({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new hp(l_,new bd({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,i,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{a_.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(a_,e)}}setLength(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*e;this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class c_ extends Gy{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],r=new qd;r.setAttribute("position",new Bd(e,3)),r.setAttribute("color",new Bd([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(r,new Iy({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,r){const n=new gd,i=this.geometry.attributes.color.array;return n.set(t),n.toArray(i,0),n.toArray(i,3),n.set(e),n.toArray(i,6),n.toArray(i,9),n.set(r),n.toArray(i,12),n.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class f_{constructor(){this.type="ShapePath",this.color=new gd,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Mw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,r,n){return this.currentPath.quadraticCurveTo(t,e,r,n),this}bezierCurveTo(t,e,r,n,i,o){return this.currentPath.bezierCurveTo(t,e,r,n,i,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(t,e){const r=e.length;let n=!1;for(let i=r-1,o=0;o<r;i=o++){let r=e[i],s=e[o],a=s.x-r.x,u=s.y-r.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(r=e[o],a=-a,s=e[i],u=-u),t.y<r.y||t.y>s.y)continue;if(t.y===r.y){if(t.x===r.x)return!0}else{const e=u*(t.x-r.x)-a*(t.y-r.y);if(0===e)return!0;if(e<0)continue;n=!n}}else{if(t.y!==r.y)continue;if(s.x<=t.x&&t.x<=r.x||r.x<=t.x&&t.x<=s.x)return!0}}return n}const r=ab.isClockWise,n=this.subPaths;if(0===n.length)return[];let i,o,s;const a=[];if(1===n.length)return o=n[0],s=new Uw,s.curves=o.curves,a.push(s),a;let u=!r(n[0].getPoints());u=t?!u:u;const l=[],h=[];let c,f,d=[],p=0;h[p]=void 0,d[p]=[];for(let m=0,g=n.length;m<g;m++)o=n[m],c=o.getPoints(),i=r(c),i=t?!i:i,i?(!u&&h[p]&&p++,h[p]={s:new Uw,p:c},h[p].s.curves=o.curves,u&&p++,d[p]=[]):d[p].push({h:o,p:c[0]});if(!h[0])return function(t){const e=[];for(let r=0,n=t.length;r<n;r++){const n=t[r],i=new Uw;i.curves=n.curves,e.push(i)}return e}(n);if(h.length>1){let t=!1,r=0;for(let e=0,n=h.length;e<n;e++)l[e]=[];for(let n=0,i=h.length;n<i;n++){const i=d[n];for(let o=0;o<i.length;o++){const s=i[o];let a=!0;for(let i=0;i<h.length;i++)e(s.p,h[i].p)&&(n!==i&&r++,a?(a=!1,l[i].push(s)):t=!0);a&&l[n].push(s)}}r>0&&!1===t&&(d=l)}for(let m=0,g=h.length;m<g;m++){s=h[m].s,a.push(s),f=d[m];for(let t=0,e=f.length;t<e;t++)s.holes.push(f[t].h)}return a}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Aa}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Aa);var d_=r(80223);function p_(t){let e;const r=new Set,n=(t,n)=>{const i="function"===typeof t?t(e):t;if(i!==e){const t=e;e=n?i:Object.assign({},e,i),r.forEach((r=>r(e,t)))}},i=()=>e,o={setState:n,getState:i,subscribe:(t,n,o)=>n||o?function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let s=n(e);function a(){const r=n(e);if(!o(s,r)){const e=s;t(s=r,e)}}return r.add(a),()=>r.delete(a)}(t,n,o):(r.add(t),()=>r.delete(t)),destroy:()=>r.clear()};return e=t(n,i,o),o}const m_="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;var g_=r(85914),v_=r.n(g_),y_=r(62224);const w_=[];function b_(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(t,e)=>t===e;if(t===e)return!0;if(!t||!e)return!1;const n=t.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!r(t[i],e[i]))return!1;return!0}function A_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===e&&(e=[t]);for(const s of w_)if(b_(e,s.keys,s.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!r)throw s.promise}const i={keys:e,equal:n.equal,remove:()=>{const t=w_.indexOf(i);-1!==t&&w_.splice(t,1)},promise:(o=t,"object"===typeof o&&"function"===typeof o.then?t:t(...e)).then((t=>{i.response=t,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))})).catch((t=>i.error=t))};var o;if(w_.push(i),!r)throw i.promise}const M_=(t,e,r)=>A_(t,e,!1,r);const __={};var E_,x_;const S_=t=>"colorSpace"in t||"outputColorSpace"in t,N_=()=>{var t;return null!=(t=__.ColorManagement)?t:null},T_=t=>t&&t.isOrthographicCamera,R_="undefined"!==typeof window&&(null!=(E_=window.document)&&E_.createElement||"ReactNative"===(null==(x_=window.navigator)?void 0:x_.product))?n.useLayoutEffect:n.useEffect;function C_(t){const e=n.useRef(t);return R_((()=>{e.current=t}),[t]),e}function I_(t){let{set:e}=t;return R_((()=>(e(new Promise((()=>null))),()=>e(!1))),[e]),null}class P_ extends n.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}P_.getDerivedStateFromError=()=>({error:!0});const k_="__default",O_=new Map,U_=t=>t&&!!t.memoized&&!!t.changes;function L_(t){var e;const r="undefined"!==typeof window?null!=(e=window.devicePixelRatio)?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],r),t[1]):t}const B_=t=>{var e;return null==(e=t.__r3f)?void 0:e.root.getState()},D_={obj:t=>t===Object(t)&&!D_.arr(t)&&"function"!==typeof t,fun:t=>"function"===typeof t,str:t=>"string"===typeof t,num:t=>"number"===typeof t,boo:t=>"boolean"===typeof t,und:t=>void 0===t,arr:t=>Array.isArray(t),equ(t,e){let{arrays:r="shallow",objects:n="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof t!==typeof e||!!t!==!!e)return!1;if(D_.str(t)||D_.num(t))return t===e;const o=D_.obj(t);if(o&&"reference"===n)return t===e;const s=D_.arr(t);if(s&&"reference"===r)return t===e;if((s||o)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(o&&"shallow"===r&&"shallow"===n){for(a in i?e:t)if(!D_.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(D_.und(a)){if(s&&0===t.length&&0===e.length)return!0;if(o&&0===Object.keys(t).length&&0===Object.keys(e).length)return!0;if(t!==e)return!1}return!0}};function F_(t){const e={nodes:{},materials:{}};return t&&t.traverse((t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)})),e}function G_(t,e){const r=t;return(null!=e&&e.primitive||!r.__r3f)&&(r.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function z_(t,e){let r=t;if(e.includes("-")){const n=e.split("-"),i=n.pop();return r=n.reduce(((t,e)=>t[e]),t),{target:r,key:i}}return{target:r,key:e}}const j_=/-\d+$/;function H_(t,e,r){if(D_.str(r)){if(j_.test(r)){const e=r.replace(j_,""),{target:n,key:i}=z_(t,e);Array.isArray(n[i])||(n[i]=[])}const{target:n,key:i}=z_(t,r);e.__r3f.previousAttach=n[i],n[i]=e}else e.__r3f.previousAttach=r(t,e)}function W_(t,e,r){var n,i;if(D_.str(r)){const{target:n,key:i}=z_(t,r),o=e.__r3f.previousAttach;void 0===o?delete n[i]:n[i]=o}else null==(n=e.__r3f)||null==n.previousAttach||n.previousAttach(t,e);null==(i=e.__r3f)||delete i.previousAttach}function V_(t,e){let{children:r,key:n,ref:i,...o}=e,{children:s,key:a,ref:u,...l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var c;const f=null!=(c=null==t?void 0:t.__r3f)?c:{},d=Object.entries(o),p=[];if(h){const t=Object.keys(l);for(let e=0;e<t.length;e++)o.hasOwnProperty(t[e])||d.unshift([t[e],k_+"remove"])}d.forEach((e=>{let[r,n]=e;var i;if(null!=(i=t.__r3f)&&i.primitive&&"object"===r)return;if(D_.equ(n,l[r]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(r))return p.push([r,n,!0,[]]);let s=[];r.includes("-")&&(s=r.split("-")),p.push([r,n,!1,s]);for(const t in o){const e=o[t];t.startsWith("".concat(r,"-"))&&p.push([t,e,!1,t.split("-")])}}));const m={...o};return f.memoizedProps&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}function q_(t,e){var r,n,i;const o=null!=(r=t.__r3f)?r:{},s=o.root,a=null!=(n=null==s||null==s.getState?void 0:s.getState())?n:{},{memoized:u,changes:l}=U_(e)?e:V_(t,e),h=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=u);for(let c=0;c<l.length;c++){let[e,r,n,i]=l[c];if(S_(t)){const t=3001,n="srgb",i="srgb-linear";"encoding"===e?(e="colorSpace",r=r===t?n:i):"outputEncoding"===e&&(e="outputColorSpace",r=r===t?n:i)}let s=t,u=s[e];if(i.length&&(u=i.reduce(((t,e)=>t[e]),t),!u||!u.set)){const[r,...n]=i.reverse();s=n.reverse().reduce(((t,e)=>t[e]),t),e=r}if(r===k_+"remove")if(s.constructor){let t=O_.get(s.constructor);t||(t=new s.constructor,O_.set(s.constructor,t)),r=t[e]}else r=0;if(n)r?o.handlers[e]=r:delete o.handlers[e],o.eventCount=Object.keys(o.handlers).length;else if(u&&u.set&&(u.copy||u instanceof Gf)){if(Array.isArray(r))u.fromArray?u.fromArray(r):u.set(...r);else if(u.copy&&r&&r.constructor&&u.constructor===r.constructor)u.copy(r);else if(void 0!==r){const t=u instanceof gd;!t&&u.setScalar?u.setScalar(r):u instanceof Gf&&r instanceof Gf?u.mask=r.mask:u.set(r),N_()||a.linear||!t||u.convertSRGBToLinear()}}else if(s[e]=r,s[e]instanceof jc&&s[e].format===il&&s[e].type===qu){const t=s[e];S_(t)&&S_(a.gl)?t.colorSpace=a.gl.outputColorSpace:t.encoding=a.gl.outputEncoding}K_(t)}if(o.parent&&a.internal&&t.raycast&&h!==o.eventCount){const e=a.internal.interaction.indexOf(t);e>-1&&a.internal.interaction.splice(e,1),o.eventCount&&a.internal.interaction.push(t)}return!(1===l.length&&"onUpdate"===l[0][0])&&l.length&&null!=(i=t.__r3f)&&i.parent&&J_(t),t}function K_(t){var e,r;const n=null==(e=t.__r3f)||null==(r=e.root)||null==r.getState?void 0:r.getState();n&&0===n.internal.frames&&n.invalidate()}function J_(t){null==t.onUpdate||t.onUpdate(t)}function X_(t,e){t.manual||(T_(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Y_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Q_(t,e,r,n){const i=r.get(e);i&&(r.delete(e),0===r.size&&(t.delete(n),i.target.releasePointerCapture(n)))}function Z_(t){function e(t){return t.filter((t=>["Move","Over","Enter","Out","Leave"].some((e=>{var r;return null==(r=t.__r3f)?void 0:r.handlers["onPointer"+e]}))))}function r(e){const{internal:r}=t.getState();for(const t of r.hovered.values())if(!e.length||!e.find((e=>e.object===t.object&&e.index===t.index&&e.instanceId===t.instanceId))){const n=t.eventObject.__r3f,i=null==n?void 0:n.handlers;if(r.hovered.delete(Y_(t)),null!=n&&n.eventCount){const r={...t,intersections:e};null==i.onPointerOut||i.onPointerOut(r),null==i.onPointerLeave||i.onPointerLeave(r)}}}function n(t,e){for(let r=0;r<e.length;r++){const n=e[r].__r3f;null==n||null==n.handlers.onPointerMissed||n.handlers.onPointerMissed(t)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return e=>{const{internal:n}=t.getState();"pointerId"in e&&n.capturedMap.has(e.pointerId)&&requestAnimationFrame((()=>{n.capturedMap.has(e.pointerId)&&(n.capturedMap.delete(e.pointerId),r([]))}))}}return function(o){const{onPointerMissed:s,internal:a}=t.getState();a.lastEvent.current=o;const u="onPointerMove"===i,l="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,h=function(e,r){const n=t.getState(),i=new Set,o=[],s=r?r(n.internal.interaction):n.internal.interaction;for(let t=0;t<s.length;t++){const e=B_(s[t]);e&&(e.raycaster.camera=void 0)}n.previousRoot||null==n.events.compute||n.events.compute(e,n);let a=s.flatMap((function(t){const r=B_(t);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(e,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(t,!0):[]):[];var n})).sort(((t,e)=>{const r=B_(t.object),n=B_(e.object);return r&&n&&n.events.priority-r.events.priority||t.distance-e.distance})).filter((t=>{const e=Y_(t);return!i.has(e)&&(i.add(e),!0)}));n.events.filter&&(a=n.events.filter(a,n));for(const t of a){let e=t.object;for(;e;){var u;null!=(u=e.__r3f)&&u.eventCount&&o.push({...t,eventObject:e}),e=e.parent}}if("pointerId"in e&&n.internal.capturedMap.has(e.pointerId))for(let t of n.internal.capturedMap.get(e.pointerId).values())i.has(Y_(t.intersection))||o.push(t.intersection);return o}(o,u?e:void 0),c=l?function(e){const{internal:r}=t.getState(),n=e.offsetX-r.initialClick[0],i=e.offsetY-r.initialClick[1];return Math.round(Math.sqrt(n*n+i*i))}(o):0;"onPointerDown"===i&&(a.initialClick=[o.offsetX,o.offsetY],a.initialHits=h.map((t=>t.eventObject))),l&&!h.length&&c<=2&&(n(o,a.interaction),s&&s(o)),u&&r(h),function(e,n,i,o){const s=t.getState();if(e.length){const t={stopped:!1};for(const a of e){const u=B_(a.object)||s,{raycaster:l,pointer:h,camera:c,internal:f}=u,d=new Zc(h.x,h.y,0).unproject(c),p=t=>{var e,r;return null!=(e=null==(r=f.capturedMap.get(t))?void 0:r.has(a.eventObject))&&e},m=t=>{const e={intersection:a,target:n.target};f.capturedMap.has(t)?f.capturedMap.get(t).set(a.eventObject,e):f.capturedMap.set(t,new Map([[a.eventObject,e]])),n.target.setPointerCapture(t)},g=t=>{const e=f.capturedMap.get(t);e&&Q_(f.capturedMap,a.eventObject,e,t)};let v={};for(let t in n){let e=n[t];"function"!==typeof e&&(v[t]=e)}let y={...a,...v,pointer:h,intersections:e,stopped:t.stopped,delta:i,unprojectedPoint:d,ray:l.ray,camera:c,stopPropagation(){const i="pointerId"in n&&f.capturedMap.get(n.pointerId);(!i||i.has(a.eventObject))&&(y.stopped=t.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find((t=>t.eventObject===a.eventObject)))&&r([...e.slice(0,e.indexOf(a)),a])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:n};if(o(y),!0===t.stopped)break}}}(h,o,c,(function(t){const e=t.eventObject,r=e.__r3f,s=null==r?void 0:r.handlers;if(null!=r&&r.eventCount)if(u){if(s.onPointerOver||s.onPointerEnter||s.onPointerOut||s.onPointerLeave){const e=Y_(t),r=a.hovered.get(e);r?r.stopped&&t.stopPropagation():(a.hovered.set(e,t),null==s.onPointerOver||s.onPointerOver(t),null==s.onPointerEnter||s.onPointerEnter(t))}null==s.onPointerMove||s.onPointerMove(t)}else{const r=s[i];r?l&&!a.initialHits.includes(e)||(n(o,a.interaction.filter((t=>!a.initialHits.includes(t)))),r(t)):l&&a.initialHits.includes(e)&&n(o,a.interaction.filter((t=>!a.initialHits.includes(t))))}}))}}}}const $_=t=>!(null==t||!t.render),tE=n.createContext(null),eE=(t,e)=>{const r=function(t){const e="function"===typeof t?p_(t):t,r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,i]=(0,n.useReducer)((t=>t+1),0),o=e.getState(),s=(0,n.useRef)(o),a=(0,n.useRef)(t),u=(0,n.useRef)(r),l=(0,n.useRef)(!1),h=(0,n.useRef)();let c;void 0===h.current&&(h.current=t(o));let f=!1;(s.current!==o||a.current!==t||u.current!==r||l.current)&&(c=t(o),f=!r(h.current,c)),m_((()=>{f&&(h.current=c),s.current=o,a.current=t,u.current=r,l.current=!1}));const d=(0,n.useRef)(o);m_((()=>{const t=()=>{try{const t=e.getState(),r=a.current(t);u.current(h.current,r)||(s.current=t,h.current=r,i())}catch(t){l.current=!0,i()}},r=e.subscribe(t);return e.getState()!==d.current&&t(),r}),[]);const p=f?c:h.current;return(0,n.useDebugValue)(p),p};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const t=[r,e];return{next(){const e=t.length<=0;return{value:t.shift(),done:e}}}},r}(((r,i)=>{const o=new Zc,s=new Zc,a=new Zc;function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size;const{width:n,height:u,top:l,left:h}=r,c=n/u;e instanceof Zc?a.copy(e):a.set(...e);const f=t.getWorldPosition(o).distanceTo(a);if(T_(t))return{width:n/t.zoom,height:u/t.zoom,top:l,left:h,factor:1,distance:f,aspect:c};{const e=t.fov*Math.PI/180,r=2*Math.tan(e/2)*f,i=r*(n/u);return{width:i,height:r,top:l,left:h,factor:n/i,distance:f,aspect:c}}}let l;const h=t=>r((e=>({performance:{...e.performance,current:t}}))),c=new wc,f={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t(i(),e)},advance:(t,r)=>e(t,r,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new JA,pointer:c,mouse:c,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const t=i();l&&clearTimeout(l),t.performance.current!==t.performance.min&&h(t.performance.min),l=setTimeout((()=>h(i().performance.max)),t.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:t=>r((e=>({...e,events:{...e.events,...t}}))),setSize:(t,e,n,o,a)=>{const l=i().camera,h={width:t,height:e,top:o||0,left:a||0,updateStyle:n};r((t=>({size:h,viewport:{...t.viewport,...u(l,s,h)}})))},setDpr:t=>r((e=>{const r=L_(t);return{viewport:{...e.viewport,dpr:r,initialDpr:e.viewport.initialDpr||r}}})),setFrameloop:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const e=i().clock;e.stop(),e.elapsedTime=0,"never"!==t&&(e.start(),e.elapsedTime=0),r((()=>({frameloop:t})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:n.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(t,e,r)=>{const n=i().internal;return n.priority=n.priority+(e>0?1:0),n.subscribers.push({ref:t,priority:e,store:r}),n.subscribers=n.subscribers.sort(((t,e)=>t.priority-e.priority)),()=>{const r=i().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(e>0?1:0),r.subscribers=r.subscribers.filter((e=>e.ref!==t)))}}}};return f})),i=r.getState();let o=i.size,s=i.viewport.dpr,a=i.camera;return r.subscribe((()=>{const{camera:t,size:e,viewport:n,gl:i,set:u}=r.getState();if(e!==o||n.dpr!==s){var l;o=e,s=n.dpr,X_(t,e),i.setPixelRatio(n.dpr);const r=null!=(l=e.updateStyle)?l:"undefined"!==typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(e.width,e.height,r)}t!==a&&(a=t,u((e=>({viewport:{...e.viewport,...e.viewport.getCurrentViewport(t)}}))))})),r.subscribe((e=>t(e))),r};let rE,nE=new Set,iE=new Set,oE=new Set;function sE(t,e){if(t.size)for(const{callback:r}of t.values())r(e)}function aE(t,e){switch(t){case"before":return sE(nE,e);case"after":return sE(iE,e);case"tail":return sE(oE,e)}}let uE,lE;function hE(t,e,r){let n=e.clock.getDelta();for("never"===e.frameloop&&"number"===typeof t&&(n=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),uE=e.internal.subscribers,rE=0;rE<uE.length;rE++)lE=uE[rE],lE.ref.current(lE.store.getState(),n,r);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),"always"===e.frameloop?1:e.internal.frames}function cE(){const t=n.useContext(tE);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function fE(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t=>t,e=arguments.length>1?arguments[1]:void 0;return cE()(t,e)}function dE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=cE(),n=r.getState().internal.subscribe,i=C_(t);return R_((()=>n(i,e,r)),[e,n,r]),null}function pE(t,e){return function(r){const n=new r;t&&t(n);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return Promise.all(o.map((t=>new Promise(((r,i)=>n.load(t,(t=>{t.scene&&Object.assign(t,F_(t.scene)),r(t)}),e,(e=>i(new Error("Could not load ".concat(t,": ").concat(e.message,")"))))))))))}}function mE(t,e,r,n){const i=Array.isArray(e)?e:[e],o=M_(pE(r,n),[t,...i],{equal:D_.equ});return Array.isArray(e)?o:o[0]}mE.preload=function(t,e,r){const n=Array.isArray(e)?e:[e];return((t,e,r)=>{A_(t,e,!0,r)})(pE(r),[t,...n])},mE.clear=function(t,e){return(t=>{if(void 0===t||0===t.length)w_.splice(0,w_.length);else{const e=w_.find((e=>b_(t,e.keys,e.equal)));e&&e.remove()}})([t,...Array.isArray(e)?e:[e]])};const gE=new Map,{invalidate:vE,advance:yE}=function(t){let e,r,n,i=!1;function o(s){r=requestAnimationFrame(o),i=!0,e=0,aE("before",s);for(const r of t.values()){var a;n=r.store.getState(),!n.internal.active||!("always"===n.frameloop||n.internal.frames>0)||null!=(a=n.gl.xr)&&a.isPresenting||(e+=hE(s,n))}if(aE("after",s),0===e)return aE("tail",s),i=!1,cancelAnimationFrame(r)}return{loop:o,invalidate:function e(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var s;if(!r)return t.forEach((t=>e(t.store.getState())),n);null!=(s=r.gl.xr)&&s.isPresenting||!r.internal.active||"never"===r.frameloop||(r.internal.frames=Math.min(60,r.internal.frames+n),i||(i=!0,requestAnimationFrame(o)))},advance:function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(r&&aE("before",e),n)hE(e,n,i);else for(const o of t.values())hE(e,o.store.getState());r&&aE("after",e)}}}(gE),{reconciler:wE,applyProps:bE}=function(t,e){function r(t,e,r){let n,{args:i=[],attach:o,...s}=e,a="".concat(t[0].toUpperCase()).concat(t.slice(1));if("primitive"===t){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");n=G_(s.object,{type:t,root:r,attach:o,primitive:!0})}else{const e=__[a];if(!e)throw new Error("R3F: ".concat(a," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");n=G_(new e(...i),{type:t,root:r,attach:o,memoizedProps:{args:i}})}return void 0===n.__r3f.attach&&(n instanceof qd?n.__r3f.attach="geometry":n instanceof wd&&(n.__r3f.attach="material")),"inject"!==a&&q_(n,s),n}function n(t,e){let r=!1;var n,i;e&&(null!=(n=e.__r3f)&&n.attach?H_(t,e,e.__r3f.attach):e.isObject3D&&t.isObject3D&&(t.add(e),r=!0),r||null==(i=t.__r3f)||i.objects.push(e),e.__r3f||G_(e,{}),e.__r3f.parent=t,J_(e),K_(e))}function i(t,e,r){let n=!1;if(e){var i,o;if(null!=(i=e.__r3f)&&i.attach)H_(t,e,e.__r3f.attach);else if(e.isObject3D&&t.isObject3D){e.parent=t,e.dispatchEvent({type:"added"});const i=t.children.filter((t=>t!==e)),o=i.indexOf(r);t.children=[...i.slice(0,o),e,...i.slice(o)],n=!0}n||null==(o=t.__r3f)||o.objects.push(e),e.__r3f||G_(e,{}),e.__r3f.parent=t,J_(e),K_(e)}}function o(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&[...t].forEach((t=>s(e,t,r)))}function s(t,e,r){if(e){var n,i,s;if(e.__r3f&&(e.__r3f.parent=null),null!=(n=t.__r3f)&&n.objects&&(t.__r3f.objects=t.__r3f.objects.filter((t=>t!==e))),null!=(i=e.__r3f)&&i.attach)W_(t,e,e.__r3f.attach);else if(e.isObject3D&&t.isObject3D){var a;t.remove(e),null!=(a=e.__r3f)&&a.root&&function(t,e){const{internal:r}=t.getState();r.interaction=r.interaction.filter((t=>t!==e)),r.initialHits=r.initialHits.filter((t=>t!==e)),r.hovered.forEach(((t,n)=>{t.eventObject!==e&&t.object!==e||r.hovered.delete(n)})),r.capturedMap.forEach(((t,n)=>{Q_(r.capturedMap,e,t,n)}))}(e.__r3f.root,e)}const l=null==(s=e.__r3f)?void 0:s.primitive,h=void 0===r?null!==e.dispose&&!l:r;var u;if(!l)o(null==(u=e.__r3f)?void 0:u.objects,e,h),o(e.children,e,h);delete e.__r3f,h&&e.dispose&&"Scene"!==e.type&&(0,y_.unstable_scheduleCallback)(y_.unstable_IdlePriority,(()=>{try{e.dispose()}catch(t){}})),K_(t)}}const a=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:v_()({createInstance:r,removeChild:s,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(t,e)=>{if(!e)return;const r=t.getState().scene;r.__r3f&&(r.__r3f.root=t,n(r,e))},removeChildFromContainer:(t,e)=>{e&&s(t.getState().scene,e)},insertInContainerBefore:(t,e,r)=>{if(!e||!r)return;const n=t.getState().scene;n.__r3f&&i(n,e,r)},getRootHostContext:()=>null,getChildHostContext:t=>t,finalizeInitialChildren(t){var e;const r=null!=(e=null==t?void 0:t.__r3f)?e:{};return Boolean(r.handlers)},prepareUpdate(t,e,r,n){if(t.__r3f.primitive&&n.object&&n.object!==t)return[!0];{const{args:e=[],children:i,...o}=n,{args:s=[],children:a,...u}=r;if(!Array.isArray(e))throw new Error("R3F: the args prop must be an array!");if(e.some(((t,e)=>t!==s[e])))return[!0];const l=V_(t,o,u,!0);return l.changes.length?[!1,l]:null}},commitUpdate(t,e,i,o,a,u){let[l,h]=e;l?function(t,e,i,o){var a;const u=null==(a=t.__r3f)?void 0:a.parent;if(!u)return;const l=r(e,i,t.__r3f.root);if(t.children){for(const e of t.children)e.__r3f&&n(l,e);t.children=t.children.filter((t=>!t.__r3f))}t.__r3f.objects.forEach((t=>n(l,t))),t.__r3f.objects=[],t.__r3f.autoRemovedBeforeAppend||s(u,t),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),n(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l);[o,o.alternate].forEach((t=>{null!==t&&(t.stateNode=l,t.ref&&("function"===typeof t.ref?t.ref(l):t.ref.current=l))}))}(t,i,a,u):q_(t,h)},commitMount(t,e,r,n){var i;const o=null!=(i=t.__r3f)?i:{};t.raycast&&o.handlers&&o.eventCount&&t.__r3f.root.getState().internal.interaction.push(t)},getPublicInstance:t=>t,prepareForCommit:()=>null,preparePortalMount:t=>G_(t.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(t){var e;const{attach:r,parent:n}=null!=(e=t.__r3f)?e:{};r&&n&&W_(n,t,r),t.isObject3D&&(t.visible=!1),K_(t)},unhideInstance(t,e){var r;const{attach:n,parent:i}=null!=(r=t.__r3f)?r:{};n&&i&&H_(i,t,n),(t.isObject3D&&null==e.visible||e.visible)&&(t.visible=!0),K_(t)},createTextInstance:a,hideTextInstance:a,unhideTextInstance:a,getCurrentEventPriority:()=>e?e():d_.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&D_.fun(performance.now)?performance.now:D_.fun(Date.now)?Date.now:()=>0,scheduleTimeout:D_.fun(setTimeout)?setTimeout:void 0,cancelTimeout:D_.fun(clearTimeout)?clearTimeout:void 0}),applyProps:q_}}(0,(function(){var t;const e="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!e)return d_.DefaultEventPriority;switch(null==(t=e.event)?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return d_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return d_.ContinuousEventPriority;default:return d_.DefaultEventPriority}})),AE={objects:"shallow",strict:!1},ME=(t,e)=>{const r="function"===typeof t?t(e):t;return $_(r)?r:new vv({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function _E(t){const e=gE.get(t),r=null==e?void 0:e.fiber,i=null==e?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const o="function"===typeof reportError?reportError:console.error,s=i||eE(vE,yE),a=r||wE.createContainer(s,d_.ConcurrentRoot,null,!1,null,"",o,null);let u;e||gE.set(t,{fiber:a,store:s});let l,h=!1;return{configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:r,size:n,scene:i,events:o,onCreated:a,shadows:c=!1,linear:f=!1,flat:d=!1,legacy:p=!1,orthographic:m=!1,frameloop:g="always",dpr:v=[1,2],performance:y,raycaster:w,camera:b,onPointerMissed:A}=e,M=s.getState(),_=M.gl;M.gl||M.set({gl:_=ME(r,t)});let E=M.raycaster;E||M.set({raycaster:E=new xM});const{params:x,...S}=w||{};if(D_.equ(S,E,AE)||bE(E,{...S}),D_.equ(x,E.params,AE)||bE(E,{params:{...E.params,...x}}),!M.camera||M.camera===l&&!D_.equ(l,b,AE)){l=b;const t=b instanceof yp,e=t?b:m?new Kp(0,0,0,0,.1,1e3):new Mp(75,0,.1,1e3);t||(e.position.z=5,b&&bE(e,b),M.camera||null!=b&&b.rotation||e.lookAt(0,0,0)),M.set({camera:e})}if(!M.scene){let t;i instanceof Av?t=i:(t=new Av,i&&bE(t,i)),M.set({scene:G_(t)})}if(!M.xr){const t=(t,e)=>{const r=s.getState();"never"!==r.frameloop&&yE(t,!0,r,e)},e=()=>{const e=s.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?t:null),e.gl.xr.isPresenting||vE(e)},r={connect(){const t=s.getState().gl;t.xr.addEventListener("sessionstart",e),t.xr.addEventListener("sessionend",e)},disconnect(){const t=s.getState().gl;t.xr.removeEventListener("sessionstart",e),t.xr.removeEventListener("sessionend",e)}};_.xr&&r.connect(),M.set({xr:r})}if(_.shadowMap){const t=_.shadowMap.enabled,e=_.shadowMap.type;if(_.shadowMap.enabled=!!c,D_.boo(c))_.shadowMap.type=Ca;else if(D_.str(c)){var N;const t={basic:Ta,percentage:Ra,soft:Ca,variance:Ia};_.shadowMap.type=null!=(N=t[c])?N:Ca}else D_.obj(c)&&Object.assign(_.shadowMap,c);t===_.shadowMap.enabled&&e===_.shadowMap.type||(_.shadowMap.needsUpdate=!0)}const T=N_();T&&("enabled"in T?T.enabled=!p:"legacyMode"in T&&(T.legacyMode=p));bE(_,{outputEncoding:f?3e3:3001,toneMapping:d?yu:Mu}),M.legacy!==p&&M.set((()=>({legacy:p}))),M.linear!==f&&M.set((()=>({linear:f}))),M.flat!==d&&M.set((()=>({flat:d}))),!r||D_.fun(r)||$_(r)||D_.equ(r,_,AE)||bE(_,r),o&&!M.events.handlers&&M.set({events:o(s)});const R=function(t,e){if(e)return e;if("undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:e,height:r,top:n,left:i}=t.parentElement.getBoundingClientRect();return{width:e,height:r,top:n,left:i}}return"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?{width:t.width,height:t.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(t,n);return D_.equ(R,M.size,AE)||M.setSize(R.width,R.height,R.updateStyle,R.top,R.left),v&&M.viewport.dpr!==L_(v)&&M.setDpr(v),M.frameloop!==g&&M.setFrameloop(g),M.onPointerMissed||M.set({onPointerMissed:A}),y&&!D_.equ(y,M.performance,AE)&&M.set((t=>({performance:{...t.performance,...y}}))),u=a,h=!0,this},render(e){return h||this.configure(),wE.updateContainer(n.createElement(EE,{store:s,children:e,onCreated:u,rootElement:t}),a,null,(()=>{})),s},unmount(){xE(t)}}}function EE(t){let{store:e,children:r,onCreated:i,rootElement:o}=t;return R_((()=>{const t=e.getState();t.set((t=>({internal:{...t.internal,active:!0}}))),i&&i(t),e.getState().events.connected||null==t.events.connect||t.events.connect(o)}),[]),n.createElement(tE.Provider,{value:e},r)}function xE(t,e){const r=gE.get(t),n=null==r?void 0:r.fiber;if(n){const i=null==r?void 0:r.store.getState();i&&(i.internal.active=!1),wE.updateContainer(null,n,null,(()=>{i&&setTimeout((()=>{try{var r,n,o,s;null==i.events.disconnect||i.events.disconnect(),null==(r=i.gl)||null==(n=r.renderLists)||null==n.dispose||n.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(s=i.gl)&&s.xr&&i.xr.disconnect(),function(t){t.dispose&&"Scene"!==t.type&&t.dispose();for(const e in t)null==e.dispose||e.dispose(),delete t[e]}(i),gE.delete(t),e&&e(t)}catch(a){}}),500)}))}}wE.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:n.version});n.unstable_act;function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SE.apply(this,arguments)}var NE=r(98961),TE=r.n(NE);function RE(t){let{debounce:e,scroll:r,polyfill:i,offsetSize:o}=void 0===t?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=i||("undefined"===typeof window?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,u]=(0,n.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,n.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),h=e?"number"===typeof e?e:e.scroll:null,c=e?"number"===typeof e?e:e.resize:null,f=(0,n.useRef)(!1);(0,n.useEffect)((()=>(f.current=!0,()=>{f.current=!1})));const[d,p,m]=(0,n.useMemo)((()=>{const t=()=>{if(!l.current.element)return;const{left:t,top:e,width:r,height:n,bottom:i,right:s,x:a,y:h}=l.current.element.getBoundingClientRect(),c={left:t,top:e,width:r,height:n,bottom:i,right:s,x:a,y:h};l.current.element instanceof HTMLElement&&o&&(c.height=l.current.element.offsetHeight,c.width=l.current.element.offsetWidth),Object.freeze(c),f.current&&!PE(l.current.lastBounds,c)&&u(l.current.lastBounds=c)};return[t,c?TE()(t,c):t,h?TE()(t,h):t]}),[u,o,h,c]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach((t=>t.removeEventListener("scroll",m,!0))),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(m),l.current.resizeObserver.observe(l.current.element),r&&l.current.scrollContainers&&l.current.scrollContainers.forEach((t=>t.addEventListener("scroll",m,{capture:!0,passive:!0}))))}var y,w,b;return y=m,w=Boolean(r),(0,n.useEffect)((()=>{if(w){const t=y;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}}),[y,w]),b=p,(0,n.useEffect)((()=>{const t=b;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[b]),(0,n.useEffect)((()=>{g(),v()}),[r,m,p]),(0,n.useEffect)((()=>g),[]),[t=>{t&&t!==l.current.element&&(g(),l.current.element=t,l.current.scrollContainers=CE(t),v())},a,d]}function CE(t){const e=[];if(!t||t===document.body)return e;const{overflow:r,overflowX:n,overflowY:i}=window.getComputedStyle(t);return[r,n,i].some((t=>"auto"===t||"scroll"===t))&&e.push(t),[...e,...CE(t.parentElement)]}const IE=["x","y","top","bottom","left","right","width","height"],PE=(t,e)=>IE.every((r=>t[r]===e[r]));var kE=Object.defineProperty,OE=Object.defineProperties,UE=Object.getOwnPropertyDescriptors,LE=Object.getOwnPropertySymbols,BE=Object.prototype.hasOwnProperty,DE=Object.prototype.propertyIsEnumerable,FE=(t,e,r)=>e in t?kE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GE=(t,e)=>{for(var r in e||(e={}))BE.call(e,r)&&FE(t,r,e[r]);if(LE)for(var r of LE(e))DE.call(e,r)&&FE(t,r,e[r]);return t};function zE(t,e,r){if(!t)return;if(!0===r(t))return t;let n=e?t.return:t.child;for(;n;){const t=zE(n,e,r);if(t)return t;n=e?null:n.sibling}}function jE(t){try{return Object.defineProperties(t,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(Se){return t}}const HE=jE(n.createContext(null));class WE extends n.Component{render(){return n.createElement(HE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:VE,ReactCurrentDispatcher:qE}=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function KE(){const t=n.useContext(HE);if(null===t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=n.useId();return n.useMemo((()=>{for(const r of[null==VE?void 0:VE.current,t,null==t?void 0:t.alternate]){if(!r)continue;const t=zE(r,!1,(t=>{let r=t.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}}));if(t)return t}}),[t,e])}function JE(){const t=function(){var t,e;const r=KE(),[i]=n.useState((()=>new Map));i.clear();let o=r;for(;o;){const r=null==(t=o.type)?void 0:t._context;r&&r!==HE&&!i.has(r)&&i.set(r,null==(e=null==qE?void 0:qE.current)?void 0:e.readContext(jE(r))),o=o.return}return i}();return n.useMemo((()=>Array.from(t.keys()).reduce(((e,r)=>i=>n.createElement(e,null,n.createElement(r.Provider,((t,e)=>OE(t,UE(e)))(GE({},i),{value:t.get(r)})))),(t=>n.createElement(WE,GE({},t))))),[t])}const XE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function YE(t){const{handlePointer:e}=Z_(t);return{priority:1,enabled:!0,compute(t,e,r){e.pointer.set(t.offsetX/e.size.width*2-1,-t.offsetY/e.size.height*2+1),e.raycaster.setFromCamera(e.pointer,e.camera)},connected:void 0,handlers:Object.keys(XE).reduce(((t,r)=>({...t,[r]:e(r)})),{}),update:()=>{var e;const{events:r,internal:n}=t.getState();null!=(e=n.lastEvent)&&e.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:e=>{var r;const{set:n,events:i}=t.getState();null==i.disconnect||i.disconnect(),n((t=>({events:{...t.events,connected:e}}))),Object.entries(null!=(r=i.handlers)?r:[]).forEach((t=>{let[r,n]=t;const[i,o]=XE[r];e.addEventListener(i,n,{passive:o})}))},disconnect:()=>{const{set:e,events:r}=t.getState();var n;r.connected&&(Object.entries(null!=(n=r.handlers)?n:[]).forEach((t=>{let[e,n]=t;if(r&&r.connected instanceof HTMLElement){const[t]=XE[e];r.connected.removeEventListener(t,n)}})),e((t=>({events:{...t.events,connected:void 0}}))))}}}const QE=n.forwardRef((function(e,r){let{children:i,fallback:o,resize:s,style:a,gl:u,events:l=YE,eventSource:h,eventPrefix:c,shadows:f,linear:d,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:w,raycaster:b,camera:A,onPointerMissed:M,onCreated:_,...E}=e;n.useMemo((()=>{return e=t,void Object.assign(__,e);var e}),[]);const x=JE(),[S,N]=RE({scroll:!0,debounce:{scroll:50,resize:0},...s}),T=n.useRef(null),R=n.useRef(null);n.useImperativeHandle(r,(()=>T.current));const C=C_(M),[I,P]=n.useState(!1),[k,O]=n.useState(!1);if(I)throw I;if(k)throw k;const U=n.useRef(null);R_((()=>{const t=T.current;N.width>0&&N.height>0&&t&&(U.current||(U.current=_E(t)),U.current.configure({gl:u,events:l,shadows:f,linear:d,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:w,raycaster:b,camera:A,size:N,onPointerMissed:function(){return null==C.current?void 0:C.current(...arguments)},onCreated:t=>{var e;null==t.events.connect||t.events.connect(h?(e=h)&&e.hasOwnProperty("current")?h.current:h:R.current),c&&t.setEvents({compute:(t,e)=>{const r=t[c+"X"],n=t[c+"Y"];e.pointer.set(r/e.size.width*2-1,-n/e.size.height*2+1),e.raycaster.setFromCamera(e.pointer,e.camera)}}),null==_||_(t)}}),U.current.render(n.createElement(x,null,n.createElement(P_,{set:O},n.createElement(n.Suspense,{fallback:n.createElement(I_,{set:P})},i)))))})),n.useEffect((()=>{const t=T.current;if(t)return()=>xE(t)}),[]);const L=h?"none":"auto";return n.createElement("div",SE({ref:R,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...a}},E),n.createElement("div",{ref:S,style:{width:"100%",height:"100%"}},n.createElement("canvas",{ref:T,style:{display:"block"}},o)))})),ZE=n.forwardRef((function(t,e){return n.createElement(WE,null,n.createElement(QE,SE({},t,{ref:e})))}));function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(this,arguments)}var tx=Object.defineProperty,ex=(t,e,r)=>(((t,e,r)=>{e in t?tx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!==typeof e?e+"":e,r),r);const rx=new Tf,nx=new Cp,ix=Math.cos(Math.PI/180*70),ox=(t,e)=>(t%e+e)%e;class sx extends oc{constructor(t,e){super(),ex(this,"object"),ex(this,"domElement"),ex(this,"enabled",!0),ex(this,"target",new Zc),ex(this,"minDistance",0),ex(this,"maxDistance",1/0),ex(this,"minZoom",0),ex(this,"maxZoom",1/0),ex(this,"minPolarAngle",0),ex(this,"maxPolarAngle",Math.PI),ex(this,"minAzimuthAngle",-1/0),ex(this,"maxAzimuthAngle",1/0),ex(this,"enableDamping",!1),ex(this,"dampingFactor",.05),ex(this,"enableZoom",!0),ex(this,"zoomSpeed",1),ex(this,"enableRotate",!0),ex(this,"rotateSpeed",1),ex(this,"enablePan",!0),ex(this,"panSpeed",1),ex(this,"screenSpacePanning",!0),ex(this,"keyPanSpeed",7),ex(this,"zoomToCursor",!1),ex(this,"autoRotate",!1),ex(this,"autoRotateSpeed",2),ex(this,"reverseOrbit",!1),ex(this,"reverseHorizontalOrbit",!1),ex(this,"reverseVerticalOrbit",!1),ex(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ex(this,"mouseButtons",{LEFT:Ma.ROTATE,MIDDLE:Ma.DOLLY,RIGHT:Ma.PAN}),ex(this,"touches",{ONE:_a.ROTATE,TWO:_a.DOLLY_PAN}),ex(this,"target0"),ex(this,"position0"),ex(this,"zoom0"),ex(this,"_domElementKeyEvents",null),ex(this,"getPolarAngle"),ex(this,"getAzimuthalAngle"),ex(this,"setPolarAngle"),ex(this,"setAzimuthalAngle"),ex(this,"getDistance"),ex(this,"listenToKeyEvents"),ex(this,"stopListenToKeyEvents"),ex(this,"saveState"),ex(this,"reset"),ex(this,"update"),ex(this,"connect"),ex(this,"dispose"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>l.phi,this.getAzimuthalAngle=()=>l.theta,this.setPolarAngle=t=>{let e=ox(t,2*Math.PI),n=l.phi;n<0&&(n+=2*Math.PI),e<0&&(e+=2*Math.PI);let i=Math.abs(e-n);2*Math.PI-i<i&&(e<n?e+=2*Math.PI:n+=2*Math.PI),h.phi=e-n,r.update()},this.setAzimuthalAngle=t=>{let e=ox(t,2*Math.PI),n=l.theta;n<0&&(n+=2*Math.PI),e<0&&(e+=2*Math.PI);let i=Math.abs(e-n);2*Math.PI-i<i&&(e<n?e+=2*Math.PI:n+=2*Math.PI),h.theta=e-n,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",Y),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Y),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(n),r.update(),a=s.NONE},this.update=(()=>{const e=new Zc,i=new Zc(0,1,0),o=(new Qc).setFromUnitVectors(t.up,i),d=o.clone().invert(),p=new Zc,m=new Qc,g=2*Math.PI;return function(){const v=r.object.position;o.setFromUnitVectors(t.up,i),d.copy(o).invert(),e.copy(v).sub(r.target),e.applyQuaternion(o),l.setFromVector3(e),r.autoRotate&&a===s.NONE&&T(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(l.theta+=h.theta*r.dampingFactor,l.phi+=h.phi*r.dampingFactor):(l.theta+=h.theta,l.phi+=h.phi);let y=r.minAzimuthAngle,w=r.maxAzimuthAngle;isFinite(y)&&isFinite(w)&&(y<-Math.PI?y+=g:y>Math.PI&&(y-=g),w<-Math.PI?w+=g:w>Math.PI&&(w-=g),l.theta=y<=w?Math.max(y,Math.min(w,l.theta)):l.theta>(y+w)/2?Math.max(y,l.theta):Math.min(w,l.theta)),l.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,l.phi)),l.makeSafe(),!0===r.enableDamping?r.target.addScaledVector(f,r.dampingFactor):r.target.add(f),r.zoomToCursor&&E||r.object.isOrthographicCamera?l.radius=L(l.radius):l.radius=L(l.radius*c),e.setFromSpherical(l),e.applyQuaternion(d),v.copy(r.target).add(e),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),!0===r.enableDamping?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,f.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),f.set(0,0,0));let b=!1;if(r.zoomToCursor&&E){let n=null;if(r.object instanceof Mp&&r.object.isPerspectiveCamera){const t=e.length();n=L(t*c);const i=t-n;r.object.position.addScaledVector(M,i),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const t=new Zc(_.x,_.y,0);t.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),b=!0;const i=new Zc(_.x,_.y,0);i.unproject(r.object),r.object.position.sub(i).add(t),r.object.updateMatrixWorld(),n=e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;null!==n&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(n).add(r.object.position):(rx.origin.copy(r.object.position),rx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(rx.direction))<ix?t.lookAt(r.target):(nx.setFromNormalAndCoplanarPoint(r.object.up,r.target),rx.intersectPlane(nx,r.target))))}else r.object instanceof Kp&&r.object.isOrthographicCamera&&(b=1!==c,b&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix()));return c=1,E=!1,!!(b||p.distanceToSquared(r.object.position)>u||8*(1-m.dot(r.object.quaternion))>u)&&(r.dispatchEvent(n),p.copy(r.object.position),m.copy(r.object.quaternion),b=!1,!0)}})(),this.connect=t=>{t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=t,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Q),r.domElement.addEventListener("pointerdown",V),r.domElement.addEventListener("pointercancel",J),r.domElement.addEventListener("wheel",X)},this.dispose=()=>{var t,e,n,i,o,s;null==(t=r.domElement)||t.removeEventListener("contextmenu",Q),null==(e=r.domElement)||e.removeEventListener("pointerdown",V),null==(n=r.domElement)||n.removeEventListener("pointercancel",J),null==(i=r.domElement)||i.removeEventListener("wheel",X),null==(o=r.domElement)||o.ownerDocument.removeEventListener("pointermove",q),null==(s=r.domElement)||s.ownerDocument.removeEventListener("pointerup",K),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",Y)};const r=this,n={type:"change"},i={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=s.NONE;const u=1e-6,l=new TM,h=new TM;let c=1;const f=new Zc,d=new wc,p=new wc,m=new wc,g=new wc,v=new wc,y=new wc,w=new wc,b=new wc,A=new wc,M=new Zc,_=new wc;let E=!1;const x=[],S={};function N(){return Math.pow(.95,r.zoomSpeed)}function T(t){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=t:h.theta-=t}function R(t){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=t:h.phi-=t}const C=(()=>{const t=new Zc;return function(e,r){t.setFromMatrixColumn(r,0),t.multiplyScalar(-e),f.add(t)}})(),I=(()=>{const t=new Zc;return function(e,n){!0===r.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(r.object.up,t)),t.multiplyScalar(e),f.add(t)}})(),P=(()=>{const t=new Zc;return function(e,n){const i=r.domElement;if(i&&r.object instanceof Mp&&r.object.isPerspectiveCamera){const o=r.object.position;t.copy(o).sub(r.target);let s=t.length();s*=Math.tan(r.object.fov/2*Math.PI/180),C(2*e*s/i.clientHeight,r.object.matrix),I(2*n*s/i.clientHeight,r.object.matrix)}else i&&r.object instanceof Kp&&r.object.isOrthographicCamera?(C(e*(r.object.right-r.object.left)/r.object.zoom/i.clientWidth,r.object.matrix),I(n*(r.object.top-r.object.bottom)/r.object.zoom/i.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function k(t){r.object instanceof Mp&&r.object.isPerspectiveCamera||r.object instanceof Kp&&r.object.isOrthographicCamera?c/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function O(t){r.object instanceof Mp&&r.object.isPerspectiveCamera||r.object instanceof Kp&&r.object.isOrthographicCamera?c*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function U(t){if(!r.zoomToCursor||!r.domElement)return;E=!0;const e=r.domElement.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top,o=e.width,s=e.height;_.x=n/o*2-1,_.y=-i/s*2+1,M.set(_.x,_.y,1).unproject(r.object).sub(r.object.position).normalize()}function L(t){return Math.max(r.minDistance,Math.min(r.maxDistance,t))}function B(t){d.set(t.clientX,t.clientY)}function D(t){g.set(t.clientX,t.clientY)}function F(){if(1==x.length)d.set(x[0].pageX,x[0].pageY);else{const t=.5*(x[0].pageX+x[1].pageX),e=.5*(x[0].pageY+x[1].pageY);d.set(t,e)}}function G(){if(1==x.length)g.set(x[0].pageX,x[0].pageY);else{const t=.5*(x[0].pageX+x[1].pageX),e=.5*(x[0].pageY+x[1].pageY);g.set(t,e)}}function z(){const t=x[0].pageX-x[1].pageX,e=x[0].pageY-x[1].pageY,r=Math.sqrt(t*t+e*e);w.set(0,r)}function j(t){if(1==x.length)p.set(t.pageX,t.pageY);else{const e=tt(t),r=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);p.set(r,n)}m.subVectors(p,d).multiplyScalar(r.rotateSpeed);const e=r.domElement;e&&(T(2*Math.PI*m.x/e.clientHeight),R(2*Math.PI*m.y/e.clientHeight)),d.copy(p)}function H(t){if(1==x.length)v.set(t.pageX,t.pageY);else{const e=tt(t),r=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);v.set(r,n)}y.subVectors(v,g).multiplyScalar(r.panSpeed),P(y.x,y.y),g.copy(v)}function W(t){const e=tt(t),n=t.pageX-e.x,i=t.pageY-e.y,o=Math.sqrt(n*n+i*i);b.set(0,o),A.set(0,Math.pow(b.y/w.y,r.zoomSpeed)),k(A.y),w.copy(b)}function V(t){var e,n;!1!==r.enabled&&(0===x.length&&(null==(e=r.domElement)||e.ownerDocument.addEventListener("pointermove",q),null==(n=r.domElement)||n.ownerDocument.addEventListener("pointerup",K)),function(t){x.push(t)}(t),"touch"===t.pointerType?function(t){switch($(t),x.length){case 1:switch(r.touches.ONE){case _a.ROTATE:if(!1===r.enableRotate)return;F(),a=s.TOUCH_ROTATE;break;case _a.PAN:if(!1===r.enablePan)return;G(),a=s.TOUCH_PAN;break;default:a=s.NONE}break;case 2:switch(r.touches.TWO){case _a.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&z(),r.enablePan&&G(),a=s.TOUCH_DOLLY_PAN;break;case _a.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&z(),r.enableRotate&&F(),a=s.TOUCH_DOLLY_ROTATE;break;default:a=s.NONE}break;default:a=s.NONE}a!==s.NONE&&r.dispatchEvent(i)}(t):function(t){let e;switch(t.button){case 0:e=r.mouseButtons.LEFT;break;case 1:e=r.mouseButtons.MIDDLE;break;case 2:e=r.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Ma.DOLLY:if(!1===r.enableZoom)return;!function(t){U(t),w.set(t.clientX,t.clientY)}(t),a=s.DOLLY;break;case Ma.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===r.enablePan)return;D(t),a=s.PAN}else{if(!1===r.enableRotate)return;B(t),a=s.ROTATE}break;case Ma.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===r.enableRotate)return;B(t),a=s.ROTATE}else{if(!1===r.enablePan)return;D(t),a=s.PAN}break;default:a=s.NONE}a!==s.NONE&&r.dispatchEvent(i)}(t))}function q(t){!1!==r.enabled&&("touch"===t.pointerType?function(t){switch($(t),a){case s.TOUCH_ROTATE:if(!1===r.enableRotate)return;j(t),r.update();break;case s.TOUCH_PAN:if(!1===r.enablePan)return;H(t),r.update();break;case s.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(t){r.enableZoom&&W(t),r.enablePan&&H(t)}(t),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(t){r.enableZoom&&W(t),r.enableRotate&&j(t)}(t),r.update();break;default:a=s.NONE}}(t):function(t){if(!1===r.enabled)return;switch(a){case s.ROTATE:if(!1===r.enableRotate)return;!function(t){p.set(t.clientX,t.clientY),m.subVectors(p,d).multiplyScalar(r.rotateSpeed);const e=r.domElement;e&&(T(2*Math.PI*m.x/e.clientHeight),R(2*Math.PI*m.y/e.clientHeight)),d.copy(p),r.update()}(t);break;case s.DOLLY:if(!1===r.enableZoom)return;!function(t){b.set(t.clientX,t.clientY),A.subVectors(b,w),A.y>0?k(N()):A.y<0&&O(N()),w.copy(b),r.update()}(t);break;case s.PAN:if(!1===r.enablePan)return;!function(t){v.set(t.clientX,t.clientY),y.subVectors(v,g).multiplyScalar(r.panSpeed),P(y.x,y.y),g.copy(v),r.update()}(t)}}(t))}function K(t){var e,n,i;Z(t),0===x.length&&(null==(e=r.domElement)||e.releasePointerCapture(t.pointerId),null==(n=r.domElement)||n.ownerDocument.removeEventListener("pointermove",q),null==(i=r.domElement)||i.ownerDocument.removeEventListener("pointerup",K)),r.dispatchEvent(o),a=s.NONE}function J(t){Z(t)}function X(t){!1===r.enabled||!1===r.enableZoom||a!==s.NONE&&a!==s.ROTATE||(t.preventDefault(),r.dispatchEvent(i),function(t){U(t),t.deltaY<0?O(N()):t.deltaY>0&&k(N()),r.update()}(t),r.dispatchEvent(o))}function Y(t){!1!==r.enabled&&!1!==r.enablePan&&function(t){let e=!1;switch(t.code){case r.keys.UP:P(0,r.keyPanSpeed),e=!0;break;case r.keys.BOTTOM:P(0,-r.keyPanSpeed),e=!0;break;case r.keys.LEFT:P(r.keyPanSpeed,0),e=!0;break;case r.keys.RIGHT:P(-r.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),r.update())}(t)}function Q(t){!1!==r.enabled&&t.preventDefault()}function Z(t){delete S[t.pointerId];for(let e=0;e<x.length;e++)if(x[e].pointerId==t.pointerId)return void x.splice(e,1)}function $(t){let e=S[t.pointerId];void 0===e&&(e=new wc,S[t.pointerId]=e),e.set(t.pageX,t.pageY)}function tt(t){const e=t.pointerId===x[0].pointerId?x[1]:x[0];return S[e.pointerId]}void 0!==e&&this.connect(e),this.update()}}const ax=n.forwardRef(((t,e)=>{let{makeDefault:r,camera:i,regress:o,domElement:s,enableDamping:a=!0,keyEvents:u=!1,onChange:l,onStart:h,onEnd:c,...f}=t;const d=fE((t=>t.invalidate)),p=fE((t=>t.camera)),m=fE((t=>t.gl)),g=fE((t=>t.events)),v=fE((t=>t.setEvents)),y=fE((t=>t.set)),w=fE((t=>t.get)),b=fE((t=>t.performance)),A=i||p,M=s||g.connected||m.domElement,_=n.useMemo((()=>new sx(A)),[A]);return dE((()=>{_.enabled&&_.update()}),-1),n.useEffect((()=>(u&&_.connect(!0===u?M:u),_.connect(M),()=>{_.dispose()})),[u,M,o,_,d]),n.useEffect((()=>{const t=t=>{d(),o&&b.regress(),l&&l(t)},e=t=>{h&&h(t)},r=t=>{c&&c(t)};return _.addEventListener("change",t),_.addEventListener("start",e),_.addEventListener("end",r),()=>{_.removeEventListener("start",e),_.removeEventListener("end",r),_.removeEventListener("change",t)}}),[l,h,c,_,d,v]),n.useEffect((()=>{if(r){const t=w().controls;return y({controls:_}),()=>y({controls:t})}}),[r,_]),n.createElement("primitive",$E({ref:e,object:_,enableDamping:a},f))})),ux=new WeakMap;class lx extends nA{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,r,n){const i=new sA(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,(t=>{const r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,r).then(e).catch(n)}),r,n)}decodeDracoFile(t,e,r,n){const i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(t,i).then(e)}decodeGeometry(t,e){for(const a in e.attributeTypes){const t=e.attributeTypes[a];void 0!==t.BYTES_PER_ELEMENT&&(e.attributeTypes[a]=t.name)}const r=JSON.stringify(e);if(ux.has(t)){const e=ux.get(t);if(e.key===r)return e.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const i=this.workerNextTaskID++,o=t.byteLength,s=this._getWorker(i,o).then((r=>(n=r,new Promise(((r,o)=>{n._callbacks[i]={resolve:r,reject:o},n.postMessage({type:"decode",id:i,taskConfig:e,buffer:t},[t])}))))).then((t=>this._createGeometry(t.geometry)));return s.catch((()=>!0)).then((()=>{n&&i&&this._releaseTask(n,i)})),ux.set(t,{key:r,promise:s}),s}_createGeometry(t){const e=new qd;t.index&&e.setIndex(new Td(t.index.array,1));for(let r=0;r<t.attributes.length;r++){const n=t.attributes[r],i=n.name,o=n.array,s=n.itemSize;e.setAttribute(i,new Td(o,s))}return e}_loadLibrary(t,e){const r=new sA(this.manager);return r.setPath(this.decoderPath),r.setResponseType(e),r.setWithCredentials(this.withCredentials),new Promise(((e,n)=>{r.load(t,e,void 0,n)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then((e=>{const r=e[0];t||(this.decoderConfig.wasmBinary=e[1]);const n=hx.toString(),i=["/* draco decoder */",r,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(t,e){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(e){const r=e.data;switch(r.type){case"decode":t._callbacks[r.id].resolve(r);break;case"error":t._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort((function(t,e){return t._taskLoad>e._taskLoad?-1:1}));const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[t]=e,r._taskLoad+=e,r}))}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map((t=>t._taskLoad)))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function hx(){let t,e;function r(t,e,r,n,i,o){const s=o.num_components(),a=r.num_points()*s,u=a*i.BYTES_PER_ELEMENT,l=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,i),h=t._malloc(u);e.GetAttributeDataArrayForAllPoints(r,o,l,u,h);const c=new i(t.HEAPF32.buffer,h,a).slice();return t._free(h),{name:n,array:c,itemSize:s}}onmessage=function(n){const i=n.data;switch(i.type){case"init":t=i.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":const n=i.buffer,o=i.taskConfig;e.then((t=>{const e=t.draco,s=new e.Decoder,a=new e.DecoderBuffer;a.Init(new Int8Array(n),n.byteLength);try{const t=function(t,e,n,i){const o=i.attributeIDs,s=i.attributeTypes;let a,u;const l=e.GetEncodedGeometryType(n);if(l===t.TRIANGULAR_MESH)a=new t.Mesh,u=e.DecodeBufferToMesh(n,a);else{if(l!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new t.PointCloud,u=e.DecodeBufferToPointCloud(n,a)}if(!u.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+u.error_msg());const h={index:null,attributes:[]};for(const c in o){const n=self[s[c]];let u,l;if(i.useUniqueIDs)l=o[c],u=e.GetAttributeByUniqueId(a,l);else{if(l=e.GetAttributeId(a,t[o[c]]),-1===l)continue;u=e.GetAttribute(a,l)}h.attributes.push(r(t,e,a,c,n,u))}l===t.TRIANGULAR_MESH&&(h.index=function(t,e,r){const n=r.num_faces(),i=3*n,o=4*i,s=t._malloc(o);e.GetTrianglesUInt32Array(r,o,s);const a=new Uint32Array(t.HEAPF32.buffer,s,i).slice();return t._free(s),{array:a,itemSize:1}}(t,e,a));return t.destroy(a),h}(e,s,a,o),n=t.attributes.map((t=>t.array.buffer));t.index&&n.push(t.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:t},n)}catch(u){console.error(u),self.postMessage({type:"error",id:i.id,error:u.message})}finally{e.destroy(a),e.destroy(s)}}))}}}let cx;const fx=()=>{if(cx)return cx;const t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),e=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};let r,n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(t)&&(n="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");const i=WebAssembly.instantiate(function(t){const r=new Uint8Array(t.length);for(let e=0;e<t.length;++e){const n=t.charCodeAt(e);r[e]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let n=0;for(let i=0;i<t.length;++i)r[n++]=r[i]<60?e[r[i]]:64*(r[i]-60)+r[++i];return r.buffer.slice(0,n)}(n),{}).then((t=>{r=t.instance,r.exports.__wasm_call_ctors()}));function o(t,e,n,i,o,s){const a=r.exports.sbrk,u=n+3&-4,l=a(u*i),h=a(o.length),c=new Uint8Array(r.exports.memory.buffer);c.set(o,h);const f=t(l,n,i,h,o.length);if(0===f&&s&&s(l,u,i),e.set(c.subarray(l,l+n*i)),a(l-a(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}const s={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},a={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return cx={ready:i,supported:!0,decodeVertexBuffer(t,e,n,i,a){o(r.exports.meshopt_decodeVertexBuffer,t,e,n,i,r.exports[s[a]])},decodeIndexBuffer(t,e,n,i){o(r.exports.meshopt_decodeIndexBuffer,t,e,n,i)},decodeIndexSequence(t,e,n,i){o(r.exports.meshopt_decodeIndexSequence,t,e,n,i)},decodeGltfBuffer(t,e,n,i,u,l){o(r.exports[a[u]],t,e,n,i,r.exports[s[l]])}},cx};function dx(t,e){if(e===nh)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===oh||e===ih){let r=t.getIndex();if(null===r){const e=[],n=t.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<n.count;t++)e.push(t);t.setIndex(e),r=t.getIndex()}const n=r.count-2,i=[];if(r)if(e===oh)for(let t=1;t<=n;t++)i.push(r.getX(0)),i.push(r.getX(t)),i.push(r.getX(t+1));else for(let t=0;t<n;t++)t%2===0?(i.push(r.getX(t)),i.push(r.getX(t+1)),i.push(r.getX(t+2))):(i.push(r.getX(t+2)),i.push(r.getX(t+1)),i.push(r.getX(t)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const px=parseInt(Aa.replace(/\D+/g,""));class mx extends nA{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new Ax(t)})),this.register((function(t){return new Rx(t)})),this.register((function(t){return new Cx(t)})),this.register((function(t){return new Ix(t)})),this.register((function(t){return new _x(t)})),this.register((function(t){return new Ex(t)})),this.register((function(t){return new xx(t)})),this.register((function(t){return new Sx(t)})),this.register((function(t){return new bx(t)})),this.register((function(t){return new Nx(t)})),this.register((function(t){return new Mx(t)})),this.register((function(t){return new Tx(t)})),this.register((function(t){return new yx(t)})),this.register((function(t){return new Px(t)})),this.register((function(t){return new kx(t)}))}load(t,e,r,n){const i=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:kA.extractUrlBase(t),this.manager.itemStart(t);const s=function(e){n?n(e):console.error(e),i.manager.itemError(t),i.manager.itemEnd(t)},a=new sA(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(r){try{i.parse(r,o,(function(r){e(r),i.manager.itemEnd(t)}),s)}catch(n){s(n)}}),r,s)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,r,n){let i;const o={},s={};if("string"===typeof t)i=JSON.parse(t);else if(t instanceof ArrayBuffer){if(kA.decodeText(new Uint8Array(t.slice(0,4)))===Ox){try{o[vx.KHR_BINARY_GLTF]=new Bx(t)}catch(u){return void(n&&n(u))}i=JSON.parse(o[vx.KHR_BINARY_GLTF].content)}else i=JSON.parse(kA.decodeText(new Uint8Array(t)))}else i=t;if(void 0===i.asset||i.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const a=new uS(i,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});a.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const t=this.pluginCallbacks[l](a);s[t.name]=t,o[t.name]=!0}if(i.extensionsUsed)for(let l=0;l<i.extensionsUsed.length;++l){const t=i.extensionsUsed[l],e=i.extensionsRequired||[];switch(t){case vx.KHR_MATERIALS_UNLIT:o[t]=new wx;break;case vx.KHR_DRACO_MESH_COMPRESSION:o[t]=new Dx(i,this.dracoLoader);break;case vx.KHR_TEXTURE_TRANSFORM:o[t]=new Fx;break;case vx.KHR_MESH_QUANTIZATION:o[t]=new Gx;break;default:e.indexOf(t)>=0&&void 0===s[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}a.setExtensions(o),a.setPlugins(s),a.parse(r,n)}parseAsync(t,e){const r=this;return new Promise((function(n,i){r.parse(t,e,n,i)}))}}function gx(){let t={};return{get:function(e){return t[e]},add:function(e,r){t[e]=r},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const vx={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class yx{constructor(t){this.parser=t,this.name=vx.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let r=0,n=e.length;r<n;r++){const n=e[r];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&t._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(t){const e=this.parser,r="light:"+t;let n=e.cache.get(r);if(n)return n;const i=e.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[t];let s;const a=new gd(16777215);void 0!==o.color&&a.fromArray(o.color);const u=void 0!==o.range?o.range:0;switch(o.type){case"directional":s=new NA(a),s.target.position.set(0,0,-1),s.add(s.target);break;case"point":s=new xA(a),s.distance=u;break;case"spot":s=new bA(a),s.distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,s.angle=o.spot.outerConeAngle,s.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,s.target.position.set(0,0,-1),s.add(s.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return s.position.set(0,0,0),s.decay=2,rS(s,o),void 0!==o.intensity&&(s.intensity=o.intensity),s.name=e.createUniqueName(o.name||"light_"+t),n=Promise.resolve(s),e.cache.add(r,n),n}getDependency(t,e){if("light"===t)return this._loadLight(e)}createNodeAttachment(t){const e=this,r=this.parser,n=r.json.nodes[t],i=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(t){return r._getNodeRef(e.cache,i,t)}))}}class wx{constructor(){this.name=vx.KHR_MATERIALS_UNLIT}getMaterialType(){return bd}extendParams(t,e,r){const n=[];t.color=new gd(1,1,1),t.opacity=1;const i=e.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const e=i.baseColorFactor;t.color.fromArray(e),t.opacity=e[3]}void 0!==i.baseColorTexture&&n.push(r.assignTexture(t,"map",i.baseColorTexture,3001))}return Promise.all(n)}}class bx{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name].emissiveStrength;return void 0!==n&&(e.emissiveIntensity=n),Promise.resolve()}}class Ax{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(r.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(r.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(r.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const t=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new wc(t,t)}return Promise.all(i)}}class Mx{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return void 0!==o.iridescenceFactor&&(e.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&i.push(r.assignTexture(e,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(e.iridescenceIOR=o.iridescenceIor),void 0===e.iridescenceThicknessRange&&(e.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(e.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(e.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&i.push(r.assignTexture(e,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class _x{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_SHEEN}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[];e.sheenColor=new gd(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=n.extensions[this.name];return void 0!==o.sheenColorFactor&&e.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(e.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&i.push(r.assignTexture(e,"sheenColorMap",o.sheenColorTexture,3001)),void 0!==o.sheenRoughnessTexture&&i.push(r.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class Ex{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(r.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class xx{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];e.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&i.push(r.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return e.attenuationColor=new gd(s[0],s[1],s[2]),Promise.all(i)}}class Sx{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name];return e.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class Nx{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];e.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&i.push(r.assignTexture(e,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return e.specularColor=new gd(s[0],s[1],s[2]),void 0!==o.specularColorTexture&&i.push(r.assignTexture(e,"specularColorMap",o.specularColorTexture,3001)),Promise.all(i)}}class Tx{constructor(t){this.parser=t,this.name=vx.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Nb:null}extendMaterialParams(t,e){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return void 0!==o.anisotropyStrength&&(e.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(e.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&i.push(r.assignTexture(e,"anisotropyMap",o.anisotropyTexture)),Promise.all(i)}}class Rx{constructor(t){this.parser=t,this.name=vx.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,r=e.json,n=r.textures[t];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,i.source,o)}}class Cx{constructor(t){this.parser=t,this.name=vx.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,r=this.parser,n=r.json,i=n.textures[t];if(!i.extensions||!i.extensions[e])return null;const o=i.extensions[e],s=n.images[o.source];let a=r.textureLoader;if(s.uri){const t=r.options.manager.getHandler(s.uri);null!==t&&(a=t)}return this.detectSupport().then((function(i){if(i)return r.loadTextureImage(t,o.source,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class Ix{constructor(t){this.parser=t,this.name=vx.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,r=this.parser,n=r.json,i=n.textures[t];if(!i.extensions||!i.extensions[e])return null;const o=i.extensions[e],s=n.images[o.source];let a=r.textureLoader;if(s.uri){const t=r.options.manager.getHandler(s.uri);null!==t&&(a=t)}return this.detectSupport().then((function(i){if(i)return r.loadTextureImage(t,o.source,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class Px{constructor(t){this.name=vx.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,r=e.bufferViews[t];if(r.extensions&&r.extensions[this.name]){const t=r.extensions[this.name],n=this.parser.getDependency("buffer",t.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then((function(e){const r=t.byteOffset||0,n=t.byteLength||0,o=t.count,s=t.byteStride,a=new Uint8Array(e,r,n);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,s,a,t.mode,t.filter).then((function(t){return t.buffer})):i.ready.then((function(){const e=new ArrayBuffer(o*s);return i.decodeGltfBuffer(new Uint8Array(e),o,s,a,t.mode,t.filter),e}))}))}return null}}class kx{constructor(t){this.name=vx.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,r=e.nodes[t];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;const n=e.meshes[r.mesh];for(const a of n.primitives)if(a.mode!==Wx.TRIANGLES&&a.mode!==Wx.TRIANGLE_STRIP&&a.mode!==Wx.TRIANGLE_FAN&&void 0!==a.mode)return null;const i=r.extensions[this.name].attributes,o=[],s={};for(const a in i)o.push(this.parser.getDependency("accessor",i[a]).then((t=>(s[a]=t,s[a]))));return o.length<1?null:(o.push(this.parser.createNodeMesh(t)),Promise.all(o).then((t=>{const e=t.pop(),r=e.isGroup?e.children:[e],n=t[0].count,i=[];for(const o of r){const t=new Rf,e=new Zc,r=new Qc,a=new Zc(1,1,1),u=new dy(o.geometry,o.material,n);for(let i=0;i<n;i++)s.TRANSLATION&&e.fromBufferAttribute(s.TRANSLATION,i),s.ROTATION&&r.fromBufferAttribute(s.ROTATION,i),s.SCALE&&a.fromBufferAttribute(s.SCALE,i),u.setMatrixAt(i,t.compose(e,r,a));for(const n in s)"TRANSLATION"!==n&&"ROTATION"!==n&&"SCALE"!==n&&o.geometry.setAttribute(n,s[n]);td.prototype.copy.call(u,o),this.parser.assignFinalMaterial(u),i.push(u)}return e.isGroup?(e.clear(),e.add(...i),e):i[0]})))}}const Ox="glTF",Ux=1313821514,Lx=5130562;class Bx{constructor(t){this.name=vx.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:kA.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==Ox)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,n=new DataView(t,12);let i=0;for(;i<r;){const e=n.getUint32(i,!0);i+=4;const r=n.getUint32(i,!0);if(i+=4,r===Ux){const r=new Uint8Array(t,12+i,e);this.content=kA.decodeText(r)}else if(r===Lx){const r=12+i;this.body=t.slice(r,r+e)}i+=e}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Dx{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vx.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const r=this.json,n=this.dracoLoader,i=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,s={},a={},u={};for(const l in o){const t=Xx[l]||l.toLowerCase();s[t]=o[l]}for(const l in t.attributes){const e=Xx[l]||l.toLowerCase();if(void 0!==o[l]){const n=r.accessors[t.attributes[l]],i=Vx[n.componentType];u[e]=i.name,a[e]=!0===n.normalized}}return e.getDependency("bufferView",i).then((function(t){return new Promise((function(e){n.decodeDracoFile(t,(function(t){for(const e in t.attributes){const r=t.attributes[e],n=a[e];void 0!==n&&(r.normalized=n)}e(t)}),s,u)}))}))}}class Fx{constructor(){this.name=vx.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&e.texCoord!==t.channel||void 0!==e.offset||void 0!==e.rotation||void 0!==e.scale?(t=t.clone(),void 0!==e.texCoord&&(t.channel=e.texCoord),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0,t):t}}class Gx{constructor(){this.name=vx.KHR_MESH_QUANTIZATION}}class zx extends Gb{constructor(t,e,r,n){super(t,e,r,n)}copySampleValue_(t){const e=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=t*n*3+n;for(let o=0;o!==n;o++)e[o]=r[i+o];return e}interpolate_(t,e,r,n){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,u=3*s,l=n-e,h=(r-e)/l,c=h*h,f=c*h,d=t*u,p=d-u,m=-2*f+3*c,g=f-c,v=1-m,y=g-c+h;for(let w=0;w!==s;w++){const t=o[p+w+s],e=o[p+w+a]*l,r=o[d+w+s],n=o[d+w]*l;i[w]=v*t+y*e+m*r+g*n}return i}}const jx=new Qc;class Hx extends zx{interpolate_(t,e,r,n){const i=super.interpolate_(t,e,r,n);return jx.fromArray(i).normalize().toArray(i),i}}const Wx={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Vx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},qx={9728:Lu,9729:zu,9984:Bu,9985:ju,9986:Fu,9987:Wu},Kx={33071:Ou,33648:Uu,10497:ku},Jx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Xx={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...px>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Yx={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Qx={CUBICSPLINE:void 0,LINEAR:Yl,STEP:Xl},Zx="OPAQUE",$x="MASK",tS="BLEND";function eS(t,e,r){for(const n in r.extensions)void 0===t[n]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=r.extensions[n])}function rS(t,e){void 0!==e.extras&&("object"===typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function nS(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let r=0,n=e.weights.length;r<n;r++)t.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){const r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length){t.morphTargetDictionary={};for(let e=0,n=r.length;e<n;e++)t.morphTargetDictionary[r[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function iS(t){let e;const r=t.extensions&&t.extensions[vx.KHR_DRACO_MESH_COMPRESSION];if(e=r?"draco:"+r.bufferView+":"+r.indices+":"+oS(r.attributes):t.indices+":"+oS(t.attributes)+":"+t.mode,void 0!==t.targets)for(let n=0,i=t.targets.length;n<i;n++)e+=":"+oS(t.targets[n]);return e}function oS(t){let e="";const r=Object.keys(t).sort();for(let n=0,i=r.length;n<i;n++)e+=r[n]+":"+t[r[n]]+";";return e}function sS(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const aS=new Rf;class uS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new gx,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,n=!1,i=-1;"undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),n=navigator.userAgent.indexOf("Firefox")>-1,i=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||r||n&&i<98?this.textureLoader=new fA(this.options.manager):this.textureLoader=new GA(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new sA(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all(this._invokeAll((function(t){return t.beforeRoot&&t.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(e){const o={scene:e[0][n.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:n.asset,parser:r,userData:{}};eS(i,o,n),rS(o,n),Promise.all(r._invokeAll((function(t){return t.afterRoot&&t.afterRoot(o)}))).then((function(){t(o)}))})).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[];for(let n=0,i=e.length;n<i;n++){const r=e[n].joints;for(let e=0,n=r.length;e<n;e++)t[r[e]].isBone=!0}for(let n=0,i=t.length;n<i;n++){const e=t[n];void 0!==e.mesh&&(this._addNodeRef(this.meshCache,e.mesh),void 0!==e.skin&&(r[e.mesh].isSkinnedMesh=!0)),void 0!==e.camera&&this._addNodeRef(this.cameraCache,e.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,r){if(t.refs[e]<=1)return r;const n=r.clone(),i=(t,e)=>{const r=this.associations.get(t);null!=r&&this.associations.set(e,r);for(const[n,o]of t.children.entries())i(o,e.children[n])};return i(r,n),n.name+="_instance_"+t.uses[e]++,n}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let r=0;r<e.length;r++){const n=t(e[r]);if(n)return n}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const r=[];for(let n=0;n<e.length;n++){const i=t(e[n]);i&&r.push(i)}return r}getDependency(t,e){const r=t+":"+e;let n=this.cache.get(r);if(!n){switch(t){case"scene":n=this.loadScene(e);break;case"node":n=this._invokeOne((function(t){return t.loadNode&&t.loadNode(e)}));break;case"mesh":n=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":n=this.loadAccessor(e);break;case"bufferView":n=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":n=this.loadBuffer(e);break;case"material":n=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":n=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":n=this.loadSkin(e);break;case"animation":n=this._invokeOne((function(t){return t.loadAnimation&&t.loadAnimation(e)}));break;case"camera":n=this.loadCamera(e);break;default:if(n=this._invokeOne((function(r){return r!=this&&r.getDependency&&r.getDependency(t,e)})),!n)throw new Error("Unknown type: "+t)}this.cache.add(r,n)}return n}getDependencies(t){let e=this.cache.get(t);if(!e){const r=this,n=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(n.map((function(e,n){return r.getDependency(t,n)}))),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],r=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[vx.KHR_BINARY_GLTF].body);const n=this.options;return new Promise((function(t,i){r.load(kA.resolveURL(e.uri,n.path),t,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){const r=e.byteLength||0,n=e.byteOffset||0;return t.slice(n,n+r)}))}loadAccessor(t){const e=this,r=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse){const t=Jx[n.type],e=Vx[n.componentType],r=!0===n.normalized,i=new e(n.count*t);return Promise.resolve(new Td(i,t,r))}const i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(t){const i=t[0],o=Jx[n.type],s=Vx[n.componentType],a=s.BYTES_PER_ELEMENT,u=a*o,l=n.byteOffset||0,h=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,c=!0===n.normalized;let f,d;if(h&&h!==u){const t=Math.floor(l/h),r="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+t+":"+n.count;let u=e.cache.get(r);u||(f=new s(i,t*h,n.count*h/a),u=new Mv(f,h/a),e.cache.add(r,u)),d=new Ev(u,o,l%h/a,c)}else f=null===i?new s(n.count*o):new s(i,l,n.count*o),d=new Td(f,o,c);if(void 0!==n.sparse){const e=Jx.SCALAR,r=Vx[n.sparse.indices.componentType],a=n.sparse.indices.byteOffset||0,u=n.sparse.values.byteOffset||0,l=new r(t[1],a,n.sparse.count*e),h=new s(t[2],u,n.sparse.count*o);null!==i&&(d=new Td(d.array.slice(),d.itemSize,d.normalized));for(let t=0,n=l.length;t<n;t++){const e=l[t];if(d.setX(e,h[t*o]),o>=2&&d.setY(e,h[t*o+1]),o>=3&&d.setZ(e,h[t*o+2]),o>=4&&d.setW(e,h[t*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return d}))}loadTexture(t){const e=this.json,r=this.options,n=e.textures[t].source,i=e.images[n];let o=this.textureLoader;if(i.uri){const t=r.manager.getHandler(i.uri);null!==t&&(o=t)}return this.loadTextureImage(t,n,o)}loadTextureImage(t,e,r){const n=this,i=this.json,o=i.textures[t],s=i.images[e],a=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[a])return this.textureCache[a];const u=this.loadImageSource(e,r).then((function(e){e.flipY=!1,e.name=o.name||s.name||"",""===e.name&&"string"===typeof s.uri&&!1===s.uri.startsWith("data:image/")&&(e.name=s.uri);const r=(i.samplers||{})[o.sampler]||{};return e.magFilter=qx[r.magFilter]||zu,e.minFilter=qx[r.minFilter]||Wu,e.wrapS=Kx[r.wrapS]||ku,e.wrapT=Kx[r.wrapT]||ku,n.associations.set(e,{textures:t}),e})).catch((function(){return null}));return this.textureCache[a]=u,u}loadImageSource(t,e){const r=this,n=this.json,i=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then((t=>t.clone()));const o=n.images[t],s=self.URL||self.webkitURL;let a=o.uri||"",u=!1;if(void 0!==o.bufferView)a=r.getDependency("bufferView",o.bufferView).then((function(t){u=!0;const e=new Blob([t],{type:o.mimeType});return a=s.createObjectURL(e),a}));else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const l=Promise.resolve(a).then((function(t){return new Promise((function(r,n){let o=r;!0===e.isImageBitmapLoader&&(o=function(t){const e=new jc(t);e.needsUpdate=!0,r(e)}),e.load(kA.resolveURL(t,i.path),o,void 0,n)}))})).then((function(t){var e;return!0===u&&s.revokeObjectURL(a),t.userData.mimeType=o.mimeType||((e=o.uri).search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/)?"image/jpeg":e.search(/\.webp($|\?)/i)>0||0===e.search(/^data\:image\/webp/)?"image/webp":"image/png"),t})).catch((function(t){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),t}));return this.sourceCache[t]=l,l}assignTexture(t,e,r,n){const i=this;return this.getDependency("texture",r.index).then((function(o){if(!o)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((o=o.clone()).channel=r.texCoord),i.extensions[vx.KHR_TEXTURE_TRANSFORM]){const t=void 0!==r.extensions?r.extensions[vx.KHR_TEXTURE_TRANSFORM]:void 0;if(t){const e=i.associations.get(o);o=i.extensions[vx.KHR_TEXTURE_TRANSFORM].extendTexture(o,t),i.associations.set(o,e)}}return void 0!==n&&("colorSpace"in o?o.colorSpace=3001===n?"srgb":"srgb-linear":o.encoding=n),t[e]=o,o}))}assignFinalMaterial(t){const e=t.geometry;let r=t.material;const n=void 0===e.attributes.tangent,i=void 0!==e.attributes.color,o=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+r.uuid;let e=this.cache.get(t);e||(e=new jy,wd.prototype.copy.call(e,r),e.color.copy(r.color),e.map=r.map,e.sizeAttenuation=!1,this.cache.add(t,e)),r=e}else if(t.isLine){const t="LineBasicMaterial:"+r.uuid;let e=this.cache.get(t);e||(e=new Iy,wd.prototype.copy.call(e,r),e.color.copy(r.color),e.map=r.map,this.cache.add(t,e)),r=e}if(n||i||o){let t="ClonedMaterial:"+r.uuid+":";n&&(t+="derivative-tangents:"),i&&(t+="vertex-colors:"),o&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=r.clone(),i&&(e.vertexColors=!0),o&&(e.flatShading=!0),n&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(r))),r=e}t.material=r}getMaterialType(){return Sb}loadMaterial(t){const e=this,r=this.json,n=this.extensions,i=r.materials[t];let o;const s={},a=[];if((i.extensions||{})[vx.KHR_MATERIALS_UNLIT]){const t=n[vx.KHR_MATERIALS_UNLIT];o=t.getMaterialType(),a.push(t.extendParams(s,i,e))}else{const r=i.pbrMetallicRoughness||{};if(s.color=new gd(1,1,1),s.opacity=1,Array.isArray(r.baseColorFactor)){const t=r.baseColorFactor;s.color.fromArray(t),s.opacity=t[3]}void 0!==r.baseColorTexture&&a.push(e.assignTexture(s,"map",r.baseColorTexture,3001)),s.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,s.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(a.push(e.assignTexture(s,"metalnessMap",r.metallicRoughnessTexture)),a.push(e.assignTexture(s,"roughnessMap",r.metallicRoughnessTexture))),o=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),a.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,s)}))))}!0===i.doubleSided&&(s.side=Oa);const u=i.alphaMode||Zx;if(u===tS?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,u===$x&&(s.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&o!==bd&&(a.push(e.assignTexture(s,"normalMap",i.normalTexture)),s.normalScale=new wc(1,1),void 0!==i.normalTexture.scale)){const t=i.normalTexture.scale;s.normalScale.set(t,t)}return void 0!==i.occlusionTexture&&o!==bd&&(a.push(e.assignTexture(s,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(s.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&o!==bd&&(s.emissive=(new gd).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&o!==bd&&a.push(e.assignTexture(s,"emissiveMap",i.emissiveTexture,3001)),Promise.all(a).then((function(){const r=new o(s);return i.name&&(r.name=i.name),rS(r,i),e.associations.set(r,{materials:t}),i.extensions&&eS(n,r,i),r}))}createUniqueName(t){const e=mM.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,r=this.extensions,n=this.primitiveCache;function i(t){return r[vx.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(r){return lS(r,t,e)}))}const o=[];for(let s=0,a=t.length;s<a;s++){const r=t[s],a=iS(r),u=n[a];if(u)o.push(u.promise);else{let t;t=r.extensions&&r.extensions[vx.KHR_DRACO_MESH_COMPRESSION]?i(r):lS(new qd,r,e),n[a]={primitive:r,promise:t},o.push(t)}}return Promise.all(o)}loadMesh(t){const e=this,r=this.json,n=this.extensions,i=r.meshes[t],o=i.primitives,s=[];for(let u=0,l=o.length;u<l;u++){const t=void 0===o[u].material?(void 0===(a=this.cache).DefaultMaterial&&(a.DefaultMaterial=new Sb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Pa})),a.DefaultMaterial):this.getDependency("material",o[u].material);s.push(t)}var a;return s.push(e.loadGeometries(o)),Promise.all(s).then((function(r){const s=r.slice(0,r.length-1),a=r[r.length-1],u=[];for(let h=0,c=a.length;h<c;h++){const r=a[h],l=o[h];let c;const f=s[h];if(l.mode===Wx.TRIANGLES||l.mode===Wx.TRIANGLE_STRIP||l.mode===Wx.TRIANGLE_FAN||void 0===l.mode)c=!0===i.isSkinnedMesh?new $v(r,f):new hp(r,f),!0===c.isSkinnedMesh&&c.normalizeSkinWeights(),l.mode===Wx.TRIANGLE_STRIP?c.geometry=dx(c.geometry,ih):l.mode===Wx.TRIANGLE_FAN&&(c.geometry=dx(c.geometry,oh));else if(l.mode===Wx.LINES)c=new Gy(r,f);else if(l.mode===Wx.LINE_STRIP)c=new By(r,f);else if(l.mode===Wx.LINE_LOOP)c=new zy(r,f);else{if(l.mode!==Wx.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+l.mode);c=new Ky(r,f)}Object.keys(c.geometry.morphAttributes).length>0&&nS(c,i),c.name=e.createUniqueName(i.name||"mesh_"+t),rS(c,i),l.extensions&&eS(n,c,l),e.assignFinalMaterial(c),u.push(c)}for(let n=0,i=u.length;n<i;n++)e.associations.set(u[n],{meshes:t,primitives:n});if(1===u.length)return i.extensions&&eS(n,u[0],i),u[0];const l=new hv;i.extensions&&eS(n,l,i),e.associations.set(l,{meshes:t});for(let t=0,e=u.length;t<e;t++)l.add(u[t]);return l}))}loadCamera(t){let e;const r=this.json.cameras[t],n=r[r.type];if(n)return"perspective"===r.type?e=new Mp(yc.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(e=new Kp(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(e.name=this.createUniqueName(r.name)),rS(e,r),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],r=[];for(let n=0,i=e.joints.length;n<i;n++)r.push(this._loadNodeShallow(e.joints[n]));return void 0!==e.inverseBindMatrices?r.push(this.getDependency("accessor",e.inverseBindMatrices)):r.push(null),Promise.all(r).then((function(t){const r=t.pop(),n=t,i=[],o=[];for(let s=0,a=n.length;s<a;s++){const t=n[s];if(t){i.push(t);const e=new Rf;null!==r&&e.fromArray(r.array,16*s),o.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[s])}return new iy(i,o)}))}loadAnimation(t){const e=this.json.animations[t],r=e.name?e.name:"animation_"+t,n=[],i=[],o=[],s=[],a=[];for(let u=0,l=e.channels.length;u<l;u++){const t=e.channels[u],r=e.samplers[t.sampler],l=t.target,h=l.node,c=void 0!==e.parameters?e.parameters[r.input]:r.input,f=void 0!==e.parameters?e.parameters[r.output]:r.output;void 0!==l.node&&(n.push(this.getDependency("node",h)),i.push(this.getDependency("accessor",c)),o.push(this.getDependency("accessor",f)),s.push(r),a.push(l))}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(o),Promise.all(s),Promise.all(a)]).then((function(t){const e=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=[];for(let r=0,u=e.length;r<u;r++){const t=e[r],u=n[r],l=i[r],h=o[r],c=s[r];if(void 0===t)continue;let f;switch(t.updateMatrix(),Yx[c.path]){case Yx.weights:f=Kb;break;case Yx.rotation:f=Xb;break;default:f=Qb}const d=t.name?t.name:t.uuid,p=void 0!==h.interpolation?Qx[h.interpolation]:Yl,m=[];Yx[c.path]===Yx.weights?t.traverse((function(t){t.morphTargetInfluences&&m.push(t.name?t.name:t.uuid)})):m.push(d);let g=l.array;if(l.normalized){const t=sS(g.constructor),e=new Float32Array(g.length);for(let r=0,n=g.length;r<n;r++)e[r]=g[r]*t;g=e}for(let e=0,r=m.length;e<r;e++){const t=new f(m[e]+"."+Yx[c.path],u.array,g,p);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(t){return new(this instanceof Xb?Hx:zx)(this.times,this.values,this.getValueSize()/3,t)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),a.push(t)}}return new Zb(r,void 0,a)}))}createNodeMesh(t){const e=this.json,r=this,n=e.nodes[t];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then((function(t){const e=r._getNodeRef(r.meshCache,n.mesh,t);return void 0!==n.weights&&e.traverse((function(t){if(t.isMesh)for(let e=0,r=n.weights.length;e<r;e++)t.morphTargetInfluences[e]=n.weights[e]})),e}))}loadNode(t){const e=this,r=this.json.nodes[t],n=e._loadNodeShallow(t),i=[],o=r.children||[];for(let a=0,u=o.length;a<u;a++)i.push(e.getDependency("node",o[a]));const s=void 0===r.skin?Promise.resolve(null):e.getDependency("skin",r.skin);return Promise.all([n,Promise.all(i),s]).then((function(t){const e=t[0],r=t[1],n=t[2];null!==n&&e.traverse((function(t){t.isSkinnedMesh&&t.bind(n,aS)}));for(let i=0,o=r.length;i<o;i++)e.add(r[i]);return e}))}_loadNodeShallow(t){const e=this.json,r=this.extensions,n=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];const i=e.nodes[t],o=i.name?n.createUniqueName(i.name):"",s=[],a=n._invokeOne((function(e){return e.createNodeMesh&&e.createNodeMesh(t)}));return a&&s.push(a),void 0!==i.camera&&s.push(n.getDependency("camera",i.camera).then((function(t){return n._getNodeRef(n.cameraCache,i.camera,t)}))),n._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){s.push(t)})),this.nodeCache[t]=Promise.all(s).then((function(e){let s;if(s=!0===i.isBone?new ty:e.length>1?new hv:1===e.length?e[0]:new td,s!==e[0])for(let t=0,r=e.length;t<r;t++)s.add(e[t]);if(i.name&&(s.userData.name=i.name,s.name=o),rS(s,i),i.extensions&&eS(r,s,i),void 0!==i.matrix){const t=new Rf;t.fromArray(i.matrix),s.applyMatrix4(t)}else void 0!==i.translation&&s.position.fromArray(i.translation),void 0!==i.rotation&&s.quaternion.fromArray(i.rotation),void 0!==i.scale&&s.scale.fromArray(i.scale);return n.associations.has(s)||n.associations.set(s,{}),n.associations.get(s).nodes=t,s})),this.nodeCache[t]}loadScene(t){const e=this.extensions,r=this.json.scenes[t],n=this,i=new hv;r.name&&(i.name=n.createUniqueName(r.name)),rS(i,r),r.extensions&&eS(e,i,r);const o=r.nodes||[],s=[];for(let a=0,u=o.length;a<u;a++)s.push(n.getDependency("node",o[a]));return Promise.all(s).then((function(t){for(let e=0,r=t.length;e<r;e++)i.add(t[e]);return n.associations=(t=>{const e=new Map;for(const[r,i]of n.associations)(r instanceof wd||r instanceof jc)&&e.set(r,i);return t.traverse((t=>{const r=n.associations.get(t);null!=r&&e.set(t,r)})),e})(i),i}))}}function lS(t,e,r){const n=e.attributes,i=[];function o(e,n){return r.getDependency("accessor",e).then((function(e){t.setAttribute(n,e)}))}for(const s in n){const e=Xx[s]||s.toLowerCase();e in t.attributes||i.push(o(n[s],e))}if(void 0!==e.indices&&!t.index){const n=r.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));i.push(n)}return rS(t,e),function(t,e,r){const n=e.attributes,i=new ef;if(void 0===n.POSITION)return;{const t=r.json.accessors[n.POSITION],e=t.min,o=t.max;if(void 0===e||void 0===o)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new Zc(e[0],e[1],e[2]),new Zc(o[0],o[1],o[2])),t.normalized){const e=sS(Vx[t.componentType]);i.min.multiplyScalar(e),i.max.multiplyScalar(e)}}const o=e.targets;if(void 0!==o){const t=new Zc,e=new Zc;for(let n=0,i=o.length;n<i;n++){const i=o[n];if(void 0!==i.POSITION){const n=r.json.accessors[i.POSITION],o=n.min,s=n.max;if(void 0!==o&&void 0!==s){if(e.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),e.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),e.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),n.normalized){const t=sS(Vx[n.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(t)}t.boundingBox=i;const s=new bf;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=s}(t,e,r),Promise.all(i).then((function(){return void 0!==e.targets?function(t,e,r){let n=!1,i=!1,o=!1;for(let l=0,h=e.length;l<h;l++){const t=e[l];if(void 0!==t.POSITION&&(n=!0),void 0!==t.NORMAL&&(i=!0),void 0!==t.COLOR_0&&(o=!0),n&&i&&o)break}if(!n&&!i&&!o)return Promise.resolve(t);const s=[],a=[],u=[];for(let l=0,h=e.length;l<h;l++){const h=e[l];if(n){const e=void 0!==h.POSITION?r.getDependency("accessor",h.POSITION):t.attributes.position;s.push(e)}if(i){const e=void 0!==h.NORMAL?r.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(e)}if(o){const e=void 0!==h.COLOR_0?r.getDependency("accessor",h.COLOR_0):t.attributes.color;u.push(e)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(u)]).then((function(e){const r=e[0],s=e[1],a=e[2];return n&&(t.morphAttributes.position=r),i&&(t.morphAttributes.normal=s),o&&(t.morphAttributes.color=a),t.morphTargetsRelative=!0,t}))}(t,e.targets,r):t}))}let hS=null;function cS(t,e,r){return n=>{r&&r(n),t&&(hS||(hS=new lx),hS.setDecoderPath("string"===typeof t?t:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),n.setDRACOLoader(hS)),e&&n.setMeshoptDecoder("function"===typeof fx?fx():fx)}}function fS(t){return mE(mx,t,cS(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3?arguments[3]:void 0))}fS.preload=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;return mE.preload(mx,t,cS(e,r,n))},fS.clear=t=>mE.clear(mx,t);const dS=()=>{const t=fS("./Astronaut.glb"),{actions:e}=function(t,e){const r=n.useRef(),[i]=n.useState((()=>e?e instanceof td?{current:e}:e:r)),[o]=n.useState((()=>new wM(void 0)));n.useLayoutEffect((()=>{o._root=i.current}),[o,e]);const s=n.useRef({}),[a]=n.useState((()=>{const e={};return t.forEach((t=>Object.defineProperty(e,t.name,{enumerable:!0,get(){if(i.current)return s.current[t.name]||(s.current[t.name]=o.clipAction(t,i.current))},configurable:!0}))),{ref:i,clips:t,actions:e,names:t.map((t=>t.name)),mixer:o}}));return dE(((t,e)=>o.update(e))),n.useEffect((()=>{const t=i.current;return()=>{s.current={},Object.values(a.actions).forEach((e=>{t&&o.uncacheAction(e,t)}))}}),[t]),n.useEffect((()=>()=>{o.stopAllAction()}),[o]),a}(t.animations,t.scene);return(0,Xt.jsx)("primitive",{object:t.scene})},pS=()=>(0,Xt.jsxs)("div",{className:"connect-outer-container",id:"explore",children:[(0,Xt.jsx)("div",{className:"upper-round"}),(0,Xt.jsxs)("div",{className:"connect-container",children:[(0,Xt.jsxs)("div",{className:"connect-left",children:[(0,Xt.jsx)("h2",{children:"EXPLORE BUIDL & COLLAB"}),(0,Xt.jsx)("p",{children:"We are open minded game studio who belives in collaboration and that working togethre can bring out more engaging games."}),(0,Xt.jsx)("a",{href:"mailto:hello@riglabs.studio",children:(0,Xt.jsx)("button",{className:"btn",children:"Let's Connect"})})]}),(0,Xt.jsx)("div",{className:"connect-right",children:(0,Xt.jsxs)("div",{className:"model-container",children:[(0,Xt.jsx)("img",{src:Lt}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)(ZE,{camera:{position:[5,-5,10],fov:30},style:{transform:"translate(70px,50px)"},children:[(0,Xt.jsx)("ambientLight",{intensity:3}),(0,Xt.jsx)(dS,{}),(0,Xt.jsx)(ax,{autoRotate:1})]}),(0,Xt.jsx)("div",{className:"layer"})]})]})})]})]}),mS=()=>(0,Xt.jsxs)("div",{className:"features-container",children:[(0,Xt.jsx)("div",{className:"features-left",children:(0,Xt.jsxs)("div",{className:"features-left-content",children:[(0,Xt.jsxs)("div",{className:"features-item",children:[(0,Xt.jsx)("div",{className:"features-item-left",children:(0,Xt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABEISURBVHgB7d3tcRzHEYDhpksBKIRlBCYj8CkCQRH4GIHACHiOAFAEhCIgFQGRAagI7jIgM2jP6FYSBOK+u3t2e96nCoXyH1hL3A56pj9GBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYBJeCGZFVYfy7X35evPixYuNOCj/Hx/Kt+8lztvyLJ/FWHmO6/LtR4nzW3mOWwHgo7zUa936JE4e/X9EcXmW8nPfaawv5SvyDwfQj/JyLZ+8cAtxUH+uxluIsfIzv9ftohTpvQCwVV6sQb+NzOr/dok4ys/9pLHWHs+i8VFgtRAAdspLdbvjZXsnDsrPfaXxvJ5lrbHcjieA7ug2+tulbvEGcVB+7o3GcjlD0zZb+v8KgMuVl+n9gZftgzjQRGdommRLD3RFv0187LIQB5rkDE33R9FeXLb0QDf0+POrB3GiecpiWmzpBwFwuvLyrPQ01+JAk5yhaZstvcvxBJCaPl/2cohbIa7mKYu51ngLAXA8PZz42OVGHGiiM7Tycx80FmUxwLH08sVmIQ40yRmattnSuxxPAOno5UkHryRCmjM0jd/S0yc8Qf8STEp5SZbl2yCXqRHOlRh78eLF1/LtfxLrSn0i2jfl66vEqYvfzwLgebqNsNZqY61+CZEUZ2japsZxEEwGEeC01HOiQWwM4hdxvJVYNaL1OEP7RWKjwIppMcBT6pNl9ewT/qSxvPqEj+20sbQQTAIR4HR4lHzUBcMr4khxhlbONe/Kt3uJRRQI/En9yzIW4kDbTFwexJhSFtMt7gSZgPIyrMXu7O85mxLpvBRjut2S1v/2yPKO+/IsP4gx3U6hWUqcGj2/HDPraIQtcGNqU/ZySD1fNN9ijy9vi4TIQuzV8p7oLT3TYtAvPa/f91yZ+oRdJt9om7KYV4JmiADbqhHAIDE8I47o4ug6rt+rLGYjsVx6t4FJ0zbDBaqFONDzhzecy6ss5krjLQToSfnQf9A2vLoq6oIe3SfsNfnmk8ZaK33CTbAFbkC3iQ/zXt0j1SSC+bDRkhDZlG+3EqvO9hvEXvSWfhD6hJugDKYB9S97OcSlBGOMYmqCYpA4XmUxNbqMrNWjLKYBIsBg5cVaSdvFr/LqqqAs5nz1d0JCBHlpm3OyfQZxoA3O0MSBJrkRD7sRAcaqZShTOuz26kkNP0NTn0Lv+hwbiUVxNPLRdmUvhyzEgeYpi0lxIx6eRxIkiLZPfOyyKV+vnRIi0X3Ct+U5zM8gdVs6tJA4G3H4neBbbIEDaEy/77kG8UuItCiLWYi9NxJrEMpiQhABOtM2pSGnqovV67GWz4xSFnMJl98J/okI0J/lmHsvLn3CYxQYHT1RFoOjEQE60m2ZiUuJhpMfyqJ1L8aynKHpdgBD9KLk8jvBFhGgr7mVNHj990YXRw/ic65ZzzQ/SyzKYjA/2maqiAWXc67yc280VqayGMbnO2EL7ESnW/ZyiGefcHRZzF15DvMzSI3f0tMn7IQtsAOddtnLIZ4JkegOkaX6lcXM/kY8EAGa023io0YIg8xbTSKYn3c1iIy9ymLqH4mVxHpJWYwtIkB7kWPuPXllO1uUxXi0ltXx+dFbUu4TNkYEaEjnV/ZyyE8l4vgoxjRPWcxS4hclymIMEQHayla4eqM+o9pTtJaVheiufLuXWESBhlgAjWjbMfdeBvFZODYSf36WZnw+ZTF22AIbmXHZyyGefcLRZTEfy3P8JMbKs9SobClxKIsxQgRoQKcx5t5LXaDMt12NymKuNE+fMB0iBogALzRuq+rEkylNevaQpU84U1mMS6lST4gALze1MfdesozPXzidodWymI3EYlrMhYgAL5Cw7OWQt+NAAFNZWsvKc9Qk2AeJRVnMBYgAL/NJ+vLOsSxm9q1lY83kvcR67/Q76QIL4Jlm3u97Lq8+4Y3Ej89fZSmLEfqEz8YW+AyJ+n3PZb7talQWk2l8PmUxZyACPM9S+l38Kq9pMdGDUxmf3zkiwBN1mPjYZVkWrV/FWIs+4fIcL8VYo7IYEiInIgI8HQWoW7dOh+8pWsvKQlSfYyOx+GyeiAXwBGPiYymovDKp9+XbncTyzG5H8hr9lRZb4BMk7ve9hPmQzkbdNbflOczPILOM/sqKCPBI4zZpEDzl0Se8kfiymDot5pXYSzH6KysiwCNQ9nKQV1lMjQIHiZOpLMZ8gk9GRIDHyTLm3ot5NwJlMRehLOZILIAHjNHfUrDPILSW7ZRs9FcqLICHMYL8OGkmLovPYl7PNKNHV1EWcwAL4B5j2ctCcAyvPuF7aZMQ8chAt9jSR549zg5JkD0oezlLlj7hLGUx9AnvQQS4Q/Ix9568+oRbRIELsZdi9FcWRIDPoN/3YuaDU5OVxbToEzYvWM+ABfAZDW75ysZr4vJC4ofQml8On2n019yxBX5i7AZYCi7hmRC5l1g31DjmRQT4BIkPU+a3lo1/oB4k1mqc7mIqy+ivOSMCfKTTMfeezLsRxgW1RUJkEHstRn9RG/gIEeCIfl83Wc7Q7spzmA82aHDeTFnMI0SAf2Pai4+bJK1ly0R9wkSBIxZA+Sv6o1bKxyB+rWUbiZXlRrxrEiJbLIBb/EX05XWGlmXi8i/C+Pwmuj8DHBMfDDzw51VUnKK1rDzHVfn2QWKZty3ODREgfwmjLBxbyyJ53YWSYvTX3HwnHWPMfbhaFvNaDNUztPJ7rEXFP0qc38VHTYgsJM4g28U8OqE0Gd1ugSl7aca8TziTRuPzuy2L6XkBpN+3DerQ9shU4zgHXZ4BMua+KerQ9mg0+surxnHyuowAyy+79pK+ErTUfQZynwY96V1Oi+kuAhzLXlj82iMK3C9LjeOkdRcBMu1lUpYl6vhV8CzG5/vrKgJkzP3k3PZeh3ZAihrHKetmARwTH2y7pqW7F+4UDfuEB+lEN1tgyl4mq263XnNfxfMYn++riwiQMfeTVl9serF3aDT6q5vx+b1sgTlnmraNYJ8WSYkv0oGetsB10saVYIq4snGHRi2b3XSG9JQFrg3ztF9Nzy2L3141cTdIrG6GI3SzADbKqGG/jWyHgeIZjVo2Vz39QeqqEHrMqNU2uEEwBRRC79Hg2Ka7azO7KoQeM2pdTr2YoA2L325jy2b0mfVKOtPrMIToFiN861VZAL0Gi85eg5bNLi9N73UkPlFgW3csfrs1atnsbhJM1eUCSEKkuW5HsB8yJj6ip7Lc9ZqJ7/lSpOgLqbHVVZbxDNFlLy06TSaj2wWwUYtR7+o5E//mOzQqe+m6DpN7gUmIRDIve2mwZfx9vMLSXINJ5V0mPh5jAdw2fX8SePtcXjbTKzGrBlN+vJ5jKfFDIbqvw+z+YvTxXoo7gbefxNi4aCwlllfyLHpW5UfqMIkA/9Bo5lpPXJrrs9TKjWUv0QsgAyiECPAPja4i7MVGHJJNY/Q3SCzzWrlGk8q7LXt5igVwNGYnNwJr5lnGZItG9HNshOqHv7AFfoSEiDmvLWN04sNlbP84qfxBYjGA4hEiwEfGhMi9wMpKjCWrlfsgsRhA8QQL4LfqYT0dIpe7c3rZbiSWS/F2ozPMleAfWACfoE/YjNeiMfsRUQ3PMIn+nmABfF6dUrwRnGuVJGFw77RoLIUx95PAAvgM+oQvsilf5otGoxFRHrWLg8Qv5Ny7sgML4A7lA3MnJETOsXIqe8kyIqpF2Qv3ruxAGcwelMWcLEvZy6Z8/eCwkNfzy+jML2Uve7AAHlA+tDXreC04hvmY+zH6W0us6/Ic5lETY+6nhwXwAPqEj+bV75tiRFSjaS/cu3IAZ4AHkBA5isu/0bhoRC5+1UqMNSx7YfE7gAjwSA0ikTlZORULR28Z64goj7Fd0WeYFdNejkAEeLy3gud4dUqsJL7sxfx33Kh1j3tXjsQCeKSxT9hlFPrMrcRYsmkvKVr3smIBPE2NEOgT/ptXp0SKEVFZWvcy4wzwROVDXV/OlaB66VT0HF324lIrR9nL9BEBno4+4S2vLWN04fnGafFbSYKJ1dmxAJ5oLIsxr3ebmY3kGXNvXuSerHUvNbbAZ+r8PmGP+31roXktNRokjlfxdoqJ1T0gAjxfr1Gg11ThGokNEssjih0kz8Tq9FgAz9Tx4FSvLWN05terVq7FmHvKXs7EAniZ+sHrqSymbhl/E3styl48Eh9LSdC61xPOAC9UPvQ1Iooudm3Fo+xlIfGZ3yxlLy6tez0hArxQ+QDWbfC95Oe1ZYyekJKp7IX2zAuxANrIfgazEYepwo3KXsw7M5K17nWFBdDA2Cd8J3mtxvpHM8lGRKVo3esRZ4BGEg9O9RoQWo8OfpZYHmeYNenxILEYc2+ECNDIGCFlLIsxb68ao7/oxS9T2QuLnxEWQENjPdZG8khzM5rTzMKlxJ9hrgSYqlrWoTl80W2kZv3vs9R45n259d+mfK01VnTGPD0iQGNjQuRe5u82UfTnsWVcSoLWvd6RBHGg28ipHozPNSHilfhoUTSeZWahy70rvSMCdJCgT3glxrRN4iPNGaY4tO4BbsoL/32DMyILLlnN8nPfayyvM8wrjRc9W7AbbIEdaZvLsC/FlnEPZcx9KmyBHZUP7p3MKyHCzWh7aJLWPSCMzqcsZq2Uvex7DspegHOUD/KNTp/LOZPGLxouo7U0/gyzGgSYO90mRL7odLmcz5Wfu9J4gxjTbfQXLTrT3CXOAAOMfcJTruHiZrT9UpxhAk2VReFBp8flnEnjt4xr5QwTJ6IMJpC2Gf9+SJayl+vyHB5DW6PLXj6X53gtCMEWONDYJ/xRpiPTiCiPxW8l8WUv3PERiAUwXr3HYQo3yW3Eb8z97G9G01xnmMB0lJfrnbaXpeyFM0xgTrR9nzBlL/ufg7KXTpAEaUTbJkSyJD7qlvGNGCvPUkeZRW7j6fdthDPARhoOTs00Isqr33f2Z5jA5DXYaq3VZ8v4SuNlOcOMzpjjESLAhhoMTr1LVPZiPiBU25S9vBWgVxrXJ+yV+GjRKfGjGNM2iQ+mvQDlRbhWf4yI2v8s7zXWWil7AbbKy/BJ/XgtGlnKXtKcYQKzpL6DUwcxpolq5TQ+io0uF8IOJEEmYiyLuRN7ae73FYeb0bTNmHvz8WPA7Kl9QmSt3Iy27zkYcw9Midr2CWeplaN1D+iF2iwwmcpe/i3GlH5fYJrUJiHyHzGmlL1cYq1Ef8Bx9LKyGK9F41bjDWJMGXMPTJtuo61zEyKDGFPKXi5B2ctEUQYzURf0Ca+ylL143IymbcpergTAafT0wamZEh+UvQC909MWH8pe9j/He403CIDz6XEJkQdxoDGDGp4axJhS9gLMkx5XFjOIMc1V9vJBY5H4AKyUF+pmz8uWpVauZr0HMaaUvQDzprv7hNfKlvHQs6w1lstxBNA1ff487mdxoL7zCZ9Dvy+A/crL9aD+i0amspeI6wYeo+wF8KL/TIhkKXtxuR9Z6ffFAd8JZqUOTi0vWe0Q+epxM9roo8TdjftV/G5G+11i717+6NSFAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgNz+D9vQBUZdWaAwAAAAAElFTkSuQmCC"})}),(0,Xt.jsxs)("div",{className:"features-item-right",children:[(0,Xt.jsx)("h2",{children:"WEB3 GAME DEV"}),(0,Xt.jsx)("p",{children:"Riglabs pioneers Web3 gaming, blending blockchain tech with captivating narratives for immersive experiences. Our commitment to innovation pushes boundaries, redefining player interaction in decentralized entertainment."}),(0,Xt.jsx)("button",{className:"btn-secondary",children:"Learn More"})]})]}),(0,Xt.jsxs)("div",{className:"features-item",children:[(0,Xt.jsx)("div",{className:"features-item-left",children:(0,Xt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA0GSURBVHgB7d2NcRxFGgbgzxcBIexFAI4AOYKDCCxHgInAcgQ2EUhEYC4CryOwL4KdiwAugr5uz6hYY/Qzuzs73TPPU9UlVVEFMp599fV8/RMBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsDpPAs4kpbTJXy7y+DaP8v03e//4jzy6PD7k8enJkyddALQsh943eVzlsUvjvM/j+RCaAO3IwXUxhNgpXAtCoHo5qL47YfAJQqB+qZ/qvk3T+z2PqwCoQQ6kl0MwndMuj38FwBxyAG3SdNPdx7pOpsXAOaV5qr677PJ4HgBTSnVUfXe5TqpBYAqprqrvLrukGgROJdVd9d3lTR7fBNzDVjjulUPkh/zlOr7cttaKLo9nttVxl38E/I00rOvL376LNsOv2OSxS9YNcgcVIF/JgXERfdW3ieX4lMePqkH2qQD5Qg6/l/nL+1hW+BXf5fE+aZCwRwXIZ6lfPlKqvotYvps8XqsGEYDcVn2vot13fYfoop8SfwpWyxR4xYZGx03+9k2sK/yKTR4fNUjWTQW4UgttdByqC8tlVkkFuELD8pYlNjoOtYm+GnwZrIoKcEWGRkdZ1/ddcJeb0CBZDRXgSgzVzccQfg+5jH65zEWweCrAhRv2w5Z3fT8EY5VK8CpYLAG4YBodJ9GFBslimQIv0N4+Xo2O422i30+sQbJAKsCFyR/U8o6vVH3e9Z3eTWiQLIoKcEH29vEKv2lchv3Ei6ICXICV7eOtxdtcCf4cNE0ANq7xA0tb14UGSdNMgRu1kANLW7cJB642TQXYoKHRUYJvE9Rim8cL1WBbVICN2dvRsQlqchEaJM1RATZCo6Mp5dVEWS7zR1A1AdiAHH6Xsc4z+1rWhQZJ9UyBK7bX6NDlbc8mNEiqpwKslH28i+JGukqpACtkH+/ilK79Rw2S+qgAK6LRsQo3YT9xNQRgJVZ6M9taddGvGdwGsxKAM3Ng6ao5cHVmAnBGGh2E5TKz0gSZiUYHg024kW42KsAzczMb97gJDZKzUgGekZvZeMBluJHurFSAZ6DRwQE0SM5AAE7M0VUcoQsNkkmZAk/I0VUcaRP9lNjMYSIqwImo/DihLo+njtc6PRXgRPLDWjbAP8vjt4DDleVSwm8iKsAzyNVg2eJ2FfB4XR6XOfg+BJMRgGcyrP+z8JnH2EZ/fJaqb2KmwGdSOnl5/DNUgtytBN7L/Jw8E37noQKcwdDVK0fcbwJ6Dk2dgQpwBvkhL42R0iC5CciNjvxMPBV+56cCnJlzAFetC42OWQnACmiQrFKZBbzwrm9epsAV0CBZldtGhy5vBVSAlXFI6qJto6/6uqAKKsDKDPdEaJAsz9theUsXVEMFWLFcDV5Gv1xGg6RdXWh0VEsAVk6DpGllH+9r7/rqZQpcOQ2SJpXAK1Xfz8KvbirAhqgGm7ANjY5mqAAbMnyonkY/taI+LzU62qICbNTQICk7SDbB3Lro9/F+CpqiAmxU/rDdRL9cZhvM6fbAUuHXIBXgAjhwdRalufFiONiCRgnAhdAgOattaHQsginwQmiQnMX+gaVd0DwBOFLNVxSWNWdl7Vn+9kX0L+Y5nS76O3p/iYq5QnMcATjeu/yQXQ9TzirtNUhuglOovtFRnsc8yiuQnwKmkv60G+7+rVo5cDVxqF0e30flUv93/PvwM78PmMrffEiuonKprw52iTFKpV/1IRTl5xt+zn0CcART4OO9Sn24bKJS9hOP0sSBpak/N/JjHt75cT73VAxlCvIyKlc+OEk1eJePqeJfZLfyz/j2nj+DCpDpPOJDdF37hyj1U+LrxL43UbnU/719fODPIQCZTnqcXeqnKFVLX748X6tdaq/RcR8ByHTSOFdRubTuBkkrjY73I/5MAnAETZBpvUoaJDVqqdGxy+MimIQAnN4mjxKCV1GxHASvo99K18WybaNf1Fztjo6h6iuLr0s15z4Y6pGO867marBIy26QVL9LIv+M36XjXkmYAjOddLxdHs+jcvlnvEzLeTe4S+00Oo4lAJlOOp03qf4X8I9ZdlG7Vv4/v0+nIQCZTjqtXWpj4e2r1J6yZKT6XRLlZ0ynXYokAEfQBJnXJtppkJROcRdt2Ebf6Kj2tOb0Z6PjXWh00Io0nfep/gZJ+dC+SXVrodEx5XZEFSDTSdPaJQ2SQ+2S48kKAch00nlcp3W9uD/W2hod9xGATCedzy5pkDykNA+WtI/3FATgCJog9dqEBsl9ttE3Oj5EpVL/zvQmf1tOmtHooH1pHrvURjV4jgZJqaTW3ui4jwqQ6aT5lA9+Cw2Ssq5tl6axhANLpyYAmU6a33Va535iO2ceRwAynVSHXVrPgau7pNExhgBkOqkuV1G5dNyBq63ezDYnATiCLnDbXqVlHrjqZjaoUarTkm6kq77RkYZ9vKlOKkCmk+p2ndpukCzlZrY5CUCmk+q3S+3sJ/5972fW6DgNAch0Ujtaqabs4z0tATjCk2CU8oRFO7o8npVGRHCQ1Dc6Wjqzb5v/vp8Fj6ILvGybaGA/cY2Sm9lWQQCuw6vUwIGrtUj9uYJleUv1e445jgBcj4s8SghW3yCZU+qXE5Xw2wSLJwDXZZPHTWqg8XBuaWh0RH90FSshANfpc5VjStxL/e1xpeq7CFZFAK7XJlbeIEluZls9AUhpkKyuGkx/7uPV6FgxAUhRup6raZAMVW9537cJVk0AcmsTfYPkeqnV4F6j41VACEC+dhl9NVj9Hbtj7C1vuQgYCED+zib6LvFVNG5odJQmh5vZ+IoA5D6lQbJrdUqcHFjKAwQgD9lEXw1Wf+Dqvr19vJuAOwhAHqNMHd+00CAZGh2Wt/AoApAxLqNvkFxEhfYaHYtq4DAdAchYm+hD8CoqMTQ6bvfxanTwaAKQQ1XRINlrdFwEjCQAOcYmZtpP/JcDSzcBBxCAnEKpBt+dqxp0YCmnIgA5lbLWbvIdJMPRVao+TkIAckqbPL6NaZV/v0YHJyEAgdUSgMBqCUBgtQQgsFoCEFgtAQislgAEVksAAqslAIHVEoDAaglAYLUEILBaAnC8PwJYBAE4ngCEhRCAsCx+QY8gAGFZBOAIAnC8LqBeAnAEATieB4yaeT5HEIDjecComedzBAE4XhdQr0/BownA8f4bUK//BY8mAMfzG5ZqPXnyxPM5ggAcaXjAvGehRttgFAF4GL9lqdE2GEUAHua3gPr8OxhFAB7m1zANpi6fvP8bTwAeID9oJfzeBtTD83gAAXi4X0IVSB26/Ev512A0AXigoQp8HTC/H4KDCMAj5BAs045twHyu8nP4n+AgAvB4L8L2OOaxzeFnFnIEAXik/AB2+cuzEIKcV+n4/hgcRQCegBDkzEr4PRveQ3MEAXgiQpAz2YbwOxkBeEJ7IWhBKlN4m58x4XdCAvDESgjm8TR/exVwOi/zc/VzcFICcCJDd648sH5bc4wuj6f5efolODkBOKFhnWCpBruA8bbRh59XKhMRgBMbpsT/DHs1Geel933TE4BnMry/sWiah3Rhyns2AvCM8kN9E32XeBvwtc+vTEx5z0cAntkwJS4heBXQK9PcH8sswZT3vATgTIYucXk32AVrto2+6nPK+AwE4IyGhdOlS6xBsj6l0rttdHTBLATgzMqUR4NkdW738mp0zEwAVmKvQWIqtGyl2n+m0VEHAViRoUFSjji6Cpamy+NCo6MuArBCGiSLU6r60uj4EFRFAFZqbwfJVdCq20bHj6q+OgnAyg3VYJkWd0FLyjs+OzoqJwAbMKwRKw2Sm6AF5dy+p5a31E8ANmKYEpelMo7YqlcXQ6MjaIIAbIwjtqp1ExodzRGADdIgqcpto+OFRkd7BGDDhgaJi5jmsw2NjqYJwMblD982NEjmYB/vAgjABdhrkJRhGjatLvpGh6pvAQTgggz7iUuDxD7TadweWKrRsRACcGFcyzkJB5YulABcKPuJT2YbDixdLAG4YA5cPZpGx8IJwIVz4OpBurC8ZRUE4Eq4ke7R3My2IgJwRdxId6/S3HBg6coIwBXSIPnKNixvWSUBuFIaJJ+5mW3lBOCKrbxB4sBSBCCrvJHu9ma2Llg1AchnezfSLfkwzy40OtgjAPnCcODqEhskbmbjKwKQryzswFU3s3EnAcidFnDg6jY0OriHAOReDR+4emV5Cw8RgDzoLweudlG3Lvqq73XAAwQgj7a3XOYm6mQfL6MIQEaptBrswvIWDiAAOUhF1aBj6oH5pJQu89il3vOYUP73vxr+O+/z+D4A5pbD6JshnKYOwJ/KCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgBH+DxVpmksMGAdOAAAAAElFTkSuQmCC"})}),(0,Xt.jsxs)("div",{className:"features-item-right",children:[(0,Xt.jsx)("h2",{children:"3D ANIMATION"}),(0,Xt.jsx)("p",{children:"With state-of-the-art techniques, Riglabs crafts visually stunning worlds and characters. Each frame is meticulously designed to evoke emotion and spark imagination, delivering unparalleled visual experiences."}),(0,Xt.jsx)("button",{className:"btn-secondary",children:"Learn More"})]})]}),(0,Xt.jsxs)("div",{className:"features-item",children:[(0,Xt.jsx)("div",{className:"features-item-left",children:(0,Xt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAp7SURBVHgB7d39ldS2Ggfgl1TArSCTCpJUwFBBSAXZW0FIBWwqgFTAUkGggh0qgFSwpoLQga/EaC6bDd/Yliw/zzk6Xv5hZzXWz6/krwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIB+3Aq6NY7jrvx42g6pvb5169br4F+u9dft0ob8j9RfQ9AlAdiJNHj3afN9ann7Q7wNvfd5GccBfkjteRrkL2NDUn/lProTx77ax9vQe59Tf+Vt7q9DAPXk0EvtYWp/j1/vKrXH16qg7pT+Op+4v/YBLCcNurPUXozzuexpYI/H4Lsc53OV2i8BzKcM5KtxOZfjiivCcf7gu+lqFIQwrRxCCw/km85jRdLnvZ3ao7Gex2PHSwmwmDSQ7o3TrFl9ratxBYM6fcYfxmWr5Pe5Su1eAF9mPC7YtyQHcbODejyujbZwsLjuPIDPM9adwn3M/WjM2N7B4rrzAD5NGjAXY/uaCcGx7fA7OQ/gw8Z1DOaT6mc802e4P67HedAUd4I0ZDxWVQ9jPfItdT/WulVsPN7N8SLW5Sz115OgCQKwEePxDOtVrM8QxxBc9P7i0l+X8fFb/lpT9aDBP30TtOIy1mmX2oNY3oNYX/hl+X7jx0ETBGADytrQLtYrr8PtYyHpd52lzVms135s8Ez6FpkCV7biqe9NhzStuxsLSH2W+2sX65anwt95NFldKsD6akwf57Bfogos1d8u1i9PhX8NqlIBVtRR9XcyexXYSfV3ogqsTAVYVy/V38msVWBH1d+JKrAyAVjXPvrzU8ynx0dNeWBCRabAlZRKaa2XvnzILNO6DpcLrrvrEft1qADr6fXBmXla90NMbx/9uhNUIQDrmSMkWjHHNLjnkNgHVQjACtJ0bq4qqRVz/G36i8kJwDp63+En/fs2cMC4XR7swMIEYB3fR9/ygP42prOFcOh9n2iSAKxjF/37T0zndvRvC39jcwRgHVvY2aesAAUgsxCAzGXKAT1lmLZqFyxOANbhaA8NEIB1uPkdGiAAmcsQ03kV/RuCxQnAOobgc2yhYjYrqEAA1rGFiuavmM4Q/RuCxQnAOobo2+uJnwYzRP+2cFBsjgCs42X0bdK/r4TpEP3KB4ze94kmCcAKyoDueYc/xPSeRr+EXyUCsJ5D9OsQ03se/eo53JvmidCVdPxE6CFVuN/FxMoTYfIToXu8iDw/QXsIFqcCrKQ8Ar3HSx8OMYOybHCI/rwUfvUIwLoeRX9+j/n8Ef3pcR9YDVPgijqc1i3xXuC8bLCPPsyyXMCnUwFWVKZ1PVUA5zG/OSvMpV0EVakAK+uoCnyaAv3nWEAnVaDqrwEqwMpKFdhDVfNbLKeH/joPqhOADUghmKfBh1iv8yXPZJYz6GteOrhIf8OToDpT4Eakad0ubV7E+qbC+TKOH2NhZekgT4XX9sKkIbW7Ln1pgwqwEWVA/DfWZUhtkXW/m8rSQf7da7uW8kz4tUMANiQNjHxL1Hmsw5sAqjmYy++e9bKbid1Pn7nnW/rg66Xp3YOxbX+PDb3IO32Ws7F9DwL4NGO7IdhU+J2kz3SvfLYWCT/4XGng3B/bcjU2GH4n+bOVz9iKHMi/BPBl0gDajW0M6svxeOa1aeOxvy7H+q7Ghg8WsBppIN1O7eFYR65ifo2VGY/Vc60pcf6uvPsZpjQuX908XvNALv31eFzO5ajqg3mlQXYntT/HeeSqKVcwu+jEOH8QXqZ2J4DllIH9a2ovxq93Wf6vbqdupb/Oxmmq6MvxeKbeVHfF3ArXifFYsX0fx6ek5GnY7Xj3bWKvS8sv4hni+D6KvyZ+jWXzSnBd769daTcD7WZ/5e2zrfUXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwWbwTZKXKO0Dy+ytO22/Lz/GO7XXDjZ9P77x4de3fQ8/vvMgvRop399fteP87Qa7/PMTbPnvzvhDvCFknAdiw8uKeXRxf2vP9tZ/fNVCndnoR0Gn7VxyD8WWsXDl4XMa7DxBf6hSMuZ3663Xqr0PQLAHYiBJ2p6DL231MO0CndIi3A/35WkMx9fnDtLkf8zu9Ue4Qx2BUMTZCAFZSAu9e/PPVjGt1qhIPqT2PFQ3w/G7ftDmP5d3sryFYnABcyLUK76dYf+B9ikNpz1ufBpY1wcdR1ykQn5k2L0cAzqiE3i9xrPROa3dbNEQZ3HnbYnWYvqv8/eR1wVa+o0NqF3E8gAzBLATgxG6E3j54l6elPWspDBsMwZNDCMNZCMAJCL2vchHHIHwaDWg4BE8O8bbPnEj5SgLwK6TBso/jmt5ZbHd6O5UhjoP799pVTiNrgh+Twy8fNP7o4dKkWgTgF0gDJFd6v4Zqby4XqT2peTIgfcf58piHsQ6H1C5Sfz0JPosA/ERlmpsHRQ4+1d4yhtTOaw3sBa8TnMoQFftrjQTgRwi+JgxRYWCX7z6vB67tkqUhBOEnEYAfUKZB+UJZwdeGIbX7aWA/i4WU2+ZexDr3gSEE4Qd9E/xLPrmRWj7y5ymQ8GvHLrWn6bt5XIJpduWEzO+xTrvULlJfXZWz29ygArymTHnO4zjdpX35jPF5LKAcEPexbhfRwFn2lgjAolzSki992AVrMqR2d+5BXfaPy1i/IbXfWrnusjZT4Hizcz+K6R+PxDJ2qb0o67WzKZfkXMT67VL7M/XXebDtCrCsI+Wqbx/04FEKqt9iJmV/uYp+5Auof97ylHizATjTQzGp7xDHQT3LbWL5BEwc7/zpxRALLCG0apNTYOHXtX1ql+WE1hx6u6RkF8f+2sUGbS4Ahd8mvHmgwRwhWNYCD9GXXWw0BDcVgMJvU3II/hnz6PEM6i42GIKbWgNMX26+ot8Fodsy+YmRUln+HX3KD6y9GxuxmQqwnPYXfttzv1zDN5lyguUQfdqX96RswiYCsJT1m/lS+ZfHM6wHHqJf51u5dW4rFeBanuvGPHYx/e2Nz6Nvmxgz3a8BdnQLE18nT1u/m+r6wM7XAU/u9v6Gui1UgL8EHJ/qM9m+UIJ0iL51/1CQrgOwHKXPAo7uxbR6fxfHfsYLypvQewXorC/XTT2gh+hb7quux1DvAXgn4J+m3Cdmud+4MT9Fx1SAbM0upvMq+mcKvGIeZ89Nu+Bz7KJjHojK1jgo8n8CENgsAQhslgAENksAApslAIHNEoDAZglAYLMEILBZAhDYLAEIbJYABDZLAAKbJQCBzRKAwGYJQGCzBCCwWQIQ2CwBCGyWAAQ2SwACmyUAgc0SgMBmCUBgs25Fx8Zx3KfNtwFvvbp169YhJpD2r13a3Im+vU799SwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoFX/A9Z3ThwjNJRJAAAAAElFTkSuQmCC"})}),(0,Xt.jsxs)("div",{className:"features-item-right",children:[(0,Xt.jsx)("h2",{children:"OUR CULTURE"}),(0,Xt.jsx)("p",{children:"At Riglabs, diversity and inclusivity are celebrated, fostering a dynamic environment where every voice matters. Passion drives our collaborative team, shaping a culture defined by excellence, integrity, and fun."}),(0,Xt.jsx)("button",{className:"btn-secondary",children:"Learn More"})]})]})]})}),(0,Xt.jsx)("div",{className:"features-right",children:(0,Xt.jsxs)("div",{className:"features-right-inner",children:[(0,Xt.jsx)("h2",{className:"our",children:"OUR"}),(0,Xt.jsx)("h2",{children:"STRENGTHS"}),(0,Xt.jsx)("p",{children:(0,Xt.jsx)("div",{children:"Riglabs combines cutting-edge technology and creative storytelling to craft immersive experiences that captivate audiences of all ages."})}),(0,Xt.jsx)("button",{className:"btn",children:"Learn More"})]})})]}),gS=()=>{const[t,e]=(0,n.useState)("view all games");return(0,Xt.jsxs)("div",{className:"games-outer-container",id:"games",children:[(0,Xt.jsx)("div",{className:"upper-round"}),(0,Xt.jsxs)("div",{className:"games-container",children:[(0,Xt.jsxs)("div",{className:"games-title",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"our",children:"OUR "}),(0,Xt.jsx)("h2",{children:"GAMES"})]}),(0,Xt.jsx)("button",{className:"btn",onClick:()=>(e("comming Soon!"),void setTimeout((()=>{e("view all games")}),2e3)),children:t})]}),(0,Xt.jsxs)("div",{className:"game-item-container",children:[(0,Xt.jsx)("div",{className:"alertLine",children:(0,Xt.jsx)("marquee",{className:"marquee",children:"MVP COMING SOON! * MVP COMING SOON! * MVP COMING SOON!"})}),(0,Xt.jsxs)("a",{className:"game-item",href:"https://devfolio.co/projects/hyperland-da6b",target:"_blank",children:[(0,Xt.jsx)("img",{src:Tt}),(0,Xt.jsx)("div",{children:"HyperLand"})]}),(0,Xt.jsxs)("a",{className:"game-item",href:"https://devfolio.co/projects/arcave-e8c0",target:"_blank",children:[(0,Xt.jsx)("img",{src:Rt}),(0,Xt.jsx)("div",{children:"Arcave"})]}),(0,Xt.jsxs)("a",{className:"game-item",href:"https://devfolio.co/projects/warfield-fd85",target:"_blank",children:[(0,Xt.jsx)("img",{src:Ct}),(0,Xt.jsx)("div",{children:"Warfield"})]})]})]})]})},vS=()=>(0,Xt.jsxs)("div",{className:"team-container",id:"team",children:[(0,Xt.jsx)("div",{className:"team-title",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"our",children:"OUR "}),(0,Xt.jsx)("h2",{children:"TEAM"})]})}),(0,Xt.jsxs)("div",{className:"team-card-container",children:[(0,Xt.jsxs)("div",{className:"team-card",children:[(0,Xt.jsx)("img",{src:jt}),(0,Xt.jsxs)("div",{className:"title",children:[(0,Xt.jsx)("h2",{children:"Shivam"}),(0,Xt.jsx)("p",{children:"Co-founder"})]})]}),(0,Xt.jsxs)("div",{className:"team-card",children:[(0,Xt.jsx)("img",{src:Ht}),(0,Xt.jsxs)("div",{className:"title",children:[(0,Xt.jsx)("h2",{children:"Omkar"}),(0,Xt.jsx)("p",{children:"Co-founder"})]})]}),(0,Xt.jsxs)("div",{className:"team-card",children:[(0,Xt.jsx)("img",{src:Wt}),(0,Xt.jsxs)("div",{className:"title",children:[(0,Xt.jsx)("h2",{children:"Vansh"}),(0,Xt.jsx)("p",{children:" Product Head"})]})]}),(0,Xt.jsxs)("div",{className:"team-card",children:[(0,Xt.jsx)("img",{src:Vt}),(0,Xt.jsxs)("div",{className:"title",children:[(0,Xt.jsx)("h2",{children:"Alok"}),(0,Xt.jsx)("p",{children:"Blockchain Lead "})]})]}),(0,Xt.jsxs)("div",{className:"team-card",children:[(0,Xt.jsx)("img",{src:qt}),(0,Xt.jsxs)("div",{className:"title",children:[(0,Xt.jsx)("h2",{children:"Niku Singh"}),(0,Xt.jsx)("p",{children:"Fullstack Dev "})]})]}),(0,Xt.jsxs)("div",{className:"team-card",children:[(0,Xt.jsx)("img",{src:Kt}),(0,Xt.jsxs)("div",{className:"title",children:[(0,Xt.jsx)("h2",{children:"Himanshu Arya"}),(0,Xt.jsx)("p",{children:" DevRel"})]})]})]})]}),yS=()=>(0,Xt.jsxs)("div",{className:"sponsor-outer-container",children:[(0,Xt.jsx)("div",{className:"upper-round"}),(0,Xt.jsxs)("div",{className:"sponsor-container",children:[(0,Xt.jsxs)("div",{className:"title-container",children:[(0,Xt.jsx)("div",{className:"title",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"our",children:"Hackathons "}),(0,Xt.jsx)("h2",{children:" Won"})]})}),(0,Xt.jsxs)("div",{className:"sponsor-card-container",children:[(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:Ut})}),(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:Ot})}),(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:Dt})})]})]}),(0,Xt.jsxs)("div",{className:"title-container",children:[(0,Xt.jsx)("div",{className:"title",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"our",children:"OUR "}),(0,Xt.jsx)("h2",{children:"SPONSOR"})]})}),(0,Xt.jsxs)("div",{className:"sponsor-card-container",children:[(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:Pt})}),(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:kt})})]})]}),(0,Xt.jsxs)("div",{className:"title-container",children:[(0,Xt.jsx)("div",{className:"title",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"our",children:"OUR "}),(0,Xt.jsx)("h2",{children:"PARTNERS"})]})}),(0,Xt.jsxs)("div",{className:"sponsor-card-container",children:[(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:Pt})}),(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:kt})}),(0,Xt.jsx)("div",{className:"sponsor-card",children:(0,Xt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU8AAAB2CAYAAABIzxEjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwBSURBVHgB7d1LbFTnGcbxl8jIiQzYuShNoIpNFKQkUmWyyqYXW1WkplJlO1Wyxc6yUjBeVaUL24ugZmUcpHZXwzpKajbJogtsddV0ERBSqQoCg0IClJu5iKC4ofMc9yOH8ZmZc765nNv/J41sj8c+9tjznPe7nk1m9sAAAIk8ZgCAxAhPAPBAeMLLJgPKTa8B+jwBICEqTwDwQHgCgAfCEwA8EJ4A4IHwBAAPhCcAeCA8AcAD4QkAHghPAPBAeAKAB8ITADwQngDggfAEAA+EJ9AGbNlXfGxJBwAeqDwBwAPhCQAeCE8A8EB4AoAHwhMAPBCeAOCB8GwbZvoBRcY8TwDwQOUJAB4ITwDw0GUAMuGJ3iHreXokeLu5e8Ae6+qzLLp/97itfbNid64t2u0rR6ysMtfn+eDBAzt+/LjdvHkzeLuysmInTpx4eB+Qhr6+PhsYGLDdu3dbf3//w/f1dnR01JaXl81Xd89ue+bFuSA08+bbSohevzBTyhDNZHjWovBcXFy0iYkJA1pNQaiQjApI3V/L0NCQd3j2bd8XBGfe3bp82K6em7Lv1spT4OSq2e7O/nFMT0/b+fPng8rV3VBu4XDs7e0NPnYBqfvrBWQ7PPXCTOU2bUWw7Qfj1r1lt108OVyaAC1sn+fMzMyG+1xXgN4uLS3Z/Py8ofgmJyeD/4dOh2M9CpuiBKcTdD/snLMrp8vRMizVgJFePGpiuferw3NhYSHov1KVqoANV6yuiqXvtXNUFeq5bvb5TqOqrGfz4wOFC05HJwX1f95bXbKiY7S9imvW1eJe0PWoy0AUuOEXvwtiuhDW6blUVejCzTWrw2GninF2dtaKpOepUeuqjKYXlU4MF08uWdERnm0Q1WVQ/fnqQFDV6/pzw4EbVXkplMNcpayq2Mf4+HjNz2ngJCyqinNVetJZEfp99+3bZ2XTt2PSikyzBnQrevVJeGaEuhPiDobVo/BSf+6RI0dihamOqeBuJR3/8OHDwc9QdEm7FNQvWOSq03mi92eEJ/JFXQ66qaJTiGlaV6e7CXQi0E39x1NTU7ntpgj3fYf7wF2Vv7q6mjg8uyr9nWWgk0TREZ4FpgA7d+5c0EXQqCuhHRSeCvLh4eHMB6hONvoZ1SVy48aNDV0jrbK5u9/KILw6qtnJ5Ppemg/b3TMYfKyVTfdWl23t/oqlifAsAQ1gqUI6ePCgdZrrFlCAZpkWX7QrMMNaseRy21azt35h9sous5dfqny8xezWHbPbldupM2ZHPjL78mtryhs/Mdu65fuPP/nMvDUTnApNDUCFn7eep0eDlU2XTo0FS0XTQniWxNzcXNCM9x1UaoZrxuv4aM74O2Z7Jx4NtrDXX6s85u31sDu04BeiP3ze7I8HHr2vmfD0oQEnhWatJaua7rXjR8fswhevpVaBEp45EhU+bnVMHApQnwrQLYut5qZ1xRnoUvVLeDZn77tm78Wcf/7Wm+tB+quJ9Yo0ibjHaAdVmFp51bd9MtZjNXPh6tkpSwPhmRPqj6sVfAovBaP6GGt7EFR/CrykgxyqVuvtJ6BgbNSn6ntsrHt1V/JQ2/Gc2Qf7zX6zP/7X/PqX68GbBk2w1wqlJF0bmjObVniyn2cBKFjHxsYaVHbrlwUZGRmxVtOAVJyqshVTscpq/3vmRX2XqkDrUR+qHqOg/cPvrONcE/zZXQuJ+4Q3pzh7gcqzQDSv0i0/raVdAaZmfaNjDw4OptLnmnfqg4wKwFu3zQ5XBodOnV7/+Pd71x9b7ec/Nvv7F4/ep+/ngjLqazolz5ujEJ4FEndSfDtoziPa45WXou9//9CjAzmfV/78Sx9tHExS9Xng0MavTzM0RdVmHvcwdWi2Fwj9icX0co3wrB4B13Sljz/d+Li0QzLKMy8ezE9w1rgQLuEJZFxU+NWagnTxkmWeBobijKZnRo2JqjTbgQK5FXNakvpAh97eeP+eyn0T71hb9eYpOOsgPIGSiqpSk84JTUqj40VZ906zHUDH5HmAqFruKs/q6xi1YqdxIKx6RkL1HqZ6X/Na+b9LrqtAG6PkLjy1HFA7BdVTup3aM3cN1PxJ+j8T54oC2GhzgbbkK2SzvXQrWQhOoOPo8wRKj7OvD8ITKL1NhuQITwDwQHgCgAfCEwA85G6qknYOinMtHl36FohLF4CrN/Woeq4nu0ghd+Gpf/A41wMnPJFEpy4Ah+Kg2Q4AHghPAB3z37XirMoiPAF0zNo3K1YUhCeAjrl/94QVBeGJRFiLgmbcW12y7wrSdCc8kQiroNGsm181nmqYB4QnUCDbtljmXb8wW2m+5/8S1IRnalrfAA5P4kZx6Prs1bZtjX7sjucsFy6dGrO1+yuWZ4RnalrfAI4Tnu3aKLq3t9fQHqfObLxPFebrr228/42fbrzvn6ctc76tjLpfPDmc6wAlPFsszQDbs2dPw8e0a/fzoaGhho8p3Q7/LfKvM9H3f7Df7K031y9NrCD904HoyvNUBsNTFKAr/9hpV89O5TJEuXpmSJwXty4DUm8ZX1ohMj4+HtwaWV5etlbTcUdHRxs+7sSJ4kxT6SRVjrpUcHWlqaBUgDbyyWeWaRpAunt90Z56Ydq2Pjue5EtTHbknPEPirG3WBhJHjx6N/Jyqzrm5uUbfwivA9L2jwrG/vz8I7LihrY1VktJlTdyxXfC7jTJGRkZiBaeOyzV//B1aiG6mN/LXv5l9noOxGVWhl/89YTcvztvzr/7FuroHYn2dpj6lhfAM0RURG1FILSws2Pz8/MMgUojofgVno+sn+W5YomPouM2YmZkxH/qdmj12nJ2wouh5dSe18JVS3ftluXqqKs8P/2y29934X/Pl12bvf2i5olF4NeVVhfZt32ePddXvBrt+YcbSQniGuMpMTfN64jaRo8zOzloadGKIsxtVO+h59T123Kq6Okx1zImJCSuSQ/8/f8UJUIXtbyt9oBcvWS5pOtPtK0fqNuUVnGmuWCI8q6iibLbKqkXVVxqDJjohjI2NWRoUZMPDw9Zu1fttJn2etSWdC10XwKp43cfubdoUoOrD3PO22au7zF556ftpS6o01UT/+FP/prq+ThVuFrim/J1ri0EV+kTvUNDHqepUwXlvtfX990kQnlXUrJ6cnGxYfSalAJuamrJOU2Cr2k3jha/AUWjnYZQ97t9bv0s4UF1VHff5Xbvf/J6hqiYPHLK2UMWqW5bcvXY0uGUN4RlBL/hjx4617Prvqmo62YTUC1knAR23HaPrcY6v0FYVX7T+SP1PVP9f6MQY93m+fyf/K2viKMIKokYIzwiqJtTUbDZAFRwapFGI+P4cUd+zOpDClZBexElH1OsNlEX9/uEmsvt5dEwdX99LPwMj69EUKmp6NhoIybs0R8E7hfCsQUGwc+fOYGAoSTPeBYkqryQhEh5V7iR3okiDjq3q2AWxC+VWVfxZdevK4aAPr6jUV5nFZnarEZ4NqPmrm17Qg4ODQYiGX9zh0V1NAveZRyllvH6O6xOtRXNYxT3fehsOWPd++OMs0e4FUYtwV7+aL3R4pjl9qJMKH56uU7961DTpahf3PWpNkEfruROKexunX1GB++STTz5yn/7WrsKN6rNsl1q7F6gy05LEZ15svKAib/S7aYpRGRQ2PPUC4WqI5aO/efXfXcGpW5iCVC2JcKC66lWti3ZXsVqS2L1lt219tvF+BHnhNvsoi8yHp6sU1Rx2gxJxEJyoR/9T9SpZF6qqZF2wulBt1TS2/5xdb7oXIUCLsEtSUrW6ZVIzPT39sP8wKxOTgWoKUBesmmHQzKYn6v/s2zEZez131ty9tmiXT08U5vIacWUuPIEy2vz4QLCCpnf7pHX3tHaBRjsoKDVrQMGZ9kqftBCeQMZoDmh3z6BllZrorVgplXc5D0+yH0A6SB8A8MBlOADAA+GJzthkQKHQbAcAD1SeAOCB8AQAD4QnAHggPAHAA+EJAB4ITwDwQHgCgAfCsy5mdgOIxiR5APAQUXlSbQFAI1SeAOCBPk8A8EB4InfoWEIW0GwHAA9UngDgIT/hSVsNQIbQbAcADzTb0TQaBSgjKk8A8EDlCQAeCE8A8EB4AoAHwhMAPBCeAODhf4cFJOHcCPu9AAAAAElFTkSuQmCC"})})]})]})]})]});function wS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var AS,MS,_S,ES,xS,SS,NS,TS,RS,CS,IS,PS={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},kS={duration:.5,overwrite:!1,delay:0},OS=1e8,US=1e-8,LS=2*Math.PI,BS=LS/4,DS=0,FS=Math.sqrt,GS=Math.cos,zS=Math.sin,jS=function(t){return"string"===typeof t},HS=function(t){return"function"===typeof t},WS=function(t){return"number"===typeof t},VS=function(t){return"undefined"===typeof t},qS=function(t){return"object"===typeof t},KS=function(t){return!1!==t},JS=function(){return"undefined"!==typeof window},XS=function(t){return HS(t)||jS(t)},YS="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},QS=Array.isArray,ZS=/(?:-?\.?\d|\.)+/gi,$S=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,tN=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,eN=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rN=/[+-]=-?[.\d]+/,nN=/[^,'"\[\]\s]+/gi,iN=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,oN={},sN={},aN=function(t){return(sN=LN(t,oN))&&BR},uN=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},lN=function(t,e){return!e&&console.warn(t)},hN=function(t,e){return t&&(oN[t]=e)&&sN&&(sN[t]=e)||oN},cN=function(){return 0},fN={suppressEvents:!0,isStart:!0,kill:!1},dN={suppressEvents:!0,kill:!1},pN={suppressEvents:!0},mN={},gN=[],vN={},yN={},wN={},bN=30,AN=[],MN="",_N=function(t){var e,r,n=t[0];if(qS(n)||HS(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(r=AN.length;r--&&!AN[r].targetTest(n););e=AN[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new QT(t[r],e)))||t.splice(r,1);return t},EN=function(t){return t._gsap||_N(pT(t))[0]._gsap},xN=function(t,e,r){return(r=t[e])&&HS(r)?t[e]():VS(r)&&t.getAttribute&&t.getAttribute(e)||r},SN=function(t,e){return(t=t.split(",")).forEach(e)||t},NN=function(t){return Math.round(1e5*t)/1e5||0},TN=function(t){return Math.round(1e7*t)/1e7||0},RN=function(t,e){var r=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===r?t+n:"-"===r?t-n:"*"===r?t*n:t/n},CN=function(t,e){for(var r=e.length,n=0;t.indexOf(e[n])<0&&++n<r;);return n<r},IN=function(){var t,e,r=gN.length,n=gN.slice(0);for(vN={},gN.length=0,t=0;t<r;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},PN=function(t,e,r,n){gN.length&&!MS&&IN(),t.render(e,r,n||MS&&e<0&&(t._initted||t._startAt)),gN.length&&!MS&&IN()},kN=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(nN).length<2?e:jS(t)?t.trim():t},ON=function(t){return t},UN=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},LN=function(t,e){for(var r in e)t[r]=e[r];return t},BN=function t(e,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=qS(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},DN=function(t,e){var r,n={};for(r in t)r in e||(n[r]=t[r]);return n},FN=function(t){var e,r=t.parent||ES,n=t.keyframes?(e=QS(t.keyframes),function(t,r){for(var n in r)n in t||"duration"===n&&e||"ease"===n||(t[n]=r[n])}):UN;if(KS(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},GN=function(t,e,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var o,s=t[n];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=e._dp=t,e},zN=function(t,e,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=e._prev,o=e._next;i?i._next=o:t[r]===e&&(t[r]=o),o?o._prev=i:t[n]===e&&(t[n]=i),e._next=e._prev=e.parent=null},jN=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},HN=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},WN=function(t,e,r,n){return t._startAt&&(MS?t._startAt.revert(dN):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},VN=function t(e){return!e||e._ts&&t(e.parent)},qN=function(t){return t._repeat?KN(t._tTime,t=t.duration()+t._rDelay)*t:0},KN=function(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},JN=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},XN=function(t){return t._end=TN(t._start+(t._tDur/Math.abs(t._ts||t._rts||US)||0))},YN=function(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=TN(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),XN(t),r._dirty||HN(r,t)),t},QN=function(t,e){var r;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(r=JN(t.rawTime(),e),(!e._dur||lT(0,e.totalDuration(),r)-e._tTime>US)&&e.render(r,!0)),HN(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-1e-8}},ZN=function(t,e,r,n){return e.parent&&jN(e),e._start=TN((WS(r)?r:r||t!==ES?sT(t,r,e):t._time)+e._delay),e._end=TN(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),GN(t,e,"_first","_last",t._sort?"_start":0),rT(e)||(t._recent=e),n||QN(t,e),t._ts<0&&YN(t,t._tTime),t},$N=function(t,e){return(oN.ScrollTrigger||uN("scrollTrigger",e))&&oN.ScrollTrigger.create(e,t)},tT=function(t,e,r,n,i){return oR(t,e,i),t._initted?!r&&t._pt&&!MS&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&RS!==DT.frame?(gN.push(t),t._lazy=[i,n],1):void 0:1},eT=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},rT=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},nT=function(t,e,r,n){var i=t._repeat,o=TN(e)||0,s=t._tTime/t._tDur;return s&&!n&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:TN(o*(i+1)+t._rDelay*i):o,s>0&&!n&&YN(t,t._tTime=t._tDur*s),t.parent&&XN(t),r||HN(t.parent,t),t},iT=function(t){return t instanceof $T?HN(t):nT(t,t._dur)},oT={_start:0,endTime:cN,totalDuration:cN},sT=function t(e,r,n){var i,o,s,a=e.labels,u=e._recent||oT,l=e.duration()>=OS?u.endTime(!1):e._dur;return jS(r)&&(isNaN(r)||r in a)?(o=r.charAt(0),s="%"===r.substr(-1),i=r.indexOf("="),"<"===o||">"===o?(i>=0&&(r=r.replace(/=/,"")),("<"===o?u._start:u.endTime(u._repeat>=0))+(parseFloat(r.substr(1))||0)*(s?(i<0?u:n).totalDuration()/100:1)):i<0?(r in a||(a[r]=l),a[r]):(o=parseFloat(r.charAt(i-1)+r.substr(i+1)),s&&n&&(o=o/100*(QS(n)?n[0]:n).totalDuration()),i>1?t(e,r.substr(0,i-1),n)+o:l+o)):null==r?l:+r},aT=function(t,e,r){var n,i,o=WS(e[1]),s=(o?2:1)+(t<2?0:1),a=e[s];if(o&&(a.duration=e[1]),a.parent=r,t){for(n=a,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=KS(i.vars.inherit)&&i.parent;a.immediateRender=KS(n.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new hR(e[0],a,e[s+1])},uT=function(t,e){return t||0===t?e(t):e},lT=function(t,e,r){return r<t?t:r>e?e:r},hT=function(t,e){return jS(t)&&(e=iN.exec(t))?e[1]:""},cT=[].slice,fT=function(t,e){return t&&qS(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&qS(t[0]))&&!t.nodeType&&t!==xS},dT=function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var n;return jS(t)&&!e||fT(t,1)?(n=r).push.apply(n,pT(t)):r.push(t)}))||r},pT=function(t,e,r){return _S&&!e&&_S.selector?_S.selector(t):!jS(t)||r||!SS&&FT()?QS(t)?dT(t,r):fT(t)?cT.call(t,0):t?[t]:[]:cT.call((e||NS).querySelectorAll(t),0)},mT=function(t){return t=pT(t)[0]||lN("Invalid scope")||{},function(e){var r=t.current||t.nativeElement||t;return pT(e,r.querySelectorAll?r:r===t?lN("Invalid scope")||NS.createElement("div"):t)}},gT=function(t){return t.sort((function(){return.5-Math.random()}))},vT=function(t){if(HS(t))return t;var e=qS(t)?t:{each:t},r=qT(e.ease),n=e.from||0,i=parseFloat(e.base)||0,o={},s=n>0&&n<1,a=isNaN(n)||s,u=e.axis,l=n,h=n;return jS(n)?l=h={center:.5,edges:.5,end:1}[n]||0:!s&&a&&(l=n[0],h=n[1]),function(t,s,c){var f,d,p,m,g,v,y,w,b,A=(c||e).length,M=o[A];if(!M){if(!(b="auto"===e.grid?0:(e.grid||[1,OS])[1])){for(y=-OS;y<(y=c[b++].getBoundingClientRect().left)&&b<A;);b<A&&b--}for(M=o[A]=[],f=a?Math.min(b,A)*l-.5:n%b,d=b===OS?0:a?A*h/b-.5:n/b|0,y=0,w=OS,v=0;v<A;v++)p=v%b-f,m=d-(v/b|0),M[v]=g=u?Math.abs("y"===u?m:p):FS(p*p+m*m),g>y&&(y=g),g<w&&(w=g);"random"===n&&gT(M),M.max=y-w,M.min=w,M.v=A=(parseFloat(e.amount)||parseFloat(e.each)*(b>A?A-1:u?"y"===u?A/b:b:Math.max(b,A/b))||0)*("edges"===n?-1:1),M.b=A<0?i-A:i,M.u=hT(e.amount||e.each)||0,r=r&&A<0?WT(r):r}return A=(M[t]-M.min)/M.max||0,TN(M.b+(r?r(A):A)*M.v)+M.u}},yT=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var n=TN(Math.round(parseFloat(r)/t)*t*e);return(n-n%1)/e+(WS(r)?0:hT(r))}},wT=function(t,e){var r,n,i=QS(t);return!i&&qS(t)&&(r=i=t.radius||OS,t.values?(t=pT(t.values),(n=!WS(t[0]))&&(r*=r)):t=yT(t.increment)),uT(e,i?HS(t)?function(e){return n=t(e),Math.abs(n-e)<=r?n:e}:function(e){for(var i,o,s=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),u=OS,l=0,h=t.length;h--;)(i=n?(i=t[h].x-s)*i+(o=t[h].y-a)*o:Math.abs(t[h]-s))<u&&(u=i,l=h);return l=!r||u<=r?t[l]:e,n||l===e||WS(e)?l:l+hT(e)}:yT(t))},bT=function(t,e,r,n){return uT(QS(t)?!e:!0===r?!!(r=0):!n,(function(){return QS(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*n)/n}))},AT=function(t,e,r){return uT(r,(function(r){return t[~~e(r)]}))},MT=function(t){for(var e,r,n,i,o=0,s="";~(e=t.indexOf("random(",o));)n=t.indexOf(")",e),i="["===t.charAt(e+7),r=t.substr(e+7,n-e-7).match(i?nN:ZS),s+=t.substr(o,e-o)+bT(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),o=n+1;return s+t.substr(o,t.length-o)},_T=function(t,e,r,n,i){var o=e-t,s=n-r;return uT(i,(function(e){return r+((e-t)/o*s||0)}))},ET=function(t,e,r){var n,i,o,s=t.labels,a=OS;for(n in s)(i=s[n]-e)<0===!!r&&i&&a>(i=Math.abs(i))&&(o=n,a=i);return o},xT=function(t,e,r){var n,i,o,s=t.vars,a=s[e],u=_S,l=t._ctx;if(a)return n=s[e+"Params"],i=s.callbackScope||t,r&&gN.length&&IN(),l&&(_S=l),o=n?a.apply(i,n):a.call(i),_S=u,o},ST=function(t){return jN(t),t.scrollTrigger&&t.scrollTrigger.kill(!!MS),t.progress()<1&&xT(t,"onInterrupt"),t},NT=[],TT=function(t){if(t)if(t=!t.name&&t.default||t,JS()||t.headless){var e=t.name,r=HS(t),n=e&&!r&&t.init?function(){this._props=[]}:t,i={init:cN,render:wR,add:nR,kill:AR,modifier:bR,rawVars:0},o={targetTest:0,get:0,getSetter:mR,aliases:{},register:0};if(FT(),t!==n){if(yN[e])return;UN(n,UN(DN(t,i),o)),LN(n.prototype,LN(i,DN(t,o))),yN[n.prop=e]=n,t.targetTest&&(AN.push(n),mN[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}hN(e,n),t.register&&t.register(BR,n,ER)}else NT.push(t)},RT=255,CT={aqua:[0,RT,RT],lime:[0,RT,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,RT],navy:[0,0,128],white:[RT,RT,RT],olive:[128,128,0],yellow:[RT,RT,0],orange:[RT,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[RT,0,0],pink:[RT,192,203],cyan:[0,RT,RT],transparent:[RT,RT,RT,0]},IT=function(t,e,r){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*RT+.5|0},PT=function(t,e,r){var n,i,o,s,a,u,l,h,c,f,d=t?WS(t)?[t>>16,t>>8&RT,t&RT]:0:CT.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),CT[t])d=CT[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+n+n+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&RT,d&RT,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&RT,t&RT]}else if("hsl"===t.substr(0,3))if(d=f=t.match(ZS),e){if(~t.indexOf("="))return d=t.match($S),r&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,a=+d[1]/100,n=2*(u=+d[2]/100)-(i=u<=.5?u*(a+1):u+a-u*a),d.length>3&&(d[3]*=1),d[0]=IT(s+1/3,n,i),d[1]=IT(s,n,i),d[2]=IT(s-1/3,n,i);else d=t.match(ZS)||CT.transparent;d=d.map(Number)}return e&&!f&&(n=d[0]/RT,i=d[1]/RT,o=d[2]/RT,u=((l=Math.max(n,i,o))+(h=Math.min(n,i,o)))/2,l===h?s=a=0:(c=l-h,a=u>.5?c/(2-l-h):c/(l+h),s=l===n?(i-o)/c+(i<o?6:0):l===i?(o-n)/c+2:(n-i)/c+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*a+.5),d[2]=~~(100*u+.5)),r&&d.length<4&&(d[3]=1),d},kT=function(t){var e=[],r=[],n=-1;return t.split(UT).forEach((function(t){var i=t.match(tN)||[];e.push.apply(e,i),r.push(n+=i.length+1)})),e.c=r,e},OT=function(t,e,r){var n,i,o,s,a="",u=(t+a).match(UT),l=e?"hsla(":"rgba(",h=0;if(!u)return t;if(u=u.map((function(t){return(t=PT(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),r&&(o=kT(t),(n=r.c).join(a)!==o.c.join(a)))for(s=(i=t.replace(UT,"1").split(tN)).length-1;h<s;h++)a+=i[h]+(~n.indexOf(h)?u.shift()||l+"0,0,0,0)":(o.length?o:u.length?u:r).shift());if(!i)for(s=(i=t.split(UT)).length-1;h<s;h++)a+=i[h]+u[h];return a+i[s]},UT=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in CT)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),LT=/hsl[a]?\(/,BT=function(t){var e,r=t.join(" ");if(UT.lastIndex=0,UT.test(r))return e=LT.test(r),t[1]=OT(t[1],e),t[0]=OT(t[0],e,kT(t[1])),!0},DT=function(){var t,e,r,n,i,o,s=Date.now,a=500,u=33,l=s(),h=l,c=1e3/240,f=c,d=[],p=function r(p){var m,g,v,y,w=s()-h,b=!0===p;if((w>a||w<0)&&(l+=w-u),((m=(v=(h+=w)-l)-f)>0||b)&&(y=++n.frame,i=v-1e3*n.time,n.time=v/=1e3,f+=m+(m>=c?4:c-m),g=1),b||(t=e(r)),g)for(o=0;o<d.length;o++)d[o](v,i,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){TS&&(!SS&&JS()&&(xS=SS=window,NS=xS.document||{},oN.gsap=BR,(xS.gsapVersions||(xS.gsapVersions=[])).push(BR.version),aN(sN||xS.GreenSockGlobals||!xS.gsap&&xS||{}),NT.forEach(TT)),r="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,t&&n.sleep(),e=r||function(t){return setTimeout(t,f-1e3*n.time+1|0)},IS=1,p(2))},sleep:function(){(r?cancelAnimationFrame:clearTimeout)(t),IS=0,e=cN},lagSmoothing:function(t,e){a=t||1/0,u=Math.min(e||33,a)},fps:function(t){c=1e3/(t||240),f=1e3*n.time+c},add:function(t,e,r){var i=e?function(e,r,o,s){t(e,r,o,s),n.remove(i)}:t;return n.remove(t),d[r?"unshift":"push"](i),FT(),i},remove:function(t,e){~(e=d.indexOf(t))&&d.splice(e,1)&&o>=e&&o--},_listeners:d},n}(),FT=function(){return!IS&&DT.wake()},GT={},zT=/^[\d.\-M][\d.\-,\s]/,jT=/["']/g,HT=function(t){for(var e,r,n,i={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,u=o.length;a<u;a++)r=o[a],e=a!==u-1?r.lastIndexOf(","):r.length,n=r.substr(0,e),i[s]=isNaN(n)?n.replace(jT,"").trim():+n,s=r.substr(e+1).trim();return i},WT=function(t){return function(e){return 1-t(1-e)}},VT=function t(e,r){for(var n,i=e._first;i;)i instanceof $T?t(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},qT=function(t,e){return t&&(HS(t)?t:GT[t]||function(t){var e=(t+"").split("("),r=GT[e[0]];return r&&e.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[HT(e[1])]:function(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<r?t.indexOf(")",r+1):r)}(t).split(",").map(kN)):GT._CE&&zT.test(t)?GT._CE("",t):r}(t))||e},KT=function(t,e,r,n){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:r,easeInOut:n};return SN(t,(function(t){for(var e in GT[t]=oN[t]=o,GT[i=t.toLowerCase()]=r,o)GT[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=GT[t+"."+e]=o[e]})),o},JT=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},XT=function t(e,r,n){var i=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),s=o/LS*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*zS((t-s)*o)+1},u="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:JT(a);return o=LS/o,u.config=function(r,n){return t(e,r,n)},u},YT=function t(e,r){void 0===r&&(r=1.70158);var n=function(t){return t?--t*t*((r+1)*t+r)+1:0},i="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:JT(n);return i.config=function(r){return t(e,r)},i};SN("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;KT(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),GT.Linear.easeNone=GT.none=GT.Linear.easeIn,KT("Elastic",XT("in"),XT("out"),XT()),function(t,e){var r=1/e,n=function(n){return n<r?t*n*n:n<.7272727272727273?t*Math.pow(n-1.5/e,2)+.75:n<.9090909090909092?t*(n-=2.25/e)*n+.9375:t*Math.pow(n-2.625/e,2)+.984375};KT("Bounce",(function(t){return 1-n(1-t)}),n)}(7.5625,2.75),KT("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),KT("Circ",(function(t){return-(FS(1-t*t)-1)})),KT("Sine",(function(t){return 1===t?1:1-GS(t*BS)})),KT("Back",YT("in"),YT("out"),YT()),GT.SteppedEase=GT.steps=oN.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,n=t+(e?0:1),i=e?1:0;return function(t){return((n*lT(0,.99999999,t)|0)+i)*r}}},kS.ease=GT["quad.out"],SN("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return MN+=t+","+t+"Params,"}));var QT=function(t,e){this.id=DS++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:xN,this.set=e?e.getSetter:mR},ZT=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,nT(this,+t.duration,1,1),this.data=t.data,_S&&(this._ctx=_S,_S.data.push(this)),IS||DT.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,nT(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(FT(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(YN(this,t),!r._dp||r.parent||QN(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&ZN(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===US||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),PN(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+qN(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+qN(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?KN(this._tTime,r)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var r=this.parent&&this._ts?JN(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(lT(-Math.abs(this._delay),this._tDur,r),!1!==e),XN(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(FT(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==US&&(this._tTime-=US)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&ZN(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(KS(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?JN(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=pN);var e=MS;return MS=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),MS=e,this},e.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,iT(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,iT(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(sT(this,t),KS(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,KS(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-US))},e.eventCallback=function(t,e,r){var n=this.vars;return arguments.length>1?(e?(n[t]=e,r&&(n[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(r){var n=HS(t)?t:ON,i=function(){var t=e.then;e.then=null,HS(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),r(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){ST(this)},t}();UN(ZT.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var $T=function(t){function e(e,r){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=KS(e.sortChildren),ES&&ZN(e.parent||ES,wS(n),r),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&$N(wS(n),e.scrollTrigger),n}bS(e,t);var r=e.prototype;return r.to=function(t,e,r){return aT(0,arguments,this),this},r.from=function(t,e,r){return aT(1,arguments,this),this},r.fromTo=function(t,e,r,n){return aT(2,arguments,this),this},r.set=function(t,e,r){return e.duration=0,e.parent=this,FN(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new hR(t,e,sT(this,r),1),this},r.call=function(t,e,r){return ZN(this,hR.delayedCall(0,t,e),r)},r.staggerTo=function(t,e,r,n,i,o,s){return r.duration=e,r.stagger=r.stagger||n,r.onComplete=o,r.onCompleteParams=s,r.parent=this,new hR(t,r,sT(this,i)),this},r.staggerFrom=function(t,e,r,n,i,o,s){return r.runBackwards=1,FN(r).immediateRender=KS(r.immediateRender),this.staggerTo(t,e,r,n,i,o,s)},r.staggerFromTo=function(t,e,r,n,i,o,s,a){return n.startAt=r,FN(n).immediateRender=KS(n.immediateRender),this.staggerTo(t,e,n,i,o,s,a)},r.render=function(t,e,r){var n,i,o,s,a,u,l,h,c,f,d,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=t<=0?0:TN(t),w=this._zTime<0!==t<0&&(this._initted||!v);if(this!==ES&&y>g&&t>=0&&(y=g),y!==this._tTime||r||w){if(m!==this._time&&v&&(y+=this._time-m,t+=this._time-m),n=y,c=this._start,u=!(h=this._ts),w&&(v||(m=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(d=this._yoyo,a=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,r);if(n=TN(y%a),y===g?(s=this._repeat,n=v):((s=~~(y/a))&&s===y/a&&(n=v,s--),n>v&&(n=v)),f=KN(this._tTime,a),!m&&this._tTime&&f!==s&&this._tTime-f*a-this._dur<=0&&(f=s),d&&1&s&&(n=v-n,p=1),s!==f&&!this._lock){var b=d&&1&f,A=b===(d&&1&s);if(s<f&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:TN(s*a)),e,!v)._lock=0,this._tTime=y,!e&&this.parent&&xT(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,A&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;VT(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,r){var n;if(r>e)for(n=t._first;n&&n._start<=r;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=r;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,TN(m),TN(n)),l&&(y-=n-(n=l._start))),this._tTime=y,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,m=0),!m&&n&&!e&&!s&&(xT(this,"onStart"),this._tTime!==y))return this;if(n>=m&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||n>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!u){l=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var M=t<0?t:n;i;){if(o=i._prev,(i._act||M<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(M-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(M-i._start)*i._ts,e,r||MS&&(i._initted||i._startAt)),n!==this._time||!this._ts&&!u){l=0,o&&(y+=this._zTime=M?-1e-8:US);break}}i=o}}if(l&&!e&&(this.pause(),l.render(n>=m?0:-1e-8)._zTime=n>=m?1:-1,this._ts))return this._start=c,XN(this),this.render(t,e,r);this._onUpdate&&!e&&xT(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(c!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&jN(this,1),e||t<0&&!m||!y&&!m&&g||(xT(this,y===g&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(t,e){var r=this;if(WS(e)||(e=sT(this,e,t)),!(t instanceof ZT)){if(QS(t))return t.forEach((function(t){return r.add(t,e)})),this;if(jS(t))return this.addLabel(t,e);if(!HS(t))return this;t=hR.delayedCall(0,t)}return this!==t?ZN(this,t,e):this},r.getChildren=function(t,e,r,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=-OS);for(var i=[],o=this._first;o;)o._start>=n&&(o instanceof hR?e&&i.push(o):(r&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,r)))),o=o._next;return i},r.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},r.remove=function(t){return jS(t)?this.removeLabel(t):HS(t)?this.killTweensOf(t):(zN(this,t),t===this._recent&&(this._recent=this._last),HN(this))},r.totalTime=function(e,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=TN(DT.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},r.addLabel=function(t,e){return this.labels[t]=sT(this,e),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,e,r){var n=hR.delayedCall(0,e||cN,r);return n.data="isPause",this._hasPause=1,ZN(this,n,sT(this,t))},r.removePause=function(t){var e=this._first;for(t=sT(this,t);e;)e._start===t&&"isPause"===e.data&&jN(e),e=e._next},r.killTweensOf=function(t,e,r){for(var n=this.getTweensOf(t,r),i=n.length;i--;)tR!==n[i]&&n[i].kill(t,e);return this},r.getTweensOf=function(t,e){for(var r,n=[],i=pT(t),o=this._first,s=WS(e);o;)o instanceof hR?CN(o._targets,i)&&(s?(!tR||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&n.push(o):(r=o.getTweensOf(i,e)).length&&n.push.apply(n,r),o=o._next;return n},r.tweenTo=function(t,e){e=e||{};var r,n=this,i=sT(n,t),o=e,s=o.startAt,a=o.onStart,u=o.onStartParams,l=o.immediateRender,h=hR.to(n,UN({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale())||US,onStart:function(){if(n.pause(),!r){var t=e.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale());h._dur!==t&&nT(h,t,0,1).render(h._time,!0,!0),r=1}a&&a.apply(h,u||[])}},e));return l?h.render(0):h},r.tweenFromTo=function(t,e,r){return this.tweenTo(e,UN({startAt:{time:sT(this,t)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(t){return void 0===t&&(t=this._time),ET(this,sT(this,t))},r.previousLabel=function(t){return void 0===t&&(t=this._time),ET(this,sT(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+US)},r.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var n,i=this._first,o=this.labels;i;)i._start>=r&&(i._start+=t,i._end+=t),i=i._next;if(e)for(n in o)o[n]>=r&&(o[n]+=t);return HN(this)},r.invalidate=function(e){var r=this._first;for(this._lock=0;r;)r.invalidate(e),r=r._next;return t.prototype.invalidate.call(this,e)},r.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),HN(this)},r.totalDuration=function(t){var e,r,n,i=0,o=this,s=o._last,a=OS;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(n=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,ZN(o,s,r-s._delay,1)._lock=0):a=r,r<0&&s._ts&&(i-=r,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=e;nT(o,o===ES&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(ES._ts&&(PN(ES,JN(t,ES)),RS=DT.frame),DT.frame>=bN){bN+=PS.autoSleep||120;var e=ES._first;if((!e||!e._ts)&&PS.autoSleep&&DT._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||DT.sleep()}}},e}(ZT);UN($T.prototype,{_lock:0,_hasPause:0,_forcing:0});var tR,eR,rR=function(t,e,r,n,i,o,s){var a,u,l,h,c,f,d,p,m=new ER(this._pt,t,e,0,1,yR,null,i),g=0,v=0;for(m.b=r,m.e=n,r+="",(d=~(n+="").indexOf("random("))&&(n=MT(n)),o&&(o(p=[r,n],t,e),r=p[0],n=p[1]),u=r.match(eN)||[];a=eN.exec(n);)h=a[0],c=n.substring(g,a.index),l?l=(l+1)%5:"rgba("===c.substr(-5)&&(l=1),h!==u[v++]&&(f=parseFloat(u[v-1])||0,m._pt={_next:m._pt,p:c||1===v?c:",",s:f,c:"="===h.charAt(1)?RN(f,h)-f:parseFloat(h)-f,m:l&&l<4?Math.round:0},g=eN.lastIndex);return m.c=g<n.length?n.substring(g,n.length):"",m.fp=s,(rN.test(n)||d)&&(m.e=0),this._pt=m,m},nR=function(t,e,r,n,i,o,s,a,u,l){HS(n)&&(n=n(i||0,t,o));var h,c=t[e],f="get"!==r?r:HS(c)?u?t[e.indexOf("set")||!HS(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,d=HS(c)?u?dR:fR:cR;if(jS(n)&&(~n.indexOf("random(")&&(n=MT(n)),"="===n.charAt(1)&&((h=RN(f,n)+(hT(f)||0))||0===h)&&(n=h)),!l||f!==n||eR)return isNaN(f*n)||""===n?(!c&&!(e in t)&&uN(e,n),rR.call(this,t,e,f,n,d,a||PS.stringFilter,u)):(h=new ER(this._pt,t,e,+f||0,n-(f||0),"boolean"===typeof c?vR:gR,0,d),u&&(h.fp=u),s&&h.modifier(s,this,t),this._pt=h)},iR=function(t,e,r,n,i,o){var s,a,u,l;if(yN[t]&&!1!==(s=new yN[t]).init(i,s.rawVars?e[t]:function(t,e,r,n,i){if(HS(t)&&(t=aR(t,i,e,r,n)),!qS(t)||t.style&&t.nodeType||QS(t)||YS(t))return jS(t)?aR(t,i,e,r,n):t;var o,s={};for(o in t)s[o]=aR(t[o],i,e,r,n);return s}(e[t],n,i,o,r),r,n,o)&&(r._pt=a=new ER(r._pt,i,t,0,1,s.render,s,0,s.priority),r!==CS))for(u=r._ptLookup[r._targets.indexOf(i)],l=s._props.length;l--;)u[s._props[l]]=a;return s},oR=function t(e,r,n){var i,o,s,a,u,l,h,c,f,d,p,m,g,v=e.vars,y=v.ease,w=v.startAt,b=v.immediateRender,A=v.lazy,M=v.onUpdate,_=v.runBackwards,E=v.yoyoEase,x=v.keyframes,S=v.autoRevert,N=e._dur,T=e._startAt,R=e._targets,C=e.parent,I=C&&"nested"===C.data?C.vars.targets:R,P="auto"===e._overwrite&&!AS,k=e.timeline;if(k&&(!x||!y)&&(y="none"),e._ease=qT(y,kS.ease),e._yEase=E?WT(qT(!0===E?y:E,kS.ease)):0,E&&e._yoyo&&!e._repeat&&(E=e._yEase,e._yEase=e._ease,e._ease=E),e._from=!k&&!!v.runBackwards,!k||x&&!v.stagger){if(m=(c=R[0]?EN(R[0]).harness:0)&&v[c.prop],i=DN(v,mN),T&&(T._zTime<0&&T.progress(1),r<0&&_&&b&&!S?T.render(-1,!0):T.revert(_&&N?dN:fN),T._lazy=0),w){if(jN(e._startAt=hR.set(R,UN({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!T&&KS(A),startAt:null,delay:0,onUpdate:M&&function(){return xT(e,"onUpdate")},stagger:0},w))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(MS||!b&&!S)&&e._startAt.revert(dN),b&&N&&r<=0&&n<=0)return void(r&&(e._zTime=r))}else if(_&&N&&!T)if(r&&(b=!1),s=UN({overwrite:!1,data:"isFromStart",lazy:b&&!T&&KS(A),immediateRender:b,stagger:0,parent:C},i),m&&(s[c.prop]=m),jN(e._startAt=hR.set(R,s)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(MS?e._startAt.revert(dN):e._startAt.render(-1,!0)),e._zTime=r,b){if(!r)return}else t(e._startAt,US,US);for(e._pt=e._ptCache=0,A=N&&KS(A)||A&&!N,o=0;o<R.length;o++){if(h=(u=R[o])._gsap||_N(R)[o]._gsap,e._ptLookup[o]=d={},vN[h.id]&&gN.length&&IN(),p=I===R?o:I.indexOf(u),c&&!1!==(f=new c).init(u,m||i,e,p,I)&&(e._pt=a=new ER(e._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){d[t]=a})),f.priority&&(l=1)),!c||m)for(s in i)yN[s]&&(f=iR(s,i,e,p,u,I))?f.priority&&(l=1):d[s]=a=nR.call(e,u,s,"get",i[s],p,I,0,v.stringFilter);e._op&&e._op[o]&&e.kill(u,e._op[o]),P&&e._pt&&(tR=e,ES.killTweensOf(u,d,e.globalTime(r)),g=!e.parent,tR=0),e._pt&&A&&(vN[h.id]=1)}l&&_R(e),e._onInit&&e._onInit(e)}e._onUpdate=M,e._initted=(!e._op||e._pt)&&!g,x&&r<=0&&k.render(OS,!0,!0)},sR=function(t,e,r,n){var i,o,s=e.ease||n||"power1.inOut";if(QS(e))o=r[t]||(r[t]=[]),e.forEach((function(t,r){return o.push({t:r/(e.length-1)*100,v:t,e:s})}));else for(i in e)o=r[i]||(r[i]=[]),"ease"===i||o.push({t:parseFloat(t),v:e[i],e:s})},aR=function(t,e,r,n,i){return HS(t)?t.call(e,r,n,i):jS(t)&&~t.indexOf("random(")?MT(t):t},uR=MN+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lR={};SN(uR+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return lR[t]=1}));var hR=function(t){function e(e,r,n,i){var o;"number"===typeof r&&(n.duration=r,r=n,n=null);var s,a,u,l,h,c,f,d,p=(o=t.call(this,i?r:FN(r))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,w=p.overwrite,b=p.keyframes,A=p.defaults,M=p.scrollTrigger,_=p.yoyoEase,E=r.parent||ES,x=(QS(e)||YS(e)?WS(e[0]):"length"in r)?[e]:pT(e);if(o._targets=x.length?_N(x):lN("GSAP target "+e+" not found. https://gsap.com",!PS.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=w,b||y||XS(m)||XS(g)){if(r=o.vars,(s=o.timeline=new $T({data:"nested",defaults:A||{},targets:E&&"nested"===E.data?E.vars.targets:x})).kill(),s.parent=s._dp=wS(o),s._start=0,y||XS(m)||XS(g)){if(l=x.length,f=y&&vT(y),qS(y))for(h in y)~uR.indexOf(h)&&(d||(d={}),d[h]=y[h]);for(a=0;a<l;a++)(u=DN(r,lR)).stagger=0,_&&(u.yoyoEase=_),d&&LN(u,d),c=x[a],u.duration=+aR(m,wS(o),a,c,x),u.delay=(+aR(g,wS(o),a,c,x)||0)-o._delay,!y&&1===l&&u.delay&&(o._delay=g=u.delay,o._start+=g,u.delay=0),s.to(c,u,f?f(a,c,x):0),s._ease=GT.none;s.duration()?m=g=0:o.timeline=0}else if(b){FN(UN(s.vars.defaults,{ease:"none"})),s._ease=qT(b.ease||r.ease||"none");var S,N,T,R=0;if(QS(b))b.forEach((function(t){return s.to(x,t,">")})),s.duration();else{for(h in u={},b)"ease"===h||"easeEach"===h||sR(h,b[h],u,b.easeEach);for(h in u)for(S=u[h].sort((function(t,e){return t.t-e.t})),R=0,a=0;a<S.length;a++)(T={ease:(N=S[a]).e,duration:(N.t-(a?S[a-1].t:0))/100*m})[h]=N.v,s.to(x,T,R),R+=T.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==w||AS||(tR=wS(o),ES.killTweensOf(x),tR=0),ZN(E,wS(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(v||!m&&!b&&o._start===TN(E._time)&&KS(v)&&VN(wS(o))&&"nested"!==E.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),M&&$N(wS(o),M),o}bS(e,t);var r=e.prototype;return r.render=function(t,e,r){var n,i,o,s,a,u,l,h,c,f=this._time,d=this._tDur,p=this._dur,m=t<0,g=t>d-US&&!m?d:t<US?0:t;if(p){if(g!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(n=g,h=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+t,e,r);if(n=TN(g%s),g===d?(o=this._repeat,n=p):((o=~~(g/s))&&o===TN(g/s)&&(n=p,o--),n>p&&(n=p)),(u=this._yoyo&&1&o)&&(c=this._yEase,n=p-n),a=KN(this._tTime,s),n===f&&!r&&this._initted&&o===a)return this._tTime=g,this;o!==a&&(h&&this._yEase&&VT(h,u),this.vars.repeatRefresh&&!u&&!this._lock&&this._time!==s&&this._initted&&(this._lock=r=1,this.render(TN(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(tT(this,m?t:n,r,e,g))return this._tTime=0,this;if(f!==this._time&&(!r||!this.vars.repeatRefresh||o===a))return this;if(p!==this._dur)return this.render(t,e,r)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(c||this._ease)(n/p),this._from&&(this.ratio=l=1-l),n&&!f&&!e&&!o&&(xT(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;h&&h.render(t<0?t:h._dur*h._ease(n/this._dur),e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&WN(this,t,0,r),xT(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&xT(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&WN(this,t,0,!0),(t||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&jN(this,1),e||m&&!f||!(g||f||u)||(xT(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,r,n){var i,o,s,a=t.ratio,u=e<0||!e&&(!t._start&&eT(t)&&(t._initted||!rT(t))||(t._ts<0||t._dp._ts<0)&&!rT(t))?0:1,l=t._rDelay,h=0;if(l&&t._repeat&&(h=lT(0,t._tDur,e),o=KN(h,l),t._yoyo&&1&o&&(u=1-u),o!==KN(t._tTime,l)&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||MS||n||t._zTime===US||!e&&t._zTime){if(!t._initted&&tT(t,e,n,r,h))return;for(s=t._zTime,t._zTime=e||(r?US:0),r||(r=e&&!s),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=h,i=t._pt;i;)i.r(u,i.d),i=i._next;e<0&&WN(t,e,0,!0),t._onUpdate&&!r&&xT(t,"onUpdate"),h&&t._repeat&&!r&&t.parent&&xT(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&jN(t,1),r||MS||(xT(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},r.targets=function(){return this._targets},r.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},r.resetTo=function(t,e,r,n,i){IS||DT.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||oR(this,o),function(t,e,r,n,i,o,s,a){var u,l,h,c,f=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!f)for(f=t._ptCache[e]=[],h=t._ptLookup,c=t._targets.length;c--;){if((u=h[c][e])&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return eR=1,t.vars[e]="+=0",oR(t,s),eR=0,a?lN(e+" not eligible for reset"):1;f.push(u)}for(c=f.length;c--;)(u=(l=f[c])._pt||l).s=!n&&0!==n||i?u.s+(n||0)+o*u.c:n,u.c=r-u.s,l.e&&(l.e=NN(r)+hT(l.e)),l.b&&(l.b=u.s+hT(l.b))}(this,t,e,r,n,this._ease(o/this._dur),o,i)?this.resetTo(t,e,r,n,1):(YN(this,0),this.parent||GN(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(t,e){if(void 0===e&&(e="all"),!t&&(!e||"all"===e))return this._lazy=this._pt=0,this.parent?ST(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,tR&&!0!==tR.vars.overwrite)._first||ST(this),this.parent&&r!==this.timeline.totalDuration()&&nT(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,o,s,a,u,l,h=this._targets,c=t?pT(t):h,f=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,n=r===e.length;n&&r--&&t[r]===e[r];);return r<0}(h,c))return"all"===e&&(this._pt=0),ST(this);for(n=this._op=this._op||[],"all"!==e&&(jS(e)&&(a={},SN(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var r,n,i,o,s=t[0]?EN(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(n in r=LN({},e),a)if(n in r)for(i=(o=a[n].split(",")).length;i--;)r[o[i]]=r[n];return r}(h,e)),l=h.length;l--;)if(~c.indexOf(h[l]))for(a in i=f[l],"all"===e?(n[l]=e,s=i,o={}):(o=n[l]=n[l]||{},s=e),s)(u=i&&i[a])&&("kill"in u.d&&!0!==u.d.kill(a)||zN(this,u,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&d&&ST(this),this},e.to=function(t,r){return new e(t,r,arguments[2])},e.from=function(t,e){return aT(1,arguments)},e.delayedCall=function(t,r,n,i){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},e.fromTo=function(t,e,r){return aT(2,arguments)},e.set=function(t,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(t,r)},e.killTweensOf=function(t,e,r){return ES.killTweensOf(t,e,r)},e}(ZT);UN(hR.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),SN("staggerTo,staggerFrom,staggerFromTo",(function(t){hR[t]=function(){var e=new $T,r=cT.call(arguments,0);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var cR=function(t,e,r){return t[e]=r},fR=function(t,e,r){return t[e](r)},dR=function(t,e,r,n){return t[e](n.fp,r)},pR=function(t,e,r){return t.setAttribute(e,r)},mR=function(t,e){return HS(t[e])?fR:VS(t[e])&&t.setAttribute?pR:cR},gR=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},vR=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},yR=function(t,e){var r=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+n,r=r._next;n+=e.c}e.set(e.t,e.p,n,e)},wR=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},bR=function(t,e,r,n){for(var i,o=this._pt;o;)i=o._next,o.p===n&&o.modifier(t,e,r),o=i},AR=function(t){for(var e,r,n=this._pt;n;)r=n._next,n.p===t&&!n.op||n.op===t?zN(this,n,"_pt"):n.dep||(e=1),n=r;return!e},MR=function(t,e,r,n){n.mSet(t,e,n.m.call(n.tween,r,n.mt),n)},_R=function(t){for(var e,r,n,i,o=t._pt;o;){for(e=o._next,r=n;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:i)?o._prev._next=o:n=o,(o._next=r)?r._prev=o:i=o,o=e}t._pt=n},ER=function(){function t(t,e,r,n,i,o,s,a,u){this.t=e,this.s=n,this.c=i,this.p=r,this.r=o||gR,this.d=s||this,this.set=a||cR,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=MR,this.m=t,this.mt=r,this.tween=e},t}();SN(MN+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return mN[t]=1})),oN.TweenMax=oN.TweenLite=hR,oN.TimelineLite=oN.TimelineMax=$T,ES=new $T({sortChildren:!1,defaults:kS,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),PS.stringFilter=BT;var xR=[],SR={},NR=[],TR=0,RR=0,CR=function(t){return(SR[t]||NR).map((function(t){return t()}))},IR=function(){var t=Date.now(),e=[];t-TR>2&&(CR("matchMediaInit"),xR.forEach((function(t){var r,n,i,o,s=t.queries,a=t.conditions;for(n in s)(r=xS.matchMedia(s[n]).matches)&&(i=1),r!==a[n]&&(a[n]=r,o=1);o&&(t.revert(),i&&e.push(t))})),CR("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),TR=t,CR("matchMedia"))},PR=function(){function t(t,e){this.selector=e&&mT(e),this.data=[],this._r=[],this.isReverted=!1,this.id=RR++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,r){HS(t)&&(r=e,e=t,t=HS);var n=this,i=function(){var t,i=_S,o=n.selector;return i&&i!==n&&i.data.push(n),r&&(n.selector=mT(r)),_S=n,t=e.apply(n,arguments),HS(t)&&n._r.push(t),_S=i,n.selector=o,n.isReverted=!1,t};return n.last=i,t===HS?i(n,(function(t){return n.add(null,t)})):t?n[t]=i:i},e.ignore=function(t){var e=_S;_S=null,t(this),_S=e},e.getTweens=function(){var e=[];return this.data.forEach((function(r){return r instanceof t?e.push.apply(e,r.getTweens()):r instanceof hR&&!(r.parent&&"nested"===r.parent.data)&&e.push(r)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var r=this;if(t?function(){for(var e,n=r.getTweens(),i=r.data.length;i--;)"isFlip"===(e=r.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=r.data.length;i--;)(e=r.data[i])instanceof $T?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof hR)&&e.revert&&e.revert(t);r._r.forEach((function(e){return e(t,r)})),r.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=xR.length;n--;)xR[n].id===this.id&&xR.splice(n,1)},e.revert=function(t){this.kill(t||{})},t}(),kR=function(){function t(t){this.contexts=[],this.scope=t,_S&&_S.data.push(this)}var e=t.prototype;return e.add=function(t,e,r){qS(t)||(t={matches:t});var n,i,o,s=new PR(0,r||this.scope),a=s.conditions={};for(i in _S&&!s.selector&&(s.selector=_S.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===i?o=1:(n=xS.matchMedia(t[i]))&&(xR.indexOf(s)<0&&xR.push(s),(a[i]=n.matches)&&(o=1),n.addListener?n.addListener(IR):n.addEventListener("change",IR));return o&&e(s,(function(t){return s.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),OR={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return TT(t)}))},timeline:function(t){return new $T(t)},getTweensOf:function(t,e){return ES.getTweensOf(t,e)},getProperty:function(t,e,r,n){jS(t)&&(t=pT(t)[0]);var i=EN(t||{}).get,o=r?ON:kN;return"native"===r&&(r=""),t?e?o((yN[e]&&yN[e].get||i)(t,e,r,n)):function(e,r,n){return o((yN[e]&&yN[e].get||i)(t,e,r,n))}:t},quickSetter:function(t,e,r){if((t=pT(t)).length>1){var n=t.map((function(t){return BR.quickSetter(t,e,r)})),i=n.length;return function(t){for(var e=i;e--;)n[e](t)}}t=t[0]||{};var o=yN[e],s=EN(t),a=s.harness&&(s.harness.aliases||{})[e]||e,u=o?function(e){var n=new o;CS._pt=0,n.init(t,r?e+r:e,CS,0,[t]),n.render(1,n),CS._pt&&wR(1,CS)}:s.set(t,a);return o?u:function(e){return u(t,a,r?e+r:e,s,1)}},quickTo:function(t,e,r){var n,i=BR.to(t,LN(((n={})[e]="+=0.1",n.paused=!0,n),r||{})),o=function(t,r,n){return i.resetTo(e,t,r,n)};return o.tween=i,o},isTweening:function(t){return ES.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=qT(t.ease,kS.ease)),BN(kS,t||{})},config:function(t){return BN(PS,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,n=t.plugins,i=t.defaults,o=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!yN[t]&&!oN[t]&&lN(e+" effect requires "+t+" plugin.")})),wN[e]=function(t,e,n){return r(pT(t),UN(e||{},i),n)},o&&($T.prototype[e]=function(t,r,n){return this.add(wN[e](t,qS(r)?r:(n=r)&&{},this),n)})},registerEase:function(t,e){GT[t]=qT(e)},parseEase:function(t,e){return arguments.length?qT(t,e):GT},getById:function(t){return ES.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,n,i=new $T(t);for(i.smoothChildTiming=KS(t.smoothChildTiming),ES.remove(i),i._dp=0,i._time=i._tTime=ES._time,r=ES._first;r;)n=r._next,!e&&!r._dur&&r instanceof hR&&r.vars.onComplete===r._targets[0]||ZN(i,r,r._start-r._delay),r=n;return ZN(ES,i,0),i},context:function(t,e){return t?new PR(t,e):_S},matchMedia:function(t){return new kR(t)},matchMediaRefresh:function(){return xR.forEach((function(t){var e,r,n=t.conditions;for(r in n)n[r]&&(n[r]=!1,e=1);e&&t.revert()}))||IR()},addEventListener:function(t,e){var r=SR[t]||(SR[t]=[]);~r.indexOf(e)||r.push(e)},removeEventListener:function(t,e){var r=SR[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)},utils:{wrap:function t(e,r,n){var i=r-e;return QS(e)?AT(e,t(0,e.length),r):uT(n,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,r,n){var i=r-e,o=2*i;return QS(e)?AT(e,t(0,e.length-1),r):uT(n,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:vT,random:bT,snap:wT,normalize:function(t,e,r){return _T(t,e,0,1,r)},getUnit:hT,clamp:function(t,e,r){return uT(r,(function(r){return lT(t,e,r)}))},splitColor:PT,toArray:pT,selector:mT,mapRange:_T,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||hT(r))}},interpolate:function t(e,r,n,i){var o=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!o){var s,a,u,l,h,c=jS(e),f={};if(!0===n&&(i=1)&&(n=null),c)e={p:e},r={p:r};else if(QS(e)&&!QS(r)){for(u=[],l=e.length,h=l-2,a=1;a<l;a++)u.push(t(e[a-1],e[a]));l--,o=function(t){t*=l;var e=Math.min(h,~~t);return u[e](t-e)},n=r}else i||(e=LN(QS(e)?[]:{},e));if(!u){for(s in r)nR.call(f,e,s,"get",r[s]);o=function(t){return wR(t,f)||(c?e.p:e)}}}return uT(n,o)},shuffle:gT},install:aN,effects:wN,ticker:DT,updateRoot:$T.updateRoot,plugins:yN,globalTimeline:ES,core:{PropTween:ER,globals:hN,Tween:hR,Timeline:$T,Animation:ZT,getCache:EN,_removeLinkedListItem:zN,reverting:function(){return MS},context:function(t){return t&&_S&&(_S.data.push(t),t._ctx=_S),_S},suppressOverwrites:function(t){return AS=t}}};SN("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return OR[t]=hR[t]})),DT.add($T.updateRoot),CS=OR.to({},{duration:0});var UR=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},LR=function(t,e){return{name:t,rawVars:1,init:function(t,r,n){n._onInit=function(t){var n,i;if(jS(r)&&(n={},SN(r,(function(t){return n[t]=1})),r=n),e){for(i in n={},r)n[i]=e(r[i]);r=n}!function(t,e){var r,n,i,o=t._targets;for(r in e)for(n=o.length;n--;)(i=t._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=UR(i,r)),i&&i.modifier&&i.modifier(e[r],t,o[n],r))}(t,r)}}}},BR=OR.registerPlugin({name:"attr",init:function(t,e,r,n,i){var o,s,a;for(o in this.tween=r,e)a=t.getAttribute(o)||"",(s=this.add(t,"setAttribute",(a||0)+"",e[o],n,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(t,e){for(var r=e._pt;r;)MS?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r],0,0,0,0,0,1)}},LR("roundProps",yT),LR("modifiers"),LR("snap",wT))||OR;hR.version=$T.version=BR.version="3.12.5",TS=1,JS()&&FT();GT.Power0,GT.Power1,GT.Power2,GT.Power3,GT.Power4,GT.Linear,GT.Quad,GT.Cubic,GT.Quart,GT.Quint,GT.Strong,GT.Elastic,GT.Back,GT.SteppedEase,GT.Bounce,GT.Sine,GT.Expo,GT.Circ;var DR,FR,GR,zR,jR,HR,WR,VR,qR={},KR=180/Math.PI,JR=Math.PI/180,XR=Math.atan2,YR=/([A-Z])/g,QR=/(left|right|width|margin|padding|x)/i,ZR=/[\s,\(]\S/,$R={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tC=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},eC=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},rC=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},nC=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},iC=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},oC=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},sC=function(t,e,r){return t.style[e]=r},aC=function(t,e,r){return t.style.setProperty(e,r)},uC=function(t,e,r){return t._gsap[e]=r},lC=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},hC=function(t,e,r,n,i){var o=t._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},cC=function(t,e,r,n,i){var o=t._gsap;o[e]=r,o.renderTransform(i,o)},fC="transform",dC=fC+"Origin",pC=function t(e,r){var n=this,i=this.target,o=i.style,s=i._gsap;if(e in qR&&o){if(this.tfm=this.tfm||{},"transform"===e)return $R.transform.split(",").forEach((function(e){return t.call(n,e,r)}));if(~(e=$R[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=PC(i,t)})):this.tfm[e]=s.x?s[e]:PC(i,e),e===dC&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(fC)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(dC,r,"")),e=fC}(o||r)&&this.props.push(e,r,o[e])},mC=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},gC=function(){var t,e,r=this.props,n=this.target,i=n.style,o=n._gsap;for(t=0;t<r.length;t+=3)r[t+1]?n[r[t]]=r[t+2]:r[t+2]?i[r[t]]=r[t+2]:i.removeProperty("--"===r[t].substr(0,2)?r[t]:r[t].replace(YR,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=WR())&&t.isStart||i[fC]||(mC(i),o.zOrigin&&i[dC]&&(i[dC]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},vC=function(t,e){var r={target:t,props:[],revert:gC,save:pC};return t._gsap||BR.core.getCache(t),e&&e.split(",").forEach((function(t){return r.save(t)})),r},yC=function(t,e){var r=FR.createElementNS?FR.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):FR.createElement(t);return r&&r.style?r:FR.createElement(t)},wC=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(YR,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,AC(r)||r,1)||""},bC="O,Moz,ms,Ms,Webkit".split(","),AC=function(t,e,r){var n=(e||jR).style,i=5;if(t in n&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(bC[i]+t in n););return i<0?null:(3===i?"ms":i>=0?bC[i]:"")+t},MC=function(){"undefined"!==typeof window&&window.document&&(DR=window,FR=DR.document,GR=FR.documentElement,jR=yC("div")||{style:{}},yC("div"),fC=AC(fC),dC=fC+"Origin",jR.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",VR=!!AC("perspective"),WR=BR.core.reverting,zR=1)},_C=function t(e){var r,n=yC("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(GR.appendChild(n),n.appendChild(this),this.style.display="block",e)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(a){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),GR.removeChild(n),this.style.cssText=s,r},EC=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},xC=function(t){var e;try{e=t.getBBox()}catch(r){e=_C.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===_C||(e=_C.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+EC(t,["x","cx","x1"])||0,y:+EC(t,["y","cy","y1"])||0,width:0,height:0}},SC=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!xC(t))},NC=function(t,e){if(e){var r,n=t.style;e in qR&&e!==dC&&(e=fC),n.removeProperty?("ms"!==(r=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===r?e:e.replace(YR,"-$1").toLowerCase())):n.removeAttribute(e)}},TC=function(t,e,r,n,i,o){var s=new ER(t._pt,e,r,0,1,o?oC:iC);return t._pt=s,s.b=n,s.e=i,t._props.push(r),s},RC={deg:1,rad:1,turn:1},CC={grid:1,flex:1},IC=function t(e,r,n,i){var o,s,a,u,l=parseFloat(n)||0,h=(n+"").trim().substr((l+"").length)||"px",c=jR.style,f=QR.test(r),d="svg"===e.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===h||!l||RC[i]||RC[h])return l;if("px"!==h&&!g&&(l=t(e,r,n,"px")),u=e.getCTM&&SC(e),(v||"%"===h)&&(qR[r]||~r.indexOf("adius")))return o=u?e.getBBox()[f?"width":"height"]:e[p],NN(v?l/o*m:l/100*o);if(c[f?"width":"height"]=m+(g?h:i),s=~r.indexOf("adius")||"em"===i&&e.appendChild&&!d?e:e.parentNode,u&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==FR&&s.appendChild||(s=FR.body),(a=s._gsap)&&v&&a.width&&f&&a.time===DT.time&&!a.uncache)return NN(l/a.width*m);if(!v||"height"!==r&&"width"!==r)(v||"%"===h)&&!CC[wC(s,"display")]&&(c.position=wC(e,"position")),s===e&&(c.position="static"),s.appendChild(jR),o=jR[p],s.removeChild(jR),c.position="absolute";else{var y=e.style[r];e.style[r]=m+i,o=e[p],y?e.style[r]=y:NC(e,r)}return f&&v&&((a=EN(s)).time=DT.time,a.width=s[p]),NN(g?o*l/m:o&&l?m/o*l:0)},PC=function(t,e,r,n){var i;return zR||MC(),e in $R&&"transform"!==e&&~(e=$R[e]).indexOf(",")&&(e=e.split(",")[0]),qR[e]&&"transform"!==e?(i=WC(t,n),i="transformOrigin"!==e?i[e]:i.svg?i.origin:VC(wC(t,dC))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=BC[e]&&BC[e](t,e,r)||wC(t,e)||xN(t,e)||("opacity"===e?1:0)),r&&!~(i+"").trim().indexOf(" ")?IC(t,e,i,r)+r:i},kC=function(t,e,r,n){if(!r||"none"===r){var i=AC(e,t,1),o=i&&wC(t,i,1);o&&o!==r?(e=i,r=o):"borderColor"===e&&(r=wC(t,"borderTopColor"))}var s,a,u,l,h,c,f,d,p,m,g,v=new ER(this._pt,t.style,e,0,1,yR),y=0,w=0;if(v.b=r,v.e=n,r+="","auto"===(n+="")&&(c=t.style[e],t.style[e]=n,n=wC(t,e)||n,c?t.style[e]=c:NC(t,e)),BT(s=[r,n]),n=s[1],u=(r=s[0]).match(tN)||[],(n.match(tN)||[]).length){for(;a=tN.exec(n);)f=a[0],p=n.substring(y,a.index),h?h=(h+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(h=1),f!==(c=u[w++]||"")&&(l=parseFloat(c)||0,g=c.substr((l+"").length),"="===f.charAt(1)&&(f=RN(l,f)+g),d=parseFloat(f),m=f.substr((d+"").length),y=tN.lastIndex-m.length,m||(m=m||PS.units[e]||g,y===n.length&&(n+=m,v.e+=m)),g!==m&&(l=IC(t,e,c,m)||0),v._pt={_next:v._pt,p:p||1===w?p:",",s:l,c:d-l,m:h&&h<4||"zIndex"===e?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===e&&"none"===n?oC:iC;return rN.test(n)&&(v.e=0),this._pt=v,v},OC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},UC=function(t){var e=t.split(" "),r=e[0],n=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(t=r,r=n,n=t),e[0]=OC[r]||r,e[1]=OC[n]||n,e.join(" ")},LC=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,n,i,o=e.t,s=o.style,a=e.u,u=o._gsap;if("all"===a||!0===a)s.cssText="",n=1;else for(i=(a=a.split(",")).length;--i>-1;)r=a[i],qR[r]&&(n=1,r="transformOrigin"===r?dC:fC),NC(o,r);n&&(NC(o,fC),u&&(u.svg&&o.removeAttribute("transform"),WC(o,1),u.uncache=1,mC(s)))}},BC={clearProps:function(t,e,r,n,i){if("isFromStart"!==i.data){var o=t._pt=new ER(t._pt,e,r,0,0,LC);return o.u=n,o.pr=-10,o.tween=i,t._props.push(r),1}}},DC=[1,0,0,1,0,0],FC={},GC=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},zC=function(t){var e=wC(t,fC);return GC(e)?DC:e.substr(7).match($S).map(NN)},jC=function(t,e){var r,n,i,o,s=t._gsap||EN(t),a=t.style,u=zC(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?DC:u:(u!==DC||t.offsetParent||t===GR||s.svg||(i=a.display,a.display="block",(r=t.parentNode)&&t.offsetParent||(o=1,n=t.nextElementSibling,GR.appendChild(t)),u=zC(t),i?a.display=i:NC(t,"display"),o&&(n?r.insertBefore(t,n):r?r.appendChild(t):GR.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},HC=function(t,e,r,n,i,o){var s,a,u,l=t._gsap,h=i||jC(t,!0),c=l.xOrigin||0,f=l.yOrigin||0,d=l.xOffset||0,p=l.yOffset||0,m=h[0],g=h[1],v=h[2],y=h[3],w=h[4],b=h[5],A=e.split(" "),M=parseFloat(A[0])||0,_=parseFloat(A[1])||0;r?h!==DC&&(a=m*y-g*v)&&(u=M*(-g/a)+_*(m/a)-(m*b-g*w)/a,M=M*(y/a)+_*(-v/a)+(v*b-y*w)/a,_=u):(M=(s=xC(t)).x+(~A[0].indexOf("%")?M/100*s.width:M),_=s.y+(~(A[1]||A[0]).indexOf("%")?_/100*s.height:_)),n||!1!==n&&l.smooth?(w=M-c,b=_-f,l.xOffset=d+(w*m+b*v)-w,l.yOffset=p+(w*g+b*y)-b):l.xOffset=l.yOffset=0,l.xOrigin=M,l.yOrigin=_,l.smooth=!!n,l.origin=e,l.originIsAbsolute=!!r,t.style[dC]="0px 0px",o&&(TC(o,l,"xOrigin",c,M),TC(o,l,"yOrigin",f,_),TC(o,l,"xOffset",d,l.xOffset),TC(o,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",M+" "+_)},WC=function(t,e){var r=t._gsap||new QT(t);if("x"in r&&!e&&!r.uncache)return r;var n,i,o,s,a,u,l,h,c,f,d,p,m,g,v,y,w,b,A,M,_,E,x,S,N,T,R,C,I,P,k,O,U=t.style,L=r.scaleX<0,B="px",D="deg",F=getComputedStyle(t),G=wC(t,dC)||"0";return n=i=o=u=l=h=c=f=d=0,s=a=1,r.svg=!(!t.getCTM||!SC(t)),F.translate&&("none"===F.translate&&"none"===F.scale&&"none"===F.rotate||(U[fC]=("none"!==F.translate?"translate3d("+(F.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==F.rotate?"rotate("+F.rotate+") ":"")+("none"!==F.scale?"scale("+F.scale.split(" ").join(",")+") ":"")+("none"!==F[fC]?F[fC]:"")),U.scale=U.rotate=U.translate="none"),g=jC(t,r.svg),r.svg&&(r.uncache?(N=t.getBBox(),G=r.xOrigin-N.x+"px "+(r.yOrigin-N.y)+"px",S=""):S=!e&&t.getAttribute("data-svg-origin"),HC(t,S||G,!!S||r.originIsAbsolute,!1!==r.smooth,g)),p=r.xOrigin||0,m=r.yOrigin||0,g!==DC&&(b=g[0],A=g[1],M=g[2],_=g[3],n=E=g[4],i=x=g[5],6===g.length?(s=Math.sqrt(b*b+A*A),a=Math.sqrt(_*_+M*M),u=b||A?XR(A,b)*KR:0,(c=M||_?XR(M,_)*KR+u:0)&&(a*=Math.abs(Math.cos(c*JR))),r.svg&&(n-=p-(p*b+m*M),i-=m-(p*A+m*_))):(O=g[6],P=g[7],R=g[8],C=g[9],I=g[10],k=g[11],n=g[12],i=g[13],o=g[14],l=(v=XR(O,I))*KR,v&&(S=E*(y=Math.cos(-v))+R*(w=Math.sin(-v)),N=x*y+C*w,T=O*y+I*w,R=E*-w+R*y,C=x*-w+C*y,I=O*-w+I*y,k=P*-w+k*y,E=S,x=N,O=T),h=(v=XR(-M,I))*KR,v&&(y=Math.cos(-v),k=_*(w=Math.sin(-v))+k*y,b=S=b*y-R*w,A=N=A*y-C*w,M=T=M*y-I*w),u=(v=XR(A,b))*KR,v&&(S=b*(y=Math.cos(v))+A*(w=Math.sin(v)),N=E*y+x*w,A=A*y-b*w,x=x*y-E*w,b=S,E=N),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,h=180-h),s=NN(Math.sqrt(b*b+A*A+M*M)),a=NN(Math.sqrt(x*x+O*O)),v=XR(E,x),c=Math.abs(v)>2e-4?v*KR:0,d=k?1/(k<0?-k:k):0),r.svg&&(S=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!GC(wC(t,fC)),S&&t.setAttribute("transform",S))),Math.abs(c)>90&&Math.abs(c)<270&&(L?(s*=-1,c+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),e=e||r.uncache,r.x=n-((r.xPercent=n&&(!e&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+B,r.y=i-((r.yPercent=i&&(!e&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+B,r.z=o+B,r.scaleX=NN(s),r.scaleY=NN(a),r.rotation=NN(u)+D,r.rotationX=NN(l)+D,r.rotationY=NN(h)+D,r.skewX=c+D,r.skewY=f+D,r.transformPerspective=d+B,(r.zOrigin=parseFloat(G.split(" ")[2])||!e&&r.zOrigin||0)&&(U[dC]=VC(G)),r.xOffset=r.yOffset=0,r.force3D=PS.force3D,r.renderTransform=r.svg?ZC:VR?QC:KC,r.uncache=0,r},VC=function(t){return(t=t.split(" "))[0]+" "+t[1]},qC=function(t,e,r){var n=hT(e);return NN(parseFloat(e)+parseFloat(IC(t,"x",r+"px",n)))+n},KC=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,QC(t,e)},JC="0deg",XC="0px",YC=") ",QC=function(t,e){var r=e||this,n=r.xPercent,i=r.yPercent,o=r.x,s=r.y,a=r.z,u=r.rotation,l=r.rotationY,h=r.rotationX,c=r.skewX,f=r.skewY,d=r.scaleX,p=r.scaleY,m=r.transformPerspective,g=r.force3D,v=r.target,y=r.zOrigin,w="",b="auto"===g&&t&&1!==t||!0===g;if(y&&(h!==JC||l!==JC)){var A,M=parseFloat(l)*JR,_=Math.sin(M),E=Math.cos(M);M=parseFloat(h)*JR,A=Math.cos(M),o=qC(v,o,_*A*-y),s=qC(v,s,-Math.sin(M)*-y),a=qC(v,a,E*A*-y+y)}m!==XC&&(w+="perspective("+m+YC),(n||i)&&(w+="translate("+n+"%, "+i+"%) "),(b||o!==XC||s!==XC||a!==XC)&&(w+=a!==XC||b?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+YC),u!==JC&&(w+="rotate("+u+YC),l!==JC&&(w+="rotateY("+l+YC),h!==JC&&(w+="rotateX("+h+YC),c===JC&&f===JC||(w+="skew("+c+", "+f+YC),1===d&&1===p||(w+="scale("+d+", "+p+YC),v.style[fC]=w||"translate(0, 0)"},ZC=function(t,e){var r,n,i,o,s,a=e||this,u=a.xPercent,l=a.yPercent,h=a.x,c=a.y,f=a.rotation,d=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,w=a.yOrigin,b=a.xOffset,A=a.yOffset,M=a.forceCSS,_=parseFloat(h),E=parseFloat(c);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=JR,d*=JR,r=Math.cos(f)*m,n=Math.sin(f)*m,i=Math.sin(f-d)*-g,o=Math.cos(f-d)*g,d&&(p*=JR,s=Math.tan(d-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),n*=s)),r=NN(r),n=NN(n),i=NN(i),o=NN(o)):(r=m,o=g,n=i=0),(_&&!~(h+"").indexOf("px")||E&&!~(c+"").indexOf("px"))&&(_=IC(v,"x",h,"px"),E=IC(v,"y",c,"px")),(y||w||b||A)&&(_=NN(_+y-(y*r+w*i)+b),E=NN(E+w-(y*n+w*o)+A)),(u||l)&&(s=v.getBBox(),_=NN(_+u/100*s.width),E=NN(E+l/100*s.height)),s="matrix("+r+","+n+","+i+","+o+","+_+","+E+")",v.setAttribute("transform",s),M&&(v.style[fC]=s)},$C=function(t,e,r,n,i){var o,s,a=360,u=jS(i),l=parseFloat(i)*(u&&~i.indexOf("rad")?KR:1)-n,h=n+l+"deg";return u&&("short"===(o=i.split("_")[1])&&(l%=a)!==l%180&&(l+=l<0?a:-360),"cw"===o&&l<0?l=(l+36e9)%a-~~(l/a)*a:"ccw"===o&&l>0&&(l=(l-36e9)%a-~~(l/a)*a)),t._pt=s=new ER(t._pt,e,r,n,l,eC),s.e=h,s.u="deg",t._props.push(r),s},tI=function(t,e){for(var r in e)t[r]=e[r];return t},eI=function(t,e,r){var n,i,o,s,a,u,l,h=tI({},r._gsap),c=r.style;for(i in h.svg?(o=r.getAttribute("transform"),r.setAttribute("transform",""),c[fC]=e,n=WC(r,1),NC(r,fC),r.setAttribute("transform",o)):(o=getComputedStyle(r)[fC],c[fC]=e,n=WC(r,1),c[fC]=o),qR)(o=h[i])!==(s=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=hT(o)!==(l=hT(s))?IC(r,i,o,l):parseFloat(o),u=parseFloat(s),t._pt=new ER(t._pt,n,i,a,u-a,tC),t._pt.u=l||0,t._props.push(i));tI(n,h)};SN("padding,margin,Width,Radius",(function(t,e){var r="Top",n="Right",i="Bottom",o="Left",s=(e<3?[r,n,i,o]:[r+o,r+n,i+n,i+o]).map((function(r){return e<2?t+r:"border"+r+t}));BC[e>1?"border"+t:t]=function(t,e,r,n,i){var o,a;if(arguments.length<4)return o=s.map((function(e){return PC(t,e,r)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(n+"").split(" "),a={},s.forEach((function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,a,i)}}));var rI={name:"css",register:MC,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,n,i){var o,s,a,u,l,h,c,f,d,p,m,g,v,y,w,b,A=this._props,M=t.style,_=r.vars.startAt;for(c in zR||MC(),this.styles=this.styles||vC(t),b=this.styles.props,this.tween=r,e)if("autoRound"!==c&&(s=e[c],!yN[c]||!iR(c,e,r,n,t,i)))if(l=typeof s,h=BC[c],"function"===l&&(l=typeof(s=s.call(r,n,t,i))),"string"===l&&~s.indexOf("random(")&&(s=MT(s)),h)h(this,t,c,s,r)&&(w=1);else if("--"===c.substr(0,2))o=(getComputedStyle(t).getPropertyValue(c)+"").trim(),s+="",UT.lastIndex=0,UT.test(o)||(f=hT(o),d=hT(s)),d?f!==d&&(o=IC(t,c,o,d)+d):f&&(s+=f),this.add(M,"setProperty",o,s,n,i,0,0,c),A.push(c),b.push(c,0,M[c]);else if("undefined"!==l){if(_&&c in _?(o="function"===typeof _[c]?_[c].call(r,n,t,i):_[c],jS(o)&&~o.indexOf("random(")&&(o=MT(o)),hT(o+"")||"auto"===o||(o+=PS.units[c]||hT(PC(t,c))||""),"="===(o+"").charAt(1)&&(o=PC(t,c))):o=PC(t,c),u=parseFloat(o),(p="string"===l&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),c in $R&&("autoAlpha"===c&&(1===u&&"hidden"===PC(t,"visibility")&&a&&(u=0),b.push("visibility",0,M.visibility),TC(this,M,"visibility",u?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==c&&"transform"!==c&&~(c=$R[c]).indexOf(",")&&(c=c.split(",")[0])),m=c in qR)if(this.styles.save(c),g||((v=t._gsap).renderTransform&&!e.parseTransform||WC(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(g=this._pt=new ER(this._pt,M,fC,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===c)this._pt=new ER(this._pt,v,"scaleY",v.scaleY,(p?RN(v.scaleY,p+a):a)-v.scaleY||0,tC),this._pt.u=0,A.push("scaleY",c),c+="X";else{if("transformOrigin"===c){b.push(dC,0,M[dC]),s=UC(s),v.svg?HC(t,s,0,y,0,this):((d=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&TC(this,v,"zOrigin",v.zOrigin,d),TC(this,M,c,VC(o),VC(s)));continue}if("svgOrigin"===c){HC(t,s,1,y,0,this);continue}if(c in FC){$C(this,v,c,u,p?RN(u,p+s):s);continue}if("smoothOrigin"===c){TC(this,v,"smooth",v.smooth,s);continue}if("force3D"===c){v[c]=s;continue}if("transform"===c){eI(this,s,t);continue}}else c in M||(c=AC(c)||c);if(m||(a||0===a)&&(u||0===u)&&!ZR.test(s)&&c in M)a||(a=0),(f=(o+"").substr((u+"").length))!==(d=hT(s)||(c in PS.units?PS.units[c]:f))&&(u=IC(t,c,o,d)),this._pt=new ER(this._pt,m?v:M,c,u,(p?RN(u,p+a):a)-u,m||"px"!==d&&"zIndex"!==c||!1===e.autoRound?tC:nC),this._pt.u=d||0,f!==d&&"%"!==d&&(this._pt.b=o,this._pt.r=rC);else if(c in M)kC.call(this,t,c,o,p?p+s:s);else if(c in t)this.add(t,c,o||t[c],p?p+s:s,n,i);else if("parseTransform"!==c){uN(c,s);continue}m||(c in M?b.push(c,0,M[c]):b.push(c,1,o||t[c])),A.push(c)}w&&_R(this)},render:function(t,e){if(e.tween._time||!WR())for(var r=e._pt;r;)r.r(t,r.d),r=r._next;else e.styles.revert()},get:PC,aliases:$R,getSetter:function(t,e,r){var n=$R[e];return n&&n.indexOf(",")<0&&(e=n),e in qR&&e!==dC&&(t._gsap.x||PC(t,"x"))?r&&HR===r?"scale"===e?lC:uC:(HR=r||{})&&("scale"===e?hC:cC):t.style&&!VS(t.style[e])?sC:~e.indexOf("-")?aC:mR(t,e)},core:{_removeProperty:NC,_getMatrix:jC}};BR.utils.checkPrefix=AC,BR.core.getStyleSaver=vC,function(t,e,r,n){var i=SN(t+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){qR[t]=1}));SN(e,(function(t){PS.units[t]="deg",FC[t]=1})),$R[i[13]]=t+","+e,SN("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");$R[e[1]]=i[e[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),SN("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){PS.units[t]="px"})),BR.registerPlugin(rI);var nI=BR.registerPlugin(rI)||BR;nI.core.Tween;function iI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var oI,sI,aI,uI,lI,hI,cI,fI,dI,pI,mI,gI,vI,yI=function(){return oI||"undefined"!==typeof window&&(oI=window.gsap)&&oI.registerPlugin&&oI},wI=1,bI=[],AI=[],MI=[],_I=Date.now,EI=function(t,e){return e},xI=function(t,e){return~MI.indexOf(t)&&MI[MI.indexOf(t)+1][e]},SI=function(t){return!!~pI.indexOf(t)},NI=function(t,e,r,n,i){return t.addEventListener(e,r,{passive:!1!==n,capture:!!i})},TI=function(t,e,r,n){return t.removeEventListener(e,r,!!n)},RI="scrollLeft",CI="scrollTop",II=function(){return mI&&mI.isPressed||AI.cache++},PI=function(t,e){var r=function r(n){if(n||0===n){wI&&(aI.history.scrollRestoration="manual");var i=mI&&mI.isPressed;n=r.v=Math.round(n)||(mI&&mI.iOS?1:0),t(n),r.cacheID=AI.cache,i&&EI("ss",n)}else(e||AI.cache!==r.cacheID||EI("ref"))&&(r.cacheID=AI.cache,r.v=t());return r.v+r.offset};return r.offset=0,t&&r},kI={s:RI,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:PI((function(t){return arguments.length?aI.scrollTo(t,OI.sc()):aI.pageXOffset||uI[RI]||lI[RI]||hI[RI]||0}))},OI={s:CI,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:kI,sc:PI((function(t){return arguments.length?aI.scrollTo(kI.sc(),t):aI.pageYOffset||uI[CI]||lI[CI]||hI[CI]||0}))},UI=function(t,e){return(e&&e._ctx&&e._ctx.selector||oI.utils.toArray)(t)[0]||("string"===typeof t&&!1!==oI.config().nullTargetWarn?console.warn("Element not found:",t):null)},LI=function(t,e){var r=e.s,n=e.sc;SI(t)&&(t=uI.scrollingElement||lI);var i=AI.indexOf(t),o=n===OI.sc?1:2;!~i&&(i=AI.push(t)-1),AI[i+o]||NI(t,"scroll",II);var s=AI[i+o],a=s||(AI[i+o]=PI(xI(t,r),!0)||(SI(t)?n:PI((function(e){return arguments.length?t[r]=e:t[r]}))));return a.target=t,s||(a.smooth="smooth"===oI.getProperty(t,"scrollBehavior")),a},BI=function(t,e,r){var n=t,i=t,o=_I(),s=o,a=e||50,u=Math.max(500,3*a),l=function(t,e){var u=_I();e||u-o>a?(i=n,n=t,s=o,o=u):r?n+=t:n=i+(t-i)/(u-s)*(o-s)};return{update:l,reset:function(){i=n=r?0:n,s=o=0},getVelocity:function(t){var e=s,a=i,h=_I();return(t||0===t)&&t!==n&&l(t),o===s||h-s>u?0:(n+(r?a:-a))/((r?h:o)-e)*1e3}}},DI=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},FI=function(t){var e=Math.max.apply(Math,t),r=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(r)?e:r},GI=function(){(dI=oI.core.globals().ScrollTrigger)&&dI.core&&function(){var t=dI.core,e=t.bridge||{},r=t._scrollers,n=t._proxies;r.push.apply(r,AI),n.push.apply(n,MI),AI=r,MI=n,EI=function(t,r){return e[t](r)}}()},zI=function(t){return oI=t||yI(),!sI&&oI&&"undefined"!==typeof document&&document.body&&(aI=window,uI=document,lI=uI.documentElement,hI=uI.body,pI=[aI,uI,lI,hI],oI.utils.clamp,vI=oI.core.context||function(){},fI="onpointerenter"in hI?"pointer":"mouse",cI=jI.isTouch=aI.matchMedia&&aI.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in aI||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,gI=jI.eventTypes=("ontouchstart"in lI?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in lI?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return wI=0}),500),GI(),sI=1),sI};kI.op=OI,AI.cache=0;var jI=function(){function t(t){this.init(t)}var e,r,n;return t.prototype.init=function(t){sI||zI(oI)||console.warn("Please gsap.registerPlugin(Observer)"),dI||GI();var e=t.tolerance,r=t.dragMinimum,n=t.type,i=t.target,o=t.lineHeight,s=t.debounce,a=t.preventDefault,u=t.onStop,l=t.onStopDelay,h=t.ignore,c=t.wheelSpeed,f=t.event,d=t.onDragStart,p=t.onDragEnd,m=t.onDrag,g=t.onPress,v=t.onRelease,y=t.onRight,w=t.onLeft,b=t.onUp,A=t.onDown,M=t.onChangeX,_=t.onChangeY,E=t.onChange,x=t.onToggleX,S=t.onToggleY,N=t.onHover,T=t.onHoverEnd,R=t.onMove,C=t.ignoreCheck,I=t.isNormalizer,P=t.onGestureStart,k=t.onGestureEnd,O=t.onWheel,U=t.onEnable,L=t.onDisable,B=t.onClick,D=t.scrollSpeed,F=t.capture,G=t.allowClicks,z=t.lockAxis,j=t.onLockAxis;this.target=i=UI(i)||lI,this.vars=t,h&&(h=oI.utils.toArray(h)),e=e||1e-9,r=r||0,c=c||1,D=D||1,n=n||"wheel,touch,pointer",s=!1!==s,o||(o=parseFloat(aI.getComputedStyle(hI).lineHeight)||22);var H,W,V,q,K,J,X,Y=this,Q=0,Z=0,$=t.passive||!a,tt=LI(i,kI),et=LI(i,OI),rt=tt(),nt=et(),it=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===gI[0],ot=SI(i),st=i.ownerDocument||uI,at=[0,0,0],ut=[0,0,0],lt=0,ht=function(){return lt=_I()},ct=function(t,e){return(Y.event=t)&&h&&~h.indexOf(t.target)||e&&it&&"touch"!==t.pointerType||C&&C(t,e)},ft=function(){var t=Y.deltaX=FI(at),r=Y.deltaY=FI(ut),n=Math.abs(t)>=e,i=Math.abs(r)>=e;E&&(n||i)&&E(Y,t,r,at,ut),n&&(y&&Y.deltaX>0&&y(Y),w&&Y.deltaX<0&&w(Y),M&&M(Y),x&&Y.deltaX<0!==Q<0&&x(Y),Q=Y.deltaX,at[0]=at[1]=at[2]=0),i&&(A&&Y.deltaY>0&&A(Y),b&&Y.deltaY<0&&b(Y),_&&_(Y),S&&Y.deltaY<0!==Z<0&&S(Y),Z=Y.deltaY,ut[0]=ut[1]=ut[2]=0),(q||V)&&(R&&R(Y),V&&(m(Y),V=!1),q=!1),J&&!(J=!1)&&j&&j(Y),K&&(O(Y),K=!1),H=0},dt=function(t,e,r){at[r]+=t,ut[r]+=e,Y._vx.update(t),Y._vy.update(e),s?H||(H=requestAnimationFrame(ft)):ft()},pt=function(t,e){z&&!X&&(Y.axis=X=Math.abs(t)>Math.abs(e)?"x":"y",J=!0),"y"!==X&&(at[2]+=t,Y._vx.update(t,!0)),"x"!==X&&(ut[2]+=e,Y._vy.update(e,!0)),s?H||(H=requestAnimationFrame(ft)):ft()},mt=function(t){if(!ct(t,1)){var e=(t=DI(t,a)).clientX,n=t.clientY,i=e-Y.x,o=n-Y.y,s=Y.isDragging;Y.x=e,Y.y=n,(s||Math.abs(Y.startX-e)>=r||Math.abs(Y.startY-n)>=r)&&(m&&(V=!0),s||(Y.isDragging=!0),pt(i,o),s||d&&d(Y))}},gt=Y.onPress=function(t){ct(t,1)||t&&t.button||(Y.axis=X=null,W.pause(),Y.isPressed=!0,t=DI(t),Q=Z=0,Y.startX=Y.x=t.clientX,Y.startY=Y.y=t.clientY,Y._vx.reset(),Y._vy.reset(),NI(I?i:st,gI[1],mt,$,!0),Y.deltaX=Y.deltaY=0,g&&g(Y))},vt=Y.onRelease=function(t){if(!ct(t,1)){TI(I?i:st,gI[1],mt,!0);var e=!isNaN(Y.y-Y.startY),r=Y.isDragging,n=r&&(Math.abs(Y.x-Y.startX)>3||Math.abs(Y.y-Y.startY)>3),o=DI(t);!n&&e&&(Y._vx.reset(),Y._vy.reset(),a&&G&&oI.delayedCall(.08,(function(){if(_I()-lt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(st.createEvent){var e=st.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,aI,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Y.isDragging=Y.isGesturing=Y.isPressed=!1,u&&r&&!I&&W.restart(!0),p&&r&&p(Y),v&&v(Y,n)}},yt=function(t){return t.touches&&t.touches.length>1&&(Y.isGesturing=!0)&&P(t,Y.isDragging)},wt=function(){return(Y.isGesturing=!1)||k(Y)},bt=function(t){if(!ct(t)){var e=tt(),r=et();dt((e-rt)*D,(r-nt)*D,1),rt=e,nt=r,u&&W.restart(!0)}},At=function(t){if(!ct(t)){t=DI(t,a),O&&(K=!0);var e=(1===t.deltaMode?o:2===t.deltaMode?aI.innerHeight:1)*c;dt(t.deltaX*e,t.deltaY*e,0),u&&!I&&W.restart(!0)}},Mt=function(t){if(!ct(t)){var e=t.clientX,r=t.clientY,n=e-Y.x,i=r-Y.y;Y.x=e,Y.y=r,q=!0,u&&W.restart(!0),(n||i)&&pt(n,i)}},_t=function(t){Y.event=t,N(Y)},Et=function(t){Y.event=t,T(Y)},xt=function(t){return ct(t)||DI(t,a)&&B(Y)};W=Y._dc=oI.delayedCall(l||.25,(function(){Y._vx.reset(),Y._vy.reset(),W.pause(),u&&u(Y)})).pause(),Y.deltaX=Y.deltaY=0,Y._vx=BI(0,50,!0),Y._vy=BI(0,50,!0),Y.scrollX=tt,Y.scrollY=et,Y.isDragging=Y.isGesturing=Y.isPressed=!1,vI(this),Y.enable=function(t){return Y.isEnabled||(NI(ot?st:i,"scroll",II),n.indexOf("scroll")>=0&&NI(ot?st:i,"scroll",bt,$,F),n.indexOf("wheel")>=0&&NI(i,"wheel",At,$,F),(n.indexOf("touch")>=0&&cI||n.indexOf("pointer")>=0)&&(NI(i,gI[0],gt,$,F),NI(st,gI[2],vt),NI(st,gI[3],vt),G&&NI(i,"click",ht,!0,!0),B&&NI(i,"click",xt),P&&NI(st,"gesturestart",yt),k&&NI(st,"gestureend",wt),N&&NI(i,fI+"enter",_t),T&&NI(i,fI+"leave",Et),R&&NI(i,fI+"move",Mt)),Y.isEnabled=!0,t&&t.type&&gt(t),U&&U(Y)),Y},Y.disable=function(){Y.isEnabled&&(bI.filter((function(t){return t!==Y&&SI(t.target)})).length||TI(ot?st:i,"scroll",II),Y.isPressed&&(Y._vx.reset(),Y._vy.reset(),TI(I?i:st,gI[1],mt,!0)),TI(ot?st:i,"scroll",bt,F),TI(i,"wheel",At,F),TI(i,gI[0],gt,F),TI(st,gI[2],vt),TI(st,gI[3],vt),TI(i,"click",ht,!0),TI(i,"click",xt),TI(st,"gesturestart",yt),TI(st,"gestureend",wt),TI(i,fI+"enter",_t),TI(i,fI+"leave",Et),TI(i,fI+"move",Mt),Y.isEnabled=Y.isPressed=Y.isDragging=!1,L&&L(Y))},Y.kill=Y.revert=function(){Y.disable();var t=bI.indexOf(Y);t>=0&&bI.splice(t,1),mI===Y&&(mI=0)},bI.push(Y),I&&SI(i)&&(mI=Y),Y.enable(f)},e=t,(r=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&iI(e.prototype,r),n&&iI(e,n),t}();jI.version="3.12.5",jI.create=function(t){return new jI(t)},jI.register=zI,jI.getAll=function(){return bI.slice()},jI.getById=function(t){return bI.filter((function(e){return e.vars.id===t}))[0]},yI()&&oI.registerPlugin(jI);var HI,WI,VI,qI,KI,JI,XI,YI,QI,ZI,$I,tP,eP,rP,nP,iP,oP,sP,aP,uP,lP,hP,cP,fP,dP,pP,mP,gP,vP,yP,wP,bP,AP,MP,_P,EP,xP,SP,NP=1,TP=Date.now,RP=TP(),CP=0,IP=0,PP=function(t,e,r){var n=qP(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return r["_"+e+"Clamp"]=n,n?t.substr(6,t.length-7):t},kP=function(t,e){return!e||qP(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},OP=function t(){return IP&&requestAnimationFrame(t)},UP=function(){return rP=1},LP=function(){return rP=0},BP=function(t){return t},DP=function(t){return Math.round(1e5*t)/1e5||0},FP=function(){return"undefined"!==typeof window},GP=function(){return HI||FP()&&(HI=window.gsap)&&HI.registerPlugin&&HI},zP=function(t){return!!~XI.indexOf(t)},jP=function(t){return("Height"===t?wP:VI["inner"+t])||KI["client"+t]||JI["client"+t]},HP=function(t){return xI(t,"getBoundingClientRect")||(zP(t)?function(){return rO.width=VI.innerWidth,rO.height=wP,rO}:function(){return mk(t)})},WP=function(t,e){var r=e.s,n=e.d2,i=e.d,o=e.a;return Math.max(0,(r="scroll"+n)&&(o=xI(t,r))?o()-HP(t)()[i]:zP(t)?(KI[r]||JI[r])-jP(n):t[r]-t["offset"+n])},VP=function(t,e){for(var r=0;r<aP.length;r+=3)(!e||~e.indexOf(aP[r+1]))&&t(aP[r],aP[r+1],aP[r+2])},qP=function(t){return"string"===typeof t},KP=function(t){return"function"===typeof t},JP=function(t){return"number"===typeof t},XP=function(t){return"object"===typeof t},YP=function(t,e,r){return t&&t.progress(e?0:1)&&r&&t.pause()},QP=function(t,e){if(t.enabled){var r=t._ctx?t._ctx.add((function(){return e(t)})):e(t);r&&r.totalTime&&(t.callbackAnimation=r)}},ZP=Math.abs,$P="left",tk="right",ek="bottom",rk="width",nk="height",ik="Right",ok="Left",sk="Top",ak="Bottom",uk="padding",lk="margin",hk="Width",ck="Height",fk="px",dk=function(t){return VI.getComputedStyle(t)},pk=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},mk=function(t,e){var r=e&&"matrix(1, 0, 0, 1, 0, 0)"!==dk(t)[nP]&&HI.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return r&&r.progress(0).kill(),n},gk=function(t,e){var r=e.d2;return t["offset"+r]||t["client"+r]||0},vk=function(t){var e,r=[],n=t.labels,i=t.duration();for(e in n)r.push(n[e]/i);return r},yk=function(t){var e=HI.utils.snap(t),r=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return r?function(t,n,i){var o;if(void 0===i&&(i=.001),!n)return e(t);if(n>0){for(t-=i,o=0;o<r.length;o++)if(r[o]>=t)return r[o];return r[o-1]}for(o=r.length,t+=i;o--;)if(r[o]<=t)return r[o];return r[0]}:function(r,n,i){void 0===i&&(i=.001);var o=e(r);return!n||Math.abs(o-r)<i||o-r<0===n<0?o:e(n<0?r-t:r+t)}},wk=function(t,e,r,n){return r.split(",").forEach((function(r){return t(e,r,n)}))},bk=function(t,e,r,n,i){return t.addEventListener(e,r,{passive:!n,capture:!!i})},Ak=function(t,e,r,n){return t.removeEventListener(e,r,!!n)},Mk=function(t,e,r){(r=r&&r.wheelHandler)&&(t(e,"wheel",r),t(e,"touchmove",r))},_k={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ek={toggleActions:"play",anticipatePin:0},xk={top:0,left:0,center:.5,bottom:1,right:1},Sk=function(t,e){if(qP(t)){var r=t.indexOf("="),n=~r?+(t.charAt(r-1)+1)*parseFloat(t.substr(r+1)):0;~r&&(t.indexOf("%")>r&&(n*=e/100),t=t.substr(0,r-1)),t=n+(t in xk?xk[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},Nk=function(t,e,r,n,i,o,s,a){var u=i.startColor,l=i.endColor,h=i.fontSize,c=i.indent,f=i.fontWeight,d=qI.createElement("div"),p=zP(r)||"fixed"===xI(r,"pinType"),m=-1!==t.indexOf("scroller"),g=p?JI:r,v=-1!==t.indexOf("start"),y=v?u:l,w="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(w+=(n===OI?tk:ek)+":"+(o+parseFloat(c))+"px;"),s&&(w+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),d._isStart=v,d.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),d.style.cssText=w,d.innerText=e||0===e?t+"-"+e:t,g.children[0]?g.insertBefore(d,g.children[0]):g.appendChild(d),d._offset=d["offset"+n.op.d2],Tk(d,0,n,v),d},Tk=function(t,e,r,n){var i={display:"block"},o=r[n?"os2":"p2"],s=r[n?"p2":"os2"];t._isFlipped=n,i[r.a+"Percent"]=n?-100:0,i[r.a]=n?"1px":0,i["border"+o+hk]=1,i["border"+s+hk]=0,i[r.p]=e+"px",HI.set(t,i)},Rk=[],Ck={},Ik=function(){return TP()-CP>34&&(_P||(_P=requestAnimationFrame(Xk)))},Pk=function(){(!cP||!cP.isPressed||cP.startX>JI.clientWidth)&&(AI.cache++,cP?_P||(_P=requestAnimationFrame(Xk)):Xk(),CP||Dk("scrollStart"),CP=TP())},kk=function(){pP=VI.innerWidth,dP=VI.innerHeight},Ok=function(){AI.cache++,!eP&&!hP&&!qI.fullscreenElement&&!qI.webkitFullscreenElement&&(!fP||pP!==VI.innerWidth||Math.abs(VI.innerHeight-dP)>.25*VI.innerHeight)&&YI.restart(!0)},Uk={},Lk=[],Bk=function t(){return Ak(lO,"scrollEnd",t)||qk(!0)},Dk=function(t){return Uk[t]&&Uk[t].map((function(t){return t()}))||Lk},Fk=[],Gk=function(t){for(var e=0;e<Fk.length;e+=5)(!t||Fk[e+4]&&Fk[e+4].query===t)&&(Fk[e].style.cssText=Fk[e+1],Fk[e].getBBox&&Fk[e].setAttribute("transform",Fk[e+2]||""),Fk[e+3].uncache=1)},zk=function(t,e){var r;for(iP=0;iP<Rk.length;iP++)!(r=Rk[iP])||e&&r._ctx!==e||(t?r.kill(1):r.revert(!0,!0));bP=!0,e&&Gk(e),e||Dk("revert")},jk=function(t,e){AI.cache++,(e||!EP)&&AI.forEach((function(t){return KP(t)&&t.cacheID++&&(t.rec=0)})),qP(t)&&(VI.history.scrollRestoration=vP=t)},Hk=0,Wk=function(){JI.appendChild(yP),wP=!cP&&yP.offsetHeight||VI.innerHeight,JI.removeChild(yP)},Vk=function(t){return QI(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},qk=function(t,e){if(!CP||t||bP){Wk(),EP=lO.isRefreshing=!0,AI.forEach((function(t){return KP(t)&&++t.cacheID&&(t.rec=t())}));var r=Dk("refreshInit");uP&&lO.sort(),e||zk(),AI.forEach((function(t){KP(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),Rk.slice(0).forEach((function(t){return t.refresh()})),bP=!1,Rk.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",r=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-r),t.refresh()}})),AP=1,Vk(!0),Rk.forEach((function(t){var e=WP(t.scroller,t._dir),r="max"===t.vars.end||t._endClamp&&t.end>e,n=t._startClamp&&t.start>=e;(r||n)&&t.setPositions(n?e-1:t.start,r?Math.max(n?e:t.start+1,e):t.end,!0)})),Vk(!1),AP=0,r.forEach((function(t){return t&&t.render&&t.render(-1)})),AI.forEach((function(t){KP(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),jk(vP,1),YI.pause(),Hk++,EP=2,Xk(2),Rk.forEach((function(t){return KP(t.vars.onRefresh)&&t.vars.onRefresh(t)})),EP=lO.isRefreshing=!1,Dk("refresh")}else bk(lO,"scrollEnd",Bk)},Kk=0,Jk=1,Xk=function(t){if(2===t||!EP&&!bP){lO.isUpdating=!0,SP&&SP.update(0);var e=Rk.length,r=TP(),n=r-RP>=50,i=e&&Rk[0].scroll();if(Jk=Kk>i?-1:1,EP||(Kk=i),n&&(CP&&!rP&&r-CP>200&&(CP=0,Dk("scrollEnd")),$I=RP,RP=r),Jk<0){for(iP=e;iP-- >0;)Rk[iP]&&Rk[iP].update(0,n);Jk=1}else for(iP=0;iP<e;iP++)Rk[iP]&&Rk[iP].update(0,n);lO.isUpdating=!1}_P=0},Yk=[$P,"top",ek,tk,lk+ak,lk+ik,lk+sk,lk+ok,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qk=Yk.concat([rk,nk,"boxSizing","max"+hk,"max"+ck,"position",lk,uk,uk+sk,uk+ik,uk+ak,uk+ok]),Zk=function(t,e,r,n){if(!t._gsap.swappedIn){for(var i,o=Yk.length,s=e.style,a=t.style;o--;)s[i=Yk[o]]=r[i];s.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(s.display="inline-block"),a[ek]=a[tk]="auto",s.flexBasis=r.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[rk]=gk(t,kI)+fk,s[nk]=gk(t,OI)+fk,s[uk]=a[lk]=a.top=a[$P]="0",tO(n),a[rk]=a["max"+hk]=r[rk],a[nk]=a["max"+ck]=r[nk],a[uk]=r[uk],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},$k=/([A-Z])/g,tO=function(t){if(t){var e,r,n=t.t.style,i=t.length,o=0;for((t.t._gsap||HI.core.getCache(t.t)).uncache=1;o<i;o+=2)r=t[o+1],e=t[o],r?n[e]=r:n[e]&&n.removeProperty(e.replace($k,"-$1").toLowerCase())}},eO=function(t){for(var e=Qk.length,r=t.style,n=[],i=0;i<e;i++)n.push(Qk[i],r[Qk[i]]);return n.t=t,n},rO={left:0,top:0},nO=function(t,e,r,n,i,o,s,a,u,l,h,c,f,d){KP(t)&&(t=t(a)),qP(t)&&"max"===t.substr(0,3)&&(t=c+("="===t.charAt(4)?Sk("0"+t.substr(3),r):0));var p,m,g,v=f?f.time():0;if(f&&f.seek(0),isNaN(t)||(t=+t),JP(t))f&&(t=HI.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,c,t)),s&&Tk(s,r,n,!0);else{KP(e)&&(e=e(a));var y,w,b,A,M=(t||"0").split(" ");g=UI(e,a)||JI,(y=mk(g)||{})&&(y.left||y.top)||"none"!==dk(g).display||(A=g.style.display,g.style.display="block",y=mk(g),A?g.style.display=A:g.style.removeProperty("display")),w=Sk(M[0],y[n.d]),b=Sk(M[1]||"0",r),t=y[n.p]-u[n.p]-l+w+i-b,s&&Tk(s,b,n,r-b<20||s._isStart&&b>20),r-=r-b}if(d&&(a[d]=t||-.001,t<0&&(t=0)),o){var _=t+r,E=o._isStart;p="scroll"+n.d2,Tk(o,_,n,E&&_>20||!E&&(h?Math.max(JI[p],KI[p]):o.parentNode[p])<=_+1),h&&(u=mk(s),h&&(o.style[n.op.p]=u[n.op.p]-n.op.m-o._offset+fk))}return f&&g&&(p=mk(g),f.seek(c),m=mk(g),f._caScrollDist=p[n.p]-m[n.p],t=t/f._caScrollDist*c),f&&f.seek(v),f?t:Math.round(t)},iO=/(webkit|moz|length|cssText|inset)/i,oO=function(t,e,r,n){if(t.parentNode!==e){var i,o,s=t.style;if(e===JI){for(i in t._stOrig=s.cssText,o=dk(t))+i||iO.test(i)||!o[i]||"string"!==typeof s[i]||"0"===i||(s[i]=o[i]);s.top=r,s.left=n}else s.cssText=t._stOrig;HI.core.getCache(t).uncache=1,e.appendChild(t)}},sO=function(t,e,r){var n=e,i=n;return function(e){var o=Math.round(t());return o!==n&&o!==i&&Math.abs(o-n)>3&&Math.abs(o-i)>3&&(e=o,r&&r()),i=n,n=e,e}},aO=function(t,e,r){var n={};n[e.p]="+="+r,HI.set(t,n)},uO=function(t,e){var r=LI(t,e),n="_scroll"+e.p2,i=function e(i,o,s,a,u){var l=e.tween,h=o.onComplete,c={};s=s||r();var f=sO(r,s,(function(){l.kill(),e.tween=0}));return u=a&&u||0,a=a||i-s,l&&l.kill(),o[n]=i,o.inherit=!1,o.modifiers=c,c[n]=function(){return f(s+a*l.ratio+u*l.ratio*l.ratio)},o.onUpdate=function(){AI.cache++,e.tween&&Xk()},o.onComplete=function(){e.tween=0,h&&h.call(l)},l=e.tween=HI.to(t,o)};return t[n]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},bk(t,"wheel",r.wheelHandler),lO.isTouch&&bk(t,"touchmove",r.wheelHandler),i},lO=function(){function t(e,r){WI||t.register(HI)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),gP(this),this.init(e,r)}return t.prototype.init=function(e,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),IP){var n,i,o,s,a,u,l,h,c,f,d,p,m,g,v,y,w,b,A,M,_,E,x,S,N,T,R,C,I,P,k,O,U,L,B,D,F,G,z,j,H=e=pk(qP(e)||JP(e)||e.nodeType?{trigger:e}:e,Ek),W=H.onUpdate,V=H.toggleClass,q=H.id,K=H.onToggle,J=H.onRefresh,X=H.scrub,Y=H.trigger,Q=H.pin,Z=H.pinSpacing,$=H.invalidateOnRefresh,tt=H.anticipatePin,et=H.onScrubComplete,rt=H.onSnapComplete,nt=H.once,it=H.snap,ot=H.pinReparent,st=H.pinSpacer,at=H.containerAnimation,ut=H.fastScrollEnd,lt=H.preventOverlaps,ht=e.horizontal||e.containerAnimation&&!1!==e.horizontal?kI:OI,ct=!X&&0!==X,ft=UI(e.scroller||VI),dt=HI.core.getCache(ft),pt=zP(ft),mt="fixed"===("pinType"in e?e.pinType:xI(ft,"pinType")||pt&&"fixed"),gt=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],vt=ct&&e.toggleActions.split(" "),yt="markers"in e?e.markers:Ek.markers,wt=pt?0:parseFloat(dk(ft)["border"+ht.p2+hk])||0,bt=this,At=e.onRefreshInit&&function(){return e.onRefreshInit(bt)},Mt=function(t,e,r){var n=r.d,i=r.d2,o=r.a;return(o=xI(t,"getBoundingClientRect"))?function(){return o()[n]}:function(){return(e?jP(i):t["client"+i])||0}}(ft,pt,ht),_t=function(t,e){return!e||~MI.indexOf(t)?HP(t):function(){return rO}}(ft,pt),Et=0,xt=0,St=0,Nt=LI(ft,ht);if(bt._startClamp=bt._endClamp=!1,bt._dir=ht,tt*=45,bt.scroller=ft,bt.scroll=at?at.time.bind(at):Nt,s=Nt(),bt.vars=e,r=r||e.animation,"refreshPriority"in e&&(uP=1,-9999===e.refreshPriority&&(SP=bt)),dt.tweenScroll=dt.tweenScroll||{top:uO(ft,OI),left:uO(ft,kI)},bt.tweenTo=n=dt.tweenScroll[ht.p],bt.scrubDuration=function(t){(U=JP(t)&&t)?O?O.duration(t):O=HI.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:U,paused:!0,onComplete:function(){return et&&et(bt)}}):(O&&O.progress(1).kill(),O=0)},r&&(r.vars.lazy=!1,r._initted&&!bt.isReverted||!1!==r.vars.immediateRender&&!1!==e.immediateRender&&r.duration()&&r.render(0,!0,!0),bt.animation=r.pause(),r.scrollTrigger=bt,bt.scrubDuration(X),P=0,q||(q=r.vars.id)),it&&(XP(it)&&!it.push||(it={snapTo:it}),"scrollBehavior"in JI.style&&HI.set(pt?[JI,KI]:ft,{scrollBehavior:"auto"}),AI.forEach((function(t){return KP(t)&&t.target===(pt?qI.scrollingElement||KI:ft)&&(t.smooth=!1)})),o=KP(it.snapTo)?it.snapTo:"labels"===it.snapTo?function(t){return function(e){return HI.utils.snap(vk(t),e)}}(r):"labelsDirectional"===it.snapTo?(j=r,function(t,e){return yk(vk(j))(t,e.direction)}):!1!==it.directional?function(t,e){return yk(it.snapTo)(t,TP()-xt<500?0:e.direction)}:HI.utils.snap(it.snapTo),L=it.duration||{min:.1,max:2},L=XP(L)?ZI(L.min,L.max):ZI(L,L),B=HI.delayedCall(it.delay||U/2||.1,(function(){var t=Nt(),e=TP()-xt<500,i=n.tween;if(!(e||Math.abs(bt.getVelocity())<10)||i||rP||Et===t)bt.isActive&&Et!==t&&B.restart(!0);else{var s,a,h=(t-u)/g,c=r&&!ct?r.totalProgress():h,f=e?0:(c-k)/(TP()-$I)*1e3||0,d=HI.utils.clamp(-h,1-h,ZP(f/2)*f/.185),p=h+(!1===it.inertia?0:d),m=it,v=m.onStart,y=m.onInterrupt,w=m.onComplete;if(s=o(p,bt),JP(s)||(s=p),a=Math.round(u+s*g),t<=l&&t>=u&&a!==t){if(i&&!i._initted&&i.data<=ZP(a-t))return;!1===it.inertia&&(d=s-h),n(a,{duration:L(ZP(.185*Math.max(ZP(p-c),ZP(s-c))/f/.05||0)),ease:it.ease||"power3",data:ZP(a-t),onInterrupt:function(){return B.restart(!0)&&y&&y(bt)},onComplete:function(){bt.update(),Et=Nt(),r&&(O?O.resetTo("totalProgress",s,r._tTime/r._tDur):r.progress(s)),P=k=r&&!ct?r.totalProgress():bt.progress,rt&&rt(bt),w&&w(bt)}},t,d*g,a-t-d*g),v&&v(bt,n.tween)}}})).pause()),q&&(Ck[q]=bt),(z=(Y=bt.trigger=UI(Y||!0!==Q&&Q))&&Y._gsap&&Y._gsap.stRevert)&&(z=z(bt)),Q=!0===Q?Y:UI(Q),qP(V)&&(V={targets:Y,className:V}),Q&&(!1===Z||Z===lk||(Z=!(!Z&&Q.parentNode&&Q.parentNode.style&&"flex"===dk(Q.parentNode).display)&&uk),bt.pin=Q,(i=HI.core.getCache(Q)).spacer?v=i.pinState:(st&&((st=UI(st))&&!st.nodeType&&(st=st.current||st.nativeElement),i.spacerIsNative=!!st,st&&(i.spacerState=eO(st))),i.spacer=b=st||qI.createElement("div"),b.classList.add("pin-spacer"),q&&b.classList.add("pin-spacer-"+q),i.pinState=v=eO(Q)),!1!==e.force3D&&HI.set(Q,{force3D:!0}),bt.spacer=b=i.spacer,I=dk(Q),S=I[Z+ht.os2],M=HI.getProperty(Q),_=HI.quickSetter(Q,ht.a,fk),Zk(Q,b,I),w=eO(Q)),yt){p=XP(yt)?pk(yt,_k):_k,f=Nk("scroller-start",q,ft,ht,p,0),d=Nk("scroller-end",q,ft,ht,p,0,f),A=f["offset"+ht.op.d2];var Tt=UI(xI(ft,"content")||ft);h=this.markerStart=Nk("start",q,Tt,ht,p,A,0,at),c=this.markerEnd=Nk("end",q,Tt,ht,p,A,0,at),at&&(G=HI.quickSetter([h,c],ht.a,fk)),mt||MI.length&&!0===xI(ft,"fixedMarkers")||(!function(t){var e=dk(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(pt?JI:ft),HI.set([f,d],{force3D:!0}),T=HI.quickSetter(f,ht.a,fk),C=HI.quickSetter(d,ht.a,fk))}if(at){var Rt=at.vars.onUpdate,Ct=at.vars.onUpdateParams;at.eventCallback("onUpdate",(function(){bt.update(0,0,1),Rt&&Rt.apply(at,Ct||[])}))}if(bt.previous=function(){return Rk[Rk.indexOf(bt)-1]},bt.next=function(){return Rk[Rk.indexOf(bt)+1]},bt.revert=function(t,e){if(!e)return bt.kill(!0);var n=!1!==t||!bt.enabled,i=eP;n!==bt.isReverted&&(n&&(D=Math.max(Nt(),bt.scroll.rec||0),St=bt.progress,F=r&&r.progress()),h&&[h,c,f,d].forEach((function(t){return t.style.display=n?"none":"block"})),n&&(eP=bt,bt.update(n)),!Q||ot&&bt.isActive||(n?function(t,e,r){tO(r);var n=t._gsap;if(n.spacerIsNative)tO(n.spacerState);else if(t._gsap.swappedIn){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}t._gsap.swappedIn=!1}(Q,b,v):Zk(Q,b,dk(Q),N)),n||bt.update(n),eP=i,bt.isReverted=n)},bt.refresh=function(i,o,p,A){if(!eP&&bt.enabled||o)if(Q&&i&&CP)bk(t,"scrollEnd",Bk);else{!EP&&At&&At(bt),eP=bt,n.tween&&!p&&(n.tween.kill(),n.tween=0),O&&O.pause(),$&&r&&r.revert({kill:!1}).invalidate(),bt.isReverted||bt.revert(!0,!0),bt._subPinOffset=!1;var _,S,T,C,I,P,k,U,L,G,z,j,H,W=Mt(),V=_t(),q=at?at.duration():WP(ft,ht),K=g<=.01,X=0,tt=A||0,et=XP(p)?p.end:e.end,rt=e.endTrigger||Y,nt=XP(p)?p.start:e.start||(0!==e.start&&Y?Q?"0 0":"0 100%":0),it=bt.pinnedContainer=e.pinnedContainer&&UI(e.pinnedContainer,bt),st=Y&&Math.max(0,Rk.indexOf(bt))||0,ut=st;for(yt&&XP(p)&&(j=HI.getProperty(f,ht.p),H=HI.getProperty(d,ht.p));ut--;)(P=Rk[ut]).end||P.refresh(0,1)||(eP=bt),!(k=P.pin)||k!==Y&&k!==Q&&k!==it||P.isReverted||(G||(G=[]),G.unshift(P),P.revert(!0,!0)),P!==Rk[ut]&&(st--,ut--);for(KP(nt)&&(nt=nt(bt)),nt=PP(nt,"start",bt),u=nO(nt,Y,W,ht,Nt(),h,f,bt,V,wt,mt,q,at,bt._startClamp&&"_startClamp")||(Q?-.001:0),KP(et)&&(et=et(bt)),qP(et)&&!et.indexOf("+=")&&(~et.indexOf(" ")?et=(qP(nt)?nt.split(" ")[0]:"")+et:(X=Sk(et.substr(2),W),et=qP(nt)?nt:(at?HI.utils.mapRange(0,at.duration(),at.scrollTrigger.start,at.scrollTrigger.end,u):u)+X,rt=Y)),et=PP(et,"end",bt),l=Math.max(u,nO(et||(rt?"100% 0":q),rt,W,ht,Nt()+X,c,d,bt,V,wt,mt,q,at,bt._endClamp&&"_endClamp"))||-.001,X=0,ut=st;ut--;)(k=(P=Rk[ut]).pin)&&P.start-P._pinPush<=u&&!at&&P.end>0&&(_=P.end-(bt._startClamp?Math.max(0,P.start):P.start),(k===Y&&P.start-P._pinPush<u||k===it)&&isNaN(nt)&&(X+=_*(1-P.progress)),k===Q&&(tt+=_));if(u+=X,l+=X,bt._startClamp&&(bt._startClamp+=X),bt._endClamp&&!EP&&(bt._endClamp=l||-.001,l=Math.min(l,WP(ft,ht))),g=l-u||(u-=.01)&&.001,K&&(St=HI.utils.clamp(0,1,HI.utils.normalize(u,l,D))),bt._pinPush=tt,h&&X&&((_={})[ht.a]="+="+X,it&&(_[ht.p]="-="+Nt()),HI.set([h,c],_)),!Q||AP&&bt.end>=WP(ft,ht)){if(Y&&Nt()&&!at)for(S=Y.parentNode;S&&S!==JI;)S._pinOffset&&(u-=S._pinOffset,l-=S._pinOffset),S=S.parentNode}else _=dk(Q),C=ht===OI,T=Nt(),E=parseFloat(M(ht.a))+tt,!q&&l>1&&(z={style:z=(pt?qI.scrollingElement||KI:ft).style,value:z["overflow"+ht.a.toUpperCase()]},pt&&"scroll"!==dk(JI)["overflow"+ht.a.toUpperCase()]&&(z.style["overflow"+ht.a.toUpperCase()]="scroll")),Zk(Q,b,_),w=eO(Q),S=mk(Q,!0),U=mt&&LI(ft,C?kI:OI)(),Z?((N=[Z+ht.os2,g+tt+fk]).t=b,(ut=Z===uk?gk(Q,ht)+g+tt:0)&&(N.push(ht.d,ut+fk),"auto"!==b.style.flexBasis&&(b.style.flexBasis=ut+fk)),tO(N),it&&Rk.forEach((function(t){t.pin===it&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),mt&&Nt(D)):(ut=gk(Q,ht))&&"auto"!==b.style.flexBasis&&(b.style.flexBasis=ut+fk),mt&&((I={top:S.top+(C?T-u:U)+fk,left:S.left+(C?U:T-u)+fk,boxSizing:"border-box",position:"fixed"})[rk]=I["max"+hk]=Math.ceil(S.width)+fk,I[nk]=I["max"+ck]=Math.ceil(S.height)+fk,I[lk]=I[lk+sk]=I[lk+ik]=I[lk+ak]=I[lk+ok]="0",I[uk]=_[uk],I[uk+sk]=_[uk+sk],I[uk+ik]=_[uk+ik],I[uk+ak]=_[uk+ak],I[uk+ok]=_[uk+ok],y=function(t,e,r){for(var n,i=[],o=t.length,s=r?8:0;s<o;s+=2)n=t[s],i.push(n,n in e?e[n]:t[s+1]);return i.t=t.t,i}(v,I,ot),EP&&Nt(0)),r?(L=r._initted,lP(1),r.render(r.duration(),!0,!0),x=M(ht.a)-E+g+tt,R=Math.abs(g-x)>1,mt&&R&&y.splice(y.length-2,2),r.render(0,!0,!0),L||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),lP(0)):x=g,z&&(z.value?z.style["overflow"+ht.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+ht.a));G&&G.forEach((function(t){return t.revert(!1,!0)})),bt.start=u,bt.end=l,s=a=EP?D:Nt(),at||EP||(s<D&&Nt(D),bt.scroll.rec=0),bt.revert(!1,!0),xt=TP(),B&&(Et=-1,B.restart(!0)),eP=0,r&&ct&&(r._initted||F)&&r.progress()!==F&&r.progress(F||0,!0).render(r.time(),!0,!0),(K||St!==bt.progress||at||$)&&(r&&!ct&&r.totalProgress(at&&u<-.001&&!St?HI.utils.normalize(u,l,0):St,!0),bt.progress=K||(s-u)/g===St?0:St),Q&&Z&&(b._pinOffset=Math.round(bt.progress*x)),O&&O.invalidate(),isNaN(j)||(j-=HI.getProperty(f,ht.p),H-=HI.getProperty(d,ht.p),aO(f,ht,j),aO(h,ht,j-(A||0)),aO(d,ht,H),aO(c,ht,H-(A||0))),K&&!EP&&bt.update(),!J||EP||m||(m=!0,J(bt),m=!1)}},bt.getVelocity=function(){return(Nt()-a)/(TP()-$I)*1e3||0},bt.endAnimation=function(){YP(bt.callbackAnimation),r&&(O?O.progress(1):r.paused()?ct||YP(r,bt.direction<0,1):YP(r,r.reversed()))},bt.labelToScroll=function(t){return r&&r.labels&&(u||bt.refresh()||u)+r.labels[t]/r.duration()*g||0},bt.getTrailing=function(t){var e=Rk.indexOf(bt),r=bt.direction>0?Rk.slice(0,e).reverse():Rk.slice(e+1);return(qP(t)?r.filter((function(e){return e.vars.preventOverlaps===t})):r).filter((function(t){return bt.direction>0?t.end<=u:t.start>=l}))},bt.update=function(t,e,i){if(!at||i||t){var o,h,c,d,p,m,v,A=!0===EP?D:bt.scroll(),M=t?0:(A-u)/g,N=M<0?0:M>1?1:M||0,I=bt.progress;if(e&&(a=s,s=at?Nt():A,it&&(k=P,P=r&&!ct?r.totalProgress():N)),tt&&Q&&!eP&&!NP&&CP&&(!N&&u<A+(A-a)/(TP()-$I)*tt?N=1e-4:1===N&&l>A+(A-a)/(TP()-$I)*tt&&(N=.9999)),N!==I&&bt.enabled){if(d=(p=(o=bt.isActive=!!N&&N<1)!==(!!I&&I<1))||!!N!==!!I,bt.direction=N>I?1:-1,bt.progress=N,d&&!eP&&(h=N&&!I?0:1===N?1:1===I?2:3,ct&&(c=!p&&"none"!==vt[h+1]&&vt[h+1]||vt[h],v=r&&("complete"===c||"reset"===c||c in r))),lt&&(p||v)&&(v||X||!r)&&(KP(lt)?lt(bt):bt.getTrailing(lt).forEach((function(t){return t.endAnimation()}))),ct||(!O||eP||NP?r&&r.totalProgress(N,!(!eP||!xt&&!t)):(O._dp._time-O._start!==O._time&&O.render(O._dp._time-O._start),O.resetTo?O.resetTo("totalProgress",N,r._tTime/r._tDur):(O.vars.totalProgress=N,O.invalidate().restart()))),Q)if(t&&Z&&(b.style[Z+ht.os2]=S),mt){if(d){if(m=!t&&N>I&&l+1>A&&A+1>=WP(ft,ht),ot)if(t||!o&&!m)oO(Q,b);else{var U=mk(Q,!0),L=A-u;oO(Q,JI,U.top+(ht===OI?L:0)+fk,U.left+(ht===OI?0:L)+fk)}tO(o||m?y:w),R&&N<1&&o||_(E+(1!==N||m?0:x))}}else _(DP(E+x*N));it&&!n.tween&&!eP&&!NP&&B.restart(!0),V&&(p||nt&&N&&(N<1||!MP))&&QI(V.targets).forEach((function(t){return t.classList[o||nt?"add":"remove"](V.className)})),W&&!ct&&!t&&W(bt),d&&!eP?(ct&&(v&&("complete"===c?r.pause().totalProgress(1):"reset"===c?r.restart(!0).pause():"restart"===c?r.restart(!0):r[c]()),W&&W(bt)),!p&&MP||(K&&p&&QP(bt,K),gt[h]&&QP(bt,gt[h]),nt&&(1===N?bt.kill(!1,1):gt[h]=0),p||gt[h=1===N?1:3]&&QP(bt,gt[h])),ut&&!o&&Math.abs(bt.getVelocity())>(JP(ut)?ut:2500)&&(YP(bt.callbackAnimation),O?O.progress(1):YP(r,"reverse"===c?1:!N,1))):ct&&W&&!eP&&W(bt)}if(C){var F=at?A/at.duration()*(at._caScrollDist||0):A;T(F+(f._isFlipped?1:0)),C(F)}G&&G(-A/at.duration()*(at._caScrollDist||0))}},bt.enable=function(e,r){bt.enabled||(bt.enabled=!0,bk(ft,"resize",Ok),pt||bk(ft,"scroll",Pk),At&&bk(t,"refreshInit",At),!1!==e&&(bt.progress=St=0,s=a=Et=Nt()),!1!==r&&bt.refresh())},bt.getTween=function(t){return t&&n?n.tween:O},bt.setPositions=function(t,e,r,n){if(at){var i=at.scrollTrigger,o=at.duration(),s=i.end-i.start;t=i.start+s*t/o,e=i.start+s*e/o}bt.refresh(!1,!1,{start:kP(t,r&&!!bt._startClamp),end:kP(e,r&&!!bt._endClamp)},n),bt.update()},bt.adjustPinSpacing=function(t){if(N&&t){var e=N.indexOf(ht.d)+1;N[e]=parseFloat(N[e])+t+fk,N[1]=parseFloat(N[1])+t+fk,tO(N)}},bt.disable=function(e,r){if(bt.enabled&&(!1!==e&&bt.revert(!0,!0),bt.enabled=bt.isActive=!1,r||O&&O.pause(),D=0,i&&(i.uncache=1),At&&Ak(t,"refreshInit",At),B&&(B.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!pt)){for(var o=Rk.length;o--;)if(Rk[o].scroller===ft&&Rk[o]!==bt)return;Ak(ft,"resize",Ok),pt||Ak(ft,"scroll",Pk)}},bt.kill=function(t,n){bt.disable(t,n),O&&!n&&O.kill(),q&&delete Ck[q];var o=Rk.indexOf(bt);o>=0&&Rk.splice(o,1),o===iP&&Jk>0&&iP--,o=0,Rk.forEach((function(t){return t.scroller===bt.scroller&&(o=1)})),o||EP||(bt.scroll.rec=0),r&&(r.scrollTrigger=null,t&&r.revert({kill:!1}),n||r.kill()),h&&[h,c,f,d].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),SP===bt&&(SP=0),Q&&(i&&(i.uncache=1),o=0,Rk.forEach((function(t){return t.pin===Q&&o++})),o||(i.spacer=0)),e.onKill&&e.onKill(bt)},Rk.push(bt),bt.enable(!1,!1),z&&z(bt),r&&r.add&&!g){var It=bt.update;bt.update=function(){bt.update=It,u||l||bt.refresh()},HI.delayedCall(.01,bt.update),g=.01,u=l=0}else bt.refresh();Q&&function(){if(xP!==Hk){var t=xP=Hk;requestAnimationFrame((function(){return t===Hk&&qk(!0)}))}}()}else this.update=this.refresh=this.kill=BP},t.register=function(e){return WI||(HI=e||GP(),FP()&&window.document&&t.enable(),WI=IP),WI},t.defaults=function(t){if(t)for(var e in t)Ek[e]=t[e];return Ek},t.disable=function(t,e){IP=0,Rk.forEach((function(r){return r[e?"kill":"disable"](t)})),Ak(VI,"wheel",Pk),Ak(qI,"scroll",Pk),clearInterval(tP),Ak(qI,"touchcancel",BP),Ak(JI,"touchstart",BP),wk(Ak,qI,"pointerdown,touchstart,mousedown",UP),wk(Ak,qI,"pointerup,touchend,mouseup",LP),YI.kill(),VP(Ak);for(var r=0;r<AI.length;r+=3)Mk(Ak,AI[r],AI[r+1]),Mk(Ak,AI[r],AI[r+2])},t.enable=function(){if(VI=window,qI=document,KI=qI.documentElement,JI=qI.body,HI&&(QI=HI.utils.toArray,ZI=HI.utils.clamp,gP=HI.core.context||BP,lP=HI.core.suppressOverwrites||BP,vP=VI.history.scrollRestoration||"auto",Kk=VI.pageYOffset,HI.core.globals("ScrollTrigger",t),JI)){IP=1,(yP=document.createElement("div")).style.height="100vh",yP.style.position="absolute",Wk(),OP(),jI.register(HI),t.isTouch=jI.isTouch,mP=jI.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),fP=1===jI.isTouch,bk(VI,"wheel",Pk),XI=[VI,qI,KI,JI],HI.matchMedia?(t.matchMedia=function(t){var e,r=HI.matchMedia();for(e in t)r.add(e,t[e]);return r},HI.addEventListener("matchMediaInit",(function(){return zk()})),HI.addEventListener("matchMediaRevert",(function(){return Gk()})),HI.addEventListener("matchMedia",(function(){qk(0,1),Dk("matchMedia")})),HI.matchMedia("(orientation: portrait)",(function(){return kk(),kk}))):console.warn("Requires GSAP 3.11.0 or later"),kk(),bk(qI,"scroll",Pk);var e,r,n=JI.style,i=n.borderTopStyle,o=HI.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",e=mk(JI),OI.m=Math.round(e.top+OI.sc())||0,kI.m=Math.round(e.left+kI.sc())||0,i?n.borderTopStyle=i:n.removeProperty("border-top-style"),tP=setInterval(Ik,250),HI.delayedCall(.5,(function(){return NP=0})),bk(qI,"touchcancel",BP),bk(JI,"touchstart",BP),wk(bk,qI,"pointerdown,touchstart,mousedown",UP),wk(bk,qI,"pointerup,touchend,mouseup",LP),nP=HI.utils.checkPrefix("transform"),Qk.push(nP),WI=TP(),YI=HI.delayedCall(.2,qk).pause(),aP=[qI,"visibilitychange",function(){var t=VI.innerWidth,e=VI.innerHeight;qI.hidden?(oP=t,sP=e):oP===t&&sP===e||Ok()},qI,"DOMContentLoaded",qk,VI,"load",qk,VI,"resize",Ok],VP(bk),Rk.forEach((function(t){return t.enable(0,1)})),r=0;r<AI.length;r+=3)Mk(Ak,AI[r],AI[r+1]),Mk(Ak,AI[r],AI[r+2])}},t.config=function(e){"limitCallbacks"in e&&(MP=!!e.limitCallbacks);var r=e.syncInterval;r&&clearInterval(tP)||(tP=r)&&setInterval(Ik,r),"ignoreMobileResize"in e&&(fP=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(VP(Ak)||VP(bk,e.autoRefreshEvents||"none"),hP=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var r=UI(t),n=AI.indexOf(r),i=zP(r);~n&&AI.splice(n,i?6:2),e&&(i?MI.unshift(VI,e,JI,e,KI,e):MI.unshift(r,e))},t.clearMatchMedia=function(t){Rk.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,r){var n=(qP(t)?UI(t):t).getBoundingClientRect(),i=n[r?rk:nk]*e||0;return r?n.right-i>0&&n.left+i<VI.innerWidth:n.bottom-i>0&&n.top+i<VI.innerHeight},t.positionInViewport=function(t,e,r){qP(t)&&(t=UI(t));var n=t.getBoundingClientRect(),i=n[r?rk:nk],o=null==e?i/2:e in xk?xk[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0;return r?(n.left+o)/VI.innerWidth:(n.top+o)/VI.innerHeight},t.killAll=function(t){if(Rk.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=Uk.killAll||[];Uk={},e.forEach((function(t){return t()}))}},t}();lO.version="3.12.5",lO.saveStyles=function(t){return t?QI(t).forEach((function(t){if(t&&t.style){var e=Fk.indexOf(t);e>=0&&Fk.splice(e,5),Fk.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),HI.core.getCache(t),gP())}})):Fk},lO.revert=function(t,e){return zk(!t,e)},lO.create=function(t,e){return new lO(t,e)},lO.refresh=function(t){return t?Ok():(WI||lO.register())&&qk(!0)},lO.update=function(t){return++AI.cache&&Xk(!0===t?2:0)},lO.clearScrollMemory=jk,lO.maxScroll=function(t,e){return WP(t,e?kI:OI)},lO.getScrollFunc=function(t,e){return LI(UI(t),e?kI:OI)},lO.getById=function(t){return Ck[t]},lO.getAll=function(){return Rk.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},lO.isScrolling=function(){return!!CP},lO.snapDirectional=yk,lO.addEventListener=function(t,e){var r=Uk[t]||(Uk[t]=[]);~r.indexOf(e)||r.push(e)},lO.removeEventListener=function(t,e){var r=Uk[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)},lO.batch=function(t,e){var r,n=[],i={},o=e.interval||.016,s=e.batchMax||1e9,a=function(t,e){var r=[],n=[],i=HI.delayedCall(o,(function(){e(r,n),r=[],n=[]})).pause();return function(t){r.length||i.restart(!0),r.push(t.trigger),n.push(t),s<=r.length&&i.progress(1)}};for(r in e)i[r]="on"===r.substr(0,2)&&KP(e[r])&&"onRefreshInit"!==r?a(0,e[r]):e[r];return KP(s)&&(s=s(),bk(lO,"refresh",(function(){return s=e.batchMax()}))),QI(t).forEach((function(t){var e={};for(r in i)e[r]=i[r];e.trigger=t,n.push(lO.create(e))})),n};var hO,cO=function(t,e,r,n){return e>n?t(n):e<0&&t(0),r>n?(n-e)/(r-e):r<0?e/(e-r):1},fO=function t(e,r){!0===r?e.style.removeProperty("touch-action"):e.style.touchAction=!0===r?"auto":r?"pan-"+r+(jI.isTouch?" pinch-zoom":""):"none",e===KI&&t(JI,r)},dO={auto:1,scroll:1},pO=function(t){var e,r=t.event,n=t.target,i=t.axis,o=(r.changedTouches?r.changedTouches[0]:r).target,s=o._gsap||HI.core.getCache(o),a=TP();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==JI&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!dO[(e=dk(o)).overflowY]&&!dO[e.overflowX]);)o=o.parentNode;s._isScroll=o&&o!==n&&!zP(o)&&(dO[(e=dk(o)).overflowY]||dO[e.overflowX]),s._isScrollT=a}(s._isScroll||"x"===i)&&(r.stopPropagation(),r._gsapAllow=!0)},mO=function(t,e,r,n){return jI.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:n=n&&pO,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return r&&bk(qI,jI.eventTypes[0],vO,!1,!0)},onDisable:function(){return Ak(qI,jI.eventTypes[0],vO,!0)}})},gO=/(input|label|select|textarea)/i,vO=function(t){var e=gO.test(t.target.tagName);(e||hO)&&(t._gsapAllow=!0,hO=e)},yO=function(t){XP(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,r,n,i,o,s,a,u,l=t,h=l.normalizeScrollX,c=l.momentum,f=l.allowNestedScroll,d=l.onRelease,p=UI(t.target)||KI,m=HI.core.globals().ScrollSmoother,g=m&&m.get(),v=mP&&(t.content&&UI(t.content)||g&&!1!==t.content&&!g.smooth()&&g.content()),y=LI(p,OI),w=LI(p,kI),b=1,A=(jI.isTouch&&VI.visualViewport?VI.visualViewport.scale*VI.visualViewport.width:VI.outerWidth)/VI.innerWidth,M=0,_=KP(c)?function(){return c(e)}:function(){return c||2.8},E=mO(p,t.type,!0,f),x=function(){return i=!1},S=BP,N=BP,T=function(){r=WP(p,OI),N=ZI(mP?1:0,r),h&&(S=ZI(0,WP(p,kI))),n=Hk},R=function(){v._gsap.y=DP(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},C=function(){T(),o.isActive()&&o.vars.scrollY>r&&(y()>r?o.progress(1)&&y(r):o.resetTo("scrollY",r))};return v&&HI.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return mP&&"touchmove"===t.type&&function(){if(i){requestAnimationFrame(x);var t=DP(e.deltaY/2),r=N(y.v-t);if(v&&r!==y.v+y.offset){y.offset=r-y.v;var n=DP((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",v._gsap.y=n+"px",y.cacheID=AI.cache,Xk()}return!0}y.offset&&R(),i=!0}()||b>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){i=!1;var t=b;b=DP((VI.visualViewport&&VI.visualViewport.scale||1)/A),o.pause(),t!==b&&fO(p,b>1.01||!h&&"x"),s=w(),a=y(),T(),n=Hk},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&R(),e){AI.cache++;var n,i,s=_();h&&(i=(n=w())+.05*s*-t.velocityX/.227,s*=cO(w,n,i,WP(p,kI)),o.vars.scrollX=S(i)),i=(n=y())+.05*s*-t.velocityY/.227,s*=cO(y,n,i,WP(p,OI)),o.vars.scrollY=N(i),o.invalidate().duration(s).play(.01),(mP&&o.vars.scrollY>=r||n>=r-1)&&HI.to({},{onUpdate:C,duration:s})}else u.restart(!0);d&&d(t)},t.onWheel=function(){o._ts&&o.pause(),TP()-M>1e3&&(n=0,M=TP())},t.onChange=function(t,e,r,i,o){if(Hk!==n&&T(),e&&h&&w(S(i[2]===e?s+(t.startX-t.x):w()+e-i[1])),r){y.offset&&R();var u=o[2]===r,l=u?a+t.startY-t.y:y()+r-o[1],c=N(l);u&&l!==c&&(a+=c-l),y(c)}(r||e)&&Xk()},t.onEnable=function(){fO(p,!h&&"x"),lO.addEventListener("refresh",C),bk(VI,"resize",C),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=w.smooth=!1),E.enable()},t.onDisable=function(){fO(p,!0),Ak(VI,"resize",C),lO.removeEventListener("refresh",C),E.kill()},t.lockAxis=!1!==t.lockAxis,(e=new jI(t)).iOS=mP,mP&&!y()&&y(1),mP&&HI.ticker.add(BP),u=e._dc,o=HI.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:h?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:sO(y,y(),(function(){return o.pause()}))},onUpdate:Xk,onComplete:u.vars.onComplete}),e};lO.sort=function(t){return Rk.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},lO.observe=function(t){return new jI(t)},lO.normalizeScroll=function(t){if("undefined"===typeof t)return cP;if(!0===t&&cP)return cP.enable();if(!1===t)return cP&&cP.kill(),void(cP=t);var e=t instanceof jI?t:yO(t);return cP&&cP.target===e.target&&cP.kill(),zP(e.target)&&(cP=e),e},lO.core={_getVelocityProp:BI,_inputObserver:mO,_scrollers:AI,_proxies:MI,bridge:{ss:function(){CP||Dk("scrollStart"),CP=TP()},ref:function(){return eP}}},GP()&&HI.registerPlugin(lO),nI.registerPlugin(lO);const wO=()=>(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("div",{style:{position:"absolute",zIndex:10,width:"100%"},children:(0,Xt.jsx)(ma,{})}),(0,Xt.jsx)(ya,{}),(0,Xt.jsx)(wa,{}),(0,Xt.jsx)(gS,{}),(0,Xt.jsx)(pS,{}),(0,Xt.jsx)(yS,{}),(0,Xt.jsx)(mS,{}),(0,Xt.jsx)(vS,{}),(0,Xt.jsx)(ba,{})]});const bO=function(){return(0,Xt.jsx)(Mt,{children:(0,Xt.jsx)(gt,{children:(0,Xt.jsx)(pt,{path:"/",exact:!0,element:(0,Xt.jsx)(wO,{})})})})};o.createRoot(document.getElementById("root")).render((0,Xt.jsx)(n.StrictMode,{children:(0,Xt.jsx)(lr,{initializeOnMount:!1,children:(0,Xt.jsx)(bO,{})})}))})()})();